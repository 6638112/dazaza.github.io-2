<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>DIY智能门铃与Raspberry PiDIY Smart Doorbell with a Raspberry Pi</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">DIY Smart Doorbell with a Raspberry Pi<br/>DIY智能门铃与Raspberry Pi</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-27 14:57:41</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/2147a25be2645486781de11502a2b5ba.jpg"><img src="http://img2.diglog.com/img/2020/11/2147a25be2645486781de11502a2b5ba.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>A DIY smart doorbell with a built-in  camera,  microphone, and  speaker. This steampunk-themed design integrates with home assistant and our  multi-room audio system to communicate with the rest of our  DIY smart home.</p><p>DIY智能门铃，带有内置摄像头，麦克风和扬声器。这个以蒸汽朋克为主题的设计与家庭助理和我们的多房间音频系统集成在一起，可以与我们其他DIY智能家居进行通信。</p><p> Rather than buying a Ring Doorbell ( or Nest, or one of the other competitors) I built our own smart doorbell with a Raspberry Pi. The whole project cost about $150 (USD), which is about average for a smart doorbell, but it is much more full-featured than anything else you’ll find on the market. For example, it integrates with the rest of the home security system — using machine learning to identify humans, cars, animals, and more:</p><p> 我没有购买Ring Ringbell（或Nest，或其他竞争对手之一），而是使用Raspberry Pi构建了自己的智能门铃。整个项目的费用约为$ 150（USD），大约相当于智能门铃的平均费用，但是功能齐全，比您在市场上能找到的其他功能都要完善。例如，它与家庭安全系统的其余部分集成在一起-使用机器学习来识别人，汽车，动物等：</p><p>     Okay, that’s obvious. But it was my first electronic project that needed to  survive the elements. To that end, I decided to use a  junction box to house the electronics themselves.</p><p>     好的，这很明显。但是这是我第一个需要保留元素的电子项目。为此，我决定使用接线盒来容纳电子设备本身。</p><p> The next requirement was also obvious: a  button. However, the concern with such a unique design is that visitors need to intuitively understand  what the device is. I decided upon a durable metal button that also lights up. The intention is for the light of the ring to make the button obvious.</p><p> 下一个要求也很明显：一个按钮。但是，这种独特设计的问题在于，访问者需要直观地了解设备是什么。我决定使用一个耐用的金属按钮，该按钮也将点亮。目的是使环的光使按钮更明显。</p><p> Finally, the camera &amp; speakers. This is arguably the most important security camera in the entire house, and I didn’t have a lot of space in the junction box, so I splurged on a  night-vision IR camera with a microphone built-in. Throw in a tiny USB speaker, and we have  bi-directional audio.</p><p> 最后是摄像头和扬声器。可以说，这是整个房子中最重要的安全摄像机，接线盒中没有太多空间，所以我花了很多时间在内置麦克风的夜视红外摄像机上。放入一个微型USB扬声器，即可获得双向音频。</p><p>     I had some spare copper and brass parts lying around from  prior steampunk projects. This came in handy when not all of the electronics could easily fit in the junction box.</p><p>     我以前的蒸汽朋克项目中有一些备用的铜和黄铜零件。当并非所有电子设备都可以轻松地安装在接线盒中时，这非常方便。</p><p> I began by laying out the parts. Three holes were drilled in the sides of the junction box for the power cable, USB cables, and button wires. Plus, one larger hole in the cover to accommodate the camera:</p><p> 我从布置零件开始。在接线盒的侧面钻了三个孔，分别用于电源线，USB电缆和按钮线。另外，盖子上还有一个更大的孔可以容纳相机：</p><p>     With the doorbell wire attached to GPIO18 (pin 12) on the Raspberry Pi, I then used the  Serial Port input in  Node RED to detect button-presses. To actually trigger a doorbell alert, as well as handle bi-directional (microphone/intercom) audio, see this post:</p><p>将门铃线连接到Raspberry Pi的GPIO18（引脚12）后，我使用Node RED中的Serial Port输入检测按钮的按下情况。要实际触发门铃警报以及处理双向（麦克风/对讲机）音频，请参阅以下文章：</p><p>    In this regard, the doorbell is just another CCTV camera. It uses the exact same setup described in the following series of posts. The motion detection and object recognition is what generates the images like the one at the top of this post.</p><p>    在这方面，门铃只是另一个闭路电视摄像机。它使用以下系列文章中描述的完全相同的设置。运动检测和物体识别是生成图像的功能，就像这篇文章顶部的图像一样。</p><p>      I used hot glue on the openings of the junction box to seal it, where possible. The copper ring seen above also has a lip, protecting the camera from water. Plus, the whole thing is installed underneath a balcony, so not much water even has the chance to hit the doorbell.</p><p>      我在接线盒的开口处使用了热胶将其密封。上方看到的铜环也有一个唇缘，可以保护相机免受水浸。另外，整个设备都安装在阳台下，因此，甚至没有多少水有机会撞到门铃。</p><p> The final pieces was to integrate the doorbell with a smart lock. Thankfully, Home Assistant makes this easy. We have this Yale Assure lock:</p><p> 最后的步骤是将门铃与智能锁集成在一起。幸运的是，家庭助理使这变得容易。我们有这个耶鲁确保锁：</p><p>  It communicates with Home Assistant via Z-Wave. What I like about this lock is that it can be programmed remotely to support different user codes (useful as an Airbnb host, or when you need to let a friend in). It also can detect which user pin code was used to open the door (and when) — great peace of mind when giving cleaners a code to the house.</p><p>  它通过Z-Wave与家庭助理通信。我喜欢这个锁，因为它可以远程编程以支持不同的用户代码（可用作Airbnb主机，或者需要让朋友进入时）。它还可以检测使用哪个用户密码打开门（何时打开）—在向清洁工提供房屋代码时，您大可放心。</p><p>    I wish I could give you copy-and-paste code for this project, but a lot of it will depend on your exact hardware, speakers, cameras, etc. Instead, I’ll recap each piece involved and link to the articles/code where I explain how to implement them:</p><p>    我希望我可以为您提供该项目的复制和粘贴代码，但是其中很多都取决于您的确切硬件，扬声器，摄像机等。相反，我将重述涉及的每个部分，并链接到文章/代码。我在哪里解释如何实现它们：</p><p> Node Red uses gpiod to trigger a flow when GPIO #18 (the doorbell button) fires.</p><p> 当GPIO＃18（门铃按钮）触发时，节点红色使用gpiod触发流。</p><p>     Home Assistant’s Yale Lock integration allows us to lock/unlock. The Yale lock is a  Z-Wave device. Once paired with Home Assistant, it shows up as a lock and requires no further configuration.</p><p>家庭助理的Yale Lock集成使我们可以锁定/解锁。耶鲁锁是Z-Wave设备。与Home Assistant配对后，它会显示为锁并且不需要进一步配置。</p><p>   Thanks for reading this post. You might be interested in this list of  100+ home automation ideas.</p><p>   感谢您阅读这篇文章。您可能会对100多种家庭自动化创意列表感兴趣。</p><p> Or, drop your email in the form below and you&#39;ll receive links to the individual build-guides and projects on this site, as well as updates with the newest projects.</p><p> 或者，将您的电子邮件放在下面的表格中，您将在该站点上收到指向各个构建指南和项目的链接，以及最新项目的更新。</p><p>   ... but this site has no paywalls. If you do choose to sign up for this mailing list I promise I&#39;ll keep the content worth your time.</p><p>   ...但是该网站没有付费专区。如果您选择注册此邮件列表，我保证我会保留值得您花时间的内容。</p><p> Leave this field empty if you&#39;re human:</p><p> 如果您是人类，则将此字段留空：</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.technicallywizardry.com/diy-smart-doorbell-raspberry-pi/">https://www.technicallywizardry.com/diy-smart-doorbell-raspberry-pi/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/智能/">#智能</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/smart/">#smart</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>