<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Rails学说The Rails Doctrine</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">The Rails Doctrine<br/>Rails学说</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2022-02-14 10:08:50</div><div class="page_narrow text-break page_content"><p>There would be no Rails without Ruby, so it’s only fitting that the first doctrinal pillar is lifted straight from the core motivation for creating Ruby.</p><p>没有Ruby就没有Rails，所以第一个理论支柱直接从创建Ruby的核心动机出发是合适的。</p><p>  Ruby’s original heresy was indeed to place the happiness of the programmer on a pedestal. Above many other competing and valid concerns that had driven programming languages and ecosystems before it.</p><p>Ruby最初的异端邪说实际上是把程序员的幸福放在一个基座上。除此之外，还有许多其他相互竞争且有效的问题，这些问题在它出现之前就已经驱动了编程语言和生态系统。</p><p>  Where Python might boast that there’s “one and preferably only one way to do something”, Ruby relished expressiveness and subtlety. Where Java championed forcefully protecting programmers from themselves, Ruby included a set of sharp knives in the welcome kit. Where Smalltalk drilled a purity of message passing, Ruby accumulated keywords and constructs with an almost gluttonous appetite.</p><p>Python可能会吹嘘“有一种方法，而且最好只有一种方法可以做某事”，Ruby喜欢表现力和微妙性。Java大力倡导保护程序员免受自身伤害，Ruby在欢迎工具包中包括了一套锋利的刀具。Smalltalk训练了纯粹的消息传递，Ruby以近乎贪婪的胃口积累了关键词和结构。</p><p>  Ruby was different because it valued different things. And most of those things were in service of this yearning for programmer happiness. A pursuit that brought it at odds with not only most other programming environments, but also the mainstream perception of what a programmer was and how they were supposed to act.</p><p>Ruby之所以不同，是因为它重视不同的东西。这些东西大多是为了满足这种对幸福的渴望。这一追求不仅使它与大多数其他编程环境产生了矛盾，而且也使人们对程序员是什么以及他们应该如何行事的主流看法产生了矛盾。</p><p>  Ruby took to not only recognize but accommodate and elevate programmer feelings. Whether they be of inadequacy, whimsy, or joy. Matz jumped implementational hurdles of astounding complexity to make the machine appear to smile at and flatter its human co-conspirator. Ruby is full of optical illusions where that which seems simple, clear, and beautiful to our mind’s eye actually is an acrobatic mess of wires under the hood. These choices were not free (ask the JRuby crew about trying to reverse-engineer this magical music box!), which is precisely why they’re so commendable.</p><p>Ruby不仅认识到了程序员的感受，还适应和提升了程序员的感受。无论他们是不称职的、异想天开的还是快乐的。Matz跨越了极其复杂的实施障碍，使机器看起来对人类同谋者微笑并奉承。红宝石充满了视觉错觉，在我们看来，简单、清晰、美丽的东西实际上是机罩下的一堆杂乱无章的电线。这些选择并不是免费的（问问JRuby的工作人员如何尝试对这个神奇的音乐盒进行反向工程！），这正是他们如此值得称赞的原因。</p><p>  It was this dedication to an alternate vision for programming and programmers that sealed my love affair with Ruby. It wasn’t just ease of use, it wasn’t just aesthetics of blocks, it was no one single technical achievement. It was a vision. A counter culture. A place for the misfits of the existing professional programming mold to belong and associate with the like of mind.</p><p>正是这种对编程和程序员的另一种愿景的奉献，使我对Ruby产生了浓厚的兴趣。这不仅仅是简单易用，也不仅仅是积木的美学，它不是单一的技术成就。这是一个愿景。反文化。这是一个让现有专业编程模式中的不适应者归属并与同类思维联系在一起的地方。</p><p>  I’ve described this discovery of Ruby in the past as finding a magical glove that just fit my brain perfectly. Better than I had ever imagined any glove could ever fit. But it was even more than that. It was the event that marked my own personal transition from ‘doing programming because I needed programs’ to ‘doing programming because I fell in love with it as a mode of intellectual exercise and expression’. It was finding a  fountain of flow and being able to turn it on at will. For anyone familiar with Csikszentmihalyi’s work, the impact of this is hard to overstate.</p><p>我过去曾把Ruby的发现描述为找到了一只完全适合我大脑的神奇手套。比我想象的任何手套都合适。但它甚至不止于此。这一事件标志着我个人从“因为我需要程序而做编程”转变为“因为我爱上了它作为一种智力锻炼和表达方式而做编程”。它找到了一个流动的喷泉，并能随意打开它。对任何熟悉Csikszentmihalyi工作的人来说，这项工作的影响都很难被夸大。</p><p>  I’m not exaggerating when I say that Ruby transformed me and set the course for my life’s work. So deep was the revelation. It imbued me with a calling to do missionary work in service of Matz’s creation. To help spread this profound creation and its benefits.</p><p>当我说Ruby改变了我，为我一生的工作设定了方向时，我一点也不夸张。这个启示是如此深刻。它赋予了我一种使命，那就是为马茨的创造做传教工作。帮助传播这一深刻的创造及其益处。</p><p>  Now I can imagine most of you shaking your heads with incredulity. I don’t blame you. If someone had described the experience above to me when I was still living under the “programming is just a tool” paradigm, I too would have shook my head. And then I would probably have laughed at the over-the-top use of religious language. But for this to be a truthful account, it also has to be honest, even if that’s off-putting to some or even most.</p><p>现在我可以想象你们大多数人都不相信地摇头。我不怪你。如果有人在我仍然生活在“编程只是工具”的范式下时向我描述了上述经历，我也会摇头。然后我可能会嘲笑宗教语言的过度使用。但为了让这篇报道真实，它也必须诚实，即使这让一些人甚至大多数人感到不快。</p><p>  Anyway, what did this mean for Rails and how does this principle continue to guide its evolution? To answer that, I think it’s instructive to look at another principle that was often used to describe Ruby in the early days: The Principle of Least Surprise. Ruby should behave how you’d expect it to. This is easily described with a contrast to Python:</p><p>无论如何，这对Rails意味着什么？这一原则如何继续指导其发展？为了回答这个问题，我认为看看另一个在早期经常用来描述Ruby的原则是很有启发性的：最小惊喜原则。Ruby应该表现出你期望的样子。与Python相比，这很容易描述：</p><p>   Ruby accepts both exit and quit to accommodate the programmer’s obvious desire to quit its interactive console. Python, on the other hand, pedantically instructs the programmer how to properly do what’s requested, even though it obviously knows what is meant (since it’s displaying the error message). That’s a pretty clear-cut, albeit small, example of PoLS.</p><p>Ruby接受exit和quit，以满足程序员退出其交互控制台的明显愿望。另一方面，Python迂腐地指导程序员如何正确地执行所请求的操作，尽管它显然知道这意味着什么（因为它正在显示错误消息）。这是一个非常明确的例子，尽管规模很小。</p><p>  The reason PoLS fell out of favor with the Ruby community was that this principle is inherently subjective. Least surprising to whom? Well, to Matz. And people who are surprised in the same way as him. As the Ruby community grew, and the ratio of people who were surprised by different things than Matz grew with it, this became a source of fruitless bike-shedding on the mailing lists. So the principle faded to the background, lest to invite more debates going nowhere over whether person X was surprised by behavior Y or not.</p><p>POL不受Ruby社区欢迎的原因是这个原则本身就是主观的。对谁来说最不奇怪？好吧，给马茨。还有那些和他一样惊讶的人。随着Ruby社区的发展，对与Matz不同的事情感到惊讶的人的比例也随之增加，这成为邮件列表上毫无结果的自行车脱落的来源。因此，这一原则逐渐淡出了人们的视野，以免引发更多关于X是否对Y的行为感到惊讶的争论。</p><p>  So again, what does this have to do with Rails? Well, Rails has been designed with a similar principle to Principle of Least Surprise (To Matz). The Principle of The Bigger Smile (of DHH), which is just what it says on the tin: APIs designed with great attention paid to whatever would make me smile more and broader. When I write it out like this, that sounds almost comically narcissistic, and even I find hard to argue against that first impression.</p><p>再说一遍，这和Rails有什么关系？嗯，Rails的设计原则与最小意外原则（Matz）类似。更大的微笑（DHH）的原则，这正是它在tin上所说的：API的设计非常关注任何能让我笑得更多、更广的东西。当我这样写出来的时候，这听起来几乎是滑稽的自恋，甚至我也很难反驳这种第一印象。</p><p>  But creating something like Ruby or Rails is at least at its outset a deeply narcissistic endeavor. Both projects sprung from the mind of a singular creator. But perhaps I’m projecting my own motivations onto Matz here, so let me narrow the scope of my proclamation to that which I know: I created Rails for me. To make me smile, first and foremost. Its utility was to many degrees subservient to its ability to make me enjoy my life more. To enrich my daily toil of wrangling requirements and requests for web information systems.</p><p>但创造Ruby或Rails这样的东西至少在一开始是一种深深的自恋。这两个项目都出自一位独特的创造者之手。但也许我在这里把我自己的动机投射到Matz上，所以让我把我的声明的范围缩小到我知道的范围：我为自己创建了Rails。首先，让我微笑。它的效用在很大程度上取决于它让我更享受生活的能力。为了丰富我每天为网络信息系统的需求和要求而进行的争论。</p><p>  Like Matz, I at times went to silly lengths to serve my principle. One example is the Inflector, a class that understands just enough of the patterns and irregularities of the English language to map a Person class to a People table, Analysis to Analyses, and simply Comment to Comments. This behavior is now accepted as an unquestioned element of Rails, but the fires of controversy raged with great intensity in the early days when we were still coalescing the doctrine and its importance.</p><p>和马茨一样，我有时也会不择手段地为自己的原则服务。其中一个例子是屈折词，这个类对英语的模式和不规则性的理解刚好足以将一个人类映射到一个人表，从分析到分析，从评论到评论。这种行为现在被认为是Rails的一个无可置疑的元素，但在早期，当我们仍在整合该学说及其重要性时，争议之火以极大的强度肆虐。</p><p>  Another example that required less implementation effort, but triggered almost as much consternation: Array#second through #fifth (and #forty_two for good trolling measure). These alias accessors were deeply offensive to a very vocal constituency who decried the bloat (and near end of civilization, for good measure) of something that could as well be written as Array#[1], Array#[2] (and Array[41]).</p><p>另一个需要较少实施工作，但却引发了几乎同样多的恐慌的例子是：数组#秒到#五（以及#四十二表示良好的控制措施）。这些别名访问者对一个非常直言不讳的选民非常反感，他们谴责某种东西的膨胀（以及文明的接近尾声，这是一个很好的衡量标准），这种东西可以写成数组#[1]、数组#[2]（和数组[41]）。</p><p>  But both decisions still, to this day, make me smile. I relish getting to write people.third in a test case or the console. No, that’s not logical. It’s not efficient. It may even be pathological. But it continues to make me smile, thus fulfilling the principle and enriching my life, helping to justify my continued involvement with Rails after 12 years of service.</p><p>但直到今天，这两个决定仍然让我微笑。我喜欢给人写信。第三，在测试用例或控制台中。不，这不符合逻辑。效率不高。它甚至可能是病理性的。但它继续让我微笑，从而实现了原则，丰富了我的生活，帮助我证明了我在服务12年后继续参与Rails的合理性。</p><p>  Unlike, say, optimizing for performance, it’s tough to measure optimizing for happiness. This makes it an almost inherently unscientific endeavor, which to some renders it less important, if not outright frustrating. Programmers are taught to argue and conquer the measurable. That which has clear conclusions and where A can categorically be shown to be better than B.</p><p>与优化绩效不同，很难衡量优化幸福感。这使得它几乎本质上是一种不科学的努力，对一些人来说，这使它变得不那么重要，如果不是彻底令人沮丧的话。程序员被教导去争论和征服可测量的事物。有明确结论，并且A可以明确地被证明比B好。</p><p>  But while the pursuit of happiness is hard to measure at the micro level, it’s a lot clearer to observe at the macro level. The Ruby on Rails community is full of people who are here precisely because of this pursuit. They boast of better, more fulfilled working lives. It’s in this aggregate of emotions that the victory is clear.</p><p>但是，尽管在微观层面上很难衡量对幸福的追求，但在宏观层面上观察则要清晰得多。Ruby on Rails社区充满了正是因为这种追求才来到这里的人。他们夸耀自己拥有更好、更充实的工作生活。正是在这一系列情绪中，胜利才是显而易见的。</p><p>  So thus we conclude: Optimizing for happiness is perhaps the most formative key to Ruby on Rails. It shall remain such going forward.</p><p>因此，我们得出结论：为幸福而优化可能是Ruby on Rails最具形成性的关键。它将继续这样向前发展。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/rails/">#rails</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/ruby/">#ruby</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>