<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>给ADA一个机会 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">给ADA一个机会 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-03 00:53:06</div><div class="page_narrow text-break page_content"><p>TL; DR：Ada是一种非常有趣且健壮的编程语言，可以为系统和裸机软件的现代开发人员提供大量帮助。至少，Ada提出了许多有趣的想法，现代编程语言的设计师可以从中学到很多东西。如果您想要这篇文章的30秒版本，请查看我提供的Ada与C的比较的实际示例。</p><p> 本文提供的许多技术材料都可以作为我对osdev.org的贡献的一部分。</p><p> 我认为自己是一个有理性的人。尽管我可能相信宇宙的完全确定性模型，但我当然不相信它会受到任何有意识过程的指导。我不相信命运。由于缺乏指导，因此我将要讨论的那些偶然事件变得更加非同寻常，为此，我更加感激。</p><p>  我没有经过精心设计，就碰巧住在一所大学附近。这不是欧洲或美国大部分地区常见的“大学城”，而是在市中心密集的郊区蔓延中。我定期往返于当地购物中心，带我经过上述大学中倍受赞誉的工程系的几栋建筑物。</p><p> 在一个偶然的下午回家的路上，我偶然发现了一大堆书，这些书坐在大学工程楼之一外的路边。表面上看，大学正在清理旧的工程书籍库存，并将它们堆放一堆，供地方议会收集。在涵盖广泛学科领域的材料中，有两本书特别引起了我的注意：使用Ada构建并行，嵌入式和实时应用程序，以及使用Ada进行并行和实时编程。</p><p> 我以前听说过艾达。我知道它来自为美国军方开发的语言谱系，并且在安全关键型应用程序的开发中仍然占有一席之地，仅此而已。很好奇，我把书丢在书包里，然后就走了。</p><p>  诚然，我为Ada描绘的语法像是毫不妥协的冗长和僵硬的COBOL构造，或者也许是Fortran各种化身的Lovecraftian象形文字。翻页时，我对与现代高级语言（例如范围，切片和异常处理）相关联的现代结构感到惊讶。语法（按现代标准3固然冗长）似乎是有意地构造的，目的是使该语言一目了然。 </p><p>我对Ada设计时考虑到嵌入式软件这一事实特别感兴趣。我已经在使用C和汇编语言的x86和ARM平台上进行裸机开发方面拥有有限的经验，因此在裸机上使用更高级别的构造的前景对我来说是充满希望的。</p><p>  许多批评者针对Ada的普遍贬义词是，它是“由委员会设计”的语言，或更糟糕的是，是“由委员会为军事设计的”语言。1.含义是（所谓的）委员会的设计将其排除在现实世界之外。我认为，设计一种适合现有问题领域的语言比选择您的选择武器并着手寻找新的问题领域以将其应用于2更好。国防部的“高级语言工作组”可以说是Ada编程语言的诞生，因为它需要适用于DoD 4开发的多种实时嵌入式系统的单一，统一的高级语言。用工作组主席威廉·惠特克上校的明智话说：“得出的结论是，没有任何一种语言可以被用作国防部的一种通用高级语言，但是可以使用一种基本上满足所有要求的语言。既可行又可取。”。如果这样的事情确实可行，那么国防部的巨额资金将帮助它实现。具有讽刺意味的是，鉴于其作为现代嵌入式系统开发的事实上的标准语言的地位，C语言被认为不适用于此目的：“当贝尔实验室被邀请根据DoD要求评估C时，他们说没有机会了。 C符合可读性，安全性等要求。” （Whitaker，1993）。在成功实施之后，国防部将在所有内部软件工程中强制要求使用Ada，这无疑是一个有争议的决定。</p><p>  Ada具有许多有用的功能，这些是低级编程和操作系统开发特别感兴趣的功能。特别令我印象深刻的一项功能是Ada的代表条款（请参见下文）。它们提供了一种高度精细的方式来定义低级数据结构的内存表示形式。我很快就能将自己长期受苦的操作系统开发项目改编为Ada，从而在此过程中极大地提高了代码库的质量。以下部分详细介绍了Ada的一些功能：</p><p>  除了是一种强类型语言外，Ada还允许定义新的标量，枚举和记录类型。自定义基本类型也可以限制在预定义的值范围内。下面的示例演示了基于Ada的本机Natural类型（限制在预定义范围内）的新整数类型的定义。子类型指令的使用会通知编译器自然类型的其他变量与新定义的子类型兼容。</p><p> VGA_COL_COUNT：常数：= 80; VGA_ROW_COUNT：常数：= 24; Col子类型为自然范围0 .. VGA_COL_COUNT-1;子类型Row为自然范围0 .. VGA_ROW_COUNT-1;</p><p> 下面的示例说明了不兼容的自定义整数类型的创建。尽管它们的基本类型和范围约束是相同的，但Ada会将两者视为单独的不兼容类型。将一种类型的变量赋给另一种类型的值是非法的，并且会触发编译时错误。</p><p> Integer_1类型的范围是1 .. 10;类型Integer_2的范围是1 .. 10; A：整数_1：= 8； B：整数_2：= A； -  非法的！ </p><p>下面的示例演示了自定义枚举类型的创建。它还演示了值范围受限的枚举类型的子类型。</p><p> Day_Of_Week类型是（星期一，星期二，星期三，星期四，星期五，星期六，星期日）；子类型Work_Day是星期一的Day_Of_Week范围。。星期五;</p><p> 类型为Work_Day的变量被限制在其受限制的范围内。任何试图将超出此范围的值分配给此类型的变量的尝试都会在运行时引发Constraint_Error异常。</p><p>  Ada允许显式定义标量和复合类型的内存表示形式。下面的示例演示了记录类型的定义（等同于C中的结构）及其在内存中的关联表示。</p><p> -------------------------------------------------- ---------------------------处理器使用的系统表描述符指针的格式-加载GDT和IDT。 -------------------------------------------------- --------------------------类型System_Table_Descriptor是记录大小：Unsigned_16;偏移：系统。地址 ;大小=＆gt;的最终记录48;对于System_Table_Descriptor，使用记录大小为0的范围0 .. 15;在0范围内偏移16 .. 47;结束记录;</p><p> Size方面说明符指示编译器System_Table_Descriptor类型的大小必须为48位。记录表示子句指示编译器此记录类型在内存中的所需布局。此示例指定Size成员应占据0到15位，而Offset成员应占据16到47位。此功能类似于C的位字段。下面的示例演示如何定义枚举类型的内存中表示形式。</p><p> -------------------------------------------------- ---------------------------特定描述符的特权级别。 -这些对应于＆＃39;保护环＆＃39;可以从中访问此描述符。 -------------------------------------------------- --------------------------类型Descriptor_Privilege_Level是（Ring_0，Ring_1，Ring_2，Ring_3），其大小=＆gt; 2;供Descriptor_Privilege_Level使用（Ring_0 =＆gt; 0，Ring_1 =＆gt; 1，Ring_2 =＆gt; 2，Ring_3 =＆gt; 3）； </p><p>Warning: Can only detect less than 5000 characters</p><p>Warning: Can only detect less than 5000 characters</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://ajxs.me/blog/Giving_Ada_a_chance.html">https://ajxs.me/blog/Giving_Ada_a_chance.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ada/">#ada</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/类型/">#类型</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1048494.html"><img src="http://img2.diglog.com/img/2021/2/thumb_7cf484ceeae6bc7fc2161eddc603cd15.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1048494.html">Ada中的编码：字符串（IV）不受限制 </a></div><span class="my_story_list_date">2021-2-19 17:4</span></div><div class="col-sm"><div><a target="_blank" href="/story/1021906.html"><img src="http://img2.diglog.com/img/2020/9/thumb_17f90e4f0dcbda5b2e191a47adeb4cb2.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1021906.html">Ada编程入门</a></div><span class="my_story_list_date">2020-9-3 19:7</span></div><div class="col-sm"><div><a target="_blank" href="/story/1017162.html"><img src="http://img.diglog.com/img/2020/8/thumb_a8bad9a1275f6b0be7bddf02b2a39c00.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1017162.html">我们分析了1000万页。这是大多数ADA和WCAG 2.1遵从性失败的地方</a></div><span class="my_story_list_date">2020-8-9 15:49</span></div><div class="col-sm"><div><a target="_blank" href="/story/1015762.html"><img src="http://img.diglog.com/img/2020/8/thumb_b71d04db6fbc079dd8f33ea8b3454efe.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1015762.html">
空间站：Ada 30岁生日，松下的新电池技术和交付(数据)困境</a></div><span class="my_story_list_date">2020-8-2 21:20</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>