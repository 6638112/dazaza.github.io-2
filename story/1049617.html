<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>实际可移植的可执行文件 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">实际可移植的可执行文件 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-02-27 00:52:21</div><div class="page_narrow text-break page_content"><p>您会注意到，通过处理Windows PE开始执行标头就好像是代码。例如，ASCII字符串＆＃34; MZqFpD＆＃34;解码为pop％r10; jno 0x4a; jo 0x4a和字符串 ＆＃34; \ 177ELF＆＃34;解码为jg 0x47。然后跳通过mov语句，该语句告诉我们程序正在从以下位置运行用户空间而不是被引导，然后跳到入口点。 然后是魔术数字 容易地使用分散的部分为主机操作系统解压缩和GNU汇编器.sleb128指令。低熵数据像UNICODE位查找表一般将使用以下任一方法进行解码一个103字节LZ4解压缩器或一个17字节游程长度解码器和运行时代码变形可以轻松实现使用完成英特尔的3kbx86解码器。 请注意，该模拟器不是必需的。 αcτµαllypδrταblε如果仅在外壳上运行它们，NT命令就可以正常工作提示，或从BIOS引导它们。这不是JVM。您只能使用模拟器（如果需要）。例如，能够拥有程序执行如何影响内存的出色可视化效果。 很高兴知道我们编写的任何普通PC程序都会工作＆＃34;在Raspberry Pi和Apple ARM上。我们要做的就是嵌入一个ARM在我们的x86可执行文件中构建上面的模拟器，并让它们适当地变形并重新执行，类似于Cosmopolitan已经存在的方式与qemu-x86_64一起做，只是不需要这样做预先安装。权衡是，如果我们这样做，二进制文件将仅比Go's Hello World小10倍，而不是小100倍。这另一个折衷方案是GCC Runtime Exception禁止代码变形，但是我通过重写GNU运行时，已经为您解决了这一问题。 使x86-64-linux-gnu最小至最小的最引人注目的用例借助全面仿真的可能性，它可以实现普通的简单本机程序可以在任何地方运行，包括Web浏览器默认情况下。该领域中建立的许多解决方案也倾向于重点关注在尚未达成共识的界面上，例如GUI和线程，否则它们只会模拟整个操作系统，例如在浏览器中运行Windows的Docker或Fabrice Bellard。我想我们需要只运行程序，忽略系统的兼容性胶，并将x86_64-linux-gnu视为规范的软件编码。   我之所以喜欢与许多这些旧的不性感的女人一起工作，原因之一技术，是我希望参与其中的任何软件工作都能站得住脚花费最少的时间进行时间的考验。类似于《超级马里奥兄弟》ROM在不需要GitHub的情况下成功生存了这么多年问题跟踪器。 我相信我们这样做的最好机会是团结在一起已经实现了数十年共识的二进制接口，并忽略API。例如，这是 魔法Mac，Linux，BSD和Windows发行版使用的数字。他们值得一生中至少见过一次，因为这些数字构成了您使用过的几乎所有计算机，服务器和电话的内部组件。 如果我们专注于数字的子集，则所有系统都共享同一点，并且比较他们的共同祖先，贝尔系统五，我们可以看到在过去的40年中，有关系统工程的几件事情没有发生变化在二进制级别。大酒瓶很无聊。平台无法打破它们不破坏自己。很少有人提出对为何需要改变UNIX命理学？ 下载               emulator.com（280k PE + ELF + MachO + ZIP + SH）tinyemu.com（188k PE + ELF + MachO + ZIP + SH） 源代码ape.S ape.lds blinkenlights.c x86ild.greg.c syscalls.sh consts.sh程序life.com（12kb ape符号）    sha256.elf（3kb x86_64-linux-gnu）    hello.bin（55b x86_64-linux-gnu） 示例bash hello.com＃在本地运行./hello.com＃本机运行./tinyemu.com hello.com＃刚运行程序./emulator.com -t life.com＃显示调试器gui回声你好| ./emulator.com sha256.elf</p><p>  手册简介 ./emulator.com [-？HhrRstv] [ROM] [ARGS ...]描述 使用密集机器状态可视化仿真x86 Linux程序 请保持静止，仅观看停顿的das眨眼灯旗帜 -h帮助 -z缩放 -v详细程度 -r实模式 -s统计 -H禁用突出显示 -t调试器模式 -R反应堆推模 -b ADDR推送一个断点 -L PATH日志文件位置争论 ROM文件可以是ELF或平面格式。 它应根据系统五ABI使用x86_64。 SYSCALL ABI是用Linux内核编写的。特征 8086、8087，i386，x86_64，SSE3，SSSE3，POPCNT，MDA，CGA，TTY网站 https://justine.lol/blinkenlights/ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://justine.lol/ape.html">https://justine.lol/ape.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/可移植/">#可移植</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/portable/">#portable</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>