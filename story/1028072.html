<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>新的Python3.9给语言功能带来了“重大变化”</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">新的Python3.9给语言功能带来了“重大变化”</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-11 16:54:55</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/3a471c198f24e912d5d706116095c899.jpg"><img src="http://img2.diglog.com/img/2020/10/3a471c198f24e912d5d706116095c899.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>今天发布的Python3.9对该语言的特性和开发方式都带来了重大变化。Python在过去几年如雨后春笋般流行，它在数据科学和机器学习等快速发展的领域中的使用也呈爆炸式增长。该项目正在努力跟上所有新需求的步伐。</p><p>到目前为止，Python已经以18个月的节奏开发和发布。PEP602建议Python开发团队采用年度发布周期，该建议已经被接受。</p><p>每年的发布周期意味着每个版本的功能更少，但这也意味着对功能测试的反馈更快，每个版本的潜在破坏性更改更少，因此对用户和Linux发行版经理来说更有动力更频繁地升级Python。这也意味着在开发周期后期提出的新功能不需要那么长时间就可以投入到新版本中。</p><p>新的时间表意味着Python3.9将于2020年10月发布。Python3.10于2020年5月19日正式启动Pre-Alpha开发，将在Python3.9发布时进入Alpha开发阶段，并将于2021年10月发布。未来的Python版本将遵循相同的模式。</p><p>与前一个版本相比，Python的每个版本都有性能改进。Python3.9引入了两个重大改进，无需对现有代码进行任何更改即可提高性能。</p><p>第一个改进涉及更多地使用Python3.8中引入的向量调用协议。Vector通过最小化或消除为调用创建的临时对象，使许多常用函数调用速度更快。在Python3.9中，几个Python内置组件-range、tuple、set、frozenset、list、dict-在内部使用Vector call来加快执行速度。</p><p>第二大性能增强是更高效地解析Python源代码。CPython运行时的新解析器不是为解决性能问题而设计的，而是为了处理原始解析器中的内部不一致。但是，一个重要的附带好处是解析速度更快，尤其是对于大量代码而言。</p><p>Python使操作常见数据类型变得容易，Python3.9通过字符串和字典的新特性扩展了这一简单性。对于字符串，有了新的方法来删除前缀和后缀，这些操作长期以来都需要大量的手动工作才能完成。对于字典，现在有联合运算符，一个用于将两个字典合并成一个新字典，另一个用于用另一个字典更新一个字典的内容。</p><p>装饰器允许您包装Python函数，以编程方式改变它们的行为。以前，修饰符只能由@符号、名称(例如func)或带点的名称(func.method)以及可选的单个调用(func.method(arg1，arg2))组成。在Python3.9中，修饰符现在可以由任何有效表达式组成。</p><p>绕过这一限制的一种长期方法是创建一个函数或lambda表达式，它在用作装饰符时代表更复杂的表达式。现在任何表达式都可以，只要它产生一些可以作为装饰符的东西。</p><p>在过去的几个版本中，Python扩展了对类型提示的支持。这主要是为了使用链接器和代码检查器；在CPython中不会在运行时强制使用类型，也没有计划将Python变成一种静态类型的语言。但是类型提示是确保大型代码库中一致性的强大工具，因此Python代码仍然可以从类型提示中获益。</p><p>Python3.9中引入了类型提示和类型注释的两个新特性。在其中之一，集合内容的类型提示-例如，列表和字典-现在在Python中本机可用。这意味着，例如，您可以将列表描述为LIST[INT]-整数的列表-而不需要类型库来执行此操作。</p><p>Python类型机制的第二个补充是灵活的函数和变量注释。这允许使用带注释的类型来使用元数据描述类型，元数据可以提前(使用linting工具)或在运行时进行检查。例如，Annotated[int，ctype(&#34；char&#34；)]可以用来描述在C中应该被视为char类型的整数。默认情况下，Python不会对这样的注释做任何事情，但是它可以由代码链接器使用。</p><p>清理、提炼和现代化Python的内部结构是Python开发人员正在进行的一项计划，Python3.9在这方面做了一些更改。</p><p>第一个是重新设计模块与进口机器交互的方式。用C编写的Python扩展模块现在可以使用一种新的加载机制，使它们在导入时的行为更像常规的Python模块。Python的标准库中有几个模块新支持此行为：_abc、audioop、_bz2、_codecs、_contextvars、_crypt、_functools、_json、_locale、Operator、resource、time、_winnref。新的加载机制不仅允许Python更加灵活地处理扩展模块，还支持高级挂钩行为等新功能。</p><p>第二个清理计划是CPython的稳定内部ABI，保证在Python3的生命周期内持续。从历史上看，Python的每个主要版本都与以前的版本不兼容，需要为每个新版本重新编译扩展模块。从现在开始，任何使用稳定ABI的扩展模块都将跨Python版本工作。在Python3.9中，标准库中的以下模块使用稳定的ABI：audioop、ast、grp、_hashlib、pwd、_posxsubprocess、Random、select、struct、termios、zlib。</p><p>Python的标准库现在支持IANA时区数据库。Said数据库维护良好，使用广泛，在Python的DateTime库中直接使用它将是一个很大的，呃，节省时间的方法。</p><p>新的字符串方法允许轻松删除前缀和后缀。这是常见的日常使用场景之一，它需要的样板比看起来必要的要多一点。新的.removeprefix()和.removesuffix()方法返回字符串的修改副本减去有问题的前缀或后缀，前提是它们存在于字符串中。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.infoworld.com/article/3543885/python-39-whats-new-and-better.html">https://www.infoworld.com/article/3543885/python-39-whats-new-and-better.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/python/">#python</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/python3/">#python3</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/功能/">#功能</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1027941.html"><img src="http://img2.diglog.com/img/2020/10/thumb_839c9b23f6a2842cc0e45923bebbdac8.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1027941.html">Py：Python代码，它可以无怨无悔地获取它的依赖项</a></div><span class="my_story_list_date">2020-10-11 15:46</span></div><div class="col-sm"><div><a target="_blank" href="/story/1027148.html"><img src="http://img2.diglog.com/img/2020/9/thumb_1d027de3942bb4b54b9f372cd049cbe1.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1027148.html">面向儿童的Python：面向儿童的综合Python开发教程</a></div><span class="my_story_list_date">2020-9-30 6:6</span></div><div class="col-sm"><div><a target="_blank" href="/story/1026638.html"><img src="http://img2.diglog.com/img/2020/9/thumb_fe91cb30bc33cb735570c6a0f4872739.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1026638.html">Python开发人员构建了一个Raspberry PI，向无人机飞行员发出警报</a></div><span class="my_story_list_date">2020-9-27 4:57</span></div><div class="col-sm"><div><a target="_blank" href="/story/1025808.html"><img src="http://img2.diglog.com/img/2020/9/thumb_4d16095418a953c639be9666b70f5aac.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1025808.html">用Python可视化Gzip压缩</a></div><span class="my_story_list_date">2020-9-23 15:40</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>