<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>事件驱动系统如何在商业中工作</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">事件驱动系统如何在商业中工作</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-21 07:43:26</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/05b754646e05ba63f503185ad6dedf4d.jpeg"><img src="http://img2.diglog.com/img/2020/10/05b754646e05ba63f503185ad6dedf4d.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>假设有人在等待包裹送到他们家。不耐烦的顾客不停地向窗外张望，等待送货卡车停下来。耐心的顾客一直在做其他的事情，直到他们听到门铃响。这个日常示例可以很容易地转换到计算机科学领域，其中存在两种类型的系统：轮询系统和事件驱动系统。</p><p>投票系统的行为就像不耐烦的顾客。在与商业相关的场景中，它不断轮询系统以获取新的更新，如订单和支付授权，而事件驱动系统依赖异步事件处理程序来通知它系统中的更新。</p><p>事件驱动系统更容易开发，效率更高，但它需要特殊的基础设施才能工作。好消息是，一些软件和平台(如Fabric)支持事件驱动系统。在商业中，这些系统创建了更精简的操作，以便客户更快地获得订单。</p><p>在这篇文章中，我们将定义什么是活动，以及零售商如何利用这些活动来创建更高效的系统。但是，在此之前，让我们看一个事件驱动系统如何支持零售商及其客户的示例。</p><p>在购物车中添加了多个商品后，Joe转到零售商网站上的结账页面。他填写地址和付款信息，然后下订单。但是接下来会发生什么呢？</p><p>通过投票系统，乔的订单存储在数据库中。一段时间后，脚本或人员查询数据库以查找任何新订单并处理付款。然后仓库中的另一个脚本或人员查询数据库并开始交付过程。</p><p>这种处理付款和履行的方式很慢，而且容易出错。现在，考虑到在线订购的增加，实时处理事件在商业中比以往任何时候都更加重要。</p><p>定期轮询系统可能会造成操作瓶颈，特别是在订单活动出现意外峰值的情况下。此外，在没有下新订单的情况下查询数据库会导致不必要的基础设施成本。</p><p>Joe的订单像以前一样存储在数据库中，但这一次将事件发送到事件路由器。</p><p>事件路由器查找可以处理此类事件的对象，并发现支付处理脚本负责该事件。</p><p>支付处理脚本使用适当的支付数据调用支付处理器(例如，条纹)。</p><p>支付处理脚本发出支付授权事件。此事件向Joe发起订单确认电子邮件，并向仓库发出通知以供履行。</p><p>计算机科学中的基于事件的系统可以追溯到20世纪50年代，在那里它们第一次被设计成处理输入/输出等异步事件。Edsger Wybe Dijkstra在Electrlogica X-1上设计了第一个中断处理程序，至今仍在现代系统中使用。现代赛事的概念是相同的，只是使用的环境不同。</p><p>当CPU中断出现时，系统会改变其行为以处理传入的中断。这可能是按下的新击键，也可能是该进程即将终止的通知。中断并没有告诉进程要做什么，只告诉它发生了一些事件。进程有责任处理中断并决定如何处理它。</p><p>事件驱动系统中的事件也会发生同样的情况。创建事件时，事件本身不应该决定发生了什么；它应该只描述发生了什么，无论是状态更改还是更新。例如，在现代商业技术堆栈中，事件路由器可以将废弃购物车事件发送到像Klaviyo这样的电子邮件平台，该电子邮件平台决定将Joe登记到废弃购物车电子邮件序列中。</p><p>事件的结构和发出方式在很大程度上取决于事件路由器。有许多不同类型的事件路由器，包括AWS EventBridge、Apache Kafka和Microsoft Event Hub。</p><p>事件是遵循特定方案的JSON文档。所有事件类型的顶级字段都相同，但每个事件的详细信息取决于应用程序。</p><p>例如，如果乔成功地从零售商订购了一件商品，他的“Order Created”事件将类似于下面的…。</p><p>{&#34；cartId&#34；：&#34；314919ab8aed637123f804eb&#34；，&#34；orderCurrency&#34；：&#34；USD&#34；，&#34；orderTotal&#34；：27.64，&#34；orderId&#34；：&#34；314919ab8aed637123f804eb&#34；，&#34；Ship to&#34；：[{&#34；address&#34；：{&#34；name&#34；：{&#34；name&#34；第一个&#34；：&#34；约翰&#34；，&#34；最后&#34；：&#34；史密斯&#34；}，&#34；电话&#34；：{&#34；号码&#34；：&#34；5555555555&#34；，&#34；种类&#34；：&#34；手机&#34；}，&#34；电子邮件&#34；：&#34；user1@gmail.com&#34；，&#34；Street1&#34；：&#34；1250main Street&#34；，&#34；，&#34；City&#34；：&#34；Havre de Grace&#34；，&#34；State&#34；：&#34；MD&#34；，&#34；Country&#34；：&#34；US&#34；，&#34；邮政编码&#34；：&#34；21078-3213&#34；，&#34；种类&#34；：&#34；Shipping&#34；}，&#34；ShipmentCarrier&#34；：&#34；联邦快递&#34；}]，&#34；项目&#34；：[{&#34；ITEMID&#34；：4912，&#34；价格&#34；：122.43，&#34；数量&#34；：1，&#34；总数&#34；：122.43}，{&#34；ITEMID&#34；：8123，&#34；价格&#34；：21.99，&#34；数量&#34；：3，&#34；总计&#34；：65.97}]}。</p><p>以自定义方式处理事件的最直接方法是使用函数即服务(FAAS)解决方案，如AWS Lambda，该解决方案本机支持Java、Go、Powershell、Node.js、C#、Python和Ruby，但提供Runtime API以允许使用任何其他编程语言。</p><p>由于AWS只对其运行时间收费，因此开发Lambda函数的操作更容易且成本更低。这被称为无服务器，这是我们在Fabric使用的另一项技术，它使商业更具可扩展性和可伸缩性。</p><p>事件驱动系统是商业的理想选择，因为许多商业设置包含不同的服务和微服务，这些服务和微服务可以从解耦中获益。支付、促销、定价、订阅、搜索和评论只是这些服务中的一小部分。</p><p>解耦允许更快的开发周期(因为每个服务都可以独立开发)，更便宜的运行时间(因为每个服务可以独立扩展)，以及更快的页面加载时间。事件驱动系统促进了服务的解耦，因为不同的服务可以通过事件路由器相互通信，而不是直接相互依赖。</p><p>事件驱动系统的另一个好处是它们处理故障情况的潜力。如果两个服务相互依赖，其中一个服务因任何原因而出现故障，则另一个服务将无法正常运行。但是，通过事件路由器的帮助，如果服务由于任何原因(如更新或错误)而变得不可访问，事件路由器将存储事件，直到可以将其传递给其预期的处理程序。例如，在支付处理脚本不可用的场景中，购物车应该仍然可以工作。</p><p>在这篇文章中，我们概述了事件驱动系统是如何简化商业流程的。有关事件和事件路由器如何让不同服务在商务技术堆栈中更好地通信的更详细视图，请查看AWS提供的此视频。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://medium.com/headless-commerce/how-event-driven-systems-work-in-commerce-9c2628216f94">https://medium.com/headless-commerce/how-event-driven-systems-work-in-commerce-9c2628216f94</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/商业/">#商业</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/系统/">#系统</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/driven/">#driven</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/事件/">#事件</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1029795.html"><img src="http://img2.diglog.com/img/2020/10/thumb_547f7e8d3a3d5d4ffd4c40a92e1ad5bc.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1029795.html">互联网上充斥着商业猫：处理工作/家庭鸿沟的破裂</a></div><span class="my_story_list_date">2020-10-19 21:10</span></div><div class="col-sm"><div><a target="_blank" href="/story/1029762.html"><img src="http://img2.diglog.com/img/2020/10/thumb_b3566c3c262286552bcb68dba67b4f2d.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1029762.html">欧盟正在调查Instagram对儿童个人数据的处理，此前有投诉称，商业账户上的联系信息是公开可见的</a></div><span class="my_story_list_date">2020-10-19 18:46</span></div><div class="col-sm"><div><a target="_blank" href="/story/1029158.html"><img src="http://img2.diglog.com/img/2020/10/thumb_77414f8e4c89b93a400b50248d9c36b5.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1029158.html">
美国联邦航空局精简商业发射规则以保持火箭飞行</a></div><span class="my_story_list_date">2020-10-16 8:22</span></div><div class="col-sm"><div><a target="_blank" href="/story/1028501.html"><img src="http://img2.diglog.com/img/2020/10/thumb_672ddf6292daf3793e8719aff3838d83.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1028501.html">
Armory nabs 4000万美元C系列，开源Spinnaker项目上的商业业务起飞</a></div><span class="my_story_list_date">2020-10-13 22:23</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>