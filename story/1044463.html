<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>为什么已经有C ++和Rust时就使用Zig？ </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">为什么已经有C ++和Rust时就使用Zig？ </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-16 07:00:39</div><div class="page_narrow text-break page_content"><p>如果Zig代码看起来像是跳了起来就无法调用函数，则不是。这意味着您可以确保以下代码仅调用foo（）然后再调用bar（），并且可以确保无需知道任何类型的代码：</p><p>   D具有@property函数，这些函数可以通过类似于字段访问的方式来调用，因此在上面的示例中，c.d可能会调用一个函数。</p><p> C ++，D和Rust具有运算符重载，因此+运算符可能会调用函数。</p><p> C ++，D和Go具有throw / catch异常，因此foo（）可能会引发异常，并阻止bar（）被调用。 （当然，即使在Zig中，foo（）也会死锁并阻止bar（）的调用，但是在任何图灵完备的语言中都可能发生这种情况。）</p><p>   更一般而言，在堆分配方面要采用自动方法。没有使用堆分配器的新关键字或任何其他语言功能（例如，字符串串联运算符[1]）。堆的整个概念严格在用户空间中。有一些提供和使用堆分配器的标准库功能，但是这些是可选的标准库功能，不是语言本身内置的。如果您从未初始化堆分配器，则可以确保您的程序永远不会导致堆分配。</p><p> Zig的标准库还很年轻，但是目标是针对每个使用分配器的功能，在运行时或可能在编译时或运行时使用分配器来接受分配器。</p><p> 这种设计理念的动机是使用户能够编写他们认为必要的任何方式的自定义分配器策略，而不是强迫他们甚至鼓励他们采用可能不适合其需求的特定策略。例如，Rust似乎鼓励使用单一的全局分配器策略，该策略不适用于许多用例，例如OS开发和高性能游戏开发。 Zig从Jai关于分配器的立场中汲取线索，因为该语言是由高性能游戏设计师针对高性能游戏的用例开发的。 </p><p>如前所述，该主题仍然有些模糊，随着Zig标准库的成熟，它将变得更加具体。重要的是，堆分配是用户空间的概念，而不是内置于语言中。</p><p>   [1]：实际上有一个字符串连接运算符（通常是数组连接运算符），但是它仅在编译时有效，因此仍然没有运行时堆分配。</p><p>  Zig具有完全可选的标准库，只有在使用它时，它才会被编译到您的程序中。 Zig对链接libc或不链接libc均提供相同的支持。 Zig对裸机和高性能开发非常友好。</p><p>  编程的圣杯之一是代码重用。可悲的是，在实践中，我们发现自己多次重新发明了轮子。通常是有道理的。</p><p> 如果应用程序具有实时要求，则使用垃圾回收或任何其他非确定性行为的任何库都将不具有依赖性。</p><p> 如果一种语言很容易忽略错误，从而验证一个库是否正确处理并冒出错误，那么您可能会很想忽略该库并重新实现它，因为它知道一个人正确地处理了所有相关错误。 Zig的设计使程序员能够做的最懒惰的事情是正确地处理错误，因此人们可以合理地确信库将适当地冒起错误。</p><p> 当前，C是最通用和可移植的语言，这在实际上是正确的。任何无法与C代码进行交互的语言都可能会导致混淆。 Zig试图通过同时使其直接兼容外部功能的C ABI并引入安全性和语言设计来防止实现中的常见错误，从而成为库的新可移植语言。 </p><p>Zig是一种编程语言，但它还附带了一个构建系统和程序包管理器，即使在传统的C / C ++项目中，它们也很有用。</p><p> 您不仅可以编写Zig代码而不是C或C ++代码，还可以使用Zig代替自动工具，cmake，make，scons，ninja等。此外，它（将）为以下程序提供程序包管理器：本机依赖性。即使整个项目的代码库都使用C或C ++，该构建系统也适用。</p><p> 诸如apt-get，pacman，homebrew之类的系统软件包管理器对于最终用户体验至关重要，但是它们不足以满足开发人员的需求。特定于语言的软件包管理器可以是没有贡献者和拥有数十个参与者之间的区别。对于开源项目，使项目完全无法构建对于潜在贡献者来说是一个巨大的障碍。对于C / C ++项目，具有依赖关系可能是致命的，尤其是在没有软件包管理器的Windows上。即使只是构建Zig本身，大多数潜在的参与者也很难理解LLVM依赖关系。 Zig将（将）提供一种方法，使项目直接依赖于本机库-而不依赖于用户。系统软件包管理器，以提供正确的版本，并且以一种实际上可以保证的方法，无论使用什么系统，并且与目标平台无关，都可以在首次尝试时成功构建项目。</p><p> Zig提供了一种使用声明性API来用合理的语言代替项目的构建系统来构建项目的方法，该声明性API还提供了程序包管理，因此实际上可以依赖其他C库。具有依赖关系的能力可以实现更高级别的抽象，从而可以扩展可重用的高级代码。</p><p>  C ++，Rust和D具有大量功能，并且可能会分散您正在处理的应用程序的实际含义。人们发现自己调试他们对编程语言的知识，而不是调试应用程序本身。</p><p> Zig没有宏，也没有元编程，但仍然足够强大，可以以清晰，非重复的方式表达复杂的程序。甚至具有宏特殊情况格式的Rust，也可以在编译器本身中实现。同时，在Zig中，等效功能在标准库中实现，编译器中没有特殊情况的代码。</p><p> 当您查看Zig代码时，一切都是简单的表达式或函数调用。没有运算符重载，属性方法，运行时分派，宏或隐藏的控制流。 Zig致力于实现C的所有极佳简单性，但不包括陷阱。 </p><p>可以从下载部分下载Zig。 Zig为Linux，Windows，MacOS和Freebsd提供二进制存档。 以下内容描述了此存档的内容：  使用成熟的，受到良好支持的LLVM基础架构，该基础架构可进行深度优化并支持大多数主要平台  附带了libc的源代码，可以在需要任何受支持的平台时动态编译这些源代码 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://ziglang.org/learn/why_zig_rust_d_cpp/">https://ziglang.org/learn/why_zig_rust_d_cpp/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/rust/">#rust</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/c++/">#c++</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/zig/">#zig</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1044458.html"><img src="http://img2.diglog.com/img/2021/1/thumb_a689dbc1409dfe6cb97b61777631f219.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1044458.html">黑客更改窃取的监管数据，以播种对COVID-19疫苗的不信任感 </a></div><span class="my_story_list_date">2021-1-16 6:43</span></div><div class="col-sm"><div><a target="_blank" href="/story/1044454.html"><img src="http://img2.diglog.com/img/2021/1/thumb_5c1b51bd4cef10099b7cf35b0dd67325.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1044454.html">libsignal-client – Rust中的信号协议实现 </a></div><span class="my_story_list_date">2021-1-16 6:35</span></div><div class="col-sm"><div><a target="_blank" href="/story/1044375.html"><img src="http://img2.diglog.com/img/2021/1/thumb_75f1196c16945714196e618c6242d81a.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1044375.html">身份识别套接字–零信任 </a></div><span class="my_story_list_date">2021-1-16 3:29</span></div><div class="col-sm"><div><a target="_blank" href="/story/1044318.html"><img src="http://img2.diglog.com/img/2021/1/thumb_e690053c75b76b0a446822bd76dcbd50.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1044318.html">维基百科庆祝世界20年免费，可信赖的信息 </a></div><span class="my_story_list_date">2021-1-15 23:22</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>