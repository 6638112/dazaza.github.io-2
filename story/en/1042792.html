<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Roland Juno合成器的振荡器设计 The Design of the Roland Juno Syntheziser's Oscillators</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">The Design of the Roland Juno Syntheziser's Oscillators<br/>Roland Juno合成器的振荡器设计 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-01 09:28:52</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/1/3ca44da647c0f907fed03a9944b5a1a1.png"><img src="http://img2.diglog.com/img/2021/1/3ca44da647c0f907fed03a9944b5a1a1.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>This article is a comprehensive guide to the  Roland Juno&#39;s  digitally-controlled analog oscillators ( DCOs). I fell in love with the Juno early in my synthesizer journey and I&#39;ve spent the last year or so doing research on its design so that I could create my own Juno-inspired DCO,  Winterbloom&#39;s  Castor &amp; Pollux.</p><p>本文是Roland Juno的数字控制模拟振荡器（DCO）的综合指南。我在合成器之旅的早期就爱上了Juno，并且花了大约一年的时间对其设计进行研究，以便可以创建自己的Juno风格的DCO，即Winterbloom's Castor＆amp; Pollux。</p><p>  This article will cover a little history of the Juno, discuss the theory of operation behind digital-controlled oscillators, analyze the circuit designs for the Juno 6/60 &amp; the Juno 106, and discuss practical aspects of using DCOs. This article is somewhat lengthy and there is a  lot of information here. I&#39;ve tried my best to make this approachable for anyone with  basic electronics knowledge, so if you feel confused or overwhelmed please  reach out and I&#39;ll be more than happy to include more details or change something so that it&#39;s easier to understand.</p><p>  本文将介绍Juno的一些历史，讨论数字控制振荡器背后的工作原理，分析Juno 6/60＆amp; amp; amp;的电路设计。 Juno 106，并讨论使用DCO的实际方面。本文篇幅较长，此处有很多信息。我已尽力使此方法对任何具有基本电子知识的人都适用，因此，如果您感到困惑或不知所措，请与我们联系，我很乐意提供更多详细信息或更改某些内容，以便对此进行处理39;更容易理解。</p><p>  Roland introduced the incredible  Juno-6 and nearly identical  Juno-60 in 1982. The Juno was a 6-voice polyphonic synthesizer that was an incredible value considering its array of features.</p><p>  罗兰（Roland）于1982年推出了令人难以置信的Juno-6和几乎相同的Juno-60。Juno是6声音位的复音合成器，考虑到其一系列功能，其价值令人难以置信。</p><p>  The Juno notably featured   digitally-controlled analog oscillators. The DCO was designed to overcome them the tuning instability of the usual  voltage-controlled oscillators ( VCOs) in contemporary polyphonic synthesizers. The DCOs operate with the same fundamental analog circuitry but differ in that they are controlled by a microcontroller. This imparted a unique sound to the Juno series and one that&#39;s become a favorite of many musicians.</p><p>  Juno特别具有数字控制的模拟振荡器。 DCO旨在克服它们在当代复音合成器中常见的压控振荡器（VCO）的调谐不稳定性。 DCO使用相同的基本模拟电路工作，但区别在于它们由微控制器控制。这为Juno系列赋予了独特的声音，并成为许多音乐家的最爱。</p><p>  Roland followed with the  Juno-106 in 1984. It offered some feature upgrades over its predecessor such as pitch bend, modulation, and support for a new thing called  MIDI. It still used the same digitally-controlled oscillator concept from the 6 &amp; 60, but its implementation is a little bit different.</p><p>  罗兰（Roland）于1984年推出了Juno-106。它在其前身的基础上进行了一些功能升级，例如弯音，调制和对MIDI的支持。它仍然使用与6和6相同的数字控制振荡器概念。 60，但其实现略有不同。</p><p> This article will discuss and analyze both designs, but before getting into the nitty-gritty details let&#39;s take a look at the overall sound generation design of the Juno. Also, this article will refer to these three synthesizers - the 6, 60, and 106 - as  the Juno, but note that this isn&#39;t necessarily applicable to later models.</p><p> 本文将讨论和分析这两种设计，但是在深入了解细节之前，我们先来了解Juno的总体声音生成设计。同样，本文将把这三个合成器（6、60和106）称为Juno，但是请注意，这不一定适用于以后的模型。</p><p>  The Juno has six voices. Each voice has a single oscillator that can generate three different  waveforms. These oscillators are controlled by the microcontroller. Here&#39;s a block diagram that should help visualize the different parts at play:</p><p>  朱诺有六个声音。每个声音都有一个可以产生三个不同波形的振荡器。这些振荡器由微控制器控制。这是一个框图，应该有助于可视化播放中的不同部分： </p><p>  Sound generation starts with a  square wave controlled by the microntroller and then goes through a series of  waveshapers which generates a  ramp/sawtooth waveform, a  sub waveform (which is a square wave at half the frequency), and a  pulse waveform. The frequency of the clock determines the frequency/note that the oscillator plays.</p><p>声音的产生是由微控制器控制的方波开始的，然后经过一系列的波形器，这些波形器会生成斜坡/锯齿波形，子波形（是频率的一半的方波）和脉冲波形。时钟的频率确定振荡器播放的频率/音符。</p><p> This is in contrast to a common design for a voltage-controlled oscillator ( VCO) where a CPU isn&#39;t required. Instead, it uses analog circuitry to create a  control voltage which determines the oscillator&#39;s frequency:</p><p> 这与不需要CPU的压控振荡器（VCO）的常规设计相反。相反，它使用模拟电路来创建控制电压，该电压确定振荡器的频率：</p><p>  Now that you&#39;ve got a high-level overview of the sound generation inside of these synthesizers, let&#39;s take a deeper look at the components involved in sound generation.</p><p>  现在，您已经对这些合成器内部的声音生成有了一个高层次的概述，让我们更深入地了解声音生成所涉及的组件。</p><p>  Before jumping into the difference between DCOs and VCOs it&#39;s useful to discuss the similarities. As shown in the block diagrams above several designs for VCOs  and the Juno DCOs are designed around a  ramp generator (sometimes referred to as a  ramp core) which creates a  sawtooth (ramp) waveform:</p><p>  在深入探讨DCO和VCO之间的区别之前，讨论相似之处是很有用的。如上面的框图所示，VCO和Juno DCO的几种设计是围绕产生锯齿（斜坡）波形的斜坡发生器（有时称为斜坡核心）设计的：</p><p>  The ramp generator is the beginning of how an oscillator turns a  frequency input signal into the various useful waveforms that are used to make musical sounds. For a VCO, the frequency input signal is a  control voltage, hence &#34;voltage-controlled&#34;. For a DCO, the frequency input signal is a  digital clock, hence &#34;digitally-controlled&#34;.</p><p>  斜坡发生器是振荡器如何将频率输入信号转换成用于产生音乐声音的各种有用波形的开始。对于VCO，频率输入信号是控制电压，因此是“电压控制的”。对于DCO，频率输入信号是数字时钟，因此是“数字控制的”。</p><p> The difference in the type of input signal has a significant impact on the circuit design. Before getting into those differences, let&#39;s look at the heart of the ramp generator that&#39;s shared between both designs: the  integrator.</p><p> 输入信号类型的差异对电路设计有重大影响。在探讨这些差异之前，让我们看一下两种设计之间共享的斜坡发生器的核心：积分器。</p><p>  An integrator is a electronic circuit that performs the mathematical operation of   Integration. This is a fancy word from calculus but don&#39;t be afraid- it&#39;s actually pretty straightforward in practice.</p><p>  积分器是执行积分数学运算的电子电路。这是微积分中的花哨词，但请不要害怕-实际上在实践中非常简单。 </p><p> The purpose of an integrator is to produce an output signal that changes (increase or decreases) at a rate corresponds to the magnitude and duration of the input signal. In this case the input and output signals are both voltage. If you apply a  constant voltage to an integrator, it will create a consistent increase or decrease in the output voltage over time (a  ramp):</p><p>积分器的目的是产生一个输出信号，该信号以与输入信号的幅度和持续时间相对应的速率变化（增加或减少）。在这种情况下，输入和输出信号均为电压。如果将恒定电压施加到积分器，它将随着时间的推移在输出电压中产生一致的上升或下降（斜坡）：</p><p>  More voltage means that the ramp will have a steeper slope. This is going to be helpful in generating a sawtooth waveform- the integrator ramp produces exactly one cycle of a sawtooth waveform. The trick is getting it to restart so that it creates a repeating (or  periodic) sawtooth waveform.</p><p>  更高的电压意味着斜坡将具有更陡的斜率。这将有助于生成锯齿波形-积分器斜坡恰好产生锯齿波形的一个周期。诀窍是使其重新启动，以便创建重复（或周期性）的锯齿波形。</p><p>   The op-amp integrator is based on the idea that if you apply a voltage to a capacitor it  takes some time to charge, in fact, it will charge at a rate that is proportional to the input voltage which sounds a  lot like integration! Without going into too much op-amp theory, you can just assume that the integrator circuit will produce a voltage that increases or decreases at a rate determined by the input voltage and the values of  R and  C. The values of  R and  C determine the   RC constant of the integrator - or put more simply,  how long it takes the circuit to charge up. Remember this concept because it comes into play a  lot in this article.</p><p>   运算放大器积分器的基本思想是，如果向电容器施加电压，则需要花费一些时间才能充电，实际上，它的充电速率与输入电压成正比，这听起来很像积分！无需过多讨论运放理论，您可以假设积分器电路将产生一个以输入电压以及R和C的值确定的速率增加或减少的电压。R和C的值确定了积分器的RC常数-或更简单地说，是电路充电需要多长时间。记住这个概念，因为它在本文中起了很多作用。</p><p> You can play around this with interactive illustration to see how changing the voltage, resistance, or capacitance changes the output of the integrator:</p><p> 您可以通过交互式插图来解决这个问题，以了解改变电压，电阻或电容如何改变积分器的输出：</p><p>   The formula used to determine the output voltage of an integrator with a constant input voltage at a given time is:</p><p>   在给定时间用于确定具有恒定输入电压的积分器的输出电压的公式为：</p><p>  Before going further, there are some interesting and noteworthy properties of the integrator&#39;s behavior to be aware of:</p><p>  在进一步介绍之前，需要了解积分器行为的一些有趣且值得注意的属性：</p><p> First, notice that there are three ways of changing the steepness of the output&#39;s slope: changing the capacitance, changing the resistance, or changing the voltage. Making the voltage higher will charge the capacitor more quickly and increase the steepness of the slope. Making the resistance or capacitance lower will also cause the capacitor to charge more quickly and will increase the steepness of the slope.</p><p> 首先，请注意有三种改变输出斜率陡度的方法：改变电容，改变电阻或改变电压。升高电压会使电容器更快充电，并增加斜率的陡度。降低电阻或电容会导致电容器更快充电，并会增加斜率的陡度。 </p><p> Second, the output is  inverted - a positive input voltage creates a downward slope and a negative input voltage creates an upward slope. This will come into play when we look at the difference between the Juno-6/60 design and the Juno-160 design.</p><p>其次，输出反相-正输入电压产生向下的斜率，负输入电压产生向上的斜率。当我们研究Juno-6 / 60设计与Juno-160设计之间的差异时，这将发挥作用。</p><p> Third, notice that with steeper slopes the output will  saturate (stop increasing or decreasing). This is because a real op amp doesn&#39;t have an infinite amount of voltage to output and the capacitor can&#39;t hold an infinite amount of charge, so when either the output voltage is beyond the op amp&#39;s power supply or the capacitor can&#39;t hold any more charge the output voltage will saturate.</p><p> 第三，请注意，斜率越大，输出将饱和（停止增加或减少）。这是因为实际的运算放大器没有无限量的电压要输出，并且电容器不能容纳无限量的电荷，因此当任一输出电压超出运算放大器时，电源或电容器不能再容纳任何电荷，则输出电压将饱和。</p><p> At this point you should hopefully have a good grasp on how an op-amp integrator forms a ramp from a constant input voltage. So now we&#39;ll see how to change the circuit so that instead of a single slope it generates a repeating (periodic) sawtooth waveform.</p><p> 在这一点上，您应该希望对运算放大器积分器如何从恒定的输入电压形成斜坡有很好的了解。因此，现在我们将了解如何更改电路，以便它产生一个重复的（周期性）锯齿波形，而不是单个斜率。</p><p> A straightforward solution is to just start the circuit over -  reset it. That&#39;ll start the ramp back at zero and let it start rising (or falling) again. If you keep resetting at regular intervals the circuit will keep generating ramps and which form cycles of the sawtooth waveform.</p><p> 一个简单的解决方案是仅重新启动电路-将其复位。这将使斜坡从零开始返回，并使其再次开始上升（或下降）。如果您以固定的时间间隔进行重置，则电路将继续生成斜坡，并形成锯齿波形的周期。</p><p> But what does it mean to reset a circuit? Well, it means to put it back into its initial state. Think about what  changes in the integrator circuit over time: the  charge of the capacitor. When the circuit first starts the capacitor has no charge and the output voltage is zero, but, as time goes on the capacitor charges more and more. So resetting the circuit means  discharging the capacitor.</p><p> 但是复位电路意味着什么？好吧，这意味着将其恢复到初始状态。考虑一下积分器电路随时间的变化：电容器的电荷。电路首次启动时，电容器没有电荷，输出电压为零，但是随着时间的流逝，电容器的充电越来越多。因此，重置电路意味着使电容器放电。</p><p> The easiest way to discharge a capacitor is to  short it: connect its two leads together so there&#39;s nothing blocking it from discharging. You can do that by putting a little switch in the circuit:</p><p> 使电容器放电的最简单方法是使电容器短路：将其两根引线连接在一起，因此没有什么东西可以阻止电容器放电。您可以通过在电路中放置一个小开关来做到这一点：</p><p>  When the switch is open the integrator behaves the same as before - its output goes up or down depending on the input voltage. When the switch is closed, it creates a circuit that connects the capacitor&#39;s leads and allows it to discharge:</p><p>  当开关断开时，积分器的行为与以前相同-积分器的输出根据输入电压而上升或下降。当开关闭合时，它会形成一个电路，该电路连接电容器的引线并使它放电： </p><p>  Once the switch is opened again the integrator starts over and beings ramping its output again.</p><p>再次断开开关后，积分器将重新启动，并再次使其输出斜升。</p><p> Try out the little simulation below - press  start to let the capacitor charge for a little bit and then press  close switch to reset it:</p><p> 尝试下面的小模拟-按开始让电容器充电一点，然后按关闭开关将其重置：</p><p>   Take notice that when you press the button at consistent intervals the output is a sawtooth waveform and its frequency is determined by how often you press the button and reset the capacitor.</p><p>   请注意，以恒定的间隔按下按钮时，输出为锯齿波形，其频率取决于按下按钮和重置电容器的频率。</p><p> Obviously there isn&#39;t any synthesizers out there that require you to manually tap a switch at the desired note&#39;s frequency!  1 So instead of requiring a person to press a switch this circuit should take some form of  frequency input signal and use it to electronically close the switch.</p><p> 显然，那里没有任何需要您以所需音符频率手动点击开关的合成器！ 1因此，该电路应采用某种形式的频率输入信号并将其用于电子地闭合开关，而不是要求人们按下开关。</p><p> The switch is the easy part - there&#39;s a well-known component that can act as an  electronically-controlled switch: the  transistor. So, the ramp generator will use a transistor in place of the switch:</p><p> 开关是最简单的部分-可以用作电子控制开关的众所周知的组件：晶体管。因此，斜坡发生器将使用晶体管代替开关：</p><p>  Note that I am explicitly not specifying which kind of transistor (PNP, NPN etc)- which one you choose depends on a few other factors so for now I&#39;ll keep it abstract. Notice that there&#39;s also a new resistor there between the capacitor and the transistor. This is generally a low-value resistor and it&#39;s just there to limit the current that goes through the transistor when the capacitor discharges as too much current could damage the transistor.</p><p>  请注意，我没有明确指定要选择哪种晶体管（PNP，NPN等），这取决于其他一些因素，因此现在我将其抽象化。请注意，电容器和晶体管之间还有一个新电阻。这通常是一个低值电阻，当电容器放电时，它会限制流经晶体管的电流，因为太多的电流会损坏晶体管。</p><p> So now the circuit has a means of electronically resetting the capacitor. The next step is to create a circuit that takes a frequency input signal and turns it into a  reset signal to control the transistor. This is the point where VCOs and DCOs diverge, as up until now their theory has been the same but the form of the frequency input signal and the way the it&#39;s used is vastly different between the two. The next few sections will explore the different approaches taken by VCO and DCO designs to control the transistor and the capacitor, and therefore, the frequency of the sawtooth waveform.</p><p> 因此，现在该电路可以通过电子方式重置电容器。下一步是创建一个电路，该电路接收频率输入信号并将其转换为复位信号以控制晶体管。这是VCO和DCO分开的地方，因为到目前为止，它们的理论是相同的，但是频率输入信号的形式和其使用方式在两者之间存在很大差异。接下来的几节将探讨VCO和DCO设计采用的不同方法来控制晶体管和电容器，从而控制锯齿波形的频率。 </p><p>  Although the point of this article is to explore DCO design, it&#39;s worthwhile to spend some time examining the operating principles behind a VCO. This analysis will provide some insight into certain aspects of the DCO&#39;s design.</p><p>尽管本文的重点是探索DCO设计，但还是值得花一些时间研究VCO背后的操作原理。该分析将提供对DCO设计某些方面的一些见解。</p><p> The analog VCO design uses a  control voltage as its frequency input signal. Creating this control voltage is pretty complicated  3 and it&#39;s a bit too much to discuss here, but you should know that the control voltage generation circuitry is  temperature sensitive- once the instrument warms up the oscillators will be out of tune! This is one of the motivating factors behind the DCO&#39;s design.</p><p> 模拟VCO设计使用控制电压作为其频率输入信号。产生此控制电压非常复杂3，在这里讨论太多了，但是您应该知道，控制电压产生电路对温度敏感-一旦仪器预热振荡器，就将失调！这是DCO设计背后的激励因素之一。</p><p>   The idea is that increasing the ramp generator&#39;s input voltage will cause the capacitor to charge more quickly- something you have already experienced with the  interactive integrator animation.</p><p>   这个想法是，增加斜坡发生器的输入电压将使电容器更快地充电-您已经在交互式积分器动画中体验到了这一点。</p><p> The next step is resetting the ramp generator using the transistor. There isn&#39;t an immediately obvious way to use the control voltage to drive the transistor. However, increasing the control voltage increases the slope of the ramp. We could add a circuit that watches the output of the ramp generator and resets it using the transistor once it gets to a specific output level:</p><p> 下一步是使用晶体管重置斜坡发生器。没有立即显而易见的方法来使用控制电压来驱动晶体管。但是，增加控制电压会增加斜坡的斜率。我们可以添加一个电路来监视斜坡发生器的输出，并在达到特定输出电平时使用晶体管将其复位：</p><p>  A higher control voltage would mean the ramp reaches the target voltage faster and therefore gets reset more often and leads to a higher frequency.</p><p>  较高的控制电压将意味着斜坡更快地达到目标电压，因此会更频繁地复位并导致较高的频率。</p><p>   A comparator, well, compares! It takes two voltages: an input voltage and a threshold voltage. When the input voltage is below the threshold voltage, the comparator outputs a low voltage. However, if the input voltage instead is above the threshold voltage then the comparator will output a high voltage. You can play around with that here:</p><p>   比较器可以比较！它需要两个电压：输入电压和阈值电压。当输入电压低于阈值电压时，比较器输出一个低电压。但是，如果输入电压高于阈值电压，则比较器将输出高电压。您可以在此处进行操作：</p><p>  Note that this is a high-level ideal comparator and real ones  2 require a little more work to use.</p><p>  请注意，这是一个高级理想比较器，而实际比较器2需要更多工作才能使用。 </p><p> You can add a comparator to watch the output voltage of ramp generator and reset the circuit by turning on the transistor once the output is beyond the desired amplitude voltage. When the transistor turns on, the capacitor discharges and the ramp generator&#39;s output voltage will eventually fall below the comparator&#39;s threshold voltage and it&#39;ll turn the transistor back off- allowing the cycle to start over. Take a look at this circuit and animation:</p><p>您可以添加一个比较器来监视斜坡发生器的输出电压，并在输出超过所需幅度电压时通过打开晶体管来重置电路。当晶体管导通时，电容器放电，并且斜坡发生器的输出电压最终将下降到比较器的阈值电压以下，并且它将使晶体管关断，从而允许循环重新开始。看一下这个电路和动画：</p><p>     This is now a working voltage-controlled oscillator circuit. Play around with the control voltage in the animation and note that as the control voltage increases  4 so does the waveform&#39;s frequency.</p><p>     现在这是一个工作的压控振荡器电路。播放动画中的控制电压，并注意，当控制电压增加4时，波形的频率也会增加。</p><p> But  why is that the case? And how do you determine the exact frequency that a control voltage will produce? And inversely, how do you determine the appropriate control voltage for a given frequency?</p><p> 但是为什么会这样呢？以及如何确定控制电压将产生的确切频率？相反，您如何确定给定频率的合适控制电压？</p><p> Remember that the control voltage is used to directly charge the capacitor. Think about what happens as the control voltage increases:</p><p> 请记住，控制电压用于直接为电容器充电。考虑一下随着控制电压的增加会发生什么：</p><p>  So now you know  how the control voltage increases the frequency but you still need to know how to calculate the frequency given the voltage and vice-versa. Remember that there are three factors that influence how long it takes the capacitor to charge: the capacitance, the resistance, and the input voltage. The ramp generator section gave this formula for calculating an op-amp integrator&#39;s output voltage:</p><p>  因此，现在您知道了控制电压如何增加频率，但是仍然需要知道在给定电压的情况下如何计算频率，反之亦然。请记住，有三个因素会影响电容器充电所需的时间：电容，电阻和输入电压。斜坡发生器部分给出了用于计算运算放大器积分器的输出电压的以下公式：</p><p>  This can be re-arranged to solve for charge time and therefore the frequency. Since charge time is considered the  period of the waveform and frequency is the reciprocal of a period:</p><p>  可以重新安排以解决充电时间，从而解决频率问题。由于考虑了充电时间，因此波形的周期和频率是周期的倒数：</p><p>  If you select the component values for  R and  C and pick a desired output amplitude then you can plug those into the equation and you&#39;ll have the formula for determining frequency given a control voltage. In this case, I chose  200kΩ,  1nF, and  -12V (don&#39;t worry about these values too much, I&#39;ll cover how to pick these values later):</p><p>  如果选择R和C的分量值并选择所需的输出幅度，则可以将它们插入等式中，这样就可以得到用于在给定控制电压的情况下确定频率的公式。在这种情况下，我选择了200kΩ，1nF和-12V（不要太担心这些值，我将在稍后介绍如何选择这些值）： </p><p> R  =  200 kΩ C  =  1 nF  Vout  =  - 12 V def  frequency_for_control_voltage ( Vin ):  time  =  - ( C  *  R  *  Vout )  /  Vin  frequency  =  1  /  time  return  frequency</p><p>R = 200kΩC = 1 nF Vout =-12 V def frequency_for_control_voltage（Vin）：时间=-（C * R * Vout）/ Vin频率= 1 /时间返回频率</p><p> You can use this interactive calculator to try out different control voltages and see how they map to frequencies:</p><p> 您可以使用此交互式计算器尝试不同的控制电压，并查看它们如何映射到频率：</p><p>  More usefully you can calculate the inverse- the voltage needed for a specific frequency- by re-arranging the formula to solve for time (and therefore frequency):</p><p>  通过重新安排公式来求解时间（从而求解频率），可以更有效地计算特定频率所需的电压的倒数：</p><p>   R  =  200 kΩ C  =  1 nF  Vout  =  - 12 V def  control_voltage_for_frequency ( frequency ):  time  =  1  /  frequency  Vin  =  - ( C  *  R  *  Vout )  /  time  return  Vin</p><p>   R = 200kΩC = 1 nF Vout =-12 V def control_voltage_for_frequency（频率）：时间= 1 /频率Vin =-（C * R * Vout）/时间返回Vin</p><p>   Okay, at this point that&#39;s all you really need to know about VCOs before taking a look at DCOs. Of course, this article has left out all of the hairy details of practical VCOs so consider this a  very simplified VCO that&#39;s really just here to help illustrate the differences between a VCO and a DCO. If you want to learn more about building VCOs you can take a look at  this tutorial,  this great series of videos, or  this excellent book.</p><p>   好的，这是您真正需要了解VCO的全部知识，然后再查看DCO。当然，本文省略了实际VCO的所有繁琐细节，因此请认为这是一个非常简化的VCO，实际上只是在这里用来帮助说明VCO和DCO之间的差异。如果您想了解有关构建VCO的更多信息，可以看一下本教程，这一系列精彩的视频或这本出色的书。</p><p>  The VCO&#39;s  frequency input signal is a  control voltage. The control voltage determines how quickly the integrator&#39;s capacitor charges, and therefore, the frequency.</p><p>  VCO的频率输入信号是控制电压。控制电压确定积分电容器的充电速度，从而确定频率。</p><p> The VCO&#39;s amplitude is always constant because the ramp&#39;s output level is used to determine when to reset the circuit.</p><p> 由于斜坡的输出电平用于确定何时复位电路，因此VCO的振幅始终是恒定的。 </p><p>  The biggest problem with the VCO design is that the control voltage that determines the frequency is generated by a complex circuit that is very sensitive to temperature drift and manufacturing tolerances. This means that the generated control voltage might not match up to exactly to what it should be for the desired note and it&#39;ll end up sounding out of tune. What&#39;s worse is that even if you adjust for this you&#39;ll need to re-adjust as the instrument gets warmer!</p><p>VCO设计的最大问题是，决定频率的控制电压是由对温度漂移和制造公差非常敏感的复杂电路产生的。这意味着生成的控制电压可能与所需音符可能不完全匹配，最终听起来会不合时宜。更糟糕的是，即使您对此进行了调整，随着仪器变暖，您仍需要重新调整！</p><p> With DCOs a different scheme is used to control the frequency. Unlike the analog VCO approach where a control voltage determines the frequency, a DCO&#39;s frequency is controlled by a  digital clock signal. A digital clock signal is a square wave that operates at a specific frequency. In order to play different notes a microcontroller is used to change the frequency of the clock signal.</p><p> 对于DCO，可以使用不同的方案来控制频率。与由控制电压确定频率的模拟VCO方法不同，DCO的频率由数字时钟信号控制。数字时钟信号是以特定频率运行的方波。为了演奏不同的音符，使用微控制器来改变时钟信号的频率。</p><p>   So how can you connect this incoming clock signal to the ramp core and control the frequency? Remember back to the basic ramp generator schematic:</p><p>   那么如何将输入的时钟信号连接到斜坡核心并控制频率呢？记得回到基本的斜坡发生器原理图：</p><p>  For now, assume that the input voltage to the comparator is some constant voltage. The transistor is really the key component in determining the frequency - how often it turns on and resets the circuit determines the frequency. The clock signal is a series of on/off periods so you could use that to turn the transistor on and off for each cycle of the clock.</p><p>  现在，假设比较器的输入电压为某个恒定电压。晶体管确实是确定频率的关键组件-它导通并重置电路的频率确定频率。时钟信号是一系列的开/关周期，因此您可以使用该信号在每个时钟周期内打开和关闭晶体管。</p><p> If you were to connect the clock straight to the transistor then things wouldn&#39;t work quite right. Since the clock stays high for half of its cycle, that means that the transistor would stay on for half as cycle as well and the capacitor wouldn&#39;t be able to charge for half of the time:</p><p> 如果您将时钟直接连接到晶体管，那么一切将无法正常进行。由于时钟在其半个周期内保持高电平，这意味着晶体管也将在半个周期内保持导通状态，并且电容器将无法在一半时间内进行充电：</p><p>  So there has to be some circuit between between the clock and the transistor that makes sure the transistor is only turned on for a  very short period of time during the clock cycle to let the capacitor discharge.</p><p>  因此，时钟与晶体管之间必须有一些电路，以确保晶体管在时钟周期内仅在很短的时间内导通，以使电容器放电。</p><p>  You can build a circuit that detects sharp changes in an input signal- like the rising or falling edge of a clock- and outputs short voltage spikes. This circuit is called an   RC differentiator  5. That&#39;s a fancy word but it&#39;s a really simple circuit. Check out the circuit below and the animation to see its effect on the clock input:</p><p>  您可以构建一个电路来检测输入信号的急剧变化（例如时钟的上升沿或下降沿）并输出短电压尖峰。该电路被称为RC微分器5。这是一个花哨的词，但却是一个非常简单的电路。查看下面的电路和动画，查看其对时钟输入的影响： </p><p>    The differentiator turns the clock&#39;s square wave (in  purple) into a series of voltage spikes (in  teal) when there is a rising or falling edge on the clock signal. Notice that if you change the resistance or capacitance the spikes last a shorter or longer amount of time. While I won&#39;t discuss exact values just yet, the general idea is that the spikes should last  just long enough to discharge the capacitor. If the spikes last too long, then transistor will be on for too long and the output would distort the start of each waveform cycle. If the pulse is too short, the capacitor won&#39;t completely discharge which will cause an unwanted inconsistences and offsets in the resulting waveform:</p><p>当时钟信号出现上升沿或下降沿时，微分器将时钟的方波（紫色）变成一系列电压尖峰（蓝绿色）。请注意，如果更改电阻或电容，则尖峰会持续较短或较长的时间。尽管我现在还不会讨论确切的值，但总体思路是，尖峰应该持续足够长的时间才能使电容器放电。如果尖峰持续太长时间，则晶体管将导通太长时间，并且输出会使每个波形周期的开始失真。如果脉冲太短，则电容器将不会完全放电，这将在结果波形中引起不必要的不​​一致性和偏移：</p><p>  In practice, the  RC constant of the differentiator should slightly greater than the RC constant of the ramp generator&#39;s  discharge circuit:</p><p>  实际上，微分器的RC常数应略大于斜坡发生器的放电电路的RC常数：</p><p>  So  RC differentiator &gt; RC discharge. There are two reasons for this. The first is that the circuit needs to completely discharge the capacitor in order for the waveshape to be correct. Having the differentiator&#39;s RC constant slightly higher gives a bit more room for error because real-world component values vary. The second reason is that the transistor doesn&#39;t turn on until the base-to-emitter voltage,  V BE is greater than its rated base-to-emitter saturation voltage,  V BE(sat). For most common transistors,  V BE(sat) is somewhere between  0.6 Volts and  0.7 Volts. Since the spikes from the differentiator quickly rise and then decrease exponentially there is some time during the spike where its voltage is too low to turn the transistor on. This visualization of the differentiator&#39;s output shows when the transistor would be on in red:</p><p>  因此RC微分器＆gt; RC放电。有两个原因。首先是电路需要对电容器完全放电，以使波形正确。微分器的RC常数稍高些，因为实际组件值会有所变化，因此有更多的误差空间。第二个原因是直到基极-发射极电压V BE大于其额定的基极-发射极饱和电压V BE（sat）为止，晶体管不会导通。对于大多数普通晶体管，V BE（sat）在0.6伏至0.7伏之间。由于来自微分器的尖峰迅速上升，然后呈指数下降，因此在尖峰期间有一段时间，其电压太低而无法导通晶体管。微分器输出的此可视化显示了何时晶体管将以红色导通：</p><p>    The following schematic adds the clock input through the differentiator to control the transistor. Remember to assume that the integrator&#39;s input voltage is some constant voltage:</p><p>    以下示意图添加了通过微分器输入的时钟以控制晶体管。请记住要假设积分器的输入电压是某个恒定电压：</p><p>  Finally, there is a sawtooth waveform on the output! Note that there is also a resistor between the differentiator and the transistor - it&#39;s there to limit the current s</p><p>  最后，输出上有锯齿波形！请注意，在微分器和晶体管之间还存在一个电阻器-用来限制电流s。</p><p>......</p><p>...... </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.thea.codes/the-design-of-the-juno-dco/">https://blog.thea.codes/the-design-of-the-juno-dco/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/juno/">#juno</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/roland/">#roland</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/电压/">#电压</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>