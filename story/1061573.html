<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>shelljs  - 节点9s的便携式UNIX shell命令 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">shelljs  - 节点9s的便携式UNIX shell命令 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-05-10 07:56:38</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/5/f750a3471f76166b8814d804a3d2ff09.png"><img src="http://img2.diglog.com/img/2021/5/f750a3471f76166b8814d804a3d2ff09.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>ShellJS是一个便携式（Windows / Linux / MacoS）实现UNIX shellCommands在Node.js API的顶部。您可以使用它来消除您的shellscript＆＃39;依赖于Unix，同时仍然保持其熟悉和强大的流样。您还可以在全球范围内安装它，以便您可以从NodeProject外部运行它 - 向那些GNARLY BASH脚本说再见！</p><p>    如果您有反馈，建议或需要帮助，请随时在我们的IssueTracker中发布。</p><p>  从旧版本升级？查看我们的BreakingChanges页面以查看升级时要注意的更改。</p><p>  如果您只想要Cross Platform UNIX命令，请结帐我们的新项目shelljs / shx，一个实用程序露出shelljs tothe命令行。</p><p>    ShellJS现在支持第三方插件！您可以了解更多有关使用Pluginsand在TheWiki中编写自己的shelljs命令的信息。</p><p>  有关所有最新功能的文档，请查看我们的自述文件。要读取包含最新版本的文档，请查看NPMPage或shelljs.org。</p><p>     var shell =要求（＆＃39; shelljs＆＃39;）;如果（！shell。哪（＆＃39; git＆＃39;））{shell。回声（＆＃39;抱歉，此脚本需要Git＆＃39;）;壳 。出口（1）; } //复制文件以释放dir shell。 RM（＆＃39; -RF＆＃39;，＆＃39; OUT /释放＆＃39;）;壳 。 CP（＆＃39; -R＆＃39;，＆＃39;东西/＆＃39;＆＃39; OUT /释放＆＃39;）; //在每个.js文件shell中替换宏。 CD（＆＃39; lib＆＃39;）;壳 。 LS（＆＃39; *。JS＆＃39;）。 foreach（函数（文件）{shell。sed（＆＃39; -i＆＃39;＆＃39; build_version＆＃39;，＆＃39; v0.1.2＆＃39;，文件）; shell。sed（＆ ＃39; -i＆＃39;，/ ^。* remove_this_line。* $ /，＆＃39;＆＃39;文件）; shell。shell。sed（＆＃39; -i＆＃39; /。* replace_line_with_macro。 * \ n /，shell。cat（＆＃39; macro.js＆＃39;），文件）;}）;壳 。 CD（＆＃39;＆＃39;）; //如果（shell。exec（＆＃39; git comment -am＆＃34;自动提交＆＃34;＆＃39;）同步运行外部工具。代码！== 0）{shell。回声（＆＃39;错误：git提交失败＆＃39;）;壳 。出口（1）; } </p><p>如果您需要通过一个看起来选项的参数，您可以这样做：</p><p> 壳 。 grep（＆＃39;  - ＆＃39;，＆＃39; -v＆＃39;，＆＃39;路径/文件＆＃39;）; //搜索＆＃34; -v＆＃34;，没有grep选项shell。 CP（＆＃39; -R＆＃39;，＆＃39; -dir＆＃39;，＆＃39; outriz＆＃39;）; //如果已经使用了一个选项，你已经完成了</p><p>  我们不再建议使用FlushJS的全局导入（即，＆＃39; shelljs / global＆＃39;）））。虽然仍然支持方便，但这仍然应该谨慎使用全局名称空间。</p><p>    除非另有说明，否则所有命令都同步运行。所有命令接受标准Bash Globbing字符（*，？等），与节点Lob模块兼容。</p><p>       var str = cat（＆＃39;文件* .txt＆＃39;）; var str = cat（＆＃39; file1＆＃39;＆＃39; file2＆＃39;）; var str = cat（[＆＃39; file1＆＃39;＆＃39; file2＆＃39;]; //与上述相同</p><p> 返回包含给定文件的shellString，或者如果给出多个文件，则包含文件的Aconcatedated字符串（在每个文件之间引入了一行行字符）。</p><p>  更改脚本持续时间的目录目录。如果没有提供参数，则会更改主题。返回shellstring以指示成功或失败。 </p><p>通过指定八进制表单的Theabsolute权限或表达符号中的更改来改变文件或目录的权限。这命令尝试尽可能多地模拟POSIX行为。可不变的例外：</p><p>            -n：禁止将目录添加到堆栈时的正常更改，以便仅操作堆栈。</p><p>  DIR：将当前工作目录设置为堆栈的顶部，然后执行相同的CD DIR。</p><p> + N：通过旋转堆栈来带来第n个目录（从名单中打印的列表的左侧，从Zero打印，从Zero开始）到列表的顶部。</p><p> -n：带来第n个目录（从名单的右侧计数通过旋转堆栈到列表顶部。</p><p>   将当前目录保存在目录堆栈顶部，然后保存到CD到DIR。没有参数，普通交换前两个目录。返回堆栈中的一系列路径。</p><p>   -N：禁止从堆栈中删除目录时更改普通目录更改，以便仅操作堆栈。 </p><p>+ n：删除第n个目录（从名单的左侧计数），以零开头。</p><p> -n：删除第n个目录（从DIRS打印的列表的右侧计数），以零开始。</p><p>   当没有给出参数时，popd从堆栈中删除顶部目录，并将CD执行到新顶部目录。该元素从0开始0，从具有DIRS列出的第一个目录（即，POPD相当于POPD +0）。返回堆栈中的一系列路径。</p><p>     + n：显示第n个目录（在没有选项的情况下在没有选项时，从左侧打印的列表的左侧计数），从零开始。</p><p> -N：显示第n个目录（从无选项时，从Dirs打印的列表的右侧计数），从零开始。</p><p> 显示当前纪念目录的列表。返回堆栈中的路径数组，或指定了IF + n或-n的单个路径。</p><p>          异步：异步执行。如果提供了回调，则无论传递的值如何，它将设置为true（默认值：false）。 </p><p>编码：使用的字符编码。影响返回的值返回到stdout和stderr，并且在不在静音模式下写入stdout和stderr的值（默认值：＆＃39; utf8＆＃39;）。</p><p>  var版本= exec（＆＃39;节点 -  version＆＃39;，{silent：true}）。 stdout; var child = exec（＆＃39; some_long_running_process＆＃39;，{async：true}）;孩子 。 stdout。 ON（＆＃39;数据＆＃39;函数（数据）{/ * ...使用数据... * /}）; exec（＆＃39; some_long_running_process＆＃39;，函数（代码，stdout，stderr）{控制台。日志（＆＃39;退出代码：＆＃39;代码）;控制台。日志（＆＃39;程序输出： ＆＃39;，stdout）;控制台。日志（＆＃39;程序stderr：＆＃39; stderr）;}）;</p><p> 同步执行给定命令，除非另有规定。在同步模式下，这返回shellString.Porths，这将返回子进程对象，并呼叫呼叫refives参数（代码，stdout，stderr）。</p><p> 没有看到你想要的行为？ exec（）通过shby default（或Windows上的cmd.exe）运行所有内容，这与bash不同。如果您是特定于BASH的行为，请尝试{shell：＆＃39;路径/到/ bash＆＃39;}选项。</p><p> 安全说明：正如shell.exec（）在主题shell中执行任意字符串，正确消毒用户输入至关重要，以避免命令注入。有关更多上下文，请咨询SecurityGuidelines。</p><p>      来自LS（＆＃39; -R＆＃39;路径）的主要区别是生成的文件名称为基本目录（例如，lib / chources / file1而不是只属file1）。</p><p>       从给定文件读取输入字符串，并返回包含与给定Regex_Filter匹配的所有行的shellString。 </p><p>var str = head（{＆＃39; -n＆＃39 ;: 1}，＆＃39;文件* .txt＆＃39;）; var str = head（＆＃39; file1＆＃39;，＆＃39; file2＆＃39;）; var str = head（[＆＃39; file1＆＃39;，＆＃39; file2＆＃39;]; //与上述相同</p><p>       将源链接到dest。使用-f强制链接，应该是distexist。返回ShellString指示成功orfailure。</p><p>    -l：列出表示每个文件的对象，每个文件都包含包含LS -L输出字段的字段。请参阅fs.stats更多信息</p><p>  ls（＆＃39; projs / *。js＆＃39;）; ls（＆＃39; projs / ** / *。js＆＃39;）; //在Projs LS（＆＃39; -R＆＃39;，＆＃39; /用户/ me＆＃39;，＆＃39; / tmp＆＃39;在projs ls（＆＃39; -39; / me; / tmp＆＃39;）中查找所有JS文件。 ls（＆＃39; -r＆＃39; [＆＃39; /用户/ me＆＃39;，＆＃39; / tmp＆＃39;]）; //与上面相同（＆＃39; -L＆＃39;＆＃39; file.txt＆＃39;）; // {name：＆＃39; file.txt＆＃39 ;,模式：33188，nlink：1，...}</p><p> 如果没有提供路径，则返回给定路径中的所有文件的ShellString（具有数组类似的属性），或者如果没有提供路径，则在当前目录中的文件。</p><p>                              从文件，行按行中读取输入字符串，并使用给定的Search_Regex和替换字符串ORFunction执行从输入字符串的JavaScript replace（）oneAck行。更换后返回新的shellstring。</p><p>  像UNIX SED一样，ShellJS SED支持捕获组。捕获组被指定为$ n语法： </p><p>此外，像UNIX SED一样，ShellJS SED在输入文件中的每一行上运行替换（分开＆＃39; \ n＆＃39;），所以search_regexes跨越多行（或inlclude＆＃39; \ n＆＃ 39;）与任何东西不匹配，什么都不会被替换。</p><p>             返回文件的内容，按行排序为shellString。对多个文件进行排序混淆其内容（就像Unix排序一样）。</p><p>      var str =尾部（{＆＃39; -n＆＃39 ;: 1}，＆＃39;文件* .txt＆＃39;）; var str =尾部（＆＃39; file1＆＃39;，＆＃39; file2＆＃39;）; var str = tail（[＆＃39; file1＆＃39;＆＃39; file2＆＃39;]; //与上述相同</p><p>          if（测试（＆＃39; -d＆＃39; path））{/ *用dir * /}做点什么; if（！测试（＆＃39; -f＆＃39;路径））继续; //跳过它＆＃39;常规文件</p><p>     类似于重定向运营商＆gt;在UNIX中，但与贝尔特劳斯（如猫，Grep等）一起工作。与Unixredirections一样，to（）将覆盖任何现有文件！返回相同的shellstring这操作，以支持链接。</p><p>    类似于重定向和附录运算符＆gt;＆gt;在UNIX中，但与贝尔特劳斯（如猫，Grep等）一起工作。返回TheSame ShellString此操作，以支持链接。</p><p>       将每个文件的访问和修改时间更新到当前时间。除非提供-c，否则不会创建未存在的文件参数。这是触摸的部分实现（1）。返回shellstring，指示成功或失败。 </p><p>搜索系统和＃39; S路径中的命令。在Windows上，这将使用Pathext变量，如果它＆＃39; s尚未执行的，则使用pathage变量附加.rurns包含要命令的绝对路径的shellstring。</p><p>    如果在最后一个命令中发生错误，则测试。如果返回anerror或否则伪造值，则返回真实值。</p><p> 注意：不要依赖于此值是错误消息。如果您需要上次错误消息，则从最后一个命令＆＃39的返回值中usedhe .stderr属性。</p><p>    这是大多数shelljs方法返回的专用类型，该方法包装（或数组）值。这具有所有字符串（或数组）方法，Butalso公开了额外的方法：.to（），.toend（），以及所有的管道方法（例如.cat（），.cat（），.grep（）等）。这可以很容易地转换为呼叫.tostring（）。</p><p> 此类型还通过.stdout（string），.stderr（string）和.code（numbers）属性公开相应的命令和＃39; s stdout，stdout，andreturn状态代码。</p><p>     grep（＆＃39; foo＆＃39;＆＃39; file1.txt＆＃39;，＆＃39; file2.txt＆＃39;）。 SED（/ O / G，＆＃39; A＆＃39;）。 （＆＃39; output.txt＆＃39;）;回声（＆＃39;文件名称：\ n＆＃39; + ls（）。grep（＆＃39; o＆＃39;））;猫（＆＃39; test.js＆＃39;）。 Exec（＆＃39;节点＆＃39;）; // pipe to exec（）呼叫</p><p> 命令可以以管道状方式将其输出发送到另一个命令。 SED，Grep，Cat，EXEC，以及令人垂涎的管道上。管道可以被束缚。 </p><p>var sh =要求（＆＃39; shelljs＆＃39;）; var silentstate = sh。 配置。 沉默的 ; //保存旧的静音状态Sh。 配置。 沉默=真; / * ... * / sh。 配置。 沉默=沉秒; //恢复旧沉默状态  如果为true，则脚本将在任何shell.jscommand遇到错误时抛出JavaScript错误。 默认为false。 这是类似的烟草＆＃39; s set -e。  var shell =要求（＆＃39; shelljs＆＃39;）; //对shell.config进行更改，并执行文件... / * ... * / shell。 配置。 重启 （ ） ; //重置为原始状态//做更多的东西，但使用原始设置/ * ... * / </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/shelljs/shelljs">https://github.com/shelljs/shelljs</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/shell/">#shell</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/portable/">#portable</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/目录/">#目录</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1061253.html"><img src="http://img2.diglog.com/img/2021/5/thumb_069354ec72302164544a719d83475841.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1061253.html">shell脚本的javascript </a></div><span class="my_story_list_date">2021-5-7 14:57</span></div><div class="col-sm"><div><a target="_blank" href="/story/1053329.html"><img src="http://img2.diglog.com/img/2021/3/thumb_f50ada20a04bcae7805393a25debf969.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1053329.html">shellcheck：shell脚本的静态分析工具 </a></div><span class="my_story_list_date">2021-3-19 3:46</span></div><div class="col-sm"><div><a target="_blank" href="/story/1049801.html"><img src="http://img2.diglog.com/img/2021/2/thumb_071fb34c3bece8fe51fb17c13098a616.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1049801.html">具有对JSON，YAML，TOML，CSV等的本机支持的替代Shell。 </a></div><span class="my_story_list_date">2021-2-27 22:49</span></div><div class="col-sm"><div><a target="_blank" href="/story/1046436.html"><img src="http://img2.diglog.com/img/2021/1/thumb_5c9fe7d5c4b31f86a0f4cec6d580bce3.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1046436.html">Lisp中的Shell语言 </a></div><span class="my_story_list_date">2021-1-29 2:22</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>