<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>代码审查而不是代码审批</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">代码审查而不是代码审批</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-18 16:58:53</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/77603e98af8e217dccff4b9f4ff785c0.jpeg"><img src="http://img2.diglog.com/img/2020/10/77603e98af8e217dccff4b9f4ff785c0.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>In our brave new world of remote work, asynchronous methods of collaboration are especially important. When you are working in different locations, perhaps on different schedules, you need communication mediums that allow you to send a message and go on to something else. When someone on the other end of that message finds time, they will respond and quickly go on with  their own work. No one is blocked. The alternative would be intolerable. Waiting for responses that may not come for hours, or even days, before continuing your work would be a colossal waste of time. And being forced to stop whatever activity you are engaged in to immediately respond to incoming requests, all to avoid making someone wait, is equally problematic.</p><p>在我们美丽的远程工作新世界中，异步协作方法尤为重要。当你在不同的地点工作，可能是按照不同的时间表工作时，你需要通信媒介，让你可以发送信息，然后继续做其他的事情。当信息另一端的人找到时间时，他们会做出回应，并迅速地继续自己的工作。没有人被封锁。另一种选择将是无法容忍的。在继续工作之前，等待可能几个小时甚至几天都不会有的回复将是巨大的时间浪费。而且，为了避免让人等待而被迫停止你正在从事的任何活动以立即响应收到的请求，同样也是有问题的。</p><p> While there are times when you need information quickly and are truly blocked, if this is common, there are likely issues with how your project is being managed. Is your manager feeding you tasks, one after another, without giving necessary high-level direction? Is your engineering organization failing to collect on-boarding information into documentation that is available for reference when you get stuck? Whatever the reason, it is clear that people need the ability to work independently without having to continuously ask for guidance.</p><p>虽然有时您很快就需要信息并被真正阻止，但如果这种情况很常见，那么您的项目管理方式可能会有问题。你的经理是否在没有给你必要的高层指导的情况下，一项又一项地给你任务？您的工程组织是否未能将入职信息收集到文档中，以便在您遇到问题时可供参考？不管是什么原因，很明显，人们需要独立工作的能力，而不需要不断地寻求指导。</p><p> But assuming you are able to code independently most of the time and have good asynchronous ways to communicate with coworkers, there is still the issue of code reviews. If you really want to stick with an asynchronous working paradigm, then code reviews are totally backwards. When a piece of code is ready to deploy, it always gets stuck waiting for a code review. Progress comes to a screeching halt. Isn’t this a synchronous wait? Blocking the pipeline with a manual approval step? You may wait for days before someone can look it over. Sure you can work on some other project, but context switching is expensive. And when you are pushing forward with momentum on your highest priority item being stopped for a code review is about as wasteful as it gets. Efficiency experts shed tears over this kind of stuff. Even assuming that you could move forward on a secondary project, what happens when you finish another task and the first project’s task still hasn’t been approved? Do you work on a third project? At some point the madness must stop.</p><p>但是假设您能够在大部分时间独立编写代码，并且拥有良好的异步方式与同事通信，那么仍然存在代码审查的问题。如果您真的想坚持异步工作范例，那么代码审查完全是倒退的。当一段代码准备好部署时，它总是在等待代码审查时停滞不前。进展戛然而止。这不是同步等待吗？是否使用手动审批步骤阻塞管道？你可能要等几天才能让人检查一下。当然，您可以在其他项目中工作，但是上下文切换是昂贵的。当您在您最高优先级的项目上奋力推进时，停下来进行代码审查几乎是最浪费的。效率专家为这类事情流下了眼泪。即使假设您可以继续进行第二个项目，但如果您完成了另一个任务，而第一个项目的任务仍然没有获得批准，会发生什么呢？你在做第三个项目吗？在某种程度上，疯狂必须停止。</p><p> The real problem here is that code reviews are really not  reviews at all. The word r eview implies that something has been completed, and you are just looking it over — after the fact. What we do now should be called a code approval. Something is almost done (your scrum master will be quick to point out that nothing is ‘done’ until it is in production), and someone needs to check a box so it can move to completion. It is held up because it is hitting against a gatekeeper. If it were truly a  review, you could have pushed it up and been on your way. But instead, you are waiting for permission. You’re stopped, sitting on the side of the road, watching while your competitors run by.</p><p>这里真正的问题是，代码审查实际上根本不是审查。Reeview这个词的意思是某件事已经完成，你只是在事后过目。我们现在做的应该叫代码审批。有些事情即将完成(您的Scrum主管会很快指出，在投入生产之前什么都不是“完成”的)，需要有人勾选一个复选框，这样它才能进入完成阶段。它被拦住了，因为它撞到了守门人。如果这真的是一篇评论，你可能已经把它推高了，然后就上路了。但是相反，你在等待许可。你被拦住了，坐在路边，看着你的竞争对手从你身边跑过。</p><p> In an ideal world, you could deploy and then someone would immediately get a notification that there was new stuff to look at. Then, when they had a chance, when their brain wasn’t deep in another problem, they could look over it. In the meantime you can make progress on your next item.</p><p>在理想的情况下，您可以部署，然后有人会立即收到通知，说有新的东西需要查看。然后，当他们有机会时，当他们的大脑没有深入到另一个问题时，他们可以仔细检查一下。在此期间，你可以在你的下一个项目上取得进展。</p><p> I am aware that this would give some managers heartburn, but it needn’t. If something is broken in code that goes live, it can be fixed in a future commit (that will go up nice and quick since it doesn’t have to sit waiting for a review). If it is a serious issue, hopefully a basic smoke test would catch it and automatically roll it back. Truthfully, I would trust a test suite to catch a problem more than a human reviewer anyway. Wouldn’t time spent on reviews be better spent building more comprehensive tests anyway?</p><p>我知道这会让一些经理心烦意乱，但没必要。如果上线的代码中有什么问题，可以在未来的提交中修复(这将很快得到修复，因为它不必等待审查)。如果这是一个严重的问题，希望一个基本的烟雾测试能捕捉到它，并自动将其回滚。老实说，无论如何，我相信测试套件比人类审查者更能发现问题。不管怎样，花在复习上的时间用在构建更全面的测试上不是更好吗？</p><p> Have I convinced you? Are you ready to start doing actual code reviews and leave code approvals to the birds?</p><p>我说服你了吗？您准备好开始进行实际的代码审查了吗，把代码审批留给小鸟去做了吗？</p><p> A home for programming heretics. Just because you think differently doesn’t mean you’re wrong.</p><p>编程异端的家园。仅仅因为你的想法不同并不意味着你是错的。</p><p>  I have been programming for twenty years — and I still love it. But, I do have some opinions. Want to hear them?</p><p>我已经编程二十年了--我仍然很喜欢它。但是，我确实有一些看法。想听听吗？</p><p>  Our profession is increasingly constrained. But not every “best practice” applies to every situation. Iconoclastic Coder is a place to challenge the status quo of programming. To stretch past the hype and make coding more effective and most importantly — more fun!</p><p>我们的职业越来越受到限制。但并不是每种“最佳实践”都适用于每一种情况。打破传统的编码器是一个挑战编程现状的地方。超越炒作，让编码更有效，最重要的是让 - 更有趣！</p><p> I have been programming for twenty years — and I still love it. But, I do have some opinions. Want to hear them?</p><p>我已经编程二十年了--我仍然很喜欢它。但是，我确实有一些看法。想听听吗？</p><p> Our profession is increasingly constrained. But not every “best practice” applies to every situation. Iconoclastic Coder is a place to challenge the status quo of programming. To stretch past the hype and make coding more effective and most importantly — more fun!</p><p>我们的职业越来越受到限制。但并不是每种“最佳实践”都适用于每一种情况。打破传统的编码器是一个挑战编程现状的地方。超越炒作，让编码更有效，最重要的是让 - 更有趣！</p><p> Medium is an open platform where 170 million readers come to find insightful and dynamic thinking. Here, expert and undiscovered voices alike dive into the heart of any topic and bring new ideas to the surface.  Learn more</p><p>媒体是一个开放的平台，1.7亿读者来这里发现有洞察力和动态的思维。在这里，专家和未被发现的声音都会深入到任何话题的核心，并将新想法浮出水面。了解更多。</p><p> Follow the writers, publications, and topics that matter to you, and you’ll see them on your homepage and in your inbox.  Explore</p><p>关注对你来说重要的作家、出版物和话题，你会在你的主页和收件箱里看到它们。探索。</p><p> If you have a story to tell, knowledge to share, or a perspective to offer — welcome home. It’s easy and free to post your thinking on any topic.  Write on Medium</p><p>如果你有故事要讲，有知识要分享，或者有观点要提供-欢迎回家。在任何话题上发表你的想法都很容易，也很自由。在介质上写入</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://medium.com/iconoclastic-coder/code-reviews-not-code-approvals-437d9f010c7f">https://medium.com/iconoclastic-coder/code-reviews-not-code-approvals-437d9f010c7f</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/代码/">#代码</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/code/">#code</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>