<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我弄错的地方：类型</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">我弄错的地方：类型</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-09-27 16:28:33</div><div class="page_narrow text-break page_content"><p>假定受众：关心实际学习的人(在本例中，尤其是软件开发人员)。而且，我的妻子非常喜欢听我说，我错了。“😂。</p><p>认知状态：这些都是我目前认为我错了的地方。但我已经改变主意一次了，所以…。</p><p>至少在我的经验中，人们讨论他们过去错误的事情是相当罕见的。甚至当我们发帖子的时候，我也在想这个新东西！“。我们很少确切地说出我们改变主意的是什么。因此，在这个系列 - 中，作为我在这个网站 - 上公开学习建模的持续练习的一部分，我将深入挖掘目前我认为自己完全错了的事情。主题将从软件(就像今天一样)到神学，以及脑海中浮现的任何其他东西！</p><p>如果你在六七年前跟我谈过编程语言中的类型，你很快就会知道我不是一个迷。前几年我一直在Fortran和C中工作，外加了一点Java，我对类型的经验是它们增加了大量的管理费用，而且根本不会为自己买单。我使用的是Python和JavaScript，不会错过。所有的，即使在相当复杂的系统中也是如此。我一度告诉一位同事，我认为类型基本上一文不值。</p><p>2015年，这一切都改变了。那年春天，我在飞机上读到了“也许哈斯克尔”，大约两个月后，我遇到了铁锈，突然之间，我对类型有了非常不同的看法。毫不夸张地说，在这两个月的时间里，我职业生涯的整个轨迹发生了变化。从那时起，我运行了一个关于Rust的播客，其中包括大量关于类型理论的讨论，帮助引导整个子社区使用另一种类型编程语言(这现在是我日常工作的一部分)，并撰写了大量关于类型及其如何提供帮助的搞笑文章。</p><p>我理解为什么从2012年 - 2014年开始我认为类型一文不值。事实上，对于到那时为止我已经使用过的特定语言，我仍然认为这些类型并不真正值得。但我对更一般的类型系统有了很大的改变。一些类型系统可以在您可以编写的程序类型上产生实质性的差异，并且您从它们中获得的价值程度与您为获得该价值所付出的努力相比要高得多。</p><p>我不重视的类型系统和我现在使用 - 的类型系统之间的关键区别是：所有类型系统一文不值的想法和我目前认为一个好的类型系统等同于黄金 - 的观点之间的关键区别是：</p><p>类型推断：因为必须写出每种类型，无论多么明显，都是难以置信的浪费时间。人我=新人()；太荒谬了。Let me=new Person()；可能看起来是一个小小的改进，但是扩展到整个程序主体并推广到各种上下文意味着类型注释成为您使用的工具，因为它们是用于与他人通信的有用 - ，或者用于以特定方式约束程序的 - ，而不仅仅是因为编译器对您大喊大叫它应该非常清楚的事情。</p><p>SUM/TAG联合类型：因为我们在软件中解决的很多问题都归结为定义良好的选项：A、B或C，以及A、B和C中每一个对应的数据的离散选项。很多问题也不适合这个领域，但是足够了，缺少一个工具来表达它会让人感到痛苦。事实上，多年来我一直在尝试自己用C和Python语言构建SUM类型的方法，直到最终发现这个想法已经存在，围绕它的工具都是非常棒的…。用其他语言写的。具有对SUM类型的一流支持的语言也会对这些类型进行详尽的检查，这一事实更是锦上添花。这意味着我最终可以告诉电脑我的意思，让它检查我的 - ，也意味着如果我后来改变主意，我可以告诉电脑，让它告诉我需要更新假设的每个地方。</p><p>健全性：我厌倦了NULL和NullPointerException，并且unfined不是函数，TypeError：类型为&#39；NoneType&#39；的对象没有len()。但至少在非类型化语言中，我只能将这些错误归咎于我自己。让它们使用具有类型的语言是非常令人恼火的：为什么编译器不能告诉我我遗漏了一个可能为空的大小写？这个问题很普遍：无论我在类型上做了多少工作，编译器都无法告诉我我的程序是否真的遵循了我希望它遵循的规则。健康改变了这一切。这并不意味着我没有逻辑缺陷。(在一般情况下，没有什么能做到这一点！)。不过，这确实意味着经过类型检查的程序不会以类型检查器说不应该的方式崩溃。</p><p>这三个不同让我可以把文字变成思考的工具，也就是与其他程序员和计算机沟通的手段。它让我指定我想要保持为真的不变量，确保编译器会告诉我它们是否真的保持为真，并保证编译器不会只是在这方面对我撒谎。</p><p>类型并不完美。他们仍然有权衡之处。有些类型系统不值得这么做。但五年前，我改变了对类型系统总体价值的看法，因为我了解了以前不知道的类型系统。而且，至关重要的是，这教会了我在编程语言和软件开发中对思想的价值不那么教条。如果聪明人看到了一些东西的价值，而我没有，那很可能是我错过了一些东西，有什么东西可以从他们身上学到！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://v5.chriskrycho.com/journal/things-i-was-wrong-about/1-types/">https://v5.chriskrycho.com/journal/things-i-was-wrong-about/1-types/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/地方/">#地方</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/wrong/">#wrong</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/类型/">#类型</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1025733.html"><img src="http://img2.diglog.com/img/2020/9/thumb_aeaa2f42ad49696d9a78dd8b3ed7af80.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1025733.html">科维德横冲直撞的巴西城市可能是世界其他地方的哨兵</a></div><span class="my_story_list_date">2020-9-23 6:18</span></div><div class="col-sm"><div><a target="_blank" href="/story/1022684.html"><img src="http://img2.diglog.com/img/2020/9/thumb_5cb9de88dff19ba33472c177c62cc22e.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1022684.html">前软件工程师在自给自足的帆船上生活了10年</a></div><span class="my_story_list_date">2020-9-8 17:17</span></div><div class="col-sm"><div><a target="_blank" href="/story/1017777.html"><img src="http://img.diglog.com/img/2020/8/thumb_fbc2e391123408555e1c5c5a56d0800d.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1017777.html">在那里丢失的房屋中间并没有丢失</a></div><span class="my_story_list_date">2020-8-13 5:1</span></div><div class="col-sm"><div><a target="_blank" href="/story/1004799.html"><img src="http://img.diglog.com/img/2020/6/thumb_5cb9de88dff19ba33472c177c62cc22e.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1004799.html">在自给自足的帆船上生活了10年</a></div><span class="my_story_list_date">2020-6-2 14:0</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>