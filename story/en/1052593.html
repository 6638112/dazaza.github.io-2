<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>SD：我的脚本目录 Sd: My Script Directory</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Sd: My Script Directory<br/>SD：我的脚本目录 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-16 06:17:50</div><div class="page_narrow text-break page_content"><p>$ tree ~/sd/Users/ian/sd├── blog│   ├── preview│   └── publish├── book│   ├── open│   ├── pdf│   ├── progress│   └── typeset├── cat├── dim│   └── visualize├── edit├── git│   └── ugh├── help├── new├── nix│   ├── diff│   ├── info│   └── sync├── tmux│   ├── init│   └── restore└── which</p><p>$ tree〜/ sd / serues / ian /sd├─────────────────────── ── - 猫├──暗淡└──易感化├──edit├──────────────────────────── ─同步── - Tmux│├──init││──恢复└───哪个</p><p> sd is a command on my  PATH. It dispatches its arguments to my script directory.</p><p> SD是我的路径上的命令。它将其参数派代为我的脚本目录。</p><p>   This sounds like a dumb way to save myself having to type a few characters. Which it is. But it’s also  slightly more than that:</p><p>   这听起来像是一个愚蠢的方式来拯救自己必须键入几个字符。它是。但它也比这更大：</p><p>  sd has nice tab completion. That’s the only real difference between  sd and  ~/sd: those little descriptions of what the commands do.</p><p>  SD有很好的标签完成。这是SD和〜/ SD之间唯一的真正区别：这些命令所做的事情的描述很小。</p><p>  Those descriptions come from comments in the command files themselves, or from separate  command.help files (in case there is a lot to say, or the command is not a shell script).</p><p>  这些描述来自命令文件本身中的注释，或来自单独的命令.help文件（如果有很多可以说，或命令不是shell脚本）。</p><p> For example, in the demo above, I run  sd help nix sync, which ends up running  cat ~/sd/nix/sync.help. The first line is all that ends up in the completion menu, but the rest of the text is there in case I forget how a command works.</p><p> 例如，在上面的演示中，我运行SD帮助nix sync，最终运行cat〜/ sd / nix / sync.help。第一行最终在完成菜单中最终，但其中的其余文本是在我忘记命令的工作原理。</p><p>  I wrote  sd one afternoon when I couldn’t find a script I wanted in my  ~/bin. I knew it was there – and I knew what it did – but I couldn’t remember what I’d named it.</p><p>  我下午写了一个下午，当我在我的〜/ bin中找到一个脚本时，我会写一下。我知道它在那里 - 我知道它所做了什么 - 但我不记得我记得它的名字。 </p><p> I had close to a hundred different scripts in  ~/bin, all with names that made perfect sense when I added them:  visualize,  transplant,  deploy, etc.</p><p>我在〜/ bin中靠近百种不同的脚本，所有这些都是在添加它们时具有完全感觉的名称：可视化，移植，部署等。</p><p> I decided enough was enough, so I added a little structure, and  sd was born.</p><p> 我已经够了，所以我添加了一点结构，而SD出生。</p><p> It’s much easier to remember what commands do when they’re namespaced like this. And it’s much easier to remember how to use them when you write their usage down. I’ve used  sd ever since, and I don’t think I could go back to a flat  ~/bin.</p><p> 当他们命名为这样的命令时，更容易记住该命令。当您编写使用时，更容易记住如何使用它们。从那以后，我已经使用过SD，我认为我不能回到一个平坦的〜/ bin。</p><p> I only have a few  sd commands on my laptop, because I don’t find myself writing a lot of complicated scripts at home. But  sd was written for work, where I had dozens of helpers all neatly categorized by project or tool or domain. It was good.</p><p> 我的笔记本电脑上只有几个SD命令，因为我没有发现自己在家里写了很多复杂的剧本。但SD是为工作编写的，我有几十个助手由项目或工具或域名整齐地分类。这很好。</p><p>  It’s not really a thing. It’s more of an idea. You can implement it yourself in one sitting, if you want.</p><p>  这不是真的。这更像是一个想法。如果你愿意，你可以自己实施自己。</p><p> But of course you don’t want to figure out how to write your own shell completion. Shell completion is some arcane nonsense. You want me to have already done it. But here’s the thing: I only wrote  zsh completions because I only ever use  zsh interactively.</p><p> 但当然你不想弄清楚如何编写自己的shell完成。壳牌完成是一些奥术胡说。你要我已经完成了它。但这是事情：我只写了zsh完成，因为我只交互地使用zsh。</p><p> I’ve sometimes thought about rewriting  sd as something other than a pile of shell and publishing it and publicizing it and adding  bash support and what have you. But you know what? I probably won’t ever do that. But maybe someone else will, if they like the idea enough.  1</p><p> 我有时会考虑重写SD，以除了一堆外壳和发布它并宣传并添加Bash支持以及您有什么影响。但你知道吗？我可能不会那样做。但也许别人会，如果他们喜欢这个想法。 1 </p><p> You’re welcome to use my implementation, though, if you use  zsh. It works on macOS and Linux. It lives in  my dotfiles repo because I want it on every machine I use and I’m very lazy. See also  bin/completions/_sd and  sd-common/.  sd-common are the scripts like  which and  cat that must exist in  ~/sd or something will probably break ( I install them as symlinks to my dotfiles repo).</p><p>但是，欢迎使用我的实现，如果你使用ZSH。它适用于MacOS和Linux。它生活在我的dotfiles repo中，因为我想要它在我使用的每台机器上，我很懒惰。另请参见箱/完井/ _SD和SD-Common /。 SD-common是一种脚本，如〜/ sd中必须存在的脚本，或者可能会破裂（我将它们安装为符号链接到我的dotfiles repo）。</p><p> If you want completions to work, you have to add this in your  .zshrc file:</p><p> 如果要完成完成，则必须在您的.zshrc文件中添加它：</p><p>   One last note:  sd only looks for executables, so you can add non-executable helpers that you can  source from multiple scripts in the same directory. When  sd invokes a command,  $0 is the absolute path to the command, so you can use  dirname &#34;$0&#34; to get at your helpers. Like you’d expect.</p><p>   最后一个注意：SD只查找可执行文件，因此您可以添加来自同一目录中的多个脚本可以源的非可执行服务器。当SD调用命令时，$ 0是命令的绝对路径，所以您可以使用dirname＆＃34; $ 0＆＃34;到你的帮助者。就像你期望的那样。</p><p>  Being able to type  sd new foo command instead of  vim ~/bin/command, typing the shebang, trying to run it, realizing I forgot to make it executable, running it again&amp;mldr it’s made my life slightly better. And because it’s so easy to save snippets for later, I find that I’m much more likely to do it – and a lot less likely to find myself combing through  ctrl-r a few months later.</p><p>  能够键入sd new foo命令而不是vim〜/ bin /命令，键入shebang，试图运行它，实现我忘了使它可执行，再次运行它，并使mldr稍微使我的生活更好。因为它很容易拯救片段以后，我发现我更容易做到这一点 - 几个月后，很少可能发现自己梳理到Ctrl-R的可能性。</p><p> Otherwise it’s, you know, it’s not lifechanging. It won’t help you to appreciate the smaller beauties all around you. You’ll still wake up feeling groggy. Lately I’ve been using it to make user-friendly wrappers around  nix-env as part of my series on  How to Learn Nix, which has been nice.</p><p> 否则，你知道，它不是救生。它不会有助于你欣赏周围的较小的美女。你仍然会醒来感到悲恋。最近我一直在使用它来向NIX-ENV周围的用户友好的包装器作为我的系列的一部分，即如何学习NIX，这很好。</p><p>  Make  sd new support a  -- escape argument and treat the rest of the arguments as the script, for easily stashing onliners:  sd new foo bar -- echo foobar.</p><p>  使SD新的支持A  -  Escape参数并将其余的参数视为脚本，以便轻松藏在内：SD New Foo Bar  -  Echo Foobar。</p><p> Figure out how to share logic between  sd and the autocomplete script  _sd. Lotta copy-paste right now.</p><p> 弄清楚如何在SD和自动完成脚本_SD之间共享逻辑。现在洛斯复制粘贴。 </p><p> Some nice way to generate command completion for command arguments, instead of just for commands themselves.  Especially for commands like  sd cat and  sd edit which are much harder to use than they should be.</p><p>生成命令参数的命令完成的一些好方法，而不是仅用于命令本身。特别是对于像SD Cat和SD编辑的命令，它比应该更难使用。</p><p>  In the case that  $0 is not  sd, treat it as part of the script path, so you can make very lightweight command wrappers that work without having to type  sd. Basically  ln -s $(which sd) ~/bin/some-command, and then you can type  some-command foo instead of  sd some-command foo.</p><p>  在$ 0不是SD的情况下，将其视为脚本路径的一部分，因此您可以制作非常轻的命令包装，而无需键入SD。基本上是ln -s $（sd）〜/ bin / some-command，然后您可以键入一些命令foo而不是sd some-command foo。</p><p> Support  sd foo bar --help instead of  sd help foo bar, because it’s slightly annoying to reposition your cursor. But that’s kind of a whole can of worms. yes the real solution here is to not use shell and find some nice alternative that actually understands how command line arguments work but there really just isn’t you know it’s 2021 and biden is president and bash is still the only thing we have don’t talk to me about oil shell i know all about oil shell</p><p> 支持SD Foo Bar  -  Help而不是SD帮助Foo Bar，因为重新定位光标很烦人。但这是一件整个蠕虫。是的真实解决方案是不使用shell，找到一些不错的替代方案，实际上了解命令行如何工作，但真的只是你知道它是2021，拜登是总统，抨击仍然是我们没有的唯一事情与我谈谈油壳，我知道关于油壳的所有信息</p><p> But  sd is like a 95/20 situation. It’s pretty good even in its neglected, janky state. As long as you’re using  zsh.</p><p> 但SD就像一个95/20的情况。即使在被忽视的詹姆斯的状态下也很好。只要你正在使用ZSH。</p><p> If you do this, please tell me, so I can switch to your implementation.  ↩︎</p><p> 如果您这样做，请告诉我，所以我可以切换到您的实现。 ↩︎ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://ianthehenry.com/posts/sd-my-script-directory/">https://ianthehenry.com/posts/sd-my-script-directory/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/脚本/">#脚本</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/script/">#script</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/sd/">#sd</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012 - 2021 diglog.com </div></div></body></html>