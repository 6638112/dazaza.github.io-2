<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>保时捷分类器-以95%的准确率识别保时捷车型</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">保时捷分类器-以95%的准确率识别保时捷车型</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-29 10:30:56</div><div class="page_narrow text-break page_content"><p>使用Fastai-v3、pytorch和Gradient进行培训。使用resnet50，在NVIDIA Quadro P5000上进行培训。构建在坞站上，并托管在Microsoft Azure Web服务上。在包含30000款不同质量的保时捷车型的公开来源图像数据集上进行培训。保时捷汽车，特别是最新一代的Panamera/Taycan，Macan/Cayenne&Amp911/718对于一个不太关注的外行来说可能很难区分，这就是为什么我想测试这种深度学习模型会获得什么样的功能。</p><p>在本教程中，我们将了解如何通过Google Images轻松创建图像数据集。注意：对于任何你想用谷歌搜索的新类别，你都必须重复这些步骤(例如，一次针对狗，一次针对猫)。</p><p>转到谷歌图片，搜索你感兴趣的图片。你在谷歌搜索中越具体，搜索结果就越好，你需要做的手动修剪就越少。</p><p>向下滚动，直到您看到要下载的所有图像，或者直到您看到一个按钮，上面写着“显示更多结果”。您滚动过的所有图像现在都可以下载。要获取更多信息，请单击该按钮，然后继续滚动。Google Images最多显示700张图片。</p><p>将您想要排除的内容放入搜索查询中是一个好主意，例如，如果您正在搜索欧亚狼“canis lupus lupus”，那么排除其他变体可能是个好主意：</p><p>您还可以通过单击工具并从类型下拉列表中选择照片，将结果限制为仅显示照片。</p><p>现在，您必须在浏览器中运行一些Javascript代码，该代码将为您的数据集保存您想要的所有图像的URL。</p><p>在Google Chrome中，在Windows/Linux上按CtrlShiftj，在MacOS上按CmdOptj，会出现一个名为javascript“控制台”的小窗口。在Firefox中，按CtrlShiftk(Windows/Linux)或CmdOptk(MacOS)。这就是您将粘贴JavaScript命令的位置。</p><p>您需要获取每个图像的URL。在运行以下命令之前，您可能需要禁用广告拦截扩展(uBlock、AdBlockPlus等)。在Chrome中。否则，window.open()命令不起作用。然后，您可以运行以下命令：</p><p>为带标签的图像选择适当的名称。您可以多次运行这些步骤来创建不同的标签。</p><p>In[0]：Folder=&#39；718&#39；file=&#39；718.csv&#39；in[0]：Folder=&#39；911&#39；file=&#39；911.csv&#39；in[0]：Folder=&#39；cayenne&#39；file=&#39；cayenne.csv&#39；Folder=&#39；Macan&#39；file=&#39；macan.csv&#39；In[0]：Folder=&#39；taycan&#39；file=&#39；taycan.csv&#39；in[0]：Folder=&#39；Panamera&#39；file=&#39；panamera.csv&#39；</p><p>In[0]：path=path(&#39；data/Porsche&#39；)DEST=path/Folder dest.mkdir(Parents=True，Exist_ok=True)in[0]：path.ls()out[0]：[PosiPath(&#39；data/Porsche/Cayenne&#39；)，PosiPath(&#39；data/Porsche/panamera.csv&#39；)，PosiPath(&#39；data/Porsche/cayenne.csv&#39；)，PosixPath(&#39；data/Porsche/Panamera.csv&#39；)，PosixPath(&#39；data/Porsche/Panamenne.csv&#39；)，PosiPath(&#39；data/Porsche/Panamerne.csv&#39；)。)、PosiPath(&#39；data/Porsche/taycan&#39；)、PosiPath(&#39；data/Porsche/911.csv&#39；)、PosiPath(&#39；data/Porsche/taycan.csv&#39；)、PosiPath(&#39；data/Porsche/911&#39；)、PosiPath(&#39；data/Porsche/macan.csv&#39；)、PoSixPath(&#39；data/Porsche/718&#39；)、PoSixPath(&#39；data/Porsche/718&#39；)、PoSixPath(&#39；data/Porsche/718&#39；)、PoSixPath(&#39；data/Porsche/718&#39；)、PoSixPath(&#39；data/Porsche/718&#39；)。Data/Porsche/718.csv&#39；)，PosiPath(&#39；Data/Porsche/Macan&#39；)]。</p><p>最后，上传您的URL文件。您只需在工作目录中按“上载”并选择您的文件，然后为每个显示的文件单击“上载”即可。</p><p>Ast.ai有一个函数可以让您这样做。您只需指定URL文件名和目标文件夹，此功能将下载并保存所有可以打开的图像。如果在打开它们时出现问题，将不会保存它们。</p><p>让我们下载我们的图片吧！请注意，您可以选择要下载的最大图像数量。在这种情况下，我们不会下载所有URL。</p><p>在[0]：CLASS=[&#39；taycan&#39；，&#39；Panamera&#39；，&#39；Macan&39；，&#39；Cayenne&39；，&#39；718&#39；，&#39；911&#39；]in[0]：download_images(path/file，est，max_picts=500)in[0]：#如果下载有问题，请尝试使用`max_worker=0`查看异常：download_images(path/file，est，max_picks=20，max_worker=0)``然后我们可以移除所有可以&#39的镜像；T被打开：`python in[0]：对于类中的c：print(C)VERIFY_IMAGES(path/c，delete=True，max_size=500)taycan Panamera Macan cayenne 718 911`#查看数据``python in[0]：np随机.Seed(42)data=ImageDataBunch.from_Folder(path，train=&#34；.&#34；；，valid_pct=0.2，ds_tfms=get_transforms()，size=224，num_worker=4).Normalize(ImageNet_Stats)in[0]：#如果您已经清理了数据，请运行此单元格，而不是np.随机.Seed(42)data=ImageDataBunch.from_csv(path，Folder=&#34；.&#34；，Valid_pct=0.2，CSV_Labels=&#39；Cleaned.csv&#39；，DS_tfms=get_transforms()，size=224，num_worker=4).ize(ImageNet_Stats)``好！那么让我们看看我们的一些照片吧。``pythonIn[0]：data.classesOut[0]：[&#39；718&#39；，&#39；911&#39；，&#39；cayenne&39；，&#39；Macan&#39；，&#39；Panamera&#39；，&#39；taycan&#39；]in[0]：data.show_Batch(row=6，figsize=(7，8))in[0]：data.class，data.c，len(data.ran_ds)，len(data.valid_ds)out[0]：([&#39；718&#39；，&#39；911&#39；，&#39；cayenne&#39；，&#39；Macan&#39；，&#39；Panamera&#39；，&#39；taycan&#39；]，6,1920,480)</p><p>在[0]中：在[0]中学习.save(&#39；Stage-1&39；)在[0]中：在[0]：学习.lr_find()25.00%[1/4 00：12&lt；00：37]```pech|TRAIN_LOSS|VALID_LOSS|ERROR_RATE|TIME-|-0|0.196860|#na#|00：1283.33%[25/30 00：10&lt；00：02 0.6416]LR查找器完成后，键入{LELENER_NAME}.recorder.lot()查看图形。`in[0]：#如果绘图没有显示，请尝试给出开始和结束学习速率#learn.lr_find(start_LR=1e-5，end_lr=1e-1)Learning.recorder.lot()in[0]：Learning.fit_one_Cycle(2，max_LR=Slice(3e-5，3e-4))EPOCH TRAIN_LOSS VALID_LOSS ERROR_RATE TIME 0 0.280386 1.524914 0.372917 00：13 1 0.276844 1.312542 0.345833 00：13IN[0]：Learning.save(&#39；Stage-2&#39；)`#解释在[0]中：Learning.load(&#39；Stage-2&#39；)；在[0]中：interp=ClassficationInterpretation.From_learner(LEARN)in[0]：interp.lot_conflomy_Matrix()#清理升级由于我们的模型表现不佳，我们的一些最大损失不在此列。我们的数据集中有一些不应该出现的图像。使用来自fast ai.widgets的ImageCleaner小部件，我们可以修剪掉最大的损失，删除不属于我们的照片。[0]中的``：从fast ai.widgets import\*`首先需要从top_loses获取文件路径。我们可以使用.from_toplosses执行此操作。然后，我们将顶级损失指数和相应的数据集提供给ImageCleaner。请注意，该小部件不会直接从磁盘删除图像，但它将创建一个新的CSV文件Cleaned.csv，您可以从该文件中创建具有更正标签的新ImageDataBunch，以继续训练您的模型。[0]中的``：db=(ImageList.from_older(Path).plit_one().label_from_older().Transform(get_transforms()，size=224).database unch())in[0]：#如果您已经使用`From_toplosses`中的索引清理了数据，#请运行此单元格而不是前面的单元格以继续删除重复项。#否则，上一步的所有结果将被#新运行的`ImageCleaner`覆盖。DB=(ImageList.from_csv(路径，已清理.csv；，文件夹=。&#39；).Split_None().label_from_df().transform(get_transforms()，size=224).databunch())``然后我们创建一个新的学习者，以便对所有图像使用新的数据库。[0]中的``：Learning_cln=cnn_learner(db，model s.resnet50，metrics=error_rate)Learning_cln.load(&#39；Stage-2&39；)；in[0]：ds，idxs=DatasetForMatter().From_toplosses(Learning_Cln)in[0]：#Don&#39；不要在Google CoLab或任何其他运行jupyter实验室的实例中运行此命令。#如果您确实在Jupyter Lab上运行此程序，则需要重新启动运行时，并且包括所有本地变量的#运行时状态将会丢失。ImageCleaner(ds，idxs，path)`Hbox(Child=(Vbox(Child=(Image(Value=b&#39；\xff\xd8\xff\xe0\x00\x10JFIF\x00\x01\x00 d\x00d\x00\x00\xff…。BUTTON(BUTTON_STYLE=&#39；PRIMARY&#39；，Description=&#39；Next Batch&#39；，Layout=Layout(width=&#39；auto&#39；)，Style=ButtonStyle())通过单击&#39；删除&#39；标记要删除的照片。然后单击下一批以删除已标记的照片，并将其余照片保留在该行中。ImageCleaner将向您显示新的一行图像，直到没有更多图像可显示。在这种情况下，小部件将显示图像，直到top_losses.ImageCleaner(ds，idxs)中没有图像为止。您还可以在数据集中找到重复项并将其删除！要做到这一点，您需要运行.From_Similars来获取潜在的重复ID，然后在Duplicate=True的情况下运行ImageCleaner。API的工作方式与错误分类的映像类似：只需选择要删除的映像，然后单击下一批，直到没有其他映像。请确保重新创建数据库并从Cleaned.csv文件学习_CLN。否则，该文件将被从头开始覆盖，从而丢失从toploses中清除数据的所有结果。`在[100.00]中：ds，idxs=DatasetForMatter().From_Similars(LEARN_CLN)正在获取激活...100.00%[36/36 00：05&lt；00：00]计算相似性...在[0]中：图像清洗器(DS，IDX，PATH，DUPLICATES=TRUE)Hbox(子项=(子项=(映像(值=b&#39；\xff\xd8\xff\xe0\x00\x10JFIF\x00\x01\x00 d\x00 d\x00\x00\xff…。BUTTON(BUTTON_STYLE=&#39；PRIMARY&#39；，description=&#39；Next Batch&#39；，Layout=Layout(width=&#39；auto&#39；)，style=ButtonStyle())`记住从清理的.csv重新创建ImageDataBunch，以包括您在数据中所做的更改！#首先要将模型投入生产，让&#39；的导出Learner对象的内容用于生产：``In[0]：Lear.export()`这将创建一个名为&#39；export.pkl&#39；的文件。在我们工作的目录中，包含部署模型所需的所有内容(模型、权重，但也包含一些元数据，如使用的类或转换/规范化)。您可能希望使用CPU进行推理，除非是大规模的(而且您几乎肯定不需要&#</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.rkpblog.tech/2020/04/porsche-classifier/">https://www.rkpblog.tech/2020/04/porsche-classifier/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/保时捷/">#保时捷</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/porsche/">#porsche</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/图像/">#图像</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1029841.html"><img src="http://img2.diglog.com/img/2020/10/thumb_8b928c5a365a0a9e7d04e52530ee3289.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1029841.html">保时捷创造了一辆巨大的电动汽车充电车，一次可以给10辆保时捷泰康充电</a></div><span class="my_story_list_date">2020-10-20 0:13</span></div><div class="col-sm"><div><a target="_blank" href="/story/1028403.html"><img src="http://img2.diglog.com/img/2020/10/thumb_0609017483da616af374dc15c200af0c.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1028403.html">法拉利在升级过程中被砖封，因为在地下没有移动接收</a></div><span class="my_story_list_date">2020-10-13 19:54</span></div><div class="col-sm"><div><a target="_blank" href="/story/1025422.html"><img src="http://img2.diglog.com/img/2020/9/thumb_3fcf7de7c0a36b8dc7672a877817cbfd.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1025422.html">这款保时捷插电式SUV是一种昂贵的轮式Dayglo抗抑郁剂。</a></div><span class="my_story_list_date">2020-9-22 3:5</span></div><div class="col-sm"><div><a target="_blank" href="/story/1024355.html"><img src="http://img2.diglog.com/img/2020/9/thumb_b37d078107a4c0c5520223fc11831f79.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1024355.html">
趁你可以的时候，抢购一张价值50美元的TC Sessions：Mobility 2020的学生通行证</a></div><span class="my_story_list_date">2020-9-17 1:42</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>