<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Cerulean：适用于Matrix的实验性微博客应用 Cerulean: Experimental micro-blogging app for Matrix</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Cerulean: Experimental micro-blogging app for Matrix<br/>Cerulean：适用于Matrix的实验性微博客应用 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-18 23:21:59</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/1efb9d22cd8bdf56d1e85ee4d3b25667.png"><img src="http://img2.diglog.com/img/2020/12/1efb9d22cd8bdf56d1e85ee4d3b25667.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Alongside all the normal business-as-usual Matrix stuff, we’ve found some time to do a mad science experiment over the last few weeks - to test the question: “Is it possible to build a serious Twitter-style decentralised microblogging app using Matrix?”</p><p>除了所有常规的“一切照旧”矩阵材料外，我们还花了一些时间在过去几周内进行了疯狂的科学实验-测试问题：“是否有可能使用以下方法构建一个严肃的Twitter式分散式微博应用程序：矩阵？”</p><p> It turns out the answer is a firm “yes” - and as a result we’d like to present a  very early sneak preview of  Cerulean: a highly experimental new microblogging app for Matrix, complete with first-class support for arbitrarily nested threading, with both Twitter-style (“vertical”) and HN/Reddit-style (“horizontal”) layout… and mobile web support!</p><p> 事实证明答案是肯定的-是，因此，我们希望展示Cerulean的早期预览：针对Matrix的高度试验性的新微博应用程序，并具有对任意嵌套线程的一流支持，同时具有Twitter风格（“垂直”）和HN / Reddit风格（“水平”）布局……以及移动网络支持！</p><p>   It’s (currently)  a very minimal javascript app - only 2,500 lines of code.</p><p>   （目前）这是一个非常少的javascript应用-仅2500行代码。</p><p>  It relies on  MSC2836: Threading - our highly experimental Matrix Spec Change to extend relationships (as used by reaction &amp; edit aggregations) to support free-form arbitrary depth threading.</p><p>  它依赖于MSC2836：线程处理-我们高度试验性的Matrix Spec Change来扩展关系（如反应和编辑聚合所使用的）以支持自由格式的任意深度线程处理。</p><p> As such,  it only works on Dendrite, as that’s where we’ve been experimenting with implementing MSC2836. (We’re now running an  official public Dendrite server instance at dendrite.matrix.org though, which makes it easy to test - and our test Cerulean instance  https://cerulean.matrix.org points at it by default).</p><p> 因此，它仅适用于Dendrite，因为我们一直在尝试实施MSC2836。 （不过，我们现在在dendrite.matrix.org上运行一个官方的公共Dendrite服务器实例，这使其易于测试-并且我们的测试Cerulean实例https://cerulean.matrix.org默认指向该实例）。</p><p> This is  very much a proof of concept. We’re releasing it today as a sneak preview so that intrepid Matrix experimenters can play with it, and to open up the project for contributions! (PRs welcome - it should be dead easy to hack on!). Also, we give no guarantees about data durability: both Cerulean and dendrite.matrix.org are highly experimental; do not trust them yet with important data; we reserve the right to delete it all while we iterate on the design.</p><p> 这在很大程度上证明了这一点。我们今天将其作为预览版发布，以便强大的Matrix实验人员可以使用它，并开放该项目进行贡献！ （欢迎PRs-它应该很容易被黑客入侵！）。另外，我们也不保证数据的持久性：Cerulean和dendrite.matrix.org都是高度实验性的；尚不信任他们的重要数据；我们保留在迭代设计时将其全部删除的权利。</p><p>  So for the first cut, we’ve implemented the minimal features to make this something you can just about use and play with for real :)</p><p>  因此，对于第一次剪切，我们已经实现了最小的功能，使您可以真正使用它并真正使用它：) </p><p> Live updating (It’s Matrix, after all! We’ve disabled it for guests though.)</p><p>实时更新（毕竟是Matrix！不过我们已为访客禁用了它。）</p><p>   Twitter-style “Vertical” threading (replies form a column; you indent when someone forks the conversation)</p><p>   Twitter风格的“垂直”线程（答复形成一列；在有人分叉对话时缩进）</p><p>   Guest support (slightly faked with non-guest users, as Dendrite’s guest support isn’t finished yet)</p><p>   来宾支持（由于Dendrite的来宾支持尚未完成，因此非来宾用户略有假冒）</p><p> Obviously, there’s a huge amount of stuff needed for parity with a proper Twitter-style system:</p><p> 显然，使用适当的Twitter风格的系统进行平价交易需要大量的东西：</p><p> Configurable follows. Currently the act of viewing someone’s timeline automatically follows them. This is because Dendrite doesn’t peek over federation yet (but  it’s close), so you have to join a room to view its contents - and the act of viewing someone’s timeline room is how you follow them in Cerulean.</p><p> 可配置如下。目前，查看某人时间轴的行为会自动跟随他们。这是因为Dendrite尚未窥视联盟（但已经关闭），因此您必须加入一个房间来查看其内容-在Cerulean中，查看某人的时间轴房间的行为是如何跟踪它们。</p><p> Likes (i.e. plain old Matrix reactions, although we might need to finally sort out federating them as aggregations rather than individually, if people use them like they use them on Twitter!)</p><p> 喜欢（即简单的旧Matrix反应，尽管如果人们像在Twitter上一样使用它们，我们可能最终需要将它们作为聚合而不是单独地进行联合处理！）</p><p>     Mentions (we need to decide how to notify folks when they’re mentioned - perhaps Matrix’s push notifications should be extended to let you subscribe to keywords for public rooms you’re not actually in?)</p><p>     提及（我们需要确定在被提及时如何通知人们-也许应该扩展Matrix的推送通知，以便您订阅实际上不在的公共房间的关键字？） </p><p>  Search (again, just needs to be implemented in Dendrite - although how do you search beyond the data in your current homeserver? Folks are used to global search)</p><p>搜索（同样，只需要在Dendrite中实现-尽管您如何搜索当前家庭服务器中的数据之外的内容？人们习惯于全局搜索）</p><p>    Offline support? (if we were using a proper Matrix SDK, we’d hopefully get this for free, but currently Cerulean doesn’t store any state locally at all).</p><p>    离线支持？ （如果我们使用的是正确的Matrix SDK，希望可以免费获得，但目前Cerulean根本不在本地存储任何状态）。</p><p>  Every message you send using Cerulean goes into two Matrix rooms, dubbed the &#34;timeline&#34; room and the &#34;thread&#34; room. The &#34;timeline&#34; room (with an alias of  #@matthew:dendrite.matrix.org or whatever your matrix id is) is a room with all of your posts and no one else&#39;s. The &#34;thread&#34; room is a normal Matrix room which represents the message thread itself. Creating a new &#34;Post&#34; will create a new &#34;thread&#34; room. Replying to a post will join the existing &#34;thread&#34; room and send a message into that room. MSC2836 is used to handle threading of messages in the &#34;thread” room - the replies refer to their parent via an m.relationship field in the event.</p><p>  您使用Cerulean发送的每条消息都会进入两个Matrix会议室，称为“时间轴”。房间和＆＃34;线程＆＃34;房间。时间轴＆＃34;会议室（别名为＃@ matthew：dendrite.matrix.org或您的矩阵ID是什么）是一个会议室，其中包含您所有的帖子，没有其他人。 ＆＃34;线程＆＃34; room是一个普通的Matrix房间，代表消息线程本身。创建一个新的＆＃34; Post＆＃34;将创建一个新的＆＃34; thread＆＃34;房间。回复帖子将加入现有的＆＃34; thread＆＃34;房间并将消息发送到那个房间。 MSC2836用于在“线程”空间中处理消息的线程-事件中，回复通过m.relationship字段引用其父级。</p><p> These semantics play nicely with existing Matrix clients, who will see one room per thread and a flattened chronological view of the thread itself (unless the client natively supports MSC2836, but none do yet apart from Cerulean). However, as Cerulean only navigates threaded messages with an m.reference relationship (eg it only ever uses the new /event_relationships API rather than /messages to pull in history),  normal messages sent by Matrix into a thread or timeline room will not yet show up in Cerulean.</p><p> 这些语义在现有的Matrix客户端上可以很好地发挥作用，每个客户端将看到一个房间一个房间，并且可以看到线程本身的时序视图（除非该客户端本身支持MSC2836，但除了Cerulean之外，没有其他支持）。但是，由于Cerulean仅导航具有m.reference关系的线程消息（例如，它仅使用新的/ event_relationships API而不是/ messages来获取历史记录），因此Matrix发送到线程或时间轴空间的普通消息仍不会显示在Cerulean。</p><p> In this initial version, Cerulean literally posts the message twice into both rooms - but we’re also experimenting with the idea of adding “symlinks” to Matrix, letting the canonical version of the event be in the timeline room, and then the instance of the event in the thread room be a ‘symlink’ to the one in the timeline. This means that the threading metadata could be structured in the thread room, and let the user do things like turn their timeline private (or vice versa) without impacting the threading metadata. We could also add an API to both post to timeline and symlink into a thread in one fell swoop, rather than manually sending two events. It’d look something like this:</p><p> 在此初始版本中，Cerulean从字面上将消息两次发布到两个房间中-但我们还尝试了向Matrix添加“符号链接”的想法，使事件的规范版本位于时间轴房间中，然后是线程室中的事件是与时间轴中的事件的“符号链接”。这意味着线程元数据可以在线程室中进行结构化，并允许用户执行诸如将其时间线设为私有（反之亦然）之类的事情而不会影响线程元数据。我们还可以添加一个API来将其发布到时间轴并一次链接到一个线程中，而不是手动发送两个事件。看起来像这样：</p><p>  We also experimented with cross-room threading (letting Bob’s timeline messages directly respond to Alice’s timeline messages and vice versa), but it posed some nasty problems - for instance, to find out what cross-room replies a message has, you’d need to store forward references somehow which the replier would need permission to create. Also, if you didn’t have access to view the remote room, the thread would break. So we’ve punted cross-room threading to a later MSC for now.</p><p>  我们还进行了跨房间线程的实验（让Bob的时间轴消息直接响应Alice的时间线消息，反之亦然），但是它带来了一些麻烦的问题-例如，找出跨房间回复消息的方式，您需要以某种方式存储转发引用，转发者需要获得许可才能创建转发引用。另外，如果您无权查看远程会议室，则该线程会中断。因此，我们现在将跨房间线程插入到后来的MSC。</p><p> Needless to say, once we’re happy with how threading works at the protocol level, we’ll be looking at getting it into the UX of Element and mainstream Matrix chat clients too!</p><p> 不用说，一旦我们对线程在协议级别的工作方式感到满意，我们就会考虑将其引入Element的UX和主流Matrix聊天客户端中！ </p><p>  Cerulean is very much a test jig for new ideas (e.g. threading, timeline rooms, peeking), and we’re taking the opportunity to also use it as an experiment for our first forays into publishing and subscribing to reputation greylists; giving users the option to filter out content by default they might not want to see… but doing so on their own terms by subscribing to whatever reputation feed they prefer, while clearly visualising the filtering being applied. In other words, this is the first concrete experimental implementation of the work proposed in the second half of  Combating Abuse in Matrix without Backdoors. This is super early days, and we haven’t even published a proto-MSC for the event format being used, but if you’re particularly interested in this domain it’s easy enough to figure out - just head over to  #nsfw:dendrite.matrix.org (warning: not actually NSFW, yet) and look in /devtools to see what’s going on.</p><p>Cerulean非常适合测试新想法（例如线程，时间轴空间，偷看），我们也借此机会将其作为实验，首次尝试发布和订阅声誉白名单；为用户提供默认情况下可能不希望看到的内容过滤选项，但是可以通过订阅自己喜欢的信誉供稿，并根据自己的意愿进行过滤，同时清楚地看到要应用的过滤。换句话说，这是在“打击无后门矩阵中的滥用行为”的后半部分中提出的工作的第一个具体实验实施。这是超级早期，我们甚至还没有发布用于所使用事件格式的proto-MSC，但是如果您对该领域特别感兴趣，那么就很容易弄清楚-只需转到#nsfw：dendrite。 matrix.org（警告：实际上还不是NSFW），并查看/ devtools以查看发生了什么。</p><p> So, there you have it - further evidence that Matrix is not just for Chat, and a hopefully intriguing taste of the shape of things to come! Please check out the demo at  https://cerulean.matrix.org or try playing with your own from  https://github.com/matrix-org/cerulean, and then head over to  #cerulean:matrix.org and let us know what you think! :)</p><p> 因此，您已掌握了它-进一步的证据表明，Matrix不仅适用于聊天，而且对即将到来的事物的形状具有令人着迷的希望！请在https://cerulean.matrix.org上查看演示，或尝试从https://github.com/matrix-org/cerulean自己玩，然后转到#cerulean：matrix.org，让我们知道你的想法！ :) </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://matrix.org/blog/2020/12/18/introducing-cerulean">https://matrix.org/blog/2020/12/18/introducing-cerulean</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/适用/">#适用</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/线程/">#线程</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>