<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Pinebook Pro Arch Linux替代品 Pinebook Pro Arch Linux Alternative</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Pinebook Pro Arch Linux Alternative<br/>Pinebook Pro Arch Linux替代品 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-15 07:35:53</div><div class="page_narrow text-break page_content"><p>In a  previous post I talked a bit about setting up Arch Linux on the Pinebook Pro. That process relied on using a third-party  pacman repo for the Pinebook Pro specific build and driver stuff which has disappeared and seems to be  no longer maintained. As there’s still no official  Arch Linux ARM Pinebook Pro support, I’ve decided that the next best thing is to use official Manjaro images to get as close to my familiar Arch Linux setup as I can. It’s not perfect (because it’s not Arch), but Manjaro is based on top of Arch Linux and it’s easier than the hoops you have to jump through to actually get Arch on the Pinebook Pro. Here’s my guide in which I detail the steps I went through to achieve the following goals:</p><p>在上一篇文章中，我谈到了在Pinebook Pro上设置Arch Linux。这一过程依赖于使用第三方Pacman Repo用于Pinebook Pro特定的构建和驱动程序，这些版本已经消失，似乎不再维护。由于仍然没有官方拱门Linux Arm Pinebook Pro支持，我决定下一个最好的东西是使用官方Manjaro图像，以便尽可能地接近我熟悉的Arch Linux安装。这并不完美（因为它不是拱门），但Manjaro基于Arch Linux的顶部，它比篮球更容易，你必须跳到实际上在Pinebook Pro上获取拱门。这是我的指南，我详细介绍了我通过的步骤来实现以下目标：</p><p>  I take no responsibility for anything good or bad that happens as a result of following this guide. If you manage to brick your Pinebook Pro and think I’m somehow to blame, you can shoot me a nasty email. It’s OK, I won’t hold it against you. But I probably won’t reply. Make sure you’re plugged into a power outlet before starting this, because it takes a while, and running out of juice midway may leave your Pinebook Pro in an…  interesting state.</p><p>  由于遵循本指南，我对任何好的或坏的任何事情都不负责。如果你设法砖头，并认为我不知何故责备，你可以拍我一个令人讨厌的电子邮件。没关系，我不会抓住你。但我可能不会回复。确保您在开始此之前插入电源插座，因为需要一段时间，并且中间汁液中的果汁可能会使您的Pinebook Pro留在...有趣状态。</p><p>  I downloaded the  Pinebook Pro Minimal Manjaro image. This is a base install that doesn’t include any window managers or even xorg. You could pick one of the other images too if you wanted, but we’re only using it to perform the installation so it makes sense to optimize for the smallest possible size.</p><p>  我下载了pinebook pro manjaro图像。这是一个基本安装，不包括任何窗口管理器甚至Xorg。如果您想要，您也可以选择其中一个图像，但我们只使用它来执行安装，以便优化最小可能的大小是有意义的。</p><p> It’s an  xz archive, so decompress it and write it to an SD card. Replace the  /dev/some/device with the path to the actual SD card you want to write the image to (be careful not to wipe something important unintentionally). Might need  sudo to do the  dd command depending on your setup.</p><p> 这是一个xz存档，所以解压缩并将其写入SD卡。用要将图像写入的实际SD卡的路径替换/ dev / some / device（注意不要无意中擦除重要的东西）。可能需要sudo根据您的设置执行DD命令。</p><p>   Stick the SD card into your Pinebook Pro and power it on. It should boot automatically without having to press any keys or anything. Once you’re in you’ll select what kind of keyboard your Pinebook Pro has, enter a username, password, timezone info, stuff like that. These are the settings that your SD card is using, not necessarily what you’ll be installing onto the Pinebook Pro. When you’re done you might have to wait a bit while it resizes the partition to fill your SD card, and it’ll reboot itself when done.</p><p>   将SD卡粘到您的PineBook Pro并启动它。它应该自动启动，而无需按任何键或任何内容。一旦您进入您选择您的Pinebook Pro的键盘，请输入用户名，密码，时区信息，类似的东西。这些是您的SD卡正在使用的设置，不一定将安装到Pinebook Pro上的内容。当您完成时，您可能必须等待一下，而在调整分区大小以填充SD卡时，它将在完成后重启。</p><p>  Once it’s done you should be able to log in using the username and password from step one, and be sitting at a shell prompt. I did a  sudo loadkeys dvorak here because I’m a non-qwerty-boi. Then I set up my wifi connection thusly (as non-root):</p><p>  一旦完成，您应该能够使用从步骤1中的用户名和密码登录，并坐在shell提示符处。我在这里做了一个sudo loadkeys dvorak，因为我是一个非qwerty-boi。然后我依次设置了我的WiFi连接（作为非根）：</p><p>  Obviously put your own wifi SSID and password in at the prompts. If you don’t see any messages you can probably assume it worked, but if you want to check, type  station wlan0 show and you should see that you’re connected to your wifi. Then type  exit to get back to the shell.</p><p>  显然将您自己的WiFi SSID和密码放在提示。如果您没有看到任何邮件，您可能会假设它的工作，但如果要检查，则键入WLAN0 Show，您应该看到您连接到您的WiFi。然后键入退出以返回shell。 </p><p> At this point I did a  sudo pacman -Syyu to update my SD card, but I don’t really know why—probably just force of habit, and I love watching those beautiful ASCII progress bars. If you’re following this guide, this may be a required step, because if your SD card image was too far out of date, then the next step where we install the Manjaro installer with  pacman may fail. I also edited  /etc/vconsole.conf to load my Dvorak keymap on the SD card by default. You can probably ignore that.</p><p>此时我做了一个sudo pacman -syyu来更新我的SD卡，但我真的不知道为什么 - 可能只是习惯的力量，我喜欢看那些美丽的ASCII进步酒吧。如果您在本指南之后，这可能是必填步骤，因为如果您的SD卡图像过于过时，那么我们将使用Pacman安装Manjaro安装程序的下一步可能会失败。我还编辑了/etc/vconsole.conf以默认在SD卡上加载我的Dvorak键映射。你可能会忽略这一点。</p><p>   I didn’t want to just flash one of the pre-built Manjaro images to my eMMC, because that method doesn’t support full disk encryption. Instead I decided to use the  manjaro-arm-installer package. I installed it with  pacman like this:</p><p>   我不想只是将一个预先构建的manjaro图像闪现到我的emmc，因为该方法不支持全磁盘加密。相反，我决定使用Manjaro-Arm安装程序包。我用这样的Pacman安装了它：</p><p>  The instructions then say you need to reboot. I was skeptical, but did it anyway just to be safe:</p><p>  然后说明说您需要重新启动。我持怀疑态度，但无论如何只是为了安全：</p><p>   For some reason, my Pinebook Pro was mounting the boot partition off the eMMC instead of the one on the SD card, so I unmounted it first. You may not need to do this:</p><p>   由于某种原因，我的Pinebook Pro正在将启动分区从EMMC安装，而不是SD卡上的一个，所以我先卸下它。您可能不需要这样做：</p><p>    From the menus that followed I selected Pinebook Pro (obviously), Minimal Edition, and then entered the same information that I initially did during the SD setup (username, password, etc.). When asked to choose the installation media, I chose  mmcblk2, since that’s my Pinebook Pro’s internal eMMC storage. Make sure to heed the warning that any existing data will be completely destroyed.</p><p>    从遵循的菜单中，我选择了Pinebook Pro（显然），最小的版本，然后输入了在SD设置（用户名，密码等）期间最初执行的相同信息。当被要求选择安装媒体时，我选择了MMCBLK2，因为这是我的Pinebook Pro的内部EMMC存储。确保注意任何现有数据都将完全销毁。</p><p> For the filesystem I chose  ext4, and I selected  Yes when asked if I wanted the  “Experimental!” encrypted root partition. Oh boy! This was followed by selecting a few other things (including timezone, keyboard layout, and the  correct locale this time— en_US.UTF-8 el estúpido burro!). After confirming my selections, the installer started doing stuff.</p><p> 对于文件系统，我选择了Ext4，当我被问及我是否想要“实验！”时选择是的。加密的根分区。好家伙！这是选择其他一些东西（包括TimeZone，键盘布局，以及此时的正确区域设置-NE_US.UTF-8 ELEstúpido驴！）。确认我的选择后，安装程序开始做事。</p><p>   I stuck my fingers in my ears and said “LA LA LA” and pretended not to see it. A bit of DuckDuckGoing seems to indicate it  is expected.</p><p>   我把我的手指放在我的耳朵里，并说“la la la”并假装不明白。一点鸭子似乎表明它是预期的。 </p><p> I was also prompted a couple times to set my full disk encryption password, and then the rest of this step involved watching more beautiful ASCII progress bars flashing across the screen.</p><p>我也被提示了一些时间来设置我的全磁盘加密密码，然后涉及观看更多屏幕上闪烁的更美丽的ASCII进度条。</p><p> Near the end after it did a system update and ran  mkinitcpio, there were some more errors, which I also pretended not to see:</p><p> 靠近结束后做了一个系统更新和Ran Mkinitcpio，还有一些更多的错误，我也假装不看：</p><p> ==&gt; ERROR: module not found: `i2c_hid&#39; ==&gt; Generating module dependencies ==&gt; WARNING: errors were encountered during the build. The image may not be complete. error: command failed to execute correctly</p><p> ==＆gt;错误：未找到模块：`i2c_hid＆＃39; ==＆gt;生成模块依赖项==＆gt;警告：在构建过程中遇到错误。图像可能无法完成。错误：命令无法正确执行</p><p>  From here I ran  sudo poweroff, removed the SD card, and powered the Pinebook Pro back on. I saw some semi-concerning prompts about bad CRCs, but my fingers were still in my ears and I was well into another verse of “LA LA LA,” so it was cool. Despite all that, I was prompted for my encryption password, which I entered, and then got to log in.</p><p>  从这里，我ran sudo poweroff，删除了SD卡，然后为Pinebook Pro供电。我看到一些关于糟糕的CRC的提示，但我的手指仍然在我耳边，我进入另一节“拉拉洛杉矶”的诗句，所以它很酷。尽管如此，我被提示我输入了我输入的加密密码，然后必须登录。</p><p> At this point you’ll want to connect to wifi again, which I did by repeating the  iwctl stuff from step two. I also did another  sudo pacman -Syyu to update my new Manjaro installation, but it didn’t do anything (I think the installer did that for me already).</p><p> 此时，您将想再次连接到WiFi，我通过重复来自第二步的IWCTL的IWCTL。我也做了另一个sudo pacman -syyu来更新我的新曼杰罗的安装，但它没有做任何事情（我认为安装人员已经为我做过了）。</p><p> Now, I’ll be completely honest here. I don’t really understand the next two steps. I cobbled them together from various sources and they seemed to fix some things, so I’m presenting them here as-is. The first is to get rid of the  i2c_hid error when running  mkinitcpio. I edited the file  /etc/mkinitcpio.conf and removed  i2c-hid from the  MODULES list, then ran  sudo mkinitcpio -P. It completed without errors. I don’t know why that module is in there to begin with, what it is, or why it’s missing. My guess is it’s something that got rolled into the mainline kernel so isn’t needed as an external module anymore, but I could be way off. Maybe you didn’t see any errors like that during the install, in which case don’t bother doing anything.</p><p> 现在，我会在这里完全诚实。我真的不明白接下来的两个步骤。我将他们从各种来源汇集在一起​​，他们似乎修复了一些东西，所以我就像是一样的。第一个是在运行mkinitcpio时摆脱i2c_hid错误。我编辑了文件/etc/mkinitcpio.conf并从模块列表中删除了i2c-hid，然后ran sudo mkinitcpio -p。它没有错误完成。我不知道为什么该模块在那里开始，它是什么，或者为什么它缺失。我的猜测是它的东西被卷入主线内核，所以不再需要作为外部模块，但我可能会离开。也许在安装期间没有看到任何错误，在这种情况下，在这种情况下不要打扰任何事情。</p><p> The next step I don’t understand is to get rid of the weird CRC errors at boot time. To do that I replaced the stock  uboot with the  bsp one. I don’t know what that means, or what the consequences are (aside from fixing the boot messages), but this is how I did it:</p><p> 我不明白的下一步是在启动时摆脱奇怪的CRC错误。要做到，我用BSP替换股票Uboot。我不知道这意味着什么，或后果是什么（除了修复引导消息），但这是我的方式： </p><p> pacman -S uboot-pinebookpro-bsp dd if=/boot/idbloader.img of=/dev/mmcblk2 seek=64 conv=notrunc dd if=/boot/uboot.img of=/dev/mmcblk2 seek=16384 conv=notrunc dd if=/boot/trust.img of=/dev/mmcblk2 seek=24576 conv=notrunc</p><p>pacman -s uboot-pinebookpro-bsp dd if = / boot / idbloader.img = / dev / mmcblk2 seek = 64 conv = notrunc dd if = / boot / uboot.img = / dev / mmcblk2 seek = 16384 conv = notrunc dd if = / boot / trust.img = / dev / mmcblk2 seek = 24576 conv = notrunc</p><p>  I updated my system to the  unstable Manjaro branch, which is closer to Arch Linux (the packages are synced from Arch multiple times a day). Read the  wiki to decide if that’s something you want to do:</p><p>  我将我的系统更新到不稳定的manjaro分支，距拱门Linux更靠近（一天多次从拱门同步）。阅读wiki来决定这是你想做的吗：</p><p>    plymouth is already installed on Manjaro, so I took some snippets from the Arch Linux  wiki to configure it. I edited  /etc/mkinitcpio.conf and added  plymouth to the  HOOKS after  base udev, and replaced  encrypt with  plymouth-encrypt. I left the  MODULES section alone. I also added  quiet splash vt.global_cursor_default=0 to the end of my  APPEND line in  /boot/extlinux/extlinux.conf. Upon rebooting, I was presented with the Manjaro splash screen and a graphical encryption password prompt.</p><p>    普利茅斯已经安装在Manjaro上，所以我从Arch Linux Wiki中拍了一些片段来配置它。我编辑了/etc/mkinitcpio.conf并在基础Udev后添加了填充钩子，并用普利茅斯加密替换加密。我单独离开模块部分。我还添加了安静的Splash vt.global_cursor_default = 0到我的附加行中的/boot/extlinux/extlinux.conf的末尾。重新启动后，我介绍了Manjaro Splash屏幕和图形加密密码提示。</p><p>   I’ve noticed that some time after booting I get the following error on the console:</p><p>   我注意到启动后的某个时间我在控制台上获得以下错误：</p><p>  I don’t know what that is or how to fix it yet. Everything seems to be working right now though, so my plan from here is to configure the system and install xorg and a window manager like normal. I’ll update this post if it turns out something is broken.</p><p>  我不知道这是什么或如何解决它。现在一切似乎都在运作，所以我的计划是从这里配置系统并安装Xorg和一个像普通的窗口管理器。如果事实证明，我会更新这篇文章。</p><p> Edit: After a bit more tweaking, here is the  mkinitcpio.conf file I’ve settled on, which seems to have cleared up some boot/shutdown errors I was seeing. I still get the  rockchipdrm error, but everything that I use seems to be working, so I’m not worrying about that one for now.</p><p> 编辑：经过一点调整后，这里是我解决的mkinitcpio.conf文件，似乎已经清除了一些我看到的引导/关闭错误。我仍然得到了Rockchipdrm错误，但我使用的一切似乎都在工作，所以我现在不担心那个。</p><p>  MODULES=(panfrost drm rockchipdrm drm_kms_helper hantro_vpu analogix_dp rockchip_rga panel_simple arc_uart cw2015_battery iscsi_boot_sysfs jsm pwm_bl rtc_rk808 uhid) BINARIES=() FILES=() HOOKS=(base udev plymouth keyboard autodetect keymap modconf block plymouth-encrypt lvm2 filesystems fsck) COMPRESSION=&#34;cat&#34;</p><p>  MODULES =（panfrost DRM rockchipdrm drm_kms_helper hantro_vpu analogix_dp rockchip_rga panel_simple arc_uart cw2015_battery iscsi_boot_sysfs JSM pwm_bl rtc_rk808 uhid）BINARIES =（）FILES =（）HOOKS =（碱udev的普利茅斯键盘自动检测键映射modconf块普利-加密LVM2文件系统的fsck）COMPRESSION =＆＃34 ;猫＆＃34; </p><p>   Note: This is a highly cleaned-up and euphemistic account of what was actually a much more harrowing experience. The true story involves soft-bricking my Pinebook Pro a couple times, slicing my fingers open on the razor-sharp edges of its back-panel when opening it to find the eMMC hardware switch, and a lot of swearing and alcohol consumption. I got it in the end though.</p><p>注意：这是一个高度清理的和委婉说法，其实际上是更加令人痛苦的经历。 真实的故事涉及软砖的我的Pinebook Pro几次，在打开它的剃刀锋利的边缘时，将手指打开，打开它以找到EMMC硬件开关，以及大量咒骂和饮酒。 我结束了。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://rudism.com/pinebook-pro-arch-linux-alternative/">https://rudism.com/pinebook-pro-arch-linux-alternative/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/pro/">#pro</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/安装/">#安装</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>