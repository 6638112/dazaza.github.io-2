<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>现代微服务目录</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">现代微服务目录</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-28 09:29:37</div><div class="page_narrow text-break page_content"><p>Organizations that operate microservices/service-oriented architecture face a variety of technical and people related problems. Over the past few years, companies have been migrating massive monolithic applications into smaller microservices (think services that do one thing, like  archive a pdf) or even service oriented architectures (e.g. service-per-domain,  payments, billing, auth).</p><p>运营微服务/面向服务体系结构的组织面临各种与技术和人员相关的问题。在过去的几年里，公司一直在将大规模的单一应用程序迁移到较小的微服务(想想做一件事的服务，比如归档PDF)，甚至是面向服务的架构(例如，按域服务、支付、计费、身份验证)。</p><p> There are undoubtedly many issues that come from monolithic architectures: easy to tightly couple domains and data, slower deployment process, and long test runs to name a few. Breaking the monolith can seem like a panacea for these issues. An SOA can provide team level ownership of domains and their systems, data is decoupled, and features/fixes can be deployed separately. Unfortunately, a SOA comes with its own set of issues.</p><p>毫无疑问，整体式架构带来了许多问题：容易将域和数据紧密耦合、部署过程较慢，以及长时间的测试运行，仅举几例。打破铁板一块似乎是解决这些问题的灵丹妙药。SOA可以提供对域及其系统的团队级别所有权，数据是分离的，功能/修复可以单独部署。不幸的是，SOA伴随着它自己的一组问题。</p><p> Monoliths have been around for a while. There&#39;s a lot that&#39;s been written about &#34;taming the monolith&#34;. As we get to work building Cortex, we&#39;ve been talking to engineers about their experiences dealing with microservice architectures. Here&#39;s some things we&#39;ve learned about taming your microservices.</p><p>巨石已经存在一段时间了。有很多关于驯服巨石的文章已经写过了。当我们开始构建Cortex时，我们一直在与工程师谈论他们处理微服务架构的经验。以下是我们在驯服你的微服务方面学到的一些东西。</p><p>  A monolith, for all its warts, is simple to reason about. There are no network calls. There&#39;s no overhead to calling a function elsewhere in the codebase. If you&#39;re using a typed language, you can catch API changes at compile time. All the code is in one place – if you&#39;re so inclined, you can easily peek under the hood.</p><p>一块巨石，尽管有很多缺点，但很容易推论。没有网络呼叫。在代码库中的其他地方调用函数不会产生任何开销。如果您使用的是类型化语言，则可以在编译时捕获API更改。所有的代码都在一个地方--如果你这么喜欢，你可以很容易地窥探引擎盖下的情况。</p><p> An SOA brings with it a suite of technical challenges, including operational complexity and performance hits. You now have to think about:</p><p>SOA带来了一系列技术挑战，包括操作复杂性和性能问题。您现在必须考虑：</p><p> API versioning - what if the payments team makes a breaking change to its API without notifying me?</p><p>API版本控制-如果支付团队在没有通知我的情况下对其API进行了重大更改怎么办？</p><p> Network issues - what happens if I don&#39;t receive confirmation that the payment went through?</p><p>网络问题-如果我没有收到付款已通过的确认，会发生什么情况？</p><p>   While it may sound strange to think that cultural and people problems are a significant challenge stemming from architectural choices, keep in mind that most organizations move to an SOA to scale their team, not their software.</p><p>虽然认为文化和人员问题是架构选择带来的重大挑战听起来可能有些奇怪，但请记住，大多数组织转向SOA是为了扩展他们的团队，而不是为了扩展他们的软件。</p><p> Distributing ownership of domains, data, and release cadence across services and teams can increase the velocity of your engineering org.</p><p>跨服务和团队分配域、数据和发布节奏的所有权可以提高工程组织的速度。</p><p> Unfortunately, distributing ownership does just that - teams start diverging in their operational procedures, documentation practices, and more. As an organization scales, this can wreak havoc on productivity, and ultimately bring your velocity back to square one.</p><p>不幸的是，分配所有权恰恰做到了这一点--团队在操作程序、文档实践等方面开始出现分歧。随着组织规模的扩大，这可能会严重影响工作效率，并最终将您的速度带回原点。</p><p>  Ramping up engineers becomes costly - each team maintains their own processes. An engineer moving between teams may have to learn as much as a brand new hire.</p><p>增加工程师的成本变得很高-每个团队都维护着自己的流程。在不同团队之间跳槽的工程师可能要学到和新员工一样多的东西。</p><p> Operational triage takes longer - tribal knowledge dissipates as an organization grows, making it harder to answer questions such as: what services exist, what they do, and who owns them</p><p>运营分类需要更长的时间-随着组织的发展，部落知识会逐渐消失，这使得回答以下问题变得更加困难：现有哪些服务，这些服务做什么，以及谁拥有这些服务。</p><p> Communication overhead between teams - oversharing information is noisy, undersharing (e.g. when making API changes) can, in the worst case, cause outages or functionality issues and directly impact the bottom line</p><p>团队之间的通信开销-过度共享信息很嘈杂，共享不足(例如，更改API时)在最坏的情况下可能会导致停机或功能问题，并直接影响底线。</p><p> Looking to scale your team? It&#39;s time to start thinking these challenges and how you can counter them.</p><p>希望扩大您的团队规模吗？现在是开始思考这些挑战以及如何应对它们的时候了。</p><p>  There&#39;s no silver bullet to solve these problems. No combination of tools or processes can protect you. However, prevention really is better than the cure.</p><p>没有解决这些问题的灵丹妙药。任何工具或流程的组合都不能保护您。然而，预防真的比治疗好。</p><p> Think of it like a flu shot - you know its flu season, getting the flu sucks, and even though you may still get the flu, you&#39;ll never regret setting yourself up for success.</p><p>把它想象成一针流感疫苗--你知道它是流感季节，得流感很糟糕，即使你可能仍然得了流感，你也永远不会后悔为成功做好准备。</p><p>  An excellent habit to promote is thinking about APIs and data models before jumping into the implementation.</p><p>要推广的一个很好的习惯是在进入实现之前考虑API和数据模型。</p><p>     One way to prevent this is following the Amazon model - APIs are the only way teams communicate. This means that a service owner should:</p><p>防止这种情况的一种方法是遵循亚马逊的模式-API是团队通信的唯一方式。这意味着服务所有者应该：</p><p>  This workflow provides additional benefits when used in conjunction with tooling, such as OpenAPI or gRPC. If schemas and APIs are designed ahead of time, you can use:</p><p>当与工具(如OpenAPI或GRPC)结合使用时，此工作流可提供额外的好处。如果提前设计了模式和API，您可以使用：</p><p> Use your code review process to loop in the right stakeholders  before a change is released</p><p>在更改发布之前，使用您的代码评审过程循环引入合适的涉众。</p><p>  Atlassian is an example of successfully using spec-first API design to improve their development lifecycle. I found   https://www.atlassian.com/blog/technology/spec-first-api-development to be an excellent overview of using OpenAPI as the tooling to enable spec-first development.</p><p>Atlassian是成功使用规范优先API设计来改进其开发生命周期的一个示例。我发现https://www.atlassian.com/blog/technology/spec-first-api-development是使用OpenAPI作为支持规范优先开发的工具的一个很好的概述。</p><p>  The breaking point for a monolith is when multiple teams start depending on the same data models across domains. This slows down the development cadence across the org and the resulting spaghetti data models make it exponentially more difficult to reason about the code base.</p><p>当多个团队开始跨域依赖相同的数据模型时，这是一个整体的转折点。这减慢了整个组织的开发节奏，由此产生的意大利面数据模型使得对代码库进行推理变得更加困难。</p><p> It&#39;s easy to go down the same route in an SOA as well. There are some habits that help prevent this nightmare:</p><p>在SOA中也很容易沿着相同的路线走下去。有一些习惯可以帮助防止这种噩梦：</p><p> Reducing dependencies at the data level between services - for example, store reference IDs to resources in a different service, and fetch data through their API</p><p>减少服务之间在数据级别的依赖性-例如，将引用ID存储到不同服务中的资源，并通过其API获取数据</p><p> Ensuring stakeholders (business, developers, service consumers) don&#39;t build tooling directly on your data. This locks in your data model and prevents you from iterating as a service owner. Instead, expose data (with its own contract) through APIs or analytical data streams.</p><p>确保利益相关者(业务、开发人员、服务消费者)不会直接在您的数据上构建工具。这会锁定您的数据模型，并阻止您作为服务所有者进行迭代。取而代之的是，通过API或分析数据流公开数据(具有其自己的约定)。</p><p>  There&#39;s one obvious solution to &#34;each team doing things their own way&#34; - make it easy for teams to do things in a standardized way.</p><p>对于每个团队都以自己的方式做事，有一个显而易见的解决方案--让团队以标准化的方式轻松做事。</p><p> Atlassian, for example, has built out an internal PaaS that is essentially a thin wrapper around AWS. By doing so, developers are provisioned their desired resources but the platform automatically augments it with standard monitoring, logging, and more.</p><p>例如，Atlassian已经建立了一个内部PaaS，本质上是对AWS的薄薄包装。通过这样做，开发人员可以获得他们想要的资源，但是平台会自动增加标准监控、日志记录等功能。</p><p> Well designed tooling that provides a standard way of doing things speeds up developer velocity and makes sure teams are working in consistent ways.</p><p>设计良好的工具提供了一种标准的工作方式，加快了开发人员的速度，并确保团队以一致的方式工作。</p><p> This even extends to documentation. Spotify and Atlassian have built internal tooling that standardizes information discovery around their microservices. System-Z at Spotify and   Microscope at Atlassian provide a source of truth for details about each service, such as system ownership, links to documentation/runbooks, and recent deploys. What makes them even more powerful is that they are the entrypoint into further information about services – on-call rotations, links to monitoring dashboards, logging, etc.</p><p>这甚至延伸到了文档。Spotify和Atlassian已经构建了内部工具，可以标准化围绕其微服务的信息发现。Spotify的System-Z和Atlassian的显微镜提供了有关每项服务的详细信息的真实来源，例如系统所有权、文档/Runbook的链接以及最近的部署。使它们变得更加强大的是，它们是进入有关服务待命轮换、监控仪表板链接、日志记录等进一步信息的入口点。</p><p>  This kind of standardization of information improves engineering ramp up time and operational efficiency - all services are operated in the same way and developers have a single source to look for critical information about their services.</p><p>这种信息标准化提高了工程上马时间和运营效率-所有服务都以相同的方式运行，开发人员有一个单一的来源来查找有关其服务的关键信息。</p><p>  Many organizations end up building an internal service registry for humans after the problem has gotten out of hand – too many services, growing teams and turnover, remote developers, etc.</p><p>在问题失控之后，许多组织最终为人类构建了内部服务注册表-太多的服务、不断增长的团队和人员流动、远程开发人员等等。</p><p> Cortex provides a standard, opinionated way to organize information about all of your services and enables functionality such as:</p><p>Corpe提供了一种标准的、自以为是的方式来组织有关所有服务的信息，并支持以下功能：</p><p> A dashboard to answer questions such as &#34;what services exist?&#34;, &#34;who owns this service?&#34;, &#34;where are the runbooks for this service?&#34;</p><p>用于回答诸如存在哪些服务？谁拥有此服务？此服务的Runbook在哪里？&#34；，&#34；等问题的仪表盘。</p><p> An audit report that shows you the health of your services: does every service have an owner, an oncall rotation, etc.</p><p>向您显示服务健康状况的审计报告：是否每个服务都有所有者、OnCall轮换等。</p><p>  Integrations with third party tools - for example, when Pagerduty triggers an alert, Cortex can send a slack message with information about the service such as ownership, latest commits from github, latest deploys, and more.</p><p>与第三方工具集成-例如，当PagerDuty触发警报时，Cortex可以发送一条松弛消息，其中包含有关服务的信息，如所有权、来自GitHub的最新提交、最新部署等。</p><p> Reach out to us on our home page to request a demo, we&#39;d love to show you what we&#39;ve built and help prevent some of the headaches that come with a service oriented architecture. Onboard to a modern microservice catalog today!</p><p>在我们的主页上联系我们请求演示，我们很乐意向您展示我们已经构建了什么，并帮助您避免一些令人头疼的面向服务的体系结构带来的问题。即刻登上现代微服务目录！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.getcortexapp.com/post/taming-your-microservices">https://www.getcortexapp.com/post/taming-your-microservices</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/服务/">#服务</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1031658.html"><img src="http://img2.diglog.com/img/2020/10/thumb_ab82237435918aa1638b94d4665f69e8.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031658.html">查理·布朗的万圣节特别节目今年不会在网络电视上播出</a></div><span class="my_story_list_date">2020-10-28 7:53</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031551.html"><img src="http://img2.diglog.com/img/2020/10/thumb_32cc367445a18284f8522c0af9f4c6ef.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031551.html">育碧将其每月15美元的Uplay+游戏流媒体服务更名为育碧+，并将在年底前将该服务扩展到体育场和露娜</a></div><span class="my_story_list_date">2020-10-28 1:27</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030700.html"><img src="http://img2.diglog.com/img/2020/10/thumb_084859d72b5b9b1233be677f4ccee877.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030700.html">无缝交换Netflix Android应用程序的API后端</a></div><span class="my_story_list_date">2020-10-23 7:18</span></div><div class="col-sm"><div><a target="_blank" href="/story/1029077.html"><img src="http://img2.diglog.com/img/2020/10/thumb_6e554fa84199a90c2d5d047c4dbcc509.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1029077.html">谷歌表示，聊天将于明年作为一项免费服务提供，既可以作为独立的应用程序，也可以集成到Gmail中；谷歌将在Hangout中删除对Fi的支持</a></div><span class="my_story_list_date">2020-10-16 2:13</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>