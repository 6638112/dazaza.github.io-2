<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>SolarWinds修补了可能允许完全系统控制的漏洞 SolarWinds patches vulnerabilities that could allow full system control</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">SolarWinds patches vulnerabilities that could allow full system control<br/>SolarWinds修补了可能允许完全系统控制的漏洞 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-02-06 21:07:32</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/2/d6849ec4edc95ae1fd175e702fc96096.jpg"><img src="http://img2.diglog.com/img/2021/2/d6849ec4edc95ae1fd175e702fc96096.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>SolarWinds, the previously little-known company whose network-monitoring tool Orion was a primary vector for one of the most serious breaches in US history, has pushed out fixes for three severe vulnerabilities.</p><p>SolarWinds是一家鲜为人知的公司，其网络监控工具Orion是美国历史上最严重漏洞之一的主要载体，该公司已推出了针对三个严重漏洞的修复程序。</p><p>  Martin Rakhmanov, a researcher with Trustwave SpiderLabs, said in a  blog post on Wednesday that he began analyzing SolarWinds products shortly after FireEye and Microsoft reported that hackers had taken control of SolarWinds’ software development system and used it to  distribute backdoored updates to Orion customers. It didn’t take long for him to find three vulnerabilities, two in Orion and a third in a product known as the Serv-U FTP for Windows. There&#39;s no evidence any of the vulnerabilities have been exploited in the wild. The most serious flaw allows unprivileged users to remotely execute code that takes complete control of the underlying operating system. Tracked as CVE-2021-25274 the vulnerability stems from Orion’s use of the Microsoft Message Queue, a tool that has existed for more than 20 years but is no longer installed by default on Windows machines.</p><p>  Trustwave SpiderLabs的研究员Martin Rakhmanov在周三的博客中表示，在FireEye和Microsoft报告黑客控制了SolarWinds的软件开发系统并将其用于向Orion客户分发后门更新后不久，他就开始分析SolarWinds产品。他很快就发现了三个漏洞，其中两个在Orion中，另一个在产品Serv-U FTP for Windows中被发现。没有证据表明在野外已经利用了任何漏洞。最严重的缺陷使没有特权的用户可以远程执行完全控制底层操作系统的代码。该漏洞被追踪为CVE-2021-25274，源于Orion使用Microsoft Message Queue，该工具已经存在20多年了，但默认情况下不再安装在Windows计算机上。</p><p>  As Rakhmanov poked through the Windows Computer Management console, he quickly seized on the following security permissions for one of the dozens of private queues it enabled:</p><p>  当Rakhmanov拨通Windows计算机管理控制台时，他迅速抓住了启用的数十个专用队列之一的以下安全权限：</p><p>  “It’s pretty hard to miss that warning shield showing that the queue, like all the queues, is unauthenticated,” the researcher wrote. “In short, unauthenticated users can send messages to such queues over TCP port 1801. My interest was piqued, and I jumped in to look at the code that handles incoming messages. Unfortunately, it turned out to be an unsafe deserialization victim.”</p><p>  研究人员写道：“很难忘记警告队列表明该队列与所有队列一样未经认证，”。 “简而言之，未经身份验证的用户可以通过TCP端口1801将消息发送到此类队列。激起了我的兴趣，我跳了起来看看处理传入消息的代码。不幸的是，事实证明这是不安全的反序列化的受害者。”</p><p>     SolarWinds Collector Service uses MSMQ (Microsoft Message Queue) and it doesn&#39;t set permissions on its private queues. As a result, remote unauthenticated clients can send messages that the Collector Service will process. Additionally, upon processing of such messages, the service deserializes them in insecure manner allowing remote arbitrary code execution as LocalSystem.</p><p>     SolarWinds Collector Service使用MSMQ（Microsoft消息队列），并且不对其专用队列设置权限。因此，未经身份验证的远程客户端可以发送收集器服务将处理的消息。此外，在处理此类消息时，服务会以不安全的方式反序列化它们，从而允许将远程任意代码执行为LocalSystem。</p><p>  The second Orion vulnerability, tracked as CVE-2021-25275, is the result of Orion storing database credentials in an insecure manner. Specifically, Orion keeps the credentials in a file that’s readable by unprivileged users. Rakhmanov facetiously called this “Database Credentials for Everyone.”</p><p>  第二个Orion漏洞（跟踪为CVE-2021-25275）是Orion以不安全的方式存储数据库凭据的结果。具体来说，Orion会将凭据保存在非特权用户可以读取的文件中。 Rakhmanov戏t地称其为“所有人的数据库凭据”。</p><p> While the files cryptographically protect the passwords, the researcher was able to find code that converts the password to plaintext. The result: anyone who can log in to a box locally or through the Remote Desktop Protocol can gain the credentials for the SolarWindsOrionDatabaseUser.</p><p> 当文件通过密码保护密码时，研究人员能够找到将密码转换为纯文本的代码。结果：任何可以本地登录或通过远程桌面协议登录到框的人都可以获取SolarWindsOrionDatabaseUser的凭据。 </p><p> “The next step is to connect to the Microsoft SQL Server using the recovered account, and at this point, we have complete control over the SOLARWINDS_ORION database,” Rakhmanov wrote. “From here, one can steal information or add a new admin-level user to be used inside SolarWinds Orion products.”</p><p>“下一步是使用恢复的帐户连接到Microsoft SQL Server，此时，我们已经完全控制了SOLARWINDS_ORION数据库，” Rakhmanov写道。 “从这里，人们可以窃取信息或添加新的管理员级别用户，以在SolarWinds Orion产品中使用。”</p><p>  The third vulnerability, tracked as CVE-2021-25276, resides in the Serv-U FTP for Windows. The program stores details for each account in a separate file. Those files can be created by any authenticated Windows user.</p><p>  第三个漏洞跟踪为CVE-2021-25276，位于Windows的Serv-U FTP中。该程序将每个帐户的详细信息存储在单独的文件中。这些文件可以由任何经过身份验证的Windows用户创建。</p><p>  Specifically, anyone who can log in locally or via Remote Desktop can just drop a file that defines a new user, and the Serv-U FTP will automatically pick it up. Next, since we can create any Serv-U FTP user, it makes sense to define an admin account by setting a simple field in the file and then set the home directory to the root of C:\ drive. Now we can log in via FTP and read or replace any file on the C:\ since the FTP server runs as LocalSystem.</p><p>  具体来说，任何可以本地登录或通过远程桌面登录的人都可以删除定义新用户的文件，并且Serv-U FTP会自动选择该文件。接下来，由于我们可以创建任何Serv-U FTP用户，因此可以通过在文件中设置一个简单字段，然后将主目录设置为C：\驱动器的根目录来定义管理员帐户。现在我们可以通过FTP登录并读取或替换C：\上的任何文件，因为FTP服务器作为LocalSystem运行。</p><p> Fixes for Orion and Serv-U FTP are available  here and  here. People who rely on either of these products should install patches as soon as possible.</p><p> Orion和Serv-U FTP的修复程序可在此处和此处获得。依赖于这两种产品之一的人应尽快安装补丁。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://arstechnica.com/information-technology/2021/02/solarwinds-patches-vulnerabilities-that-could-allow-full-system-control/">https://arstechnica.com/information-technology/2021/02/solarwinds-patches-vulnerabilities-that-could-allow-full-system-control/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/漏洞/">#漏洞</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/修补/">#修补</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/patches/">#patches</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/orion/">#orion</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>