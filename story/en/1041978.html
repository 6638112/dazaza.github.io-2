<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>自制软件：在Rosetta 2中运行时，Big Sur瓶中的AVX指令崩溃 Homebrew: AVX instructions in Big Sur bottles crash when run in Rosetta 2</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Homebrew: AVX instructions in Big Sur bottles crash when run in Rosetta 2<br/>自制软件：在Rosetta 2中运行时，Big Sur瓶中的AVX指令崩溃 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-27 08:49:11</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/18a56d5c08fd0d54bdefd1487498df6d.png"><img src="http://img2.diglog.com/img/2020/12/18a56d5c08fd0d54bdefd1487498df6d.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Process: python3.9 [43149]Path: /usr/local/Cellar/python@3.9/3.9.1_2/Frameworks/Python.framework/Versions/3.9/bin/python3.9Identifier: python3.9Version: ???Code Type: X86-64 (Translated)Parent Process: fish [42926]Responsible: iTerm2 [1498]User ID: 501Date/Time: 2020-12-26 03:32:12.884 -0700OS Version: macOS 11.1 (20C69)Report Version: 12Anonymous UUID: AC78B336-C8E2-B28B-513C-995032A92486Time Awake Since Boot: 130000 secondsSystem Integrity Protection: disabledCrashed Thread: 0 Dispatch queue: com.apple.main-threadException Type: EXC_BAD_INSTRUCTION (SIGILL)Exception Codes: 0x0000000000000001, 0x0000000000000000Exception Note: EXC_CORPSE_NOTIFYTermination Signal: Illegal instruction: 4Termination Reason: Namespace SIGNAL, Code 0x4Terminating Process: exc handler [43149]Thread 0 Crashed:: Dispatch queue: com.apple.main-thread0 python3 	0x0000000100647b4b 0x100644000 + 151791 libdyld.dylib 	0x00007fff20344621 start + 1Thread 1:: com.apple.rosetta.exceptionserver0 runtime 	0x00007ffdffc90a98 0x7ffdffc8e000 + 109041 runtime 	0x00007ffdffc9a2b8 0x7ffdffc8e000 + 498482 runtime 	0x00007ffdffc9b8e8 0x7ffdffc8e000 + 55528Thread 0 crashed with X86 Thread State (64-bit): rax: 0x00007ffdf7406bde rbx: 0x000000000000004d rcx: 0x00007ffdf7406bde rdx: 0x0000000000000004 rdi: 0x00007ffdf7406b90 rsi: 0x0000000200a04730 rbp: 0x00000003050b38f0 rsp: 0x00000003050b38a0 r8: 0x00000000000002b2 r9: 0x00000000000002ba r10: 0x00000003050b3a90 r11: 0x00007fff2036b7a0 r12: 0x0000000200a04730 r13: 0x0000000000000000 r14: 0x00000003050b3910 r15: 0x00007ffdf7406b90 rip: 0x0000000100647b4b rfl: 0x0000000000000202Binary Images: 0x100644000 - 0x100647fff +python3 (0) &lt;3912CEDE-7114-392E-A3E6-47B3DFFCAF53&gt; /usr/local/bin/python3 0x108901000 - 0x108b00fff +org.python.python (3.9.1, [c] 2001-2019 Python Software Foundation. - 3.9.1) &lt;4CD4D4F2-4C6D-3642-B082-9C3AE6EA8165&gt; /usr/local/Cellar/python@3.9/3.9.1_2/Frameworks/Python.framework/Versions/3.9/Python 0x200958000 - 0x2009f3fff dyld (832.7.1) &lt;DEA51514-B4E8-3368-979B-89D0F8397ABC&gt; /usr/lib/dyld 0x7ffdffc8e000 - 0x7ffdffd01fff +runtime (203.13.2) &lt;3B9E4ADB-AB4E-30AD-A642-B74313FB48A8&gt; /Library/Apple/*/runtime 0x7fff2005e000 - 0x7fff2005ffff libsystem_blocks.dylib (78) &lt;9CF131C6-16FB-3DD0-B046-9E0B6AB99935&gt; /usr/lib/system/libsystem_blocks.dylib 0x7fff20060000 - 0x7fff20095fff libxpc.dylib (2038.40.38) &lt;003A027D-9CE3-3794-A319-88495844662D&gt; /usr/lib/system/libxpc.dylib 0x7fff20096000 - 0x7fff200adfff libsystem_trace.dylib (1277.50.1) &lt;48C14376-626E-3C81-B0F5-7416E64580C7&gt; /usr/lib/system/libsystem_trace.dylib 0x7fff200ae000 - 0x7fff2014cfff libcorecrypto.dylib (1000.60.19) &lt;92F0211E-506E-3760-A3C2-808BF3905C07&gt; /usr/lib/system/libcorecrypto.dylib 0x7fff2014d000 - 0x7fff20179fff libsystem_malloc.dylib (317.40.8) &lt;2EF43B96-90FB-3C50-B73E-035238504E33&gt; /usr/lib/system/libsystem_malloc.dylib 0x7fff2017a000 - 0x7fff201befff libdispatch.dylib (1271.40.12) &lt;CEF1460B-1362-381A-AE69-6BCE2D8C215B&gt; /usr/lib/system/libdispatch.dylib 0x7fff201bf000 - 0x7fff201f8fff libobjc.A.dylib (818.2) &lt;339EDCD0-5ABF-362A-B9E5-8B9236C8D36B&gt; /usr/lib/libobjc.A.dylib 0x7fff201f9000 - 0x7fff201fbfff libsystem_featureflags.dylib (28.60.1) &lt;7B4EBDDB-244E-3F78-8895-566FE22288F3&gt; /usr/lib/system/libsystem_featureflags.dylib 0x7fff201fc000 - 0x7fff20284fff libsystem_c.dylib (1439.40.11) &lt;06D9F593-C815-385D-957F-2B5BCC223A8A&gt; /usr/lib/system/libsystem_c.dylib 0x7fff20285000 - 0x7fff202dafff libc++.1.dylib (904.4) &lt;AE3A940A-7A9C-3F99-B175-3511528D8DFE&gt; /usr/lib/libc++.1.dylib 0x7fff202db000 - 0x7fff202f3fff libc++abi.dylib (904.4) &lt;DDFCBF9C-432D-3B8A-8641-578D2EDDCAD8&gt; /usr/lib/libc++abi.dylib 0x7fff202f4000 - 0x7fff20322fff libsystem_kernel.dylib (7195.60.75) &lt;4BD61365-29AF-3234-8002-D989D295FDBB&gt; /usr/lib/system/libsystem_kernel.dylib 0x7fff20323000 - 0x7fff2032efff libsystem_pthread.dylib (454.60.1) &lt;8DD3A0BC-2C92-31E3-BBAB-CE923A4342E4&gt; /usr/lib/system/libsystem_pthread.dylib 0x7fff2032f000 - 0x7fff20369fff libdyld.dylib (832.7.1) &lt;2F8A14F5-7CB8-3EDD-85EA-7FA960BBC04E&gt; /usr/lib/system/libdyld.dylib 0x7fff2036a000 - 0x7fff20373fff libsystem_platform.dylib (254.60.1) &lt;3F7F6461-7B5C-3197-ACD7-C8A0CFCC6F55&gt; /usr/lib/system/libsystem_platform.dylib 0x7fff20374000 - 0x7fff2039ffff libsystem_info.dylib (542.40.3) &lt;0979757C-5F0D-3F5A-9E0E-EBF234B310AF&gt; /usr/lib/system/libsystem_info.dylib 0x7fff203a0000 - 0x7fff2083bfff com.apple.CoreFoundation (6.9 - 1770.300) &lt;7AADB19E-8EA2-3C9B-8699-F206DB47C6BE&gt; /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation 0x7fff2245f000 - 0x7fff226c0fff libicucore.A.dylib (66109) &lt;6C0A0196-2778-3035-81CE-7CA48D6C0628&gt; /usr/lib/libicucore.A.dylib 0x7fff226c1000 - 0x7fff226cafff libsystem_darwin.dylib (1439.40.11) &lt;BD269412-C9D0-32EE-B42B-B09A187A9B95&gt; /usr/lib/system/libsystem_darwin.dylib 0x7fff22adb000 - 0x7fff22ae6fff libsystem_notify.dylib (279.40.4) &lt;98D74EEF-60D9-3665-B877-7BE1558BA83E&gt; /usr/lib/system/libsystem_notify.dylib 0x7fff24a36000 - 0x7fff24a44fff libsystem_networkextension.dylib (1295.60.5) &lt;F476B1CB-3561-30C5-A78E-44E99B1720A3&gt; /usr/lib/system/libsystem_networkextension.dylib 0x7fff24aa2000 - 0x7fff24ab8fff libsystem_asl.dylib (385) &lt;940C5BB9-4928-3A63-97F2-132797C8B7E5&gt; /usr/lib/system/libsystem_asl.dylib 0x7fff261cf000 - 0x7fff261d6fff libsystem_symptoms.dylib (1431.60.1) &lt;88F35AAC-746F-3176-81DF-49CE3D285636&gt; /usr/lib/system/libsystem_symptoms.dylib 0x7fff28503000 - 0x7fff28513fff libsystem_containermanager.dylib (318.60.1) &lt;4ED09A19-04CC-3464-9EFB-F674932020B5&gt; /usr/lib/system/libsystem_containermanager.dylib 0x7fff29213000 - 0x7fff29216fff libsystem_configuration.dylib (1109.60.2) &lt;C57B346B-0A03-3F87-BCAC-87B702FA0719&gt; /usr/lib/system/libsystem_configuration.dylib 0x7fff29217000 - 0x7fff2921bfff libsystem_sandbox.dylib (1441.60.4) &lt;8CE27199-D633-31D2-AB08-56380A1DA9FB&gt; /usr/lib/system/libsystem_sandbox.dylib 0x7fff29e26000 - 0x7fff29e28fff libquarantine.dylib (119.40.2) &lt;19D42B9D-3336-3543-AF75-6E605EA31599&gt; /usr/lib/system/libquarantine.dylib 0x7fff2a3a8000 - 0x7fff2a3acfff libsystem_coreservices.dylib (127) &lt;A2D875B9-8BA8-33AD-BE92-ADAB915A8D5B&gt; /usr/lib/system/libsystem_coreservices.dylib 0x7fff2a5c3000 - 0x7fff2a60efff libsystem_m.dylib (3186.40.2) &lt;0F98499E-662F-36EC-AB58-91A8D5A0FB74&gt; /usr/lib/system/libsystem_m.dylib 0x7fff2a610000 - 0x7fff2a615fff libmacho.dylib (973.4) &lt;28AE1649-22ED-3C4D-A232-29D37F821C39&gt; /usr/lib/system/libmacho.dylib 0x7fff2a632000 - 0x7fff2a63dfff libcommonCrypto.dylib (60178.40.2) &lt;1D0A75A5-DEC5-39C6-AB3D-E789B8866712&gt; /usr/lib/system/libcommonCrypto.dylib 0x7fff2a63e000 - 0x7fff2a648fff libunwind.dylib (200.10) &lt;C5792A9C-DF0F-3821-BC14-238A78462E8A&gt; /usr/lib/system/libunwind.dylib 0x7fff2a649000 - 0x7fff2a650fff liboah.dylib (203.13.2) &lt;FF72E19B-3B02-34D4-A821-3397BB28AC02&gt; /usr/lib/liboah.dylib 0x7fff2a651000 - 0x7fff2a65bfff libcopyfile.dylib (173.40.2) &lt;89483CD4-DA46-3AF2-AE78-FC37CED05ACC&gt; /usr/lib/system/libcopyfile.dylib 0x7fff2a65c000 - 0x7fff2a663fff libcompiler_rt.dylib (102.2) &lt;0DB26EC8-B4CD-3268-B865-C2FC07E4D2AA&gt; /usr/lib/system/libcompiler_rt.dylib 0x7fff2a664000 - 0x7fff2a666fff libsystem_collections.dylib (1439.40.11) &lt;D40D8097-0ABF-3645-B065-168F43ACFF4C&gt; /usr/lib/system/libsystem_collections.dylib 0x7fff2a667000 - 0x7fff2a669fff libsystem_secinit.dylib (87.60.1) &lt;99B5FD99-1A8B-37C1-BD70-04990FA33B1C&gt; /usr/lib/system/libsystem_secinit.dylib 0x7fff2a66a000 - 0x7fff2a66cfff libremovefile.dylib (49.40.3) &lt;750012C2-7097-33C3-B796-2766E6CDE8C1&gt; /usr/lib/system/libremovefile.dylib 0x7fff2a66d000 - 0x7fff2a66dfff libkeymgr.dylib (31) &lt;2C7B58B0-BE54-3A50-B399-AA49C19083A9&gt; /usr/lib/system/libkeymgr.dylib 0x7fff2a66e000 - 0x7fff2a675fff libsystem_dnssd.dylib (1310.60.4) &lt;81EFC44D-450E-3AA3-AC8F-D7EF68F464B4&gt; /usr/lib/system/libsystem_dnssd.dylib 0x7fff2a676000 - 0x7fff2a67bfff libcache.dylib (83) &lt;2F7F7303-DB23-359E-85CD-8B2F93223E2A&gt; /usr/lib/system/libcache.dylib 0x7fff2a67c000 - 0x7fff2a67dfff libSystem.B.dylib (1292.60.1) &lt;A7FB4899-9E04-37ED-9DD8-8FFF0400879C&gt; /usr/lib/libSystem.B.dylib 0x7fff2a67e000 - 0x7fff2a681fff libfakelink.dylib (3) &lt;34B6DC95-E19A-37C0-B9D0-558F692D85F5&gt; /usr/lib/libfakelink.dylib 0x7fff2a682000 - 0x7fff2a682fff com.apple.SoftLinking (1.0 - 1) &lt;90D679B3-DFFD-3604-B89F-1BCF70B3EBA4&gt; /System/Library/PrivateFrameworks/SoftLinking.framework/Versions/A/SoftLinking 0x7fff2dc0b000 - 0x7fff2dc0bfff liblaunch.dylib (2038.40.38) &lt;05A7EFDD-4111-3E4D-B668-239B69DE3D0F&gt; /usr/lib/system/liblaunch.dylib 0x7fff300b8000 - 0x7fff300b8fff libsystem_product_info_filter.dylib (8.40.1) &lt;7CCAF1A8-F570-341E-B275-0C80B092F8E0&gt; /usr/lib/system/libsystem_product_info_filter.dylibTranslated Code Information: tmp0: 0x0000000100647b4b tmp1: 0x000003c40510f8c5 tmp2: 0x00f8c5104111f8c5External Modification Summary: Calls made by other processes targeting this process: task_for_pid: 0 thread_create: 0 thread_set_state: 0 Calls made by this process: task_for_pid: 0 thread_create: 0 thread_set_state: 0 Calls made by all processes on this machine: task_for_pid: 110222 thread_create: 0 thread_set_state: 0VM Region Summary:ReadOnly portion of Libraries: Total=521.1M resident=0K(0%) swapped_out_or_unallocated=521.1M(100%)Writable regions: Total=159.4M written=0K(0%) resident=0K(0%) swapped_out=0K(0%) unallocated=159.4M(100%) VIRTUAL REGION REGION TYPE SIZE COUNT (non-coalesced) =========== ======= ======= Kernel Alloc Once 8K 1 MALLOC 10.1M 9 MALLOC guard page 96K 4 Rosetta Arena 2048K 1 Rosetta Generic 588K 144 Rosetta IndirectBranch 32K 1 Rosetta JIT 128.0M 1 Rosetta Return Stack 20K 2 Rosetta Thread Context 20K 2 Stack 8176K 1 Stack Guard 56.0M 1 VM_ALLOCATE 7156K 2 VM_ALLOCATE (reserved) 12K 1 reserved VM address space (unallocated)__DATA 851K 51 __DATA_CONST 3034K 40 __DATA_DIRTY 95K 23 __LINKEDIT 506.8M 7 __OBJC_RO 60.5M 1 __OBJC_RW 2451K 2 __TEXT 14.4M 50 __UNICODE 588K 1 mapped file 4.1G 84 shared memory 16K 1 unshared pmap 3440K 2 =========== ======= ======= TOTAL 4.9G 432 TOTAL, minus reserved VM space 4.9G 432</p><p>Warning: Can only detect less than 5000 characters</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/Homebrew/homebrew-core/issues/67713">https://github.com/Homebrew/homebrew-core/issues/67713</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/avx/">#avx</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/warning/">#warning</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>