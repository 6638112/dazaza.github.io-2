<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>HTML Sanitizer API. HTML Sanitizer API</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">HTML Sanitizer API<br/>HTML Sanitizer API. </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-05-06 19:20:38</div><div class="page_narrow text-break page_content"><p>This feature is available only in  secure contexts (HTTPS), in some or all  supporting browsers.</p><p>此功能仅在某些或所有支持浏览器中的安全上下文（HTTPS）中可用。</p><p>  Web applications often need to work with strings of HTML on the client side, perhaps as part of a client-side templating solution, perhaps as part of rendering user generated content. It is difficult to do so in a safe way. The Sanitizer API allows for rendering HTML in a safe manner.</p><p>  Web应用程序通常需要使用客户端的HTML的字符串，也许作为客户端模板解决方案的一部分，也许是呈现用户生成内容的一部分。很难以安全的方式这样做。 Sanitizer API允许以安全的方式呈现HTML。</p><p> To access the API you would use the constructor, which creates a   Sanitizer.Sanitizer instance and allows for a configurable list of allowed or dis-allowed elements and attributes.</p><p> 要访问API，您将使用构造函数创建Sacitizer.Sanitizer实例，并允许允许的允许或可允许的元素和属性的可配置列表。</p><p> The most common use-case - preventing XSS - is handled by the built-in default lists, so that creating a   Sanitizer.Sanitizer with a custom config is necessary only to handle additional, application-specific use cases.</p><p> 最常见的用例阻止XSS  - 由内置默认列表处理，以便创建带有自定义配置的Sounitizer.Sanitizer，只能处理其他应用程序特定的用例。</p><p> The API has two methods to sanitize strings. One returns a string and the other returns a document fragment. See the  examples section below for more.</p><p> API有两种消毒串的方法。一个返回一个字符串，另一个返回文档片段。有关详细信息，请参阅下面的示例部分。</p><p>  The   Sanitizer interface of the   HTML Sanitizer API provides the functionality to take untrusted strings of HTML, and sanitize them for safe insertion into a document’s DOM.</p><p>  HTML Soonitizer API的Sunitizer接口提供了采取不受信任的HTML字符串的功能，并消除它们以安全插入文档的DOM。</p><p>  This example shows the result of sanitizing a string using the   Sanitizer.sanitizeToString() method. A   String is returned with disallowed  script and  blink elements removed.</p><p>  此示例显示使用Sacitizer.SanitizetOstring（）方法消毒字符串的结果。使用禁止的脚本返回字符串，删除闪烁元素。 </p><p> // our input string to clean const stringToClean  =  &#39;Some text &lt;b&gt;&lt;i&gt;with&lt;/i&gt;&lt;/b&gt; &lt;blink&gt;tags&lt;/blink&gt;, including a rogue script &lt;script&gt;alert(1)&lt;/script&gt; def.&#39; ; const result  =  new   ( ) . sanitizeToString (stringToClean ) ;console . log (result ) ; // Logs: &#34;Some text &lt;b&gt;&lt;i&gt;with&lt;/i&gt;&lt;/b&gt; &lt;blink&gt;tags&lt;/blink&gt;, including a rogue script def.&#34;</p><p>//我们的输入字符串清洁const Stringtoclean =＆＃39;一些文本＆lt; b＆gt;＆lt; / i＆gt;＆lt; / b＆gt; ＆lt;闪烁＆gt;标签＆lt; / blink＆gt;，包括流氓脚本＆lt; script＆gt;警报（1）＆lt; / script＆gt; def。＆＃39; ; const结果= new（）。 SanitizetOstring（StringToclean）;控制台。日志（结果）; //日志：＆＃34;一些文本＆lt; b＆gt;＆lt; i＆gt;＆lt; / i＆gt; ＆lt;闪烁＆gt;标签＆lt; / blink＆gt;包括流氓脚本def。＆＃34;</p><p> The other method available is the   Sanitizer.sanitize() method. Which is very similar to above, however returns a   DocumentFragment with disallowed  script and  blink elements removed.</p><p> 可用的其他方法是Sanitizer.Sanitize（）方法。这与上面非常相似，但是返回一个禁止脚本的DocumentFragment，并删除了闪烁元素。</p><p> // our input string to clean const stringToClean  =  &#39;Some text &lt;b&gt;&lt;i&gt;with&lt;/i&gt;&lt;/b&gt; &lt;blink&gt;tags&lt;/blink&gt;, including a rogue script &lt;script&gt;alert(1)&lt;/script&gt; def.&#39; ; const result  =  new   ( ) . sanitize (stringToClean ) ; // Result: A DocumentFragment containing text nodes and a &lt;b&gt; element, with a &lt;i&gt; child element</p><p> //我们的输入字符串清洁const Stringtoclean =＆＃39;一些文本＆lt; b＆gt;＆lt; / i＆gt;＆lt; / b＆gt; ＆lt;闪烁＆gt;标签＆lt; / blink＆gt;，包括流氓脚本＆lt; script＆gt;警报（1）＆lt; / script＆gt; def。＆＃39; ; const结果= new（）。 Sanitize（StringToclean）; //结果：包含文本节点和一个＆lt; b＆gt的DocumentFragment;元素，具有＆lt; i＆gt;儿童元素 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_Sanitizer_API">https://developer.mozilla.org/en-US/docs/Web/API/HTML_Sanitizer_API</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/sanitizer/">#sanitizer</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>