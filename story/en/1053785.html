<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>通用困境（2009） The Generic Dilemma (2009)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">The Generic Dilemma (2009)<br/>通用困境（2009） </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-21 20:07:01</div><div class="page_narrow text-break page_content"><p>Rivorus  (December 12, 2009 1:04 PM) [multipart post continued]  Finally, there is the issue of overloading. Once again, the  FAQ has a very weak rationale, talking about the fact that it makes implementation of the language simpler and that it can be &#34;confusing.&#34; Certain things might be tough to understand at first but that doesn&#39;t mean that they aren&#39;t  important to understand. For many programmers, overloading is already second nature. Not only that, but it is extremely important to generic programming and leaving it out means not being able to create efficient and generic libraries.  In a statically-typed language, overloads dispatch based on data types, and in an ideal world, on what concepts they model. In a well-designed generic program in a statically-typed language you have high level generic algorithms built around smaller and smaller algorithms, each operating on models of concepts. If there is a more refined concept or a particular type that can have a more efficient implementation of a given algorithm, then that algorithm is overloaded for that type or concept. In C++, since all of the overloading is based purely on type/concept data, which functions are dispatched is decided at compile time and you get zero overhead.  The reason why this type of overloading is so necessary to generic programming and why simply naming functions differently doesn&#39;t cut it is because of the hierarchical nature of algorithms. A calls B which calls C which calls D and E, etc. each one with a generic implementation that can work on anything that models a particular concept, for instance, any container or range with access to any element taking linear time. Now imagine that algorithm &#34;C&#34; can be written in a way that is more efficient when it is passed a range that allows accessing of arbitrary elements in constant time rather than linear time. If you can overload C based on this type information, then you in effect make it so that algorithms A and B are also each automatically more efficient when you pass in a range with constant-time access to any element.  Without this ability to overload based on the type system you cannot get composable and efficient generic code. In reference to the example above, making a differently named &#34;C&#34; for the special case optimized situation rather than overloading implies having to make a differently named &#34;A&#34; and &#34;B&#34; as well if you want them to take advantage of your optimized code. This means that more algorithms have to be written if they need to be efficient rather than getting it for free and anyone using your algorithms now has to know to call your special case algorithm with the new name if he wants the more optimal implementation. If their code is already written, that potentially means they&#39;d have to rewrite it if they need it to be faster simply because an implementation detail changed at some arbitrary location down the chain. It&#39;s just bad news for everyone. All of that is possible in C++ because of the type system, overloading and SFINAE. While the concept-like facility in Go is nice, without overloading and associated types it&#39;s only half-way there.  Those are just some of the issues I personally have with Go as it is. A lot of that can be changed and the FAQ makes it sound like you are very open to the possibility of such changes. The fact that you have taken the bold stride towards what you call &#34;interfaces&#34; (which again are basically just stripped down versions of &#34;concepts&#34; in generic programming) and away from traditional religious OOP shows a lot. I have faith that you guys are trying hard to provide a solid language -- one that compares to C++ in efficiency and the ability to write generic code. If that actually is your goal, I think you need to definitely pay attention to the things that C++ has done right and how that can be altered or improved to provide something better. Right now it seems you are not learning the lessons that C++ and its generic libraries have taught.</p><p>Rivorus（2009年12月12日1:04 PM）[Multipart Post继续]最后，存在过载的问题。常见问题解答有一个非常薄弱的​​理由，谈到它使语言更简单的事实，它可以是＆＃34;令人困惑。＆＃34;某些事情可能很难理解，但这并不意味着他们逃离了解。对于许多程序员来说，重载已经是第二种性质。不仅如此，这对于通用编程来说是非常重要的，并将其遗漏意味着无法创建有效和通用的库。在静态类型的语言中，基于数据类型的超载调度，并在理想的世界中，在他们模型的概念上。在静态类型的语言中设计精心设计的通用程序，您拥有围绕较小且较小的算法构建的高级通用算法，每个算法都在概念的型号上运行。如果有更精细的概念或特定类型，可以具有给定算法的更有效实现，那么该算法对于该类型或概念而过载。在C ++中，由于所有重载都纯粹基于类型/概念数据，因此在编译时派遣了哪些功能，并且您将获得零开销。这种类型的重载是如此必要的原因是通用编程以及为什么简单地命名功能不同地不同地＆＃39; t削减它是因为算法的层次性质。一个调用B调用c调用d和e等。每个具有通用实现，可以在任何概念模拟特定概念的任何容器或具有接受线性时间的元素的任何容器或范围内工作的通用实现。现在想象该算法＆＃34; C＆＃34;可以以更有效的方式编写在传递允许在恒定的时间而不是线性时间中访问任意元素的范围。如果您可以根据此类型的信息重载C，那么您实际上可以使其使算法A和B在传递到任何元素的恒定时间访问范围内时，算法A和B也会自动更有效。如果没有这种能够超载基于类型系统，您无法获得可编译和高效的通用代码。参考上面的例子，制作不同的命名和＃34; C＆＃34;对于特殊的案例优化的情况而不是过载意味着必须使一个不同的命名和＃34; A＆＃34;和＃34; B＆＃34;以及如果您希望它们利用您的优化代码。这意味着如果需要有效而不是自由获取它，并且使用算法的任何人现在必须知道如果希望更优化的实现，则必须知道更多的算法。如果他们的代码已经写入，那可能意味着他们必须重写它，如果他们需要更快地重写它，因为在链条下的一些任意位置更改了实现细节。它＆＃39;对于每个人来说都是坏消息。由于类型系统，重载和Sfinae，所有这一切都是可能的。虽然Go的概念 - 类似的设施很好，但没有过载和相关类型它＆＃39;只有在那里的中途。那些只是我个人的一些问题，就像它一样。很多可以改变，常见问题解答让它听起来像是对这种变化的可能性很开放。你已经抓住了大胆的步伐，以你所说的话＆＃34;界面＆＃34; （再次只剥夺了＆＃34;概念＆＃34;在通用编程中的概念和＃34），远离传统的宗教OOP显示很多。我有信心你们努力提供一种坚实的语言 - 一个比较效率的C ++和写通用代码的能力。如果实际上是您的目标，我认为您需要肯定会注意C ++所做的就业以及如何改变或改进，以提供更好的东西。现在看来你没有学习C ++及其通用图书馆所教授的课程。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://research.swtch.com/generic">https://research.swtch.com/generic</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/通用/">#通用</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/generic/">#generic</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>