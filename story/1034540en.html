<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>系统删除代码</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">系统删除代码</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-11 22:42:23</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/1db7e47480465385c595caa159702571.png"><img src="http://img2.diglog.com/img/2020/11/1db7e47480465385c595caa159702571.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>It&#39;s easy to miss things when removing code, leaving behind unused methods, templates, CSS classes or translation keys. (Especially in a dynamic language like Ruby, without a compiler to help you spot dead code.)</p><p>删除代码时很容易遗漏一些东西，留下未使用的方法、模板、CSS类或翻译键。(尤其是在Ruby这样的动态语言中，没有编译器帮助您识别死代码。)。</p><p>  This is one of those things that seems obvious when you do it, but in my experience, many people do it haphazardly.</p><p>这是当你做这件事时似乎很明显的事情之一，但根据我的经验，很多人做这件事都很随意。</p><p>       First, we search the project to check that  _item_box.html.erb isn&#39;t used somewhere else, or referenced in docs that we&#39;ll need to update. It isn&#39;t, so we&#39;re OK to remove it – but before we do that, we must go through it line by line.</p><p>首先，我们搜索项目以检查_Item_box.html.erb是否在其他地方使用，或者是否在需要更新的文档中引用。它不是，所以我们可以删除它-但在此之前，我们必须逐行检查它。</p><p> The first line is  &lt;div class=&#34;box box--fancy&#34;&gt;. So we search the project for these two CSS classes, checking if they&#39;re in use somewhere else. If not, we remove them from the CSS files.</p><p>第一行是&lt；div class=&#34；box--花哨&34；&gt；。因此，我们在项目中搜索这两个CSS类，检查它们是否在其他地方使用。如果不是，我们将它们从CSS文件中删除。</p><p> We go deeper if required – perhaps the CSS for  .box--fancy uses a CSS variable. Then we check if that variable is in use elsewhere.  Stacked searches in Vim are helpful here.</p><p>如果需要，我们会更深入一些--也许是.box的CSS--奇特地使用了一个CSS变量。然后我们检查该变量是否在其他地方使用。Vim中的堆叠搜索在这里很有帮助。</p><p> Once we&#39;ve checked a line in the file, we delete that line. This helps us keep track of what we&#39;ve already checked.</p><p>一旦我们检查了文件中的一行，我们就删除该行。这有助于我们跟踪我们已经检查过的内容。</p><p>    And we continue this way, line by line. Is the  item.title used elsewhere? If not, we should probably remove it, too. What about  format_description,  item.description, the  my.translation.key translation key?</p><p>我们继续这样，一行一行地。Item.Title(项目名称)是否在其他地方使用？如果不是，我们可能也应该把它移除。那么Format_Description、item.Description、my.Translation.key转换键呢？</p><p> Again, we go deeper if required, not removing the  format_description method until we&#39;ve gone through  it line by line.</p><p>同样，如果需要，我们会更深入一些，直到我们逐行检查了Format_Description方法，才会删除它。</p><p> When we&#39;ve looked at every line in  _item_box.html.erb and deleted them as we went, the file will be empty, and we can start popping the stack.</p><p>当我们查看_itembox.html.erb中的每一行并删除它们时，文件将为空，我们可以开始弹出堆栈。</p><p>  And we can finally remove the  &lt;%= render(&#34;item_box&#34;, item: item) %&gt; line, fairly confident that we didn&#39;t leave dead code behind.</p><p>我们最终可以删除&lt；%=Render(&#34；ITEM_BOX&#34；，ITEM：ITEM)%&gt；行，非常确信我们没有留下死代码。</p><p> This probably sounds more tedious than it is. It tends to be quick work, and you can take shortcuts – removing a swathe of lines that don&#39;t reference anything else, or that only call methods that you know are used elsewhere.</p><p>这听起来可能比实际情况更乏味。这往往是一项快速的工作，而且您可以走捷径-删除一些不引用任何其他内容的代码行，或者只调用您知道在其他地方使用的方法的代码行。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://thepugautomatic.com/2020/11/systematically-removing-code/">https://thepugautomatic.com/2020/11/systematically-removing-code/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/代码/">#代码</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/删除/">#删除</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/removing/">#removing</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/是否/">#是否</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1034170.html"><img src="http://img2.diglog.com/img/2020/11/thumb_56a05dc5c975233a30baf94faf5b2661.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034170.html">为什么并发性很难</a></div><span class="my_story_list_date">2020-11-10 7:38</span></div><div class="col-sm"><div><a target="_blank" href="/story/1033720.html"><img src="http://img2.diglog.com/img/2020/11/thumb_bba3eb5c8d73b959a4615157fb01dd65.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1033720.html">FBI警告称黑客滥用错误配置的SonarQube应用程序从美国政府机构和私人企业窃取源代码仓库</a></div><span class="my_story_list_date">2020-11-8 8:44</span></div><div class="col-sm"><div><a target="_blank" href="/story/1033691.html"><img src="http://img2.diglog.com/img/2020/11/thumb_f8aa49dfa5b05dd69bcd9fc030339c08.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1033691.html">如何拥有代码</a></div><span class="my_story_list_date">2020-11-7 18:10</span></div><div class="col-sm"><div><a target="_blank" href="/story/1033690.html"><img src="http://img2.diglog.com/img/2020/11/thumb_0588ada816e1b2413594f6bfb6f8d351.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1033690.html">Vgil：永远保持道德警惕的编程语言</a></div><span class="my_story_list_date">2020-11-7 18:10</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>