<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>跟上Docker官方图像 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">跟上Docker官方图像 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-09 01:00:10</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/6/ad7b8aa4ea33ceeb7e71c071642cb593.jpg"><img src="http://img2.diglog.com/img/2021/6/ad7b8aa4ea33ceeb7e71c071642cb593.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>我们使用Docker官方图像作为我们的几个服务的基础图像。它＆＃39;一个受欢迎的选择，有很好的理由。专门的团队在Docker中审查了他们，并由各自社区的专家积极维护，包括安全社区。</p><p> 当我们第一次开始构建这些图像时，我们努力集成用于释放到社区的修复程序的过程。我可以将问题归结为两个高级桶：</p><p> 我们缺少安全性和错误修复。缺少，我的意思是我们快速使用它们，或者我们申请它们。</p><p> 我们的建造是神秘的。也许所有的构建破坏都是神秘的，但这堂课的破损真的很奇怪！</p><p> 它是＆＃39; t＆＃39;潮流的斑点。维护者们做得很好。事实证明，我们需要更好的方法来管理我们的Dockerfiles。我们需要一个可以利用可靠流入的安全性和错误修复的码头策略。这是我们完全缺少的东西。</p><p>  在真实的事情中地接地，我们＆＃39; ll使用官方OpenJDK图像作为EX。课程适用于任何图像存储库（例如Debian，Node，Nginx或Redis）。</p><p> 让＆＃39; s从进修开始如何编制图像并比较这两个名称： </p><p>在撰写本文时，这两个指同样的事情。在阅读时，他们很可能不会。图像的维护者一直在移动标签。从某种意义上说，他们所做的一切。今天，OpenJDK：11-JRE-Slim-Buster可能指出OpenJDK @ SHA256：46285DCF00260440E00DCB68B5432CBED8F5FEA734470BE6FFB8AC7CC052024B，但然后发布安全修复，并在新的摘要中移动点。</p><p> 知道何时使用每种类型的名称可能会令人困惑。我的同事们在这个主题上写了一个很好的帖子。关键的外卖是具有摘要的图像名称（例如，包含SHA256的人：....）非常适合构建，部署和任何其他应该是可重复的过程。另一方面，当你试图跟上变化时，带标签的图像名称很大。但我们如何结合这两件事？我们如何实现重复性而不会失去保持最新的好处？</p><p>  官方图像的维护者通过更新（推送）标签来修复修复。我们发现它有助于为自己揭开这个过程，所以我＆＃39; LL快速审查这实际上有效。</p><p> 对于官方图像图书馆，所有动作都在开放中发生。任何人都可以在GitHub上的Docker官方图像库中遵循。每个官方图像在此目录中映射到库。例如，OpenJDK库在此处维护。</p><p>  每次构建新图像清单的标签（示例：Debian OpenJDK 11 Build）</p><p>   这告诉我们在哪里寻找Dockerfile，该标签用于推动新的构建，并通过该清单支持哪种平台架构。请注意，这些标签都一起移动。您可以将它们视为别名（如果您＆＃39;曾经想过为什么有这么多的标签似乎在同一件事中，这里有原因！）</p><p> 如果我们遵循Gitcommit和目录，我们＆＃39; ll找到此特定OpenJDK图像的当前Dockerfile。观看这些存储库的自动化执行Docker构建，并按下生成的标签，是一组维护的Jenkins作业。在这里为OpenJDK的作业＆＃39。 </p><p>所以它的本质和＃39;这一切如何结合在一起。幸运的是，我们不需要在这个级别与这些系统互动。</p><p> 我们只需要知道标签何时移动，因为它恰好在我们落后时。</p><p>  在上面的图中，我们观看了11-JRE-Slim-Buster标签。从基础Debian图像或OpenJDK分发的某些东西已更新。在这种特殊情况下，它是一个OpenJDK补丁，其中释放了新版本11.0.11_9。维护者将更新推动到Github repo，自动化启动，标签被推动。它现在要点新的清单。</p><p>   在博客的开始时，我谈到了两个问题 - 随机构建破坏和缺少重要修复。这些问题沸腾了我们如何命名事物以及我们如何跟踪外部更改。我们需要引入具有以下特征的政策：</p><p> 在您的回购中观看所有Dockerfiles。只要从线引用标记时，提高拉出请求。用摘要替换标签（在钉扎上阅读更多）。这使得我们在代码中被检查的构建重复。</p><p> 继续观看这些标签。当它们移动时，提高拉动请求以更新摘要。这确保了我们落后于＆＃39。</p><p> 为Dockerfiles看，突然发现自己使用不再支持的标签。通知所有者（我们建议失败了GitHub CheckRun） </p><p>这些项目共同努力，形成一个策略，以保持关键修复（特别是与安全相关的修复）。第一个项目有用，但它可以独自工作。如果你＆＃39;重新加入一些东西，你需要知道何时移动它。为此，可能比拉动请求更好吗？</p><p>   除了从线路更新外，拉出请求包括来自维护者的变更日志以及当前和所提出的基础图像之间的比较。我们的Pull请求还具有漏洞数据，以提供开发人员的其他上下文来评估更改。它很重要的是要知道这一变化还会消除漏洞。所有这些都被呈现为拉请求评论。</p><p>    从Docker官方图像Readme.md中拉出此报价。报价实际上进入了添加＆＃34;与......＆＃34;但仍然是一个重要的观点。您的基础图像本身可能具有基本图像。例如，当我选择一个像11-JRE-Slim-Buster这样的OpenJDK图像标记时，我不仅仅选择了OpenJDK的主要版本。我也选择了稳定的Debian版本（也可以使用尽可能少的包装中的SLIM版本的＆＃39;</p><p> 这种Debian的分布可能被称为＆＃34;稳定＆＃34;，但修复仍然流入。它＆＃39; sa bit令人困惑，我们通过更新OpenJDK映像来接收我们的Debian修复，但这只是它的方式。在未来，我们可能会发现自己更多地与分类图像工作。目前，这些嵌套修复程序只是进一步突出了保持最新的必要性。</p><p>  官方形象的维护者正在做好工作。当我们首次开始构建这个码头政策时，我们的幕后活动有多少活动感到惊讶。然后，一旦我们打开了政策，我们每月看到几个更新。</p><p> 它＆＃39;知道我们在坚实，维护良好的图像上建造我们的良好的信心感。我们知道我们在重要的修复推出时逃离落后于落后。</p><p> 如果您想尝试我们的新Docker策略，您可以通过安装我们的GitHub应用程序来获得早期访问并在您的Repos上启用它。请记住，这是早期访问，我们每天都会收集反馈，以使其更好，以及您的意见和意见事项。让我们知道你的想法 - 我们渴望收到你的来信。 </p><p>获取您需要完成最佳工作并提供优秀的软件所需的知识和灵感。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.atomist.com/keeping-up-with-docker-official-images/">https://blog.atomist.com/keeping-up-with-docker-official-images/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/docker/">#docker</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/官方/">#官方</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/图像/">#图像</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1064311.html"><img src="http://img2.diglog.com/img/2021/6/thumb_507b68809531948bbeb3c90103d98b7a.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1064311.html">对Docker Hub Autobuilds的更改 </a></div><span class="my_story_list_date">2021-6-8 20:27</span></div><div class="col-sm"><div><a target="_blank" href="/story/1063076.html"><img src="http://img2.diglog.com/img/2021/6/thumb_4acd26d5d18a532b6ed86be343cf2d0e.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1063076.html">使用Docker Compose创建生产准备的Web应用程序的最佳实践 </a></div><span class="my_story_list_date">2021-6-3 23:25</span></div><div class="col-sm"><div><a target="_blank" href="/story/1062297.html"><img src="http://img2.diglog.com/img/2021/5/thumb_210f6642406835fee01f80ba9195e223.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1062297.html">Docker可以减慢您的代码并扭曲您的基准测试 </a></div><span class="my_story_list_date">2021-5-13 5:11</span></div><div class="col-sm"><div><a target="_blank" href="/story/1060217.html"><img src="http://img2.diglog.com/img/2021/4/thumb_85ef67b89e16b17c16ef336b12fccc02.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1060217.html">Heroku风格的部署与Docker和Git标签 </a></div><span class="my_story_list_date">2021-4-26 11:1</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>