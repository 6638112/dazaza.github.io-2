<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>内存，磁盘，CPU：35年如何改变了权衡</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">内存，磁盘，CPU：35年如何改变了权衡</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-23 04:49:00</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/cb2239f4a014a5d570989bf344b77983.jpeg"><img src="http://img2.diglog.com/img/2020/11/cb2239f4a014a5d570989bf344b77983.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>本文（用于磁盘访问的内存交易的5分钟规则和用于CPU时间的内存交易的5字节规则）研究了1980年代初/中期大型铁数据库系统的内存和磁盘空间的经济性，并得出结论：磁盘空间（然后每千字节大约花费20,000美元）和（易失性）内存（每千字节大约5美元）之间的权衡取舍有利于拥有足够的内存来保持您需要每五分钟访问一次的数据。</p><p> 然后，它比较了计算能力的成本（估计每MIPS成本约为50,000美元）和内存–例如，如果压缩数据以节省内存空间，则您将不得不使用额外的计算能力来访问数据。在这里，折衷计算为每条指令每秒大约5个字节的内存。</p><p>  现在，该论文明确排除了将此类比较应用于PC的理由–理由是系统设计选项的灵活性有限，并且存在不同的经济性。但是我们不会那么谨慎。</p><p> 那么，今天的权衡是什么？好吧，让我们考虑一下2TB SSD磁盘的情况。这些成本大约为500英镑（大概是500美元左右），我们假设要采用RAID 5安排–因此，实际上我们需要4个“每个磁盘磁盘”，成本为每千字节0.1便士（7或8）数量级小于35年前）。</p><p> 内存–为简单起见，我们要说128GB的DRAM的价格为1000英镑（高估了，但对于这种计算来说还不错）。这意味着内存的成本约为每KB 1p-因此，尽管两种介质的成本均下降了，但对于永久性存储而言，成本却下降了很多。这种计算的经济性现在已经改变了-这是关于磁盘的成本何时超过了内存，而不是相反。</p><p> 为了进行计算，我们需要查看访问时间。我们假设我们可以在100微秒内访问（读取）SSD上的4KB页面，因此每秒可以处理10,000次此类读取。 4 KB的内存花费4p，而4KB的SSD花费0.4p，因此，要使该项目保留在内存中更便宜，我们大约需要每1/10秒访问一次。</p><p> 另外，我们可以认为这意味着我们的缓存或虚拟内存方案应针对每0.1秒访问一次的页面。</p><p>当然会有很大的性能损失– SSD比磁盘快得多，但比易失性内存慢得多。</p><p>  如上所述，早在1985年，估计计算能力的成本约为每百万百万指令每秒（MIPS）50,000美元。如今，单核设计已基本过时，因此很难为MIPS付出代价–好的并行软件可以从一组3GHz内核中驱动更好的性能，而比希望单核的5GHz猝发速度能为您带来好处。但是，正如我们在此处估算的那样，我们将选择3000 MIPS的价格为500英镑，因此单条MIPS的价格为6英镑（再次大幅下降，但与存储或内存的价格不一样），以及每秒一条指令的成本（同样）约0.001便士。</p><p> 这表明每秒一条指令的成本和一个内存字节的成本大致相当–这使平衡趋向于数据压缩（例如，也许通过在字节中使用位标志而不是例如多个布尔值） ，尽管数量不多。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://cartesianproduct.wordpress.com/2020/11/15/updating-the-five-minute-and-the-5-byte-rules/">https://cartesianproduct.wordpress.com/2020/11/15/updating-the-five-minute-and-the-5-byte-rules/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/内存/">#内存</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/磁盘/">#磁盘</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/changed/">#changed</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1035817.html"><img src="http://img2.diglog.com/img/2020/11/thumb_9b245f67c3b3cbeea18876c89a1c8070.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1035817.html">使用jemalloc在Go中手动进行内存管理</a></div><span class="my_story_list_date">2020-11-22 6:10</span></div><div class="col-sm"><div><a target="_blank" href="/story/1034410.html"><img src="http://img2.diglog.com/img/2020/11/thumb_c3c9efae39d7ebcf5fe1d3f84f835c39.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034410.html">ARM内存模型工具：Morello(和一些内存标记)</a></div><span class="my_story_list_date">2020-11-11 5:50</span></div><div class="col-sm"><div><a target="_blank" href="/story/1034386.html"><img src="http://img2.diglog.com/img/2020/11/thumb_f13ced149f78b76cda9d92768fa2feb1.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034386.html">IBM推出7纳米POWER10 CPU</a></div><span class="my_story_list_date">2020-11-11 4:31</span></div><div class="col-sm"><div><a target="_blank" href="/story/1034358.html"><img src="http://img2.diglog.com/img/2020/11/thumb_95d8f744f0afb6d711b9929ffe863c9a.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034358.html">苹果首次推出搭载M1的13.3英寸MacBook Pro，电池续航时间长达20小时，CPU速度提高2.8倍，ML速度提高11倍，GPU速度提高5倍，内存容量从1,299美元起，最高可达16 GB</a></div><span class="my_story_list_date">2020-11-11 3:0</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>