<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>zForth –适用于嵌入式系统的微型，可嵌入，灵活，紧凑的Forth zForth – Tiny, embeddable, flexible, compact Forth for embedded systems</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">zForth – Tiny, embeddable, flexible, compact Forth for embedded systems<br/>zForth –适用于嵌入式系统的微型，可嵌入，灵活，紧凑的Forth </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-15 20:05:13</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/1/845c3b35bd7c6a7afdd15e4951d3ba9f.jpeg"><img src="http://img2.diglog.com/img/2021/1/845c3b35bd7c6a7afdd15e4951d3ba9f.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>A Forth environment combines the compiler with an interactive shell, wherethe user defines and runs subroutines called words. Words can be tested,redefined, and debugged as the source is entered without recompiling orrestarting the whole program. All syntactic elements, including variablesand basic operators are defined as words. Forth environments vary in how theresulting program is stored, but ideally running the program has the sameeffect as manually re-entering the source.</p><p>Forth环境将编译器与交互式shell结合在一起，用户在其中定义并运行称为word的子例程。可以在输入源代码时测试，重新定义和调试单词，而无需重新编译或重新启动整个程序。所有语法元素（包括变量和基本运算符）均定义为单词。第四环境在结果程序的存储方式上有所不同，但理想情况下，运行程序与手动重新输入源具有相同的效果。</p><p> zForth is yet another Forth, but with some special features not found in mostother forths. Note that zForth was written for engineers, not for languagepurists or Forth aficionados. Its main intention is to be a lightweightscripting language for extending embedded applications on smallmicroprocessors. It is not particularly fast, but should be easy to integrateon any platform with a few kB&#39;s of ROM and RAM.</p><p> zForth是另一个Forth，但具有其他大多数版本所没有的一些特殊功能。请注意，zForth是为工程师而不是为语言纯粹主义者或Forth爱好者编写的。它的主要目的是成为一种轻量级脚本语言，用于在小型微处理器上扩展嵌入式应用程序。它的速度不是特别快，但是应该易于集成到具有几kB ROM和RAM的任何平台上。</p><p> For a lot of programmers Forth seems to belong to the domain of alienlanguages: it does not look like any mainstream language most people encounter,and is built on a number of philosophies that takes some time to get used to.Still, it is one of the more efficient ways of bringing a interpreter andcompiler to a platform with restricted resources.</p><p> 对于许多程序员来说，Forth似乎属于异质语言领域：它看起来并不像大多数人所遇到的主流语言，它是建立在许多需要一定时间才能习惯的哲学基础上的。将解释器和编译器带到资源有限的平台的更有效方法。</p><p>  Small dictionary: instead of relying on a fixed cell size, the dictionary iswritten in variable length cells: small and common numbers take less spacethen larger, resulting in 30% to 50% space saving</p><p>  小字典：字典不依赖于固定的单元格大小，而是在可变长度的单元格中编写：小数和普通数占用的空间较小，然后变大，从而节省了30％到50％的空间</p><p> Portable: zForth is written in 100% ANSI C, and runs on virtually alloperating systems and all architectures. Tested on x86 Linux/Win32/MS-DOS(Turbo-C 1.0!), x86_64, ARM, ARM thumb, MIPS, Atmel AVR and the 8051.</p><p> 可移植性：zForth用100％ANSI C编写，可在几乎所有操作系统和所有体系结构上运行。在x86 Linux / Win32 / MS-DOS（Turbo-C 1.0！），x86_64，ARM，ARM thumb，MIPS，Atmel AVR和8051上进行了测试。</p><p> Small footprint: the kernel C code compiles to about 3 or 4 kB of machinecode, depending on the architecture and chosen cell data types.</p><p> 占用空间小：内核C代码可以编译为大约3或4 kB的机器代码，具体取决于体系结构和所选的单元数据类型。</p><p> Tracing: zForth is able to show a nice trace of what it is doing under thehood, see below for an example.</p><p> 跟踪：zForth能够很好地跟踪其幕后工作，请参见以下示例。 </p><p> VM: Implemented as a small virtual machine: not the fastest, but safe andflexible. Instead of having direct access to host memory, the forth VM memoryis abstracted, allowing proper boundary checking on memory accesses and stackoperations.</p><p>VM：实现为小型虚拟机：不是最快的，但是安全又灵活。代替直接访问主机内存，抽象了第四个VM内存，从而可以对内存访问和堆栈操作进行适当的边界检查。</p><p> Flexible data types: at compile time the user is free to choose what C datatype should be used for the dictionary and the stacks. zForth supports signedinteger sizes from 16 to 128 bit, but also works seamlessly with floating pointtypes like float and double (or even the C99 &#39;complex&#39; type!)</p><p> 灵活的数据类型：在编译时，用户可以自由选择应将哪种C数据类型用于字典和堆栈。 zForth支持从16到128位的有符号整数大小，但还可以与浮点类型（例如float和double）（甚至是C99＆＃39; complex＆＃39;类型！）无缝兼容。</p><p> Ease interfacing: calling C code from forth is easy through a host systemcall primitive, and code has access to the stack for exchanging data betweenForth and C. Calling forth from C is easy, just one function to evaluate forthcode.</p><p> 轻松接口：通过主机系统调用原语轻松地从C进行调用，并且代码可以访问堆栈以在Forth和C之间交换数据。从C进行调用很容易，只有一个函数可以评估第四代码。</p><p>  ./forth : core zforth library and various snippets and examples./src/zforth : zfort core source; embed these into your program./src/linux : example linux application./src/atmega8 : example AVR atmega8 application</p><p>  ./forth：zforth核心库以及各种片段和示例。/src/zforth：zfort核心源代码；将它们嵌入到您的程序中。/src/linux：示例Linux应用程序。/src/atmega8：示例AVR atmega8应用程序</p><p>  zForth consists of only two files: zforth.c and zforth.h. Add both to yourproject and call  zf_init() and  zf_bootstrap() during initialisation. Readforth statements from a file or terminal and pass the strings to  zf_eval() tointerpret, compile and run the code. Check the embedded documentation in zforth.h for details.</p><p>  zForth仅包含两个文件：zforth.c和zforth.h。将两者都添加到您的项目中，并在初始化期间调用zf_init（）和zf_bootstrap（）。从文件或终端中读取语句，并将字符串传递给zf_eval（）以解释，编译和运行代码。有关详细信息，请查看zforth.h中的嵌入式文档。</p><p> zforth.c depends on a number preprocessor constants for configuration whichyou can choose to fit your needs. Documentation is included in the file zfconf.h.</p><p> zforth.c取决于用于配置的许多预处理程序常量，您可以选择这些常量以满足您的需求。文档包含在文件zfconf.h中。</p><p> A demo application for running zForth in linux is provided here, simply run  maketo build.</p><p> 这里提供了一个在Linux上运行zForth的演示应用程序，只需运行maketo build。 </p><p>         : pi 3.141592654 ;: demo pi 0 do i sin . pi 10 / loop+ ;demo</p><p>：皮3.141592654 :: 0演示PI不要犯罪。 PI 10 / +循环：演示</p><p>  include forth/mandel.zf.........................----..........................................----+--.............................................--*-...............................................- --.....--..........................----........--%---------...........................-------------#---------............................------------ ---------............................------------ ---------.............................---------o o--------............................---------o =----------------------.............----o-oo =o-=--------------.............-------# *------------.............--------=-= o-=--------...........--------------= =---------..............-------------+ +---------................-------------=# %=-----------................--------=- -=--------..............------= =------------.....---o = = =---------------- -----------------o+ +o-----------------o =-----------=#=# = = #=#=-----= =---=- + + ==o---oo*== -=*=o------------= =-----------------#= =#-------------------% %------....---...----= =% - #= =----............---=o----* =+*---------*+- *----o=----.............--------------------------------------....</p><p>  包括来回/ mandel.zf ......................... ---- ............... ...........................---- + --................ * .............................-- -................. ..............................- --.....  -  ...... ................ ---- ........--％---------.......... .................-------------＃---------.......... ..................------------ ---------........... .................------------ ---------............ .................---------的--------.............. ..............--------- O = ----------------------... ..........---- 0-∞O =  -  = --------------.............-- ---- *＃------------.............-------- =  -  = O  -  = ---- ----...........-------------- = = ---------.......... ....------------- + + ---------................------ ------- =＃=％-----------................-------- =  -   -  = --------..............------ = = ------------.....--- O = = = ---------------- ----------------- + +○○---------- ------- ----------- O = = = =＃＃=＃=＃= ---- --- = = =  -  + +  -  O == OO * ==  -  = * = O = ------------ = ----------------- =＃=＃------ - ------------ %% ------.... ...---- --- = =％ -  =＃= ----..... .......--- = O ---- * = * + --------- + *  -  * ---- O = ----....... ...... -------------------------------------- ....</p><p>  zForth can write verbose traces of the code it is compiling and running. To enabletracing, run  ./zforth with the  -t argument. Tracing can be enabled at run timeby writing  1 in the  trace variable:</p><p>  zForth可以冗长它编译和运行代码的痕迹写。为了enabletracing，与./zforth ComDleW参数运行。跟踪可以在运行中启用timeby在跟踪变量写入1。</p><p>    stack operations are prefixed with a double arrow,  « means pop,  » means push.for operations on the return stack the arrow is prefixed with an  r</p><p>    堆栈操作的前缀为双箭头，“手段弹出，»手段push.for操作上返回堆栈的箭头前缀的R</p><p>   testr»0 [test/0326] 0326 0001 ┊ (lit) »5 0328 031c ┊ square/031c r»810 031c 000b ┊ ┊ (dup) «5 »5 »5 031d 0007 ┊ ┊ (*) «5 «5 »25 031e 0000 ┊ ┊ (exit) r«810 032a 0133 ┊ ./0133 r»812 0133 0001 ┊ ┊ (lit) »1 0135 0019 ┊ ┊ (sys) «1 «25 0136 0000 ┊ ┊ (exit) r«812 032c 0000 ┊ (exit) r«0 25</p><p>   testr»0 [试验/ 0326] 0326 0001┊（点亮）»5 0328 031C┊价格/ 031Cř»810 031C 000B┊┊（DUP）«5»5»5 031d 0007┊┊（*）«5«5» 25 031E 0000┊┊（出口）R«810 0133 032A┊./0133ř»812 0133 0001┊┊（点亮）»1 0135 0019┊┊（SYS）«1«0136 25 0000┊┊（出口）R«812 0000┊032C（出口）R«0 25</p><p>  : square dup * ;r»0 [:/002c] 002c 0003 ┊ (:) 002c 0003 ┊ (:) === create &#39;square&#39;+0313 0006 ¹ +0314 02eb ² +0316 0000 s &#39;square&#39;=== 002d 0000 ┊ (exit) r«0 +031c 000b ¹ +dup+031d 0007 ¹ +*r»0 [;/0031] 0031 0004 ┊ (;) +031e 0000 ¹ +exit=== 0032 0000 ┊ (exit) r«0 : test 5 square . ;r»0 [:/002c] 002c 0003 ┊ (:) 002c 0003 ┊ (:) === create &#39;test&#39;+031f 0004 ¹ +0320 0313 ² +0322 0000 s &#39;test&#39;=== 002d 0000 ┊ (exit) r«0 +0326 0001 ¹ +lit+0327 0005 ¹ +0328 031c ² +square+032a 0133 ² +.r»0 [;/0031] 0031 0004 ┊ (;) +032c 0000 ¹ +exit=== 0032 0000 ┊ (exit) r«0</p><p>  ：Dup的价格*，R»0 / 002C] 0003┊002C（002C :)┊0003（:) ===创建＆＃39;＆＃39价格：0314 0313 0006¹²02eb 0316 0000 S＆ ＃39，＃39＆平方; === 002D 0000┊（出口）R«0 + 031C 000B¹+ DUP + 031d 0007¹+ R *»0 0031 0004┊（）+ 031E 0000¹+ [/ 0031。]出口=== 0032 0000┊（出口）R«0：5方检验。 ; R»0 / 002C] 0003┊002C（002C :)┊0003（:) ===创建＆＃39;测试＆＃39; 0004 + 031f¹²0322 0320 0313 0000 S＆＃39;试验＆ ＃39：[/ 0031] 0000┊=== 002D（出口）R«0 0326 0001¹+点亮+ 0327 0328 0005¹²031C +正方形+ 032A 0133²+吐痰»0 0031 0004┊（; ）+ 032C + 0000¹0032 0000 ===出口┊（出口）R«0 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/zevv/zForth">https://github.com/zevv/zForth</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/适用/">#适用</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/tiny/">#tiny</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/zforth/">#zforth</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>