<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>BigInt终于在ES2020中亮相 BigInt is finally here in ES2020</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">BigInt is finally here in ES2020<br/>BigInt终于在ES2020中亮相 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-01 19:58:24</div><div class="page_narrow text-break page_content"><p>BigInt is a built-in object that provides a way to represent whole numbers larger than 2 53 - 1, which is the largest number JavaScript can reliably represent with the   Number  primitive and represented by the   Number.MAX_SAFE_INTEGER constant.   BigInt can be used for arbitrarily large integers.</p><p>BigInt是一个内置对象，提供了一种表示大于2 53-1的整数的方法，这是JavaScript可以可靠地用Number原语表示的最大数字，并由Number.MAX_SAFE_INTEGER常量表示。 BigInt可用于任意大整数。</p><p>  A  BigInt is created by appending  n to the end of an integer literal —  10n — or by calling the function  BigInt().</p><p>  通过将n附加到整数文字（10n）的末尾或调用函数BigInt（）来创建BigInt。</p><p> const previouslyMaxSafeInteger  =  9007199254740991n const alsoHuge  =  BigInt ( 9007199254740991 ) // ↪ 9007199254740991n const hugeString  =  BigInt ( &#34;9007199254740991&#34; ) // ↪ 9007199254740991n const hugeHex  =  BigInt ( &#34;0x1fffffffffffff&#34; ) // ↪ 9007199254740991n const hugeOctal  =  BigInt ( &#34;0o377777777777777777&#34; ) // ↪ 9007199254740991n const hugeBin  =  BigInt ( &#34;0b11111111111111111111111111111111111111111111111111111&#34; ) // ↪ 9007199254740991n</p><p> const previousMaxSafeInteger = 9007199254740991n const AlsoHuge = BigInt（9007199254740991）//↪9007199254740991n const hugeString = BigInt（＆＃34; 9007199254740991＆＃34;）//↪9007199254740991n const hugeHex = BigInt（＆＃34; ff） 9007199254740991n const hugeOctal = BigInt（＆＃34; 0o377777777777777777＆＃34;）//↪9007199254740991n const hugeBin = BigInt（＆＃34; 0b11111111111111111111111111111111111111111111111111111＆＃34;）//↪9007199254740991n</p><p> BigInt is similar to   Number in some ways, but also differs in a few key matters — it cannot be used with methods in the built-in   Math object and cannot be mixed with instances of  Number in operations; they must be coerced to the same type. Be careful coercing values back and forth, however, as the precision of a  BigInt may be lost when it is coerced to a  Number.</p><p> BigInt在某些方面类似于Number，但在一些关键方面也有所不同–它不能与内置Math对象中的方法一起使用，也不能与操作中Number的实例混合；它们必须被强制为相同类型。但是，要小心地来回强制转换值，因为将BigInt转换为Number时，它的精度可能会丢失。</p><p>  When wrapped in an  Object, a  BigInt will be considered as a normal &#34;object&#34; type:</p><p>  当包装在Object中时，BigInt将被视为普通的＆＃34; object＆＃34;。类型：</p><p>  The following operators may be used with  BigInts (or object-wrapped  BigInts):  +,  *,  -,  **,  %.</p><p>  以下运算符可以与BigInts（或对象包装的BigInts）一起使用：+，*，-，**，％。</p><p> Bitwise operators are supported as well, except  &gt;&gt;&gt; (zero-fill right shift) as all BigInts are signed.</p><p> 除＆gt;＆gt;＆gt;外，还支持按位运算符。 （零填充右移），因为所有BigInts均已签名。 </p><p>  const previousMaxSafe  =  BigInt (Number . MAX_SAFE_INTEGER ) // ↪ 9007199254740991n const maxPlusOne  = previousMaxSafe  +  1n // ↪ 9007199254740992n const theFuture  = previousMaxSafe  +  2n // ↪ 9007199254740993n, this works now! const multi  = previousMaxSafe  *  2n // ↪ 18014398509481982n const subtr  = multi –  10n // ↪ 18014398509481972n const mod  = multi  %  10n // ↪ 2n const bigN  =  2n  **  54n // ↪ 18014398509481984nbigN  *  - 1n // ↪ –18014398509481984n</p><p>const previousMaxSafe = BigInt（Number。MAX_SAFE_INTEGER）//↪9007199254740991n const maxPlusOne = previousMaxSafe + 1n //↪9007199254740992n const theFuture = previousMaxSafe + 2n //↪9007199254740993n，现在可以使用！ const multi = previousMaxSafe * 2n //↪18014398509481982n const subtr = multi – 10n //↪18014398509481972n const mod = multi％10n //↪2n const bigN = 2n ** 54n //↪180143985094819841984nbigN *-1n //↪–18014398509489481984n</p><p>  However, since these are  BigInts and not  BigDecimals, this operation will round towards  0 (which is to say, it will not return any fractional digits).</p><p>  但是，由于这些是BigInts而不是BigDecimals，因此此操作将舍入为0（也就是说，它将不返回任何小数位）。</p><p>  const expected  =  4n  /  2n // ↪ 2n const rounded  =  5n  /  2n // ↪ 2n, not 2.5n</p><p>  常量const = 4n / 2n //↪2n常量四舍五入= 5n / 2n // n 2n，不是2.5n</p><p>  1n  &lt;  2 // ↪ true 2n  &gt;  1 // ↪ true 2  &gt;  2 // ↪ false 2n  &gt;  2 // ↪ false 2n  &gt;=  2 // ↪ true</p><p>  1n ＜ 2 //↪true 2n＆gt; 1 //↪true 2＆gt; 2 //↪false 2n＆gt; 2 //↪假2n＆gt; = 2 //↪真</p><p>  const mixed  =  [ 4n ,  6 ,  - 12n ,  10 ,  4 ,  0 ,  0n ] // ↪ [4n, 6, -12n, 10, 4, 0, 0n]mixed . sort ( )  // default sorting behavior // ↪ [ -12n, 0, 0n, 10, 4n, 4, 6 ]mixed . sort ( ( a , b )  =&gt; a  - b ) // won&#39;t work since subtraction will not work with mixed types // TypeError: can&#39;t convert BigInt to number // sort with an appropriate numeric comparatormixed . sort ( ( a , b )  =&gt;  (a  &lt; b )  ?  - 1  :  ( (a  &gt; b )  ?  1  :  0 ) ) // ↪ [ -12n, 0, 0n, 4n, 4, 6, 10 ]</p><p>  const mixed = [4n，6，-12n，10，4，0，0n] //↪[4n，6，-12n，10，4，0，0n] mixed。 sort（）//默认排序行为//↪[-12n，0，0n，10，4n，4，6] mixed。 sort（（a，b）=＆gt; a-b）//不会工作，因为减法不适用于混合类型// TypeError：不能将BigInt转换为数字//用适当的数字排序比较器混合。 sort（（a，b）=＆gt;（a＆lt; b）？-1：（（a＆b; b）？1：0））//↪[-12n，0，0n，4n，4，6， 10]</p><p> Note that comparisons with  Object-wrapped  BigInts act as with other objects, only indicating equality when the same object instance is compared:</p><p> 请注意，与对象包装的BigInts进行的比较与对其他对象的比较一样，仅当比较相同的对象实例时才表示相等：</p><p> 0n  ===  Object ( 0n )  // false Object ( 0n )  ===  Object ( 0n )  // false const o  =  Object ( 0n )o  === o  // true</p><p> 0n ===对象（0n）//错误对象（0n）===对象（0n）//错误const o =对象（0n）o === o // true </p><p>  if  ( 0n )  { console . log ( &#39;Hello from the if!&#39; ) }  else  { console . log ( &#39;Hello from the else!&#39; ) } // ↪ &#34;Hello from the else!&#34; 0n  ||  12n // ↪ 12n 0n  &amp;&amp;  12n // ↪ 0n Boolean ( 0n ) // ↪ false Boolean ( 12n ) // ↪ true ! 12n // ↪ false ! 0n // ↪ true</p><p>如果（0n）{控制台。日志（如果是，则为＆＃39您好！＆＃39;）}其他{控制台。 log（＆＃39; else的问候！＆＃39;）} //↪＆＃34; Hello else的问候！＆＃34; 0n || 12n //↪12n 0n＆amp;＆amp; 12n //↪0n布尔（0n）//↪false布尔（12n）//↪true！ 12n //↪假！ 0n //↪是</p><p>      Returns a string representing the specified object in the specified radix (base). Overrides the   Object.prototype.toString() method.</p><p>      返回一个字符串，该字符串表示指定基数（基数）中的指定对象。重写Object.prototype.toString（）方法。</p><p>    Because coercing between   Number and  BigInt can lead to loss of precision, it is recommended to only use  BigInt when values greater than 2 53 are reasonably expected and not to coerce between the two types.</p><p>    由于Number和BigInt之间的强制可能会导致精度降低，因此建议仅在合理预期大于2 53的值时才使用BigInt，而不要在两种类型之间强制使用BigInt。</p><p>  The operations supported on  BigInts are not constant time.  BigInt is therefore  unsuitable for use in cryptography.</p><p>  BigInts支持的操作不是固定时间。因此，BigInt不适合用于密码学中。</p><p>  Using   JSON.stringify() with any  BigInt value will raise a  TypeError as  BigInt values aren&#39;t serialized in JSON by default. However, you can implement your own  toJSON method if needed:</p><p>  将JSON.stringify（）与任何BigInt值一起使用会引发TypeError，因为默认情况下不会在JSON中序列化BigInt值。但是，如果需要，您可以实现自己的toJSON方法：</p><p>    // Returns true if passed BigInt is a prime number function  isPrime ( p )  {  for  ( let i  =  2n ; i  * i  &lt;= p ; i ++ )  {  if  (p  % i  ===  0n )  return  false ;  }  return  true } // Takes a BigInt as an argument, returns nth prime number as BigInt function  nthPrime ( nth )  {  let maybePrime  =  2n  let prime  =  0n  while  (nth  &gt;=  0n )  {  if  ( isPrime (maybePrime ) )  { nth -- prime  = maybePrime  } maybePrime ++  }  return prime } nthPrime ( 20n ) // ↪ 73n</p><p>    //如果传递的BigInt是质数函数，则返回true isPrime（p）{for（let i = 2n; i * i＆lt; = p; i ++）{if（p％i === 0n）return false; } return true} //以Bi​​gInt作为参数，返回第n个素数作为BigInt函数nthPrime（nth）{let mayPrime = 2n let prime = 0n while（nth＆gt; = 0n）{if（isPrime（maybePrime））{ nth-素=可能Prime}可能Prime ++}返回素} nthPrime（20n）//↪73n</p><p>       The following table provides a daily implementation status for this feature, because this feature has not yet reached cross-browser stability. The data is generated by running the relevant feature tests in  Test262, the standard test suite of JavaScript, in the nightly build, or latest release of each browser&#39;s JavaScript engine.</p><p>       下表提供了此功能的每日实施状态，因为该功能尚未达到跨浏览器的稳定性。数据是通过在每个浏览器的JavaScript引擎的夜间版本或最新版本的Test262（JavaScript的标准测试套件）中运行相关功能测试生成的。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/2020/">#2020</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/es2020/">#es2020</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/finally/">#finally</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/bigint/">#bigint</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>