<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>macOS上Tun和Tap VPN的未来（2020年）The Future of Tun and Tap VPNs on macOS (2020)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">The Future of Tun and Tap VPNs on macOS (2020)<br/>macOS上Tun和Tap VPN的未来（2020年）</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2022-02-25 20:52:13</div><div class="page_narrow text-break page_content"><p>To connect to a VPN, Tunnelblick needs to use a special kind of device driver:</p><p>要连接到VPN，Tunnelblick需要使用一种特殊的设备驱动程序：</p><p> For a Tun VPN, macOS includes a built-in &#34;utun&#34; device driver which can be used so that Tunnelblick&#39;s Tun system extension does not need to be loaded. Most OpenVPN configuration files will automatically use the &#34;utun&#34; driver, but some include options that require Tunnelblick to use its own Tun system extension. Those configuration files should be modified so that the built-in macOS &#34;utun&#34; device driver can be used. (For simple instructions to make such modifications, see  Errors Loading System Extensions.)</p><p>对于Tun VPN，macOS包括一个内置的&#34；乌图&#34；设备驱动程序，可用于Tunnelblick和#39；s Tun系统扩展不需要加载。大多数OpenVPN配置文件将自动使用&#34；乌图&#34；驱动程序，但有些选项要求Tunnelblick使用自己的Tun系统扩展。应修改这些配置文件，以便内置macOS&#34；乌图&#34；可以使用设备驱动程序。（有关进行此类修改的简单说明，请参阅错误加载系统扩展。）</p><p> For a Tap VPN, Tunnelblick&#39;s Tap system extension must be loaded because macOS does not have a built-in Tap device driver.</p><p>对于Tap VPN，Tunnelblick&#39；s Tap系统扩展必须加载，因为macOS没有内置的Tap设备驱动程序。</p><p> Apple has made it more and more difficult to load system extensions with each new version of macOS. They have also announced that in &#34;a future version&#34; of macOS, you will not be able to use system extensions at all.</p><p>苹果已经使得在每个新版本的macOS中加载系统扩展变得越来越困难。他们还宣布&#34；未来版本&#34；对于macOS，您将根本无法使用系统扩展。</p><p>   You might see a warning from Tunnelblick about this change, or you might see the following warning when connecting your VPN:</p><p>您可能会看到Tunnelblick发出的有关此更改的警告，或者在连接VPN时可能会看到以下警告：</p><p>   If you have a Tap VPN, a future version of macOS will cause your VPN to stop working. (Apple&#39;s announcement to developers is worded differently and  may mean that users will be able to use some mechanism to enable Tap VPNs to continue to work, but that interpretation is contradicted by the warning shown above. See  What Apple announced, below.) You  may be able to convert your Tap VPN to a Tun VPN which will work. However, that requires being able to change the OpenVPN configurations on both your computer and on the VPN server, and it may not provide all of the networking facilities that you are currently using. Consult your VPN service provider or OpenVPN experts and support for help with doing this.</p><p>如果你有一个Tap VPN，macOS的未来版本将导致你的VPN停止工作。（苹果（Apple&#39；向开发者发布的公告措辞不同，可能意味着用户将能够使用某种机制使Tap VPN继续工作，但这种解释与上面显示的警告相矛盾。请参阅下面苹果发布的内容。）您可以将您的Tap VPN转换为Tun VPN，这将正常工作。但是，这需要能够更改计算机和VPN服务器上的OpenVPN配置，并且它可能无法提供您当前使用的所有网络设施。请咨询您的VPN服务提供商或OpenVPN专家和支持人员，以获取相关帮助。</p><p> If you have a Tun VPN, your configurations may continue to work in future version of macOS without you doing anything, or you might need to make a simple change to the OpenVPN configuration file so that the configuration will continue to work. If your OpenVPN configuration file  does not contain a &#34;dev-node&#34; option, you do not need to do anything and the configuration will continue to work. If your OpenVPN configuration file  does contain a &#34;dev-node&#34; option, you will need to remove that option so the configuration continues to work (see below).</p><p>如果您有一个Tun VPN，您的配置可能会在未来版本的macOS中继续工作，而无需执行任何操作，或者您可能需要对OpenVPN配置文件进行简单更改，以便配置继续工作。如果您的OpenVPN配置文件不包含&#34；开发节点&#34；选项，则无需执行任何操作，配置将继续工作。如果您的OpenVPN配置文件确实包含&#34；开发节点&#34；选项，您将需要删除该选项，以便配置继续工作（见下文）。</p><p>  Apple does not announce its intentions in advance, so there may not be any prior notice of this change. It may appear in a version of macOS Big Sur, or may appear in a later version of macOS.</p><p>苹果没有提前宣布其意图，因此可能没有任何关于这一变化的事先通知。它可能出现在macOS Big Sur的一个版本中，也可能出现在macOS的更高版本中。</p><p>   Tunnelblick will warn you if one or more of your VPNs requires a Tun or Tap system extension, but you will not see this warning if you clicked &#34;do not warn me about this again&#34;. You can &#34;Reset Disabled Warnings&#34; (on the &#34;Preferences&#34; panel of Tunnelblick&#39;s &#34;VPN Details&#34; window) and then quit and relaunch Tunnelblick to be warned about the problem, or you can do the following for each of your VPN configurations:</p><p>如果一个或多个VPN需要Tun或Tap系统扩展，Tunnelblick将向您发出警告，但如果您单击&#34；别再提醒我这件事了；。你可以&#34；重置禁用的警告&#34；（在Tunnelblick&#39；s&#34；VPN详细信息&#34；窗口的&#34；首选项&#34；面板上），然后退出并重新启动Tunnelblick以获得有关问题的警告，或者您可以对每个VPN配置执行以下操作：</p><p> Click to select the configuration in the left side of the &#34;Configurations&#34; panel of Tunnelblick&#39;s &#34;VPN Details&#34; window.</p><p>单击以选择&#34左侧的配置；配置&#34；Tunnelblick和#39的面板；s&#34；VPN详细信息&#34；窗</p><p> Click on the little &#34;gear&#34; icon at the bottom of the list, then click &#34;Edit OpenVPN Configuration File&#34; or &#34;Examine OpenVPN Configuration File&#34;.</p><p>点击小号&#34；齿轮和#34；图标，然后单击&#34；编辑OpenVPN配置文件&#34；或&#34；检查OpenVPN配置文件&#34；。</p><p> If a line begins with &#34;dev-node tun&#34;, the VPN requires a Tun system extension, but you can modify the OepnVPN configuration file so the Tun system extension is not required; see below.</p><p>如果一行以&#34开头；开发节点tun&#34；，VPN需要Tun系统扩展名，但您可以修改OepnVPN配置文件，这样就不需要Tun系统扩展名；见下文。</p><p> How to modify a Tun VPN so it will not require the Tun system extension</p><p>如何修改Tun VPN，使其不需要Tun系统扩展</p><p> First, make sure the VPN does not have &#34;Always load Tun driver&#34; selected in the &#34;Advanced&#34; settings window.</p><p>首先，确保VPN没有#34；始终加载Tun驱动程序&#34；在&#34；高级&#34；设置窗口。</p><p> Then, you need to remove the dev-node option if it exists in the VPN&#39;s OpenVPN configuration file and make sure a &#34;dev tun&#34; option exists:</p><p>然后，如果VPN&#39；s OpenVPN配置文件，并确保a&#34；戴夫·敦和#34；选项存在：</p><p> Click to select a configuration in the left side of the &#34;Configurations&#34; panel of Tunnelblick&#39;s &#34;VPN Details&#34; window.</p><p>单击以在&#34；配置&#34；Tunnelblick和#39的面板；s&#34；VPN详细信息&#34；窗</p><p> Click on the little &#34;gear&#34; icon at the bottom of the list of configurations. If you can click &#34;Make Configuration Private…&#34;, do so and have a computer administrator authorize the change. (If you can&#39;t click it, don&#39;t : )</p><p>点击小号&#34；齿轮和#34；图标位于配置列表底部。如果你可以点击&#34；将配置设为私有…&#34；，这样做，并让计算机管理员授权更改。（如果你不能点击它，就不要点击。）</p><p> Click on the little &#34;gear&#34; icon and click on &#34;Edit OpenVPN Configuration File…&#34;. The configuration file will open in Apple&#39;s &#34;TextEdit&#34; editor.</p><p>点击小号&#34；齿轮和#34；点击&#34；编辑OpenVPN配置文件…&#34；。配置文件将在Apple&#39；s&#34；文本编辑&#34；编辑</p><p> Find a line that starts with &#34;dev-node tun&#34;. If you find one, delete the line. If you dont find one, skip the next step.</p><p>找一行以&#34开头；开发节点tun&#34；。如果你找到了，删除这行。如果找不到，请跳过下一步。</p><p> Look for a line that starts &#34;dev tun&#34; or &#34;dev-type tun&#34;. If neither one exists in the file, add a new line that says &#34;dev tun&#34;.</p><p>找一行开头是&#34；戴夫·敦和#34；或&#34；dev type tun&#34；。如果文件中不存在任何一个，请添加一行，显示&#34；dev tun&#34；。</p><p>  If you previously made the configuration private, make it shared by clicking the little &#34;gear&#34; icon, clicking &#34;Make Configuration Shared&#34;, and having the change authorized by a computer administrator.</p><p>如果之前将配置设置为私有，请单击小的&#34；齿轮和#34；图标，点击&#34；使配置共享&#34；，并由计算机管理员授权进行更改。</p><p> If you made changes to the file and did not change it from shared to private and back to shared, the next time you connect the configuration you will be asked to have a computer administrator authorize the changes.</p><p>如果您对文件进行了更改，但没有将其从“共享”更改为“专用”再更改为“共享”，则下次连接配置时，将要求您让计算机管理员授权这些更改。</p><p>   If you have a Tun VPN which does not need to be modified, or has been modified as described above, and Tunnelblick or macOS Catalina still complains, then you have changed a Tunnelblick setting and should restore it to the default setting. All configurations should be set to &#34;Load tun driver automatically&#34; and &#34;Load tap driver automatically&#34;. These settings are found on the &#34;Connecting &amp; Disconnecting&#34; tab of the &#34;Advanced&#34; settings window. Recent versions of Tunnelblick will automatically disable loading of &#34;tun&#34; and &#34;tap&#34; system extensions on versions of macOS that do not allow Tunnelblick to load them.</p><p>如果您有一个不需要修改的Tun VPN，或者已经按照上述方式进行了修改，并且Tunnelblick或macOS Catalina仍在抱怨，那么您已经更改了Tunnelblick设置，应该将其恢复为默认设置。所有配置都应设置为&#34；自动加载tun驱动程序&#34；和&#34；自动加载抽头驱动程序&#34；。这些设置可在&#34；连接&amp；断开与#34；第34页的标签；高级&#34；设置窗口。Tunnelblick的最新版本将自动禁用加载&#34；屯&#34；和&#34；点击&#34；macOS版本上不允许Tunnelblick加载的系统扩展。</p><p>  This situation is caused by changes in macOS, not a change in Tunnelblick, so older versions of Tunnelblick will not help. All Macs running OS X 7.5 or later should use the latest stable or beta version of Tunnelblick. See  Deprecated Downloads for a version of Tunnelblick that should be used on earlier versions of OS X and on all PowerPC Macs.</p><p>这种情况是由macOS中的更改引起的，而不是Tunnelblick中的更改，所以旧版本的Tunnelblick不会有帮助。所有运行OS X 7.5或更高版本的Mac电脑都应该使用最新的稳定版或测试版Tunnelblick。有关Tunnelblick的版本，请参阅不推荐的下载，该版本应在早期版本的OS X和所有PowerPC Mac上使用。</p><p>  Apple has announced that &#34;future OS releases will no longer load system extensions that use deprecated KPIs by default&#34;. Tunnelblick includes, and for some configurations loads one of two such extensions:</p><p>苹果宣布&#34；未来的操作系统版本将不再加载默认情况下使用不推荐的KPI的系统扩展；。Tunnelblick包括两个这样的扩展，对于某些配置，还加载其中一个扩展：</p><p> Tun configurations  may require the use of the other system extension but can easily be modified so no system extension is required.</p><p>Tun配置可能需要使用其他系统扩展，但很容易修改，因此不需要系统扩展。</p><p> It isn&#39;t clear what Apple means by the phrase &#34;by default&#34;. It  may mean that Apple will provide a mechanism for users to allow loading of system extensions that use deprecated KPIs. However, Apple&#39;s practice has been to make such mechanisms very difficult to use, and the warning in macOS Catalina does not indicate such a mechanism will be provided.</p><p>它不是&#39；我不清楚苹果这个短语是什么意思&#34；默认情况下&#34；。这可能意味着苹果将为用户提供一种机制，允许加载使用不推荐的KPI的系统扩展。然而，苹果公司&#39；马科斯·卡塔利纳的做法是使这种机制很难使用，而macOS Catalina中的警告并没有表明将提供这种机制。</p><p> Early versions of macOS Big Sur may allow system extensions to be loaded if  SIP is disabled, see  Tunnelblick on macOS Big Sur.</p><p>如果禁用SIP，macOS Big Sur的早期版本可能允许加载系统扩展，请参阅macOS Big Sur上的Tunnelblick。</p><p>    macOS Catalina loads Tunnelblick&#39;s system extensions (which are signed by &#34;Jonathan Bullard&#34;), but the user must interactively allow this in the Security and Privacy window of System Preferences.</p><p>macOS Catalina装载Tunnelblick和#39；s系统扩展（由&#34；乔纳森·布拉德&#34；签署），但用户必须在系统首选项的“安全和隐私”窗口中以交互方式允许此操作。</p><p> macOS Big Sur 11.0.1 refuses to load Tunnelblick&#39;s existing, notarized system extensions unless  SIP is disabled. It isn&#39;t known if this behavior will be present in future versions of Big Sur; 11.1.0 does  not require SIP to be disabled. Apple&#39;s suggested workaround, using an &#34;installer package&#34;, cannot be easily integrated into the Tunnelblick installation process. It is possible that someone else will develop an installer which can load Tunnelblick&#39;s system extensions and make it publicly available, but there is no way to know if or when that will happen. (If it does happen, we expect to link to the installer or installers on the  Downloads page.)</p><p>macOS Big Sur 11.0.1拒绝装载Tunnelblick和#39；s现有的、经过公证的系统扩展，除非禁用SIP。它不是&#39；不知道这种行为是否会出现在未来版本的Big Sur中；11.1.0不要求禁用SIP。苹果公司&#39；s建议使用&#34；安装程序包&#34；，无法轻松集成到Tunnelblick安装过程中。有可能其他人会开发一个安装程序，可以加载Tunnelblick&#39；并将其公开，但无法知道这是否会发生或何时发生。（如果确实发生了，我们希望在下载页面上链接到安装程序。）</p><p> Versions of Tunnelblick that are running on macOS Big Sur may disable loading of system extensions. You may override this; see  Tunnelblick on macOS Big Sur for details.</p><p>在macOS Big Sur上运行的Tunnelblick版本可能会禁用系统扩展的加载。你可以推翻这一点；有关详细信息，请参见macOS Big Sur上的Tunnelblick。</p><p> Apple proposes that programs such as Tunnelblick be modified to use a different method to accomplish the function that the system extensions currently perform. The current Tunnelblick developers do not have the time or expertise to use the new method Apple proposes and have no plans to do so. It is possible that someone else will develop such an alternative method and make it publicly available, but there is no way to know if or when that will happen. (If it does happen, we expect to include it in Tunnelblick.)</p><p>苹果建议修改Tunnelblick等程序，以使用不同的方法来完成系统扩展当前执行的功能。目前的Tunnelblick开发者没有时间或专业知识来使用苹果提出的新方法，也没有计划这样做。其他人可能会开发出这样一种替代方法，并将其公开，但无法知道是否会或何时会发生。（如果确实发生了，我们希望将其包括在Tunnelblick中。）</p><p>  At some point in the future when Tunnelblick no longer supports versions of macOS that can load system extensions, system extension loading and unloading will probably be removed from Tunnelblick. Historically, Tunnelblick has supported several years of macOS releases. As of June 2020 Tunnelblick supports OS X and macOS versions as far back as 10.7.5, which was released in 2012, so it is anticipated that the removal will not take place until the mid- to late-2020s.</p><p>在未来的某个时刻，当Tunnelblick不再支持可以加载系统扩展的macOS版本时，系统扩展加载和卸载可能会从Tunnelblick中删除。从历史上看，Tunnelblick支持macOS发布数年。截至2020年6月，Tunnelblick支持的OS X和macOS版本最早可追溯到2012年发布的10.7.5版本，因此预计要到2020年代中后期才会进行删除。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/2020/">#2020</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/vpn/">#vpn</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/tun/">#tun</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>