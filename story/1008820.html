<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>HTML++用C++模板编写HTML</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">HTML++用C++模板编写HTML</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-29 11:59:31</div><div class="story_img_container"><a href="http://img.diglog.com/img/2020/6/031ab9869ad2cbe00085a1cd16d7385a.png"><img src="http://img.diglog.com/img/2020/6/031ab9869ad2cbe00085a1cd16d7385a.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>使用C++模板编写HTML。HTML文档表示为单个深度嵌套类型，编译器使用有关HTML元素如何允许嵌套的某些规则进行类型检查(例如，任何内容都不能是&lt；br&gt；标记的子级)。</p><p>如果编译成功，您将拥有一个在运行时将正确缩进的HTML文档打印到标准输出的程序。</p><p>&lt；html&gt；&lt；Head&gt；&lt；Title&gt；帮助我。&lt；/title&gt；&lt；/head&gt；&lt；body&gt；h1&gt；The Horror！&lt；/h1&gt；&lt；p&gt；以前可能有人这样做过，但我明白为什么它没有流行起来。&lt；/p&&gt;；&lt；a href=&#34；https://github.com/csb6/html-plus-plus&#34；&gt；对于科学&lt；/a&gt；&lt；/Body&gt；&lt；/html&gt；</p><p>#include&lt；iostream&gt；#include&#34；html++.h&#34；int main(){html&lt；head&lt；title&lt；&#34；帮助我。恐怖！&34；&gt；&gt；，Body&lt；H1&lt；&34；the Horror！&34；&gt；，p&lt；&34；以前可能有人这么做过，但我明白为什么它没有流行起来。&#34；&gt；，a&lt；&#34；href=https://github.com/csb6/html-plus-plus&34；，&#34；&gt；&gt；&gt；页；std：：cout&lt；&lt；页。内容；返回0；}。</p><p>此库需要C++20。它可以与启用了-std=c++2a的GCC 9.2.0一起使用。它不能与Apple Clang11.0一起使用，但可以在其他编译器上使用。IFC++20是在给定的编译器上完全实现的，它应该能够编译。</p><p>我正在编写一些HTML，我意识到HTML标记的结构和语法与C++模板的结构/语法非常相似。两者都使您能够将标识符嵌套到树结构中。</p><p>由于可变模板是添加到C++中的，因此一个模板可以容纳参数包中的任意数量的其他类型，从而使父节点能够容纳任意数量的子节点。这是用C++类型正确表示HTML元素所必需的。</p><p>从C++20开始，现在可以使用字符串文字作为非类型模板参数(例如，h1&lt；&#34；这是一个标题&#34；&gt；)，这使得C++模板能够更接近地模仿HTML标记的外观。</p><p>我想我应该看看那会有多可怕，而且，正如我所预料的，这是非常可笑的。</p><p>整个库基本上是连接字符串的一种奇妙方式，每个标记都定义为自己的模板结构(例如Template&lt；.&gt；struct H1{.}；)。每个标记接受0个或多个类型/非类型模板参数。模板参数可以是HTML属性(例如&#34；img&lt；src=&#39；pic.png&39；&#34；，&#34；alt=&#39；A Picture&39；&34；&gt；)或任意长度的其他元素类型列表，这些元素类型本身可以将其他类型保存为子节点(例如html&lt；head&lt；title&lt；.&gt；body&lt；.&gt；</p><p>类型安全可以通过只定义对标记有意义的模板参数来实现(例如，&lt；img&gt；是一个自动关闭的标记，因此接受子节点的模板参数包是没有意义的)。通过使用继承和static_assert以及幻影类型(例如，img继承自名为body_element_tag的空结构)，可以确保标记作为给定节点的子节点具有语义意义。通过这种方式，可以对HTML进行一定程度的类型检查。</p><p>输出文本是通过预先排序遍历类型树，递归调用每个类型构造函数来组装的。每个元素将其开始标记(例如&lt；html&gt；)添加到字符串中，然后通过引用每个子元素递归传递该字符串。一旦所有的子节点都添加了它们的开始标记，每个节点就会添加它的结束标记(例如&lt；/html&gt；)，并从其构造函数返回。该字符串存储在顶级节点(HTML)的成员中，并且可以像正常字符串一样在运行时打印和/或使用。字符串是在运行时汇编的；但是，文档的结构是在编译时定义的。</p><p>大概不会吧。但是，我认为类型检查方面可能很有用。我还没有添加所有的HTML标记，但是从理论上讲，这个库可以以这样一种方式进行扩展，即您可以使用某种强类型来编写HTML，这对于确保HTML标准的一致性可能很有用。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/csb6/html-plus-plus">https://github.com/csb6/html-plus-plus</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/c++/">#c++</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/html/">#html</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1007898.html"><img src="http://img.diglog.com/img/2020/6/thumb_7cf484ceeae6bc7fc2161eddc603cd15.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1007898.html">面向C++语言的外部模块系统--Sin of Sloth</a></div><span class="my_story_list_date">2020-6-24 9:24</span></div><div class="col-sm"><div><a target="_blank" href="/story/1007138.html"><img src="http://img.diglog.com/img/2020/6/thumb_7583c582a09ba5fcac7604ae2baefec2.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1007138.html">编译时合并排序[C++]</a></div><span class="my_story_list_date">2020-6-19 2:38</span></div><div class="col-sm"><div><a target="_blank" href="/story/1006626.html"><img src="http://img.diglog.com/img/2020/6/thumb_d53626a3377af2a71b755e39ee7e3311.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1006626.html">一个简单的图形用户界面记事本，使用C++在2015年我的高中原生制造</a></div><span class="my_story_list_date">2020-6-15 14:7</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005511.html"><img src="http://img.diglog.com/img/2020/6/thumb_29f7802725a77f3ec5349cd059cd94e4.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005511.html">SpaceX如何使用Linux、Chromium、C++和开源库</a></div><span class="my_story_list_date">2020-6-7 7:47</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>