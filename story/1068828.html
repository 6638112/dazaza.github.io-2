<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Kubernetes 是我们这一代的 Multics</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Kubernetes 是我们这一代的 Multics</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-07-22 21:55:07</div><div class="page_narrow text-break page_content"><p>昨天的帖子列举了# blog-topicsrelated 理解和使用shell。今天的帖子一开始是对其他主题的“抢夺”，但现在集中在#分布式系统的问题上。抽象地说，shell 脚本调用 Unix 进程，而分布式系统是（几乎总是）进程的集合。具体而言，当您使用 AWS 或 Heroku 等云平台时，您是在 shell 中使用命令行工具来构建、测试、配置和部署应用程序。我希望石油可以成为更好系统的基础，但仍有很大的差距需要弥合。这篇文章的重点是对现状的批评，因为我们必须发现问题才能解决问题。也就是说，它是一个严肃、受人尊敬但过于复杂的系统，最终将被更简单的东西取代：分布式操作系统的 Unix。 （Kubernetes 是否应该被称为分布式操作系统是有争议的，但让我们暂时将其搁置一旁。）这里有更多的说法。回想一下，Perlis-Thompson 原理的定义源自关于 Unix shell 的第一篇论文的这一部分：</p><p>一个程序通常会因它为自己发明的概念的数量而呈指数级复杂化...... [它] 我相信你应该将系统建立在一个单一的概念上。我与谷歌的 Borg 集群管理器合作多年，Kubernetes 直接受到 Borg 的启发。我可能会写那些经历，但让我首先引用其他人的图像、推文和经历。这是我见过的唯一一个比云原生计算基础架构更复杂的图表。 https://t.co/G6CcTcRCi3 — Nerd Immunity (@monkchips) 2020 年 1 月 10 日 Kubernetes 会在其复杂性的重压下崩溃吗？ (influxdata.com via Hacker News) 205 点，209 条评论 - 2018 年 5 月 28 日 这个行业到处都是工程师，他们是奇怪命名的“技术”（实际上只是产品和库）方面的专家，但不知道实际技术如何（例如 TCP/IP、文件系统、内存层次结构等）工作。当我遇到知道如何在 AWS 上设置 ELB 但不太了解套接字是什么的工程师时，我不知道该怎么想……我认为不需要每个人都成为低级编程专家。但是，我确实认为存在工程师由于不了解操作系统基础而使系统过于复杂的现象。</p><p>重申一下：遵循 Perlis-Thompson 原则的分布式操作系统将具有更少的概念。它会更容易使用，并且更容易在其上构建软件。图表会更小更易懂！我建议使用模因 Ken Thompson vs. Kubernetes 来记住这一点。肯汤普森会设计一些更简单、具有持久价值的东西。下面的帖子提供了更多细节。与下一节中关于无服务器生产力的帖子一起，它启发了我今年早些时候标记为 # 评论和 # 软件架构的写作。一个从头开始的更好的 Kubernetes（dave.tf，来自 Hacker News） 261 分，152 条评论 - 7 个月前 MetalLB 告诉我，构建与 Kubernetes 集成的强大软件是不可能的。 GKE SRE 告诉我，即使是最重要的 Kubernetes 专家也无法安全地大规模操作 Kubernetes。我最初的反应是包含进程的 Unix-y 模型、内容寻址文件系统（git 和 BitTorrent 之间的交叉）和命名端口会更简单。身份验证和安全性是巨大的问题，并且破坏了我早先在这个方向上的努力。</p><p>不仅仅是 Kubernetes 没有生产力。本文描述了“无服务器”（例如 AWS Lambda）的生产力问题。回到 70 年代的无服务器（evrl.com，来自 Hacker News） 518 分，298 条评论 - 6 个月前 回到 70 年代的无服务器（evrl.com，来自 lobste.rs） 42 分，3 条评论于 2020-12- 19 随着分布式后端变得更加强大，语言、部署和整体开发人员体验变得更糟。这篇文章与 IBM JCL（作业控制语言）有一个很好的类比，我认为它是 Unix shell 的原始大型机版本。将您的代码部署到其他人的云中只是为了测试它既痛苦又缓慢。相比之下，改进的 Unix shell 应该可以帮助您在本地描述和运行分布式系统。我在构建系统和 CI 服务的评论中提到了本地测试。使用 CI 服务时，除伤害之外的侮辱是您的代码通常是 YAML！我希望云能够轻松使用 PHP，但可以使用任何语言！这是另一种感觉，这一次来自 Joel Spolsky 大约 19 岁的帖子。这让我想起了今天的云。</p><p>想想从 Microsoft.ODBC、RDO、DAO、ADO、OLEDB，现在 ADO.NET 出来的数据访问策略的历史——全新！这些是技术要求吗？一个不称职的设计团队需要重新发明数据访问每年该死的一年的结果？ （实际上可能就是这样。）但最终结果只是掩护。竞争者别无选择，只能将所有时间都花在移植和跟上，这是他们无法花时间编写新功能的时间。 2021 年有没有人后悔没有在 OLEDB 上花费更多时间，更不用说它是什么了？同样，我认为 Kubernetes 将在 2041 年被遗忘。它将被遵循 Perlis-Thompson 原则的更简单的系统所取代。仔细观察软件格局。做得好的公司是那些对大公司依赖最少的公司，并且不必花费所有的周期来追赶、重新实现和修复仅在 Windows XP 上出现的错误。我会在这句话中用“Kubernetes”替换“Windows XP”，看看它是否真实。换句话说，我们的编码工作应该针对问题领域，而不是修复底层平台。 Joel Spolsky 的经典博客文章。参考 Joel 的帖子 Fire andMotion 提醒我，他的博客和论坛在我职业生涯的早期是无价的。这篇文章将引用乔尔的更多有见地的文章。 Rich Hickey 的影响力。在最近关于动态语言和“世界”的评论之后，Elvish 的 Qi Xiao 提醒我 RichHickey 使用了“定位程序”一词。</p><p>我没有在那条评论中归功于 Hickey，但他的想法肯定影响了我。我想写另一篇文章，涵盖他在语言设计和系统方面的想法。我会在他的演讲“MaybeNot”中引用此评论。我希望将来参考这篇文章。这些链接和评论旨在为 Oillanguage 的设计和整个项目的动机增添色彩。明天，我将查看更多关于#分布式系统的帖子和评论。我本想写一个博客 Backlogpost，但它变成了三个！ 7/20 更新：我正在保存此线程以供以后参考。我问为什么将 Kubernetes 用于看起来更像是 HPC 问题的部署。拥有 HPC 经验的人会就该领域的问题提出意见。将 Kubernetes 扩展到 7,500 个节点（openai.com via Hacker News）240 点，53 条评论 - 5 个月前</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="http://www.oilshell.org/blog/2021/07/blog-backlog-2.html">http://www.oilshell.org/blog/2021/07/blog-backlog-2.html</a></div><div class="story_tags page_narrow"></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>