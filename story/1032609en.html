<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Google Sheets作为Web应用程序的数据库服务</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Google Sheets作为Web应用程序的数据库服务</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-01 20:26:37</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/19a28c5b29d5b5f854cfbaa35e26f1a4.jpeg"><img src="http://img2.diglog.com/img/2020/11/19a28c5b29d5b5f854cfbaa35e26f1a4.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Google Sheets as a database service is great for many scenarios, though comes with some limitations</p><p>Google Sheets作为数据库服务在许多情况下都很棒，但也有一些限制。</p><p>    Spreadsheet services like Google Sheets or Airtable have already used by many people, teams, and companies. What makes them more interesting is, they introduce non-tech users to the no-code movement, open doors for interesting possibilities.</p><p>像Google Sheets或Airtable这样的电子表格服务已经被许多人、团队和公司使用。让它们更有趣的是，它们向非技术用户介绍了无代码运动，为有趣的可能性打开了大门。</p><p> No-code is like Starbuck, a kind of coffee also for people who don’t drink coffee. What great about Starbuck isn’t the taste, but it allows more people to enjoy coffee. In other words,  no-code is a programming language for non-programmers.</p><p>NO-CODE就像星巴克(Starbuck)一样，也是一种为不喝咖啡的人准备的咖啡。星巴克的伟大之处不在于它的味道，而是它让更多的人享受咖啡。换句话说，无代码是一种面向非程序员的编程语言。</p><p> Recently, I’ve examined using Google Sheet as a database service when integrating to  Inverr — a no-code builder. It can possibly operate for sites or apps with less than 5M visits/month, with big enough data storage for small apps. Though, it comes with some limitations.</p><p>最近，我研究了在集成到无代码构建器Inverr- 时将Google Sheet用作数据库服务。它可能适用于每月访问量低于500万次的网站或应用程序，具有足够大的数据存储空间供小型应用程序使用。不过，它也有一些局限性。</p><p> In this post, I’ll address a few technical issues when using Google Sheets as a database service, its effects, and how to overcome it.</p><p>在这篇文章中，我将讨论使用Google Sheet作为数据库服务时的一些技术问题，它的影响，以及如何克服它。</p><p>  The main functions of the database are store, retrieve, and search for data. While Google Sheets is doing excellent at storing and retrieving data, the searching part in Google Sheets is a bit tricky.</p><p>数据库的主要功能是存储、检索和搜索数据。虽然Google Sheets在存储和检索数据方面做得很好，但Google Sheets中的搜索部分有点棘手。</p><p> On many apps, search provides discoverability. For example, when you’re building a movie discovery app, users search a movie by name, filter by a category, or popularity. Without search, the movie app is no different than a movie list.</p><p>在许多应用程序上，搜索提供了可发现性。例如，当您构建电影发现应用程序时，用户可以按名称、类别或受欢迎程度搜索电影。没有搜索，电影应用程序与电影列表没有什么不同。</p><p> To use the searching feature, Google Sheets APIs provide a property called “developerMetadata”. It’s an additional data on each cell, and invisible to Google Sheets users. When searching, it will use these additional data.</p><p>为了使用搜索功能，Google Sheets API提供了一个名为“developerMetadata”的属性。它是每个单元格上的附加数据，对Google Sheets用户是不可见的。在搜索时，它将使用这些附加数据。</p><p> “developerMetadata” has a  limit of 30,000 characters for each spreadsheet. It’s too small to do anything great. Though, you can optimize for sentence, paragraph by only store important terms.</p><p>“developerMetadata”对每个电子表格有30,000个字符的限制。它太小了，做不了什么大事。不过，您可以通过仅存储重要术语来优化句子、段落。</p><p>  Google Sheets has a storage limit at 5,000,000 cells (including blank ones), and up to 256 columns per sheet.</p><p>Google Sheets的存储限制为500,000,000个单元格(包括空白单元格)，每个工作表最多256列。</p><p> Let’s take an example as a movie discovery app, it needs at least 6 properties (id, title, description, release date, rating, category). As a rough estimation, you can only store up to 5,000,000 / 6 =  ~833k movies. Since there are currently  555,913 movies released, in theory, it’s still acceptable.</p><p>让我们以电影发现应用为例，它至少需要6个属性(id、标题、描述、发布日期、评级、类别)。粗略估计，您最多只能存储5,000,000/6=~833K电影。由于目前有555913部电影上映，理论上还是可以接受的。</p><p> Another limitation when using Google Sheet APIs is its request quota. Starting at 500 requests per 100 seconds (or 5 requests per second), and start charging when excessed. In many cases, using proper caching techniques will reduce the number of requests to Google Cloud APIs services.</p><p>使用Google Sheet API时的另一个限制是其请求配额。从每100秒500个请求(或每秒5个请求)开始，超过时开始收费。在许多情况下，使用适当的缓存技术将减少对Google Cloud API服务的请求数量。</p><p>    This is an unrealistic measure, but to test the limit and get a better overview, I tried getting data from a spreadsheet with a large dataset.</p><p>这是一个不切实际的衡量标准，但为了测试限制并获得更好的概览，我尝试从包含大型数据集的电子表格中获取数据。</p><p> The above graph demonstrates the performance of retrieving thousands of cells per second from Google Sheets. It took around 2 seconds when getting 100k cells all at once, which 100k / 6 = ~16k movies. This is acceptable performance, and grows as the number of cells grows.</p><p>上图展示了每秒从Google Sheet检索数千个单元格的性能。一次获得100k细胞大约需要2秒，100k/6=~16k电影。这是可以接受的性能，并且随着单元数量的增加而增长。</p><p>  Google Sheets is like a database with its own presentation. For example, you have a spreadsheet for monthly expenses. It contains a list of expenses, their category. And in the end, it can have a  total expense value by the sum of all expenses in the month.</p><p>Google Sheets就像一个数据库，有自己的演示文稿。例如，您有一个每月费用的电子表格。它包含一份费用清单，以及它们的类别。最后，它可以由当月所有费用的总和得到总费用值。</p><p> The layout freedom is convenient when using it as a spreadsheet, but a nightmare for a database. Because there is always some kind of fixed layout that the database follows. It allows the database engine to calculate the distance and navigate between rows of data. And no database designed without a layout.</p><p>当将其用作电子表格时，布局自由度很方便，但对于数据库来说却是一场噩梦。因为数据库总是遵循某种固定的布局。它允许数据库引擎计算距离并在数据行之间导航。没有没有布局的数据库设计。</p><p> Besides, unless you decided that no-one will ever touch the spreadsheet, someone might accidentally screw it up by renaming the tab or remove it.</p><p>此外，除非您决定不让任何人接触该电子表格，否则有人可能会通过重命名选项卡或将其删除而意外地将其搞砸。</p><p>  To conclude, Google Sheets is widely used as a tool. But as a database, it comes with some limitations. With proper caching and optimization, it is safe to use it as a database for webs/apps with &lt; 5.000.000 visits monthly.</p><p>总而言之，Google Sheets被广泛用作工具。但是作为一个数据库，它也有一些限制。通过适当的缓存和优化，可以安全地将其用作月访问量为5.000.000次的网站/应用程序的数据库。</p><p> Besides, its search limitation can be a huge bottleneck in many scenarios. You can use “developerMetadata” to enable data lookup. With 30k characters limits, it’s a good practice to store only “meta” data.</p><p>此外，在许多情况下，它的搜索限制可能是一个巨大的瓶颈。您可以使用“developerMetadata”来启用数据查找。由于有30k个字符的限制，最好只存储“元”数据。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://hieunc.com/posts/vm3TjRrE73Y-google-sheets-as-a-database-service-for-web-applications">https://hieunc.com/posts/vm3TjRrE73Y-google-sheets-as-a-database-service-for-web-applications</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/数据库/">#数据库</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/database/">#database</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/sheets/">#sheets</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1032515.html"><img src="http://img2.diglog.com/img/2020/11/thumb_69ef93455acd7d2aafcef4e201f773b2.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032515.html">我有99个问题，一个分布式数据库不是一个</a></div><span class="my_story_list_date">2020-11-1 1:2</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030615.html"><img src="http://img2.diglog.com/img/2020/10/thumb_69aa9f7bb5f5af253d1db30b98e61892.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030615.html">心理治疗中心数据库被黑，患者信息扣留赎金</a></div><span class="my_story_list_date">2020-10-23 1:53</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030433.html"><img src="http://img2.diglog.com/img/2020/10/thumb_2b56f915518fb33f55f689b3337502bc.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030433.html">你不需要区块链，你需要一个时间序列数据库</a></div><span class="my_story_list_date">2020-10-22 9:35</span></div><div class="col-sm"><div><a target="_blank" href="/story/1029583.html"><img src="http://img2.diglog.com/img/2020/10/thumb_63ff8accedb5e54e6a85ac65caf21108.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1029583.html">为您的数据库和存储获取免费备份服务</a></div><span class="my_story_list_date">2020-10-18 16:59</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>