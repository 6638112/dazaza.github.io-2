<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>在250行代码中，PYDIS是Redis的克隆POC，速度提高了60%</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">在250行代码中，PYDIS是Redis的克隆POC，速度提高了60%</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-15 19:51:17</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/8631f973a9c7b556fcfd5c55788d0654.jpeg"><img src="http://img2.diglog.com/img/2020/11/8631f973a9c7b556fcfd5c55788d0654.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>pydis is an experiment to disprove some of the falsehoods about performanceand optimisation regarding software and interpreted languages in particular.</p><p>PYDIS是一个实验，目的是反驳一些关于性能和优化的错误，特别是关于软件和解释语言的错误。</p><p> Unfortunately many programmers, due to their lack of experience, of someknowledge of computer architecture(s), or of an in-depth understanding of thetask they are given, spend countless hours by making life harder for themselvesin the name of marginal performance gains, often trading many other conveniences(such as type safety, garbage collection,  etc) too.</p><p>不幸的是，许多程序员由于缺乏经验、对计算机体系结构的一些知识或对分配给他们的任务的深入理解，花费了无数个小时，以边际性能收益的名义使自己的生活变得更加困难，而且往往还牺牲了许多其他便利(例如类型安全、垃圾收集等)。</p><p> Below you will find a  Redis clone, pydis, written  in &lt; 250 lines of idiomatic Python code, providing asubset of redis&#39; functionality for which there are official benchmarks.</p><p>下面你会发现一个Redis的克隆，pydis，它是用250行惯用的Python代码编写的，提供了一些Redis功能的子集，这些功能都有官方基准。</p><p>  P.S. This is not a criticism of Redis, which is a brilliant project and asystem-level software that powers thousands of infrastructures. It just happenedto be one of the fastest software I could imagine  and clone the same day.</p><p>附注：这并不是对Redis的批评，Redis是一个出色的项目，也是一个为成千上万的基础设施提供动力的系统级软件。它恰好是我能想象到的最快的软件之一，并且在同一天克隆了它。</p><p>                  Those that improve the performance. The aim of this exercise is to prove that interpreted languages can be justas fast as C. So whilst using a faster parser in C with Python bindings isokay, rewriting  pydis in  Cython is not.</p><p>那些提高性能的因素。本练习的目的是证明解释语言可以和C语言一样快。因此，虽然用C语言和Python绑定使用更快的解析器是可以的，但用Cython重写PYDI就不行了。</p><p> I will accept &#34;minor&#34; deviations from idioms only if the performance gainsare worth it; stick to idiomatic Python otherwise!</p><p>只有在性能收益值得的情况下，我才会接受习惯用法中的小偏差；否则，我会坚持使用习惯用法！</p><p> Those to achieve feature parity with Redis  for which there are officialbenchmarks. We are not trying to develop a full-featured Redis clone here so please donot implement commands for which there are no official benchmarks.</p><p>那些要达到与Redis等同的功能，这是有官方基准的。我们不是要在这里开发一个功能齐全的Redis克隆，所以请不要执行没有官方基准的命令。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/boramalper/pydis">https://github.com/boramalper/pydis</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/代码/">#代码</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/redis/">#redis</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1035086.html"><img src="http://img2.diglog.com/img/2020/11/thumb_079e1dbe739a7a00a080c1c5f1e4c7a0.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1035086.html">科学家批评人工智能研究缺乏透明度，列举了研究中的复制问题，以及对代码、专有数据和硬件的不平等访问</a></div><span class="my_story_list_date">2020-11-14 15:50</span></div><div class="col-sm"><div><a target="_blank" href="/story/1034848.html"><img src="http://img2.diglog.com/img/2020/11/thumb_d533402dbd67ee0830f92bcdae337ba3.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034848.html">IOS 14.3测试版代码表明，苹果可能会在iPhone或iPad安装过程中向用户推荐第三方应用，这可能会平息反垄断担忧</a></div><span class="my_story_list_date">2020-11-13 19:2</span></div><div class="col-sm"><div><a target="_blank" href="/story/1034832.html"><img src="http://img2.diglog.com/img/2020/11/thumb_7cf484ceeae6bc7fc2161eddc603cd15.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034832.html">《狂人》的元编程(2012)</a></div><span class="my_story_list_date">2020-11-13 17:48</span></div><div class="col-sm"><div><a target="_blank" href="/story/1034540.html"><img src="http://img2.diglog.com/img/2020/11/thumb_1db7e47480465385c595caa159702571.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034540.html">系统删除代码</a></div><span class="my_story_list_date">2020-11-11 22:42</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>