<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Commodore的装配商：HCD65 Commodore’s Assemblers: HCD65</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Commodore’s Assemblers: HCD65<br/>Commodore的装配商：HCD65 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-07 01:21:06</div><div class="page_narrow text-break page_content"><p>In the series about the assemblers Commodore used for developing the ROMs of their 8-bit computers, this article covers the 1987 “HCD65” assembler that ran on the C128.</p><p>在关于汇编程序的系列中，用于开发8位计算机的ROM的Commodore，本文介绍了在C128上运行的1987“HCD65”汇编程序。</p><p>      To build the ROMs for their 8-bit computers, Commodore originally used an assembler that ran on their own PET machines ( part 2 of the series). From 1984 on, they used the “Boston Systems Office” (BSO) cross-assembler running on VAX/VMS ( part 3).</p><p>      为了为其8位计算机构建ROM，Commodore最初使用了一个汇集在自己的PET机器上（系列的第2部分）。从1984年开始，他们使用了在VAX / VM上运行的“波士顿系统办公室”（BSO）交叉汇编程序（第3部分）。</p><p> In 1986, Commodore started working on a clone of the BSO cross-assembler that was supposed to run on the C128. An internal document ( c65.doc) in the  original C128 source archive states:</p><p> 1986年，Commodore开始在BSO交叉装配者的克隆中，该克隆应该在C128上运行。原始C128源存档状态中的内部文档（C65.doc）：</p><p> HCD65XX is a powerful macro assembler syntactically identical to the assembler used to orginally develop the C128 source code running on a VAX-8600 under VMS. This tool is capable of assembling the same source files on a C128.</p><p> HCD65xx是一个强大的宏汇编程序，与汇编程序同义，用于在VMS下的VAX-8600上运行的C128源代码进行统计。该工具能够在C128上组装相同的源文件。</p><p>  There is a package developed in house that includes a macro assembler and a program editor that both take advantage of the C128 hardware. […] the object was to make it do everything that the VAX based cross assemblers can do, and to allow truely large assemblies. The editor is similar to the DEC EDT keypad editing mode.</p><p>  在房屋中开发的包装包括宏汇编程序和程序编辑器，可以利用C128硬件。 [...]该对象是为了使基于VAX的交叉装配商可以做的所有事情，并且允许真正的大装配。编辑器类似于DEC EDT键盘编辑模式。</p><p> It is too soon to know when or if this package will be available, but I am sure that it will be publicized on the various networks…</p><p> 很快就知道此软件包是否可用，但我相信它将在各种网络上公布......</p><p>  We have a developers package containing a new macro assembler and editor that we hope to have available by year end. The assembler is compatible with the BSO 6502 Assembler that has been used by Commodore for software development of late.</p><p>  我们有一个开发人员包，包含一个新的宏汇编程序和编辑器，我们希望在年末提供。汇编器与BSO 6502汇编程序兼容，该汇编已被Commodore用于软件开发。 </p><p> The new assembler, called “HCD65” (in the manual) or “HCD65XX” (in the software), named after its developer Hedley Davis, was released in 1987 as part of the  Commodore 128 Developer’s Package ( manual,  internal,  internal (65CE02 version)).</p><p>新的汇编程序，名为“HCD65”（在手册中）或“软件中的HCD65xx”（在软件中），于1987年发布于1987年作为Commodore 128开发人员包的一部分（内部，内部，内部（65CE02）发布版本））。</p><p>  The assembler consists of two components: A BASIC program to query the arguments from the user, and the non-interactive assembler binary. The BASIC frontend presents the following menu:</p><p>  汇编程序由两个组件组成：用于查询来自用户的参数的基本程序，以及非交互式汇编程序二进制程序。基本前端显示以下菜单：</p><p> (C)1986 COMMODORE ELECTRONICS, LTD. ALL RIGHTS RESERVED V3.5 ENTER FILE NAME FOR SOURCE = KERNAL.SRCPICK A CONFIGURATION 0) NO LISTING : SOURCE,OBJ ON 8 1) LISTING TO SCREEN : SOURCE,OBJ ON 8 2) LISTING TO UNIT 4 : SOURCE,OBJ ON 8 3) ERRORS ONLY : SOURCE ON 8 4) LIST/XREF TO UNIT 4: SOURCE,OBJ ON 8 5) NO LISTING : SOURCE,OBJ ON 9 6) LISTING TO SCREEN : SOURCE,OBJ ON 9 7) PRINT LISTING ON 4 : SOURCE,OBJ ON 9 8) ERRORS ONLY : SOURCE ON 9 9) LIST/XREF TO UNIT 4: SOURCE,OBJ ON 9</p><p> （c）1986年Commodore Electronics，Ltd。版权所有v3.5输入source = kernal.src的文件名选择一个配置0）没有列表：源，obj 81）列出屏幕：源，OBJ为82）列出单位4：源，OBJ为83）仅误差：8次源4）列表/ XREF到第4单元：源，OBJ为85）没有列表：源，OBJ为96）列出屏幕：源，OBJ为97）印刷品列表4：Source，OBJ为98）仅限错误：9的来源9）列表/ XREF到第4单元：源，OBJ为9</p><p> It allows entering a filename (the extension  .SRC is added automatically) and configuration options that control whether to hide/show/print the LST, whether to generate a cross-reference and what drive to read the sources from. Pressing RETURN in the menu will allow the user to configure all options manually.</p><p> 它允许输入文件名（自动添加扩展名为.src）和配置选项，控制是否隐藏/显示/打印LST，是否生成交叉引用以及从中读取源的驱动器。按MENU中的返回将允许用户手动配置所有选项。</p><p> It then asks for the date string, since the C128 does not have a real-time clock, and asks the user to verify the settings:</p><p> 然后它要求日期字符串，因为C128没有实时时钟，并询问用户验证设置：</p><p> (C)1986 COMMODORE ELECTRONICS, LTD. ALL RIGHTS RESERVED V3.5 ASSEMBLY OF KERNAL.SRC SOURCE FILES ON UNIT 9LISTING OUTPUT = PRINTER  NO CROSS REFERENCE  DATE STRING =&#34;2021-05-08&#34;ERROR OUTPUT = SCREEN OBJECT OUTPUT = KERNAL.OBJ ON UNIT 9PRINTER DEVICE NUMBER = 4 LIST AND ERROR FILE WIDTH = 80 COLUMNSRUN THIS CONFIGURATION ? (Y/N)</p><p> （c）1986年Commodore Electronics，Ltd。版权所有v3.5汇编Kernal.src.单元9上的源文件清单输出=打印机 没有交叉参考 日期字符串=＆＃34; 2021-05-08＆＃34;错误输出=屏幕对象输出= kernal.obj在单元9上打印机设备号= 4列表和错误文件宽度= 80列运行此配置？ （y / n）</p><p>   HCD65 was designed to be as similar to BSO as possible, but there are a few differences:</p><p>   HCD65旨在与BSO相似，但有几个差异： </p><p> HCD65 accepts both ASCII and PETSCII source files. When using existing BSO source files, it is important that the source files use CR line breaks and that the filenames referenced by  .INCLUDE have the right case.</p><p>HCD65接受ASCII和PETSCII源文件。使用现有BSO源文件时，重要的是源文件使用CR线条断裂，并且由.include引用的文件名有正确的案例。</p><p>    Little is known about this version. The LST files that shipped with the C128 Devpack were built with this version.</p><p>    对此版本知之甚少。 C128 DevPack附带的LST文件是用此版本构建的。</p><p>     In 1989, Commodore started writing the ROM for the upcoming C64DX/C65. The CPU of the machine was a 4510, which implemented the extended 65CE02 instruction set, so in order to use the additional CPU features, they needed an assembler that supported them.</p><p>     1989年，成功开始为即将到来的C64DX / C65写下ROM。机器的CPU是4510，实现了扩展的65CE02指令集，因此为了使用额外的CPU功能，它们需要支持它们的汇编器。</p><p> The BSO/VAX cross-assembler that they had been using for all development at the time was written by a third party and Commodore did not have its source, so Fred Bowen added support to the C128 HCD65.</p><p> 他们已经使用的BSO / VAX交叉汇编程序当时使用的所有开发是由第三方和商品写的没有它的来源，所以Fred Bowen向C128 HCD65增加了支持。</p><p>   Version 0.2 is changes the AUG/MAP opcode from 65CE02 to the 4510 semantics, and adds an alternative syntax to the BBR/BBS mnemos.</p><p>   版本0.2是将八个/地图Opcode更改为4510语义，并为BBR / BBS Mnemos添加替代语法。</p><p>   The sources of the V3.5 and 65CE02 0.1 and 0.2 versions are available as part of the Commodore Source collection:</p><p>   V3.5和65CE02 0.1和0.2版本的来源可作为Commodore Source Collection的一部分提供：</p><p>     It is unlikely that they developed HCD65 mainly for a commercial release. There were plenty of assemblers on the market, and BSO compatibility is not something users were looking for.</p><p>     它们不太可能开发HCD65主要用于商业释放。市场上有大量的汇编者，BSO兼容性不是用户正在寻找的。 </p><p> Another hypothesis would be that they wanted to replace the BSO cross-assembler for in-house use.</p><p>另一个假设是他们希望更换BSO交叉装配机以供入住。</p><p> In 1986, they were using BSO on a 12.5 MHz VAX-8600. The original PDP-10 version of BSO’s tools were implemented in hand-written machine code, but the later PDP-11/VAX/ULTRIX versions were probably written in a high-level language. There might have been a chance that a new assembler written in well-optimized machine code for the 2 MHz C128 could have matched the speed of the BSO assembler, but the C128’s I/O system (even using the new Fast Serial bus) would have certainly ruined that.</p><p> 1986年，他们在12.5 MHz VAX-8600上使用BSO。原始PDP-10版本的BSO工具是在手写的机器代码中实现的，但稍后的PDP-11 / VAX / Ultrix版本可能以高级语言编写。在2 MHz C128的经过良好优化的机器代码中，可能存在一个新的汇编程序可以匹配BSO汇编器的速度，但C128的I / O系统（甚至使用新的快速串行总线）将具有当然毁了这一点。</p><p> So they wouldn’t have replaced BSO for a speed benefit or added convenience. Original LST files that have been preserved show that Commodore used BSO, not HCD65, for all 6502-based projects until 1990 (C64GS).</p><p> 因此，他们不会更换BSO以获得速度效益或增加方便。已保留的原始LST文件显示，在1990年（C64GS）之前，Commodore使用BSO，而不是HCD65，而不是HCD65。</p><p> One realistic reason for developing HCD65 would be as an insurance policy: to have an in-house alternative to BSO, so they would not be dependent on a third party. The in-house solution could also be altered and extended, especially in the context of the upcoming 4510/65CE02 CPU. The 65CE02 project, an effort to re-design the 6502 in CMOS,  started in late 1985. And in fact, 4510/65CE02 support was added to HCD65 in 1989.</p><p> 开发HCD65的一种现实原因是保险单：拥有BSO的内部替代方案，因此他们不会依赖第三方。内部解决方案也可以改变和扩展，特别是在即将到来的4510 / 65CE02 CPU的上下文中。 65CE02项目，重新设计CMOS的6502，于1985年底开始重新设计6502。实际上，1989年的HCD65加入了4510 / 65CE02的支持。</p><p> The graphics extensions to BASIC 10 by the external contractor Walrus Software Inc. were developed using HCD65 65CE02, and so was the C65 DOS ROM for a while, before all development switched to the “Commodore 6502ASM” cross-assembler in 1990.</p><p> 外部承包商Walrus Software Inc.的图形扩展为基本10使用HCD65 65CE02开发，虽然C65 DOS ROM也是如此，但在1990年的所有开发转换为“Commodore 6502ASM”交叉汇编程序之前，C65 DOS ROM是一段时间。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.pagetable.com/?p=1540">https://www.pagetable.com/?p=1540</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/装配/">#装配</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/c128/">#c128</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>