<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>亚马逊拥有价值超过2B美元的IPv4地址 Amazon owns more than $2B worth of IPv4 addresses</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Amazon owns more than $2B worth of IPv4 addresses<br/>亚马逊拥有价值超过2B美元的IPv4地址 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-12 14:31:03</div><div class="page_narrow text-break page_content"><p>While listening to a  podcast discussing BGP I heard the fact that AWS owns more than $2B worth of IP addresses. I knew AWS was massive but this came as a big shock so I decided to do some digging around. I came across a  site that listed the market prices of IP addresses and the range looks to be anywhere from $20 to $30 per IP depending on the block size. Now it was time to figure out the IP addresses owned by Amazon. I figured this would be difficult but lucky for us AWS actually  publishes their entire set of IP addresses as JSON.</p><p>在听讨论BGP的播客时，我听到一个事实，即AWS拥有价值超过$ 2B的IP地址。我知道AWS庞大，但这给我带来了很大的震撼，因此我决定进行一些挖掘。我遇到了一个列出IP地址市场价格的网站，根据区块大小，每个IP地址的范围从20美元到30美元不等。现在是时候找出亚马逊拥有的IP地址了。我认为这很困难，但对我们来说幸运的是，AWS实际上将其整个IP地址集发布为JSON。</p><p> The work is simply to download the JSON and then convert the CIDR blocks to the number of IPs and add them all up. As of today, December 11, 2020 AWS self reports owning 109,847,486 IPV4 addresses - at a price of $20 this is almost $2.2B and at $30 it’s almost $3.3B. That’s wild.</p><p> 要做的只是下载JSON，然后将CIDR块转换为IP数量并将它们全部加起来。截至今天，2020年12月11日，AWS自我报告拥有109,847,486个IPV4地址-价格为$ 20，这几乎是$ 2.2B，而价格为$ 30，则几乎是$ 3.3B。太疯狂了</p><p> import  urllib.request import  json with  urllib . request . urlopen ( &#39; https://ip-ranges.amazonaws.com/ip-ranges.json&#39; )  as  f :  j  =  json . loads ( f . read (). decode ( &#39;utf-8&#39; )) print ( &#39;All keys&#39; ,  j . keys ()) print ( &#39;IPV4 prefixes&#39; ,  len ( j [ &#39;prefixes&#39; ])) ips  =  0 for  prefix  in  j [ &#39;prefixes&#39; ]:  cidr  =  int ( prefix [ &#39;ip_prefix&#39; ]. split ( &#39;/&#39; )[ 1 ])  ips  +=  2 ** ( 32 - cidr ) print ( &#39;# IPS&#39; ,  ips )</p><p> import urllib.request使用urllib导入json。要求。 urlopen（＆＃39; https://ip-ranges.amazonaws.com/ip-ranges.json&#39;）作为f：j = json。加载（f。read（）。解码（＆＃39; utf-8＆＃39;））打印（＆＃39;所有键＆＃39;，j。键（））打印（＆＃39; IPV4前缀＆＃39 ;，len（j [＆＃39; prefixes＆＃39;]））ips = 0，代表j [＆＃39; prefixes＆＃39;中的前缀]：cidr = int（前缀[＆＃39; ip_prefix＆＃39;]。split（＆＃39; /＆＃39;）[1]）ips + = 2 **（32-cidr）打印（＆＃39 ;＃IPS＆＃39;，ips） </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://dangoldin.com/2020/12/11/amazon-owns-more-than-2b-worth-of-ipv4-addresses/">https://dangoldin.com/2020/12/11/amazon-owns-more-than-2b-worth-of-ipv4-addresses/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/亚马逊/">#亚马逊</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/amazon/">#amazon</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/价值/">#价值</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/ipv4/">#ipv4</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/ip/">#ip</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>