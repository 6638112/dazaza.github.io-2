<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>六年的专业Clojure开发 Six years of professional Clojure development</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Six years of professional Clojure development<br/>六年的专业Clojure开发 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-05-06 15:55:53</div><div class="page_narrow text-break page_content"><p>10.05.2021  Permalink   Over the last couple of years me and my colleagues here at  doctronic have been busy creating and maintaining more than a dozen of individual software systems for our clients.</p><p>10.05.2021永久链接在过去几年里，我和我的同事在文密文主忙着为我们的客户创造和维护十几个人。</p><p> We have the privilege to almost exclusively use  Clojure and  ClojureScript, as this is still the valid strategic technology decision made by doctronic shortly before I joined them in 2015. In this post I&#39;d like to list some of the strengths and weaknesses in everyday real-life use of the language and its ecosystem.</p><p> 我们有特权几乎完全使用Clojure和Clojurescript，因为这仍然是在2015年加入它们之前的教学中的有效战略技术决策。在这篇文章中，我喜欢列出一些优势和缺点日常真实生活使用语言及其生态系统。</p><p> Stability of the language and libraries: Anyone who ever created software of practical value for paying customers knows that reliability of core language constructs and libraries is important. It supports predictability, and eventually saves you from insanity whenever you want to benefit from performance improvements or bug fixes. Upgrading to a new version of a library or even Clojure itself is risk-free. The authors and maintainers really do care about stability. If you listened to talks of Rich Hickey or Stuart Halloway you know that this is no coincidence. &#34;Don&#39;t break things!&#34; is part of the culture.</p><p> 语言和图书馆的稳定性：任何创建付费客户的实用价值软件的人都知道核心语言构造和图书馆的可靠性很重要。它支持可预测性，并最终在您想要从性能改进或错误修复中受益时从疯狂中省略。升级到图书馆或甚至Clojure本身的新版本是无风险的。作者和维护者真的会关心稳定性。如果您听取了富豪的HICKEY或STUART HALLOWAY的谈话，您就知道这并不巧合。 ＆＃34;唐＆＃39; t打破东西！＆＃34;是文化的一部分。</p><p> Code size: If you compare some of the idiomatic code snippets in Clojure with the equivalents in more popular languages you might conject that whole Clojure code bases might in general be smaller compared to what you can achieve in other languages. Now, after having worked more than 20 years with imperative OO languages and more than 5 years with Clojure I can firmly state that you&#39;ll achieve the same functionality with a fraction of the amount of code. This impacts costs: My feeling is that we now build systems with only half of the staff that I used to have on projects with a comparable scope.</p><p> 代码大小：如果您将Clojure中的一些惯用语句片段与更流行语言的等同语言进行比较，您可能会暗示整个Clojure代码基础通常比其他语言所达到的方式更小。现在，经过20多年的官方语言和Clojure超过5年，我可以坚定地说明你＆＃39; LL达到相同的功能，一小部分代码。这影响成本：我的感受是我们现在建立一个只有一半的工作人员的系统，即我曾经在具有可比范围的项目上进行的项目。</p><p> Finding staff: Clojure&#39;s popularity is still far, far behind imperative general purpose languages like Java or Python, so fewer people feel encouraged to invest the time to learn the concepts and gain practice. It seems that this makes hiring harder. doctronic addressed this challenge by positioning itself as a supporter of the language in Germany through organizing and sponsoring the annual  :clojureD conference. This helps greatly with staffing. But even if a company has a lower visibility, the fact that it uses Clojure will attract aficionados of advanced programming languages. If these developers do enjoy their workplace they will usually stay around longer with their employer. So I&#39;d argue that you gain quality in skills and a lower turnover rate, but it might take more patience to build up a team of Clojure developers.</p><p> 寻找员工：Clojure＆＃39;很远，远远落后于java或python等一般目的语言，因此鼓励较少的人们鼓励投资时间来学习概念并获得练习。似乎这使得招聘更加努力。通过组织和赞助年度：Clochured会议，通过组织和赞助德国语言的支持者来解决这一挑战。这有助于人员配置。但即使一家公司的知名度较低，它使用Clojure的事实也将吸引高级编程语言的AFICIONADO。如果这些开发人员享受他们的工作场所，他们通常会与雇主一起待命。所以我＆＃39</p><p> Teaching the language to apprentices: doctronic constantly employs apprentices so I was able to accompany some of them and help them learn Clojure. Young minds with very few programming experience are remarkably fast in picking up the language and become productive, it seems. I assume there are two main reasons for this: There&#39;s actually a whole lot of things they don&#39;t need to master compared to OO land. And they don&#39;t need to unlearn anything, in other words, they don&#39;t need to overcome old habits of doing things.</p><p> 向学徒教语言：教义不断雇用学徒，所以我能够陪伴他们并帮助他们学习Clojure。它似乎，具有很少的编程经验的年轻思想非常迅速迅速拾起语言并变得富有成效。我假设这有两个主要原因：实际上是他们不需要大量的事情，而不是oo土地需要掌握。他们不需要找不到任何东西，换句话说，他们不需要克服做事的旧习惯。</p><p> Some discipline required: Clojure is a language that gives us a wide range of options to implement solutions. And it imposes very little ceremony. For example, there is no static type system that checks your code upon compilation, but you can get some of the benefits for your data at runtime by using Clojure spec. This also serves as documentation and possibly a generator for test data. It is up to the team to decide when and where more checks, restrictions and tests have to be added. If the team misses out on this the code base might be harder to understand and maintain than necessary. In essence: with great freedom comes great responsibility.</p><p> 需要一些学科：Clojure是一种语言，为我们提供了各种各样的选择解决方案。它施加了很少的仪式。例如，没有静态类型系统在编译时检查代码，但您可以使用Clojure规范在运行时获得数据的一些优势。这也用作文档，并且可能是用于测试数据的发电机。这取决于团队决定何时何地以及何时何地添加更多检查，限制和测试。如果团队错过了这个代码群可能更难理解和维护。实质上：伟大的自由是责任。 </p><p> Navigating the code: When maintaining or extending an existing code base you often need to find specific places where a function or a piece of data is referenced. To support this kind of search for specific identifiers it is important that naming is self-explaining and consistent, even more so because there are no links established via a type system. To mitigate this weakness in Clojure, you should use qualified keywords whereever possible.</p><p>导航代码：维护或扩展现有代码库时，您通常需要查找引用函数或数据的特定位置。为了支持这种搜索特定标识符，命名是自我解释和一致的，更重要的是，因为没有通过类型系统建立的链接。为了减轻Clojure的这种弱点，您应该在可能的情况下使用合格的关键字。</p><p> Documentation becomes more important: When you&#39;re trying to understand a function that invokes other, non-core functions you&#39;ll need a clear idea what kind of data these functions expect and return. Without any data type declarations the code itself often doesn&#39;t reveal how the data that flows through you functions looks like. You&#39;ll need either Clojure spec or more thorough documentation to mitigate this problem. It is not so rare that you need to test functions of interest isolated in the REPL to get a clear idea how the data looks like.</p><p> 文档变得更加重要：当你＆＃39;重新了解一个调用其他非核心函数的函数，你＆＃39; ll需要一个明确的想法，这些功能预期和返回了什么样的数据。没有任何数据类型声明，代码本身通常不会透露流过您函数的数据的样子。您＆＃39; ll需要Clojure规范或更全面的文档来缓解此问题。您需要测试在REPT中孤立的感兴趣功能并不罕见，以清楚地了解数据的样子。</p><p> The promise of purity: Any practical software application must cause some side-effects. So even if Clojure strongly encourages developers to create pure functions your systems will contain substantial parts that either depend on some environment or cause side-effects. The trick is to separate these pieces sharply and keep the unpure parts small. Without any discipline you could easily spread side-effects everywhere and end up with the typical imperative mess. Clojure makes it easy to create a mostly pure implementation but it does not enforce this. To ensure this and other qualities the teams at doctronic conduct code reviews for almost every commit before it is promoted into the master branch.</p><p> 纯洁的承诺：任何实用的软件应用程序必须导致某些副作用。因此，即使Clojure强烈鼓励开发人员创建纯功能，您的系统将包含大量的部分，依赖于某些环境或导致副作用。诀窍是将这些作品急剧分开并保持拆卸部件小。没有任何纪律，你可以很容易地在任何地方传播副作用，并最终与典型的势不一性混乱。 Clojure可以轻松创建一个大多数纯粹的实现，但它没有强制执行此操作。为了确保这款和其他质量在Doctronic行为代码中的团队审查几乎每一个提交都晋升为主分行。</p><p> Reusability: Here&#39;s where Clojure really shines. Because most functions are pure and operate on few common data structures (mostly maps, vectors and sets) it is very easy to write reusable code. We created many internal libraries just by separating the candidate functions into their own namespaces within the regular project source tree. To finally establish the library we move the code from the project repo into a new Git repo and include the resulting library Jar in the project.clj as dependency. Thus, we have a very lean process that results in production-quality resusable assets.</p><p> 可重用性：这里的Clojure真的闪耀的地方＆＃39。由于大多数函数都是纯粹的并且在很少的常见数据结构上运行（大多数映射，向量和集合），因此可以非常容易地编写可重用的代码。我们只需通过将候选函数分离为常规项目源树中的自己的命名空间即可创建许多内部库。最终建立图书馆，我们将项目中的代码从项目repo中移动到一个新的git repo中，并将项目库jar包含在project.clj中作为依赖项。因此，我们有一个非常精简的过程，导致生产质量的可扣除资产。</p><p> Startup time: Starting a fresh JVM with a Clojure Uber-Jar to bring up an application takes noticable time. I assume that JVM class loading causes this delay. So if you consider to create a command line tool that has a short net execution time you wouldn&#39;t want this runtime overhead.</p><p> 启动时间：使用Clojure Uber-jar启动一个新鲜的JVM来培养应用程序才能获取显着的时间。我假设JVM类加载导致此延迟。因此，如果您考虑创建一个具有短网执行时间的命令行工具，那么您希望此运行时开销。</p><p> Runtime stability: Clojure applications are in general very stable. I remember that in bigger Java projects from my past we always had to do some load testing in order to detect programming flaws like memory leaks or race conditions. With Clojure, we do load testing only to find real performance issues.</p><p> 运行时稳定性：Clojure应用程序一般非常稳定。我记得在我过去的更大的Java项目中，我们总是必须进行一些负载测试，以便检测像内存泄漏或竞争条件等编程缺陷。通过Clojure，我们只能在找到真正的性能问题。</p><p> Ok, time to come to an end before this post becomes too long. The list is perhaps not complete, but I guess I included the most important aspects that recently popped into my mind. When I decided to fully jump on this train in 2015 I expected more unpleasant surprises. Now, six years later I have proven to myself that Clojure and ClojureScript are a practical and sound choice for real world software development, and I still enjoy using them.</p><p> 好的，在这篇文章变得太久之前结束了。该清单可能不完整，但我想我包括最近突出的最重要的方面。当我决定在2015年完全跳上这列火车时，我预计更令人不快的惊喜。现在，六年后，我已经证明了克洛杰和克罗哈州盾是真实世界的软件开发的实用而合理的选择，我仍然喜欢使用它们。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="http://www.falkoriemenschneider.de/a__2021-05-10__Six-years-of-professional-Clojure-development.html">http://www.falkoriemenschneider.de/a__2021-05-10__Six-years-of-professional-Clojure-development.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/开发/">#开发</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/clojure/">#clojure</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>