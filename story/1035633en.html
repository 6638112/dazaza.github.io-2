<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>为基于文本的服务公司构建符合HIPAA的规则引擎Building a HIPAA-compliant rules engine for text-based service company</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Building a HIPAA-compliant rules engine for text-based service company<br/>为基于文本的服务公司构建符合HIPAA的规则引擎</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-21 20:49:39</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/aba14a7528a276a6000d5f646f4cc5b1.png"><img src="http://img2.diglog.com/img/2020/11/aba14a7528a276a6000d5f646f4cc5b1.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>MedTech startup,  Jiseki Health, is a concierge service that helps its clients take control of their health and improve their wellbeing. Their major clients include several large American insurance companies, and the solution built by Jiseki is used at Tesla&#39;s factories. Jiseki is the first and only “Whole-Person Care” provider that specifically caters to disadvantaged individuals and communities. They operate a full-stack, health-equity, multi-tenant marketplace that addresses all the social determinants of health and takes a person-centered approach to care delivery.</p><p>MedTech初创公司Jiseki Health是一项礼宾服务，可帮助其客户控制自己的健康状况并改善他们的健康状况。他们的主要客户包括几家美国大型保险公司，由Jiseki构建的解决方案在特斯拉的工厂中使用。 Jiseki是第一个也是唯一的“全人护理”提供者，专门针对弱势的个人和社区。他们经营一个全栈，健康公平，多租户的市场，解决健康的所有社会决定因素，并采取以人为本的方式提供护理。</p><p> The company recognizes the risks associated with standardized care and implements strategies for enhancing the delivery of person-centered care, encouraging greater engagement from its members to participate in healthy behaviors. Members can get access to convenient whole-person care through text, video, voice, WhatsApp, web services, and in-person. Jiseki&#39;s platform is the infrastructure for a delivery system for personal care that connects members to virtual care, brick and mortar clinics, and community care settings.</p><p>该公司认识到与标准化护理有关的风险，并实施策略以增强以人为本的护理的提供，鼓励其成员更多地参与健康行为。会员可以通过文本，视频，语音，WhatsApp，Web服务和面对面访问方便的全人护理。 Jiseki的平台是个人护理交付系统的基础架构，该系统将成员连接到虚拟护理，实体诊所和社区护理设置。</p><p>  Not long before Jiseki’s team reached out to us, they demoed their communication and coordination service, which aimed to provide telehealth services to large numbers of people. When looking for a technological partner, they focused on finding one that could help them make their demo “real”, make some back-end improvements to allow them to scale up the HealthTech startup, and build some new features. But, their primary goal was to build a dashboard solution and a rules engine to control and generate outbound messaging going to their members, patients, and the providers who interacted with them.</p><p>在Jiseki的团队与我们联系之前不久，他们演示了其通信和协调服务，该服务旨在为大量人员提供远程医疗服务。在寻找技术合作伙伴时，他们专注于寻找可以帮助他们使演示“真实”，进行后端改进以使他们扩大HealthTech初创企业并构建一些新功能的合作伙伴。但是，他们的主要目标是构建仪表板解决方案和规则引擎，以控制并生成发往其成员，患者以及与他们进行交互的提供者的出站消息传递。</p><p> The business rules engine would be helpful to their users, including the medical specialists and representatives of the companies registered with the service, the epidemiologists and agents,  who would set the rules for messaging to be implemented, and the members of the service and patients who would receive messages. Previously, communication, messaging, and notification processes among the members of the platform were realized manually, via regular text messages, but when Tesla and several other large clients partnered with the service, it became necessary to optimize the process using automated messaging systems.</p><p>业务规则引擎将对他们的用户有所帮助，包括医疗专家和在该服务注册的公司的代表，流行病学家和代理商，谁将设置要实施的消息传递规则，服务的成员以及谁会收到消息。以前，平台成员之间的通信，消息传递和通知流程是通过常规文本消息手动实现的，但是当特斯拉和其他几个大型客户与该服务合作时，就必须使用自动化消息传递系统来优化流程。</p><p>  Jiseki expected to have a large number of users joining the system. As the main service was the text-based solution for whole-person care, the company wanted to reduce the labour costs and resources needed for an outbound text reach-out. They wanted to have automated messages going out, nudging users to follow up with a particular provider or to take a particular action. So, the rules engine would be used to set the requirements for these outbound messages: if this is ‘true’ and this is ‘true’, send ‘this’ and send it X days after X happens.</p><p>Jiseki预计将有大量用户加入该系统。由于主要服务是用于全人照护的基于文本的解决方案，因此该公司希望减少人工文本外发所需的人工成本和资源。他们希望自动发送消息，促使用户跟进特定提供商或采取特定行动。因此，规则引擎将用于设置这些出站邮件的要求：如果为“ true”且为“ true”，请发送“ this”并在X发生X天后发送。</p><p> The task was basically to describe and design the technical solution, suggest the architecture and stack for the messaging rules engine, and develop it from scratch, with the potential for future scaling and versatility.</p><p>任务基本上是描述和设计技术解决方案，为消息传递规则引擎建议体系结构和堆栈，并从头开始进行开发，并具有未来扩展和多功能性的潜力。</p><p>  The client came to us with the idea. We defined the requirements, built up the PRD, and after carefully studying the specification and researching the best practices for an automated messaging system for telemedicine apps, we came up with a solution to implement the rules engine in the most convenient way for users. We co-created the solution with the client, prepared the user flow and user scenarios, drew the dashboard mockups, and developed a Python rule-based engine to execute rules according to a particular algorithm.</p><p>客户想到这个主意。我们定义了需求，建立了PRD，在仔细研究了规范并研究了用于远程医疗应用程序的自动消息传递系统的最佳实践之后，我们提出了一种解决方案，以最方便的方式为用户实现规则引擎。我们与客户端共同创建了解决方案，准备了用户流程和用户场景，绘制了仪表板模型，并开发了基于Python规则的引擎来根据特定算法执行规则。</p><p> We determined that there should be three main stages of rules engine functionality: setting the rule, performing an action, and scheduling or choosing the runner (the timeline of when the action should be performed). So, this is an example of how it can work. The providers of medical services make a decision that a certain group of patients living in a certain area or state needs to sign up for a regular health check. Then, the epidemiologist uses the rules engine we developed to input the data and set rules that define this group of patients. Then, they set the task to send an automated message to all members of that defined group, for example: send an SMS message to all female employees, ages 20-35, from a certain company, reminding them to sign up for an examination at the clinic in 7 days.</p><p>我们确定规则引擎功能应分为三​​个主要阶段：设置规则，执行操作以及安排或选择运行程序（应在何时执行操作的时间轴）。因此，这是它如何工作的一个示例。医疗服务提供者做出决定，即居住在特定地区或州的特定患者群体需要报名进行定期健康检查。然后，流行病学家使用我们开发的规则引擎输入数据并设置定义该组患者的规则。然后，他们将任务设置为向该已定义组的所有成员发送自动消息，例如：向某公司的所有20-35岁女性雇员发送SMS消息，提醒他们在以下位置报名参加考试在7天内就诊。</p><p> The rules engine fulfills all specified rules and actions, and patients automatically receive helpful messages/notifications. The input data is mainly conversation data, but in the future it will be possible to input notes, assessments, EMR encounters, labs, prescription information, and some demographic and financial overlays.</p><p>规则引擎执行所有指定的规则和操作，并且患者会自动收到有用的消息/通知。输入的数据主要是对话数据，但是将来可能会输入注释，评估，EMR遇到的问题，实验室，处方信息以及一些人口统计和财务数据。</p><p> The client was using Druid, a distributed column database, to store all the necessary data. Druid is a very flexible engine that allows for fast ad hoc  queries, so we connected the new messaging engine to the Druid analytics system.</p><p>客户端正在使用Druid（分布式列数据库）来存储所有必要的数据。 Druid是一个非常灵活的引擎，可以进行快速的即席查询，因此我们将新的消息传递引擎连接到Druid分析系统。</p><p>  While the messaging engine development seemed to be pretty straightforward, there were a couple of caveats that needed to be handled carefully. Most of them centered around working with the data via API.</p><p>尽管消息传递引擎的开发似乎非常简单，但是有一些警告需要仔细处理。其中大多数集中在通过API处理数据上。</p><p> For example, we had to make all of the data from the EMR accessible via REST API. But, the only export-possible data format in healthcare is HL7, so we had to focus on streamlining the data exchange process with HL7 API. Using the HL7 FHIR API, we converted the data format into an appropriate format for the messaging engine.</p><p>例如，我们必须通过REST API访问EMR中的所有数据。但是，医疗保健中唯一可能导出的数据格式是HL7，因此我们必须集中精力使用HL7 API简化数据交换过程。使用HL7 FHIR API，我们将数据格式转换为消息传递引擎的适当格式。</p><p> Our rules engine design sends a call through the REST API to the company’s service, in order for that service to send a text message to a member. The rules engine alone doesn’t have direct connectivity to an SMS service provider or messaging service.</p><p>我们的规则引擎设计通过REST API将呼叫发送到公司的服务，以便该服务将文本消息发送给成员。仅规则引擎就无法直接连接到SMS服务提供商或消息服务。</p><p> The rule execution includes several API calls at the time that the rule is evaluated to be true. For example, if the messaging engine sends a thank you message, “Thank you for filling out our survey. We&#39;ll be with you shortly,” the engine also sends an API call to put the member in the priority list (in the agent dashboard) and creates an alert for the agent.</p><p>在评估规则为真时，规则执行包括多个API调用。例如，如果消息传递引擎发送感谢消息，“谢谢您填写我们的调查。很快我们将与您同在。”引擎还会发送API调用，以将成员放入优先级列表（在代理仪表板中），并为代理创建警报。</p><p> We also implemented mechanisms that allow the organization of an analytical dashboard, based on ELK, to understand how well the rules work and view statistics on the implementation of the rules. So, in future versions, the client will be able to use random or controlled testing and determine the outcomes.</p><p>我们还实施了允许基于ELK组织分析仪表板的机制，以了解规则的运行状况并查看规则执行情况的统计信息。因此，在将来的版本中，客户将能够使用随机或受控测试并确定结果。</p><p> The messaging engine rules are applied to all user bases, and new users are added into the system automatically. Everything comes in through API, including the appended data, so no information is added manually. In addition, we developed a mechanism for matching user data with the internal structure of the service, to facilitate system maintenance and reduce the need for developers’ help when adding additional data.</p><p>消息传递引擎规则适用于所有用户群，新用户自动添加到系统中。一切都通过API进来，包括附加的数据，因此无需手动添加任何信息。此外，我们开发了一种机制，可将用户数据与服务的内部结构进行匹配，以方便系统维护并减少添加其他数据时对开发人员的帮助。</p><p>  The rules can be scheduled to be executed at certain times, or triggered based on specific activities. For example, after a member is activated in the system and onboarded, the messaging engine sends them an invitation to take a particular survey. That survey is always sent on day three. But, immediately after taking the survey, Jiseki can send them a message thanking them for their participation and, depending on the results of the survey, follow up with a message addressing a particular issue after five days. If Jiseki sends a member the invitation for the survey and they don&#39;t take it, a follow-up reminder automatically goes out on day seven.</p><p>可以将规则安排为在特定时间执行，也可以根据特定活动来触发。例如，在系统中激活了一个成员并使其加入后，消息传递引擎向他们发送邀请进行特定调查。该调查总是在第三天发送。但是，在进行调查后，Jiseki可以立即向他们发送一封邮件，感谢他们的参与，并根据调查结果，在五天后跟进一封针对特定问题的邮件。如果Jiseki向成员发送了调查邀请，但他们没有接受邀请，则后续提醒会在第七天自动消失。</p><p>  The service was implemented using Python, while the REST API for the client was written in Django + DRF. Airflow is used, along with Celery + Redis, to perform tasks and schedule rules. The Admin UI was created using Django, while Postgresql is used for storing data and DynamoDB organizes interaction between service components. Deployment was realized with Docker + Docker Compose for local development, and Kubernetes as a production infrastructure.</p><p>该服务使用Python实现，而客户端的REST API用Django + DRF编写。气流与Celery + Redis一起用于执行任务和计划规则。 Admin UI是使用Django创建的，而Postgresql用于存储数据，而DynamoDB用于组织服务组件之间的交互。部署使用Docker + Docker Compose进行本地开发，并使用Kubernetes作为生产基础架构来实现。</p><p> The system needed to be wrapped into a simple interface which would allow users to set and manage messaging rules, so we made a control interface application using React.</p><p>该系统需要包装到一个简单的界面中，该界面允许用户设置和管理消息传递规则，因此我们使用React开发了一个控制界面应用程序。</p><p> Using React and Typescript, we developed an application for managing client notification rules. We didn’t use the global state in this application, instead, the global cache was used with React Query. This allowed us to simplify the application architecture and significantly reduce the amount of code for interacting with the server.</p><p>使用React和Typescript，我们开发了一个用于管理客户端通知规则的应用程序。我们不在此应用程序中使用全局状态，而是将全局缓存与React Query一起使用。这使我们能够简化应用程序体系结构并显着减少与服务器交互的代码量。</p><p>  One unique challenge we faced during the telemedicine platform development was working with data in accordance with HIPAA regulations. HIPAA sets the standards for sensitive patient data protection. Since the system deals with protected health information, we needed to put security measures in place that would ensure HIPAA Compliance by going beyond the typical security for messaging engines. The most unusual data we worked with was EMR information, since it could only export data with HL7 format. So, we standardized all the data and put it into a HIPAA-compliant database that the rules engine could work from.</p><p>在远程医疗平台开发过程中，我们面临的一个独特挑战是根据HIPAA法规处理数据。 HIPAA为敏感的患者数据保护设定了标准。由于系统处理的是受保护的健康信息，因此我们需要采取安全措施，通过超越消息传递引擎的典型安全性来确保HIPAA符合性。我们使用的最不寻常的数据是EMR信息，因为它只能导出HL7格式的数据。因此，我们对所有数据进行了标准化，然后将其放入符合HIPAA规范的数据库中，规则引擎就可以使用该数据库。</p><p>  We have fully developed the first version of the product, worked out the business requirements, designed the interface, and formed the technical architecture of the service.</p><p>我们已经完全开发了该产品的第一个版本，制定了业务需求，设计了界面，并形成了服务的技术架构。</p><p> When the service goes live, Jiseki expects a user base of 40-60 thousand users. The company essentially wants to be running trials continuously, trying different patterns of interventions, measuring the results, and determining what’s working and what’s not. The plan is to narrow down how the rules are applied. In version one, that we have developed, the rules are universal, but in later versions, more sophistication will be applied to the rules and the rules will be different for each person based on certain statistics and AI models.</p><p>当该服务上线时，Jiseki预计将有40-60 000个用户。该公司实质上希望连续进行试验，尝试不同的干预方式，衡量结果并确定有效的方法和无效的方法。该计划是要缩小规则的应用范围。在我们开发的第一个版本中，规则是通用的，但是在以后的版本中，规则将更加复杂，并且基于某些统计信息和AI模型，每个人的规则都将有所不同。</p><p> Jiseki’s continued goal is to better understand their members and tailor the service to meet their specific needs. The Evrone team will be happy to continue to implement new services and solutions, in order to help Jiseki provide greater person-centered care service delivery. Reach out to us for more information on the best new features in telemedicine apps, or to find out how we can help you with the development of your Medtech startup!</p><p>Jiseki的持续目标是更好地了解其会员并定制服务以满足他们的特定需求。 Evrone团队将很高兴继续实施新的服务和解决方案，以帮助Jiseki提供更多以人为本的护理服务。请与我们联系以获取有关远程医疗应用程序中最佳新功能的更多信息，或了解我们如何为您发展Medtech初创公司提供帮助！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://evrone.com/jiseki-health">https://evrone.com/jiseki-health</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/服务公司/">#服务公司</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/hipaa/">#hipaa</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/规则/">#规则</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>