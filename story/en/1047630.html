<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Rust：“快速行动并打破事物”是道义上的当务之急 Rust: “Move fast and break things” as a moral imperative</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Rust: “Move fast and break things” as a moral imperative<br/>Rust：“快速行动并打破事物”是道义上的当务之急 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-02-10 00:46:21</div><div class="page_narrow text-break page_content"><p>Rust breaks a lot of stuff, and in ways that are difficult to fix. This can havea chilling effect on users, particularly those on older or slower hardware. Rusthas only one implementation, with a very narrow set of supported platforms, tensof millions of lines of C++ code, and no specification. Rust  ostensiblysupports several dozen targets, but only the tier 1 platforms can bereasonably expected to work. As someone who has tried to bootstrap Rust (andfailed) for even a tier-two platform, I can assure you that it’s a nightmare.Bringing it up for an entirely new target would be a hellish experience. Ask anydistribution packager who works with Rust to share their horror stories —they have many.</p><p>Rust破坏了很多东西，而且方式难以修复。这可能会对用户，特别是那些使用较旧或较慢硬件的用户产生寒蝉效应。 Rust只有一个实现，支持的平台范围非常狭窄，几千万行C ++代码，并且没有规范。 Rust表面上支持几十个目标，但是可以合理地预期只有第1层平台可以工作。作为试图在第二层平台上引导Rust（并失败）的人，我可以向您保证，这是一场噩梦。将其引入一个全新的目标将是一种地狱般的体验。让任何与Rust一起工作的发行包装商分享他们的恐怖故事-他们有很多。</p><p> The Rust cargo cultneeds to pause and re-evaluate. Switching to Rust breaks things foranyone who steps even a toe out of the norm of Linux/macOS/Windows on x86_64 oraarch64. Even on the supported platforms it comes with a substantial burden onbuild requirements, calling for 10× to 100× or more RAM, CPU time,and power usage. Whatever its benefits, choosing Rust is ultimately choosing tolock a large group of people out of your project, and dooming many more tostruggle and frustration. These are real trade-offs that you need to seriouslyconsider.</p><p> Rust货物开始停顿并重新评估。切换到Rust会让那些在x86_64 oraarch64上甚至超出Linux / macOS / Windows规范的人都无法使用。即使在受支持的平台上，它也对构建要求构成了沉重负担，要求10x到100x或更多的RAM，CPU时间和功耗。不管它有什么好处，选择Rust最终都会选择将一大批人拒之门外，并注定要遭受更多的挣扎和挫折。这些是您需要认真考虑的实际取舍。</p><p> Rewrite-it-in-Rust has become a moral imperative. Well, here’s a moral argument:throwing away serviceable computers every couple of years to upgrade is aprivilege that not all of your users have, contributes to climate change, andfills up landfills. As far as security is concerned, some matters  demandleaving the norm: old hardware is the only kind that can avoid proprietaryfirmware blobs, Intel ME or AMD PSP, and UEFI. Novel hardware which addressesissues like microcode and open hardware, like POWER9 and RISC-V, are alsosuffering under Rust’s mainstream-or-bust regime. Anyone left behind is forcedto use the legacy C codebase you’ve abandoned, which is much worse for theirsecurity than the hypothetical bugs you’re trying to save them from.</p><p> 精打细算已成为道德上的当务之急。好吧，这是一个道德上的争论：每两年扔掉可维修的计算机进行升级是一种特权，并非您的所有用户都拥有，它有助于气候变化并填埋。就安全性而言，有些事情需要规范：旧硬件是唯一可以避免专有固件斑点，Intel ME或AMD PSP和UEFI的类型。在Rust的主流或破产制度下，解决诸如微代码之类的新硬件和诸如POWER9和RISC-V之类的开放式硬件也受到了困扰。任何被遗弃的人都被迫使用您遗弃的旧C代码库，这对它们的安全性要比您试图从中拯救它们的假设错误要差得多。</p><p> C is not memory safe. It suffers from undefined behavior. These are validcomplaints. However, C code  can be secure! Just look at  seL4, which Iguarantee you has fewer bugs than, say,  RedoxOS. There are plenty of Cprograms which aren’t formally verified that work fine, too. Rewriting your codein Rust is  always going to introduce new bugs, including security bugs, thatwouldn’t be there if you just maintained the C code. Maybe there areundiscovered bugs lurking in your C codebase, but as your codebase ages undercontinuous maintenance, that number will only shrink.</p><p> C不是内存安全的。它遭受不确定的行为。这些是有效的投诉。但是，C代码是安全的！只需看一下seL4，在Iguarantee中，您发现的bug比RedoxOS少。还有大量未经正式验证的C程序也可以正常工作。重写您的代码Rust总是会引入新的bug，包括安全性bug，如果您仅维护C代码就不会出现。也许在您的C代码库中潜伏着未被发现的错误，但是随着您的代码库在持续维护下的老化，这个数字只会减少。</p><p> A working C toolchain (say,  cproc and  qbe) can be written in a coupletens of thousands of lines of code. The only working Rust toolchain is tens ofmillions of lines of C++ and Rust code. How many undiscovered bugs do you thinkthese two toolchains have when compared? How many of those are security issues?How much relative work would it be to debug them, or port them to new — orold — platforms? How often do these respective codebases churn, creating alarger maintenance burden and introducing new bugs/vulnerabilities? I canbootstrap a working C toolchain in about 10 minutes. I spent a week trying to dothat for Rust, and failed. That matters.</p><p> 可以用成千上万的代码行编写有效的C工具链（例如cproc和qbe）。唯一有效的Rust工具链是数以千万计的C ++和Rust代码行。比较时，您认为这两个工具链有多少个未发现的错误？其中有多少个安全问题？调试它们或将其移植到新的或旧的平台将需要多少相关工作？这些各自的代码库多久流失一次，造成更大的维护负担并引入新的错误/漏洞？我可以在大约10分钟内引导可用的C工具链。我花了一个星期试图为Rust做那件事，但失败了。那很重要。</p><p> Rust is kind of cool, but it’s not a panacea. There are legitimate reasons toprefer C, both technical and moral, and Rust still needs a lot of work beforeit’s ready for the prime time in systems which prioritize stability,reliability, simplicity, and accessibility. Those of us who work with suchsystems, we feel like the Rust community has put its thumbs into its collectiveears, sung “la la la” to our problems, and proceeded to stomp all over thesoftware ecosystem like a toddler playing “Godzilla” with their Lego, all thewhile yelling at us old fogies for being old and fogey.</p><p> 铁锈有点酷，但不是万能药。出于正当理由，无论是从技术上还是从道德上来说，都首选toprefer C，Rust在为稳定性，可靠性，简单性和可访问性优先的系统中的黄金时间准备工作之前仍需要进行大量工作。我们中使用这种系统的人，感觉像Rust社区已经将自己的拇指放在自己的集体耳朵上，唱出“ la la la”来解决我们的问题，然后像踩着乐高玩具的孩子玩“ Godzilla”一样，脚整个软件生态系统。 ，却一直因为我们老又老气而大喊大叫。</p><p> To the Rust team: it’s time to calm down. Slow down the language, write aspecification, focus on improving your tier 2 and tier 3 targets, expand to moreplatforms, and work on performance, stability, and accessibility. Invest more inthird-party implementations like rust-gcc. I spent almost a week, full-time,trying to bring up Rust for riscv64-musl. The bootstrap process is absolutelymiserable. Your ecosystem has real problems that affect real people. It’s timeto stop ignoring them.</p><p> 对Rust团队：是时候冷静下来了。放慢语言速度，编写规范，专注于改善第2层和第3层目标，扩展到更多平台，并致力于性能，稳定性和可访问性。投资更多的第三方实现，例如rust-gcc。我花了将近一个星期的时间，全职试图为Rustcv64-musl制作Rust。引导过程绝对是错误的。您的生态系统存在影响真实人的实际问题。现在该停止忽略它们了。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://drewdevault.com/2021/02/09/Rust-move-fast-and-break-things.html">https://drewdevault.com/2021/02/09/Rust-move-fast-and-break-things.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/rust/">#rust</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/打破/">#打破</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/move/">#move</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>