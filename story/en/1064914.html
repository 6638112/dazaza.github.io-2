<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>快速近似抗锯齿（FXAA）（2011） Fast Approximate Anti-Aliasing (FXAA) (2011)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Fast Approximate Anti-Aliasing (FXAA) (2011)<br/>快速近似抗锯齿（FXAA）（2011） </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-11 02:58:11</div><div class="page_narrow text-break page_content"><p>Anti-aliasing has an intimidating name, but what it does for our computer displays is rather fundamental.  Think of it this way -- a line has infinite resolution, but our digital displays do not. So when we &#34;snap&#34; a line to the pixel grid on our display, we can compensate by imagineering partial pixels along the line,  pretending we have a much higher resolution display than we actually do. Like so:</p><p>抗锯齿具有恐吓名称，但它为计算机显示器的表现是相当基础的。以这种方式想到它 - 一条线具有无限分辨率，但我们的数字显示器没有。所以，当我们＆＃34; Snap＆＃34;我们显示器上的像素网格的一条线，我们可以通过想象的部分像素沿线来补偿，假装我们具有比我们实际执行更高的分辨率显示。喜欢：</p><p>  As you can see on these little squiggly black lines I drew, anti-aliasing produces a superior image by using grey pixels to simulate partial pixels along the edges of the line. It is a hack, but as hacks go, it&#39;s pretty darn effective. Of course, the  proper solution to this problem is to have extremely high resolution displays in the first place. But other than tiny handheld devices,  I wouldn&#39;t hold your breath for that to happen any time soon.</p><p>  正如您在这些小Quiggly黑线上看到的那样，通过使用灰色像素来模拟沿线边缘的部分像素来模拟抗锯齿的抗锯齿。这是一个黑客，但作为黑客去，它＆＃39;很漂亮的Darn有效。当然，对此问题的正确解决方案是首先具有极高的分辨率显示。但除了微小的手持设备之外，我不会呼吸你的呼吸。</p><p> This also applies to much more complex 3D graphics scenes. Perhaps even more so, since  adding motion amplifies the aliasing effects of all those crawling lines that make up the edges of the scene.</p><p> 这也适用于更复杂的3D图形场景。也许更多，因此，由于添加运动放大了构成场景边缘的所有那些爬行线的混叠效果。</p><p>  But anti-aliasing, particularly at 30 or 60 frames per second in a complex state of the art game, with millions of polygons and effects active, is not cheap.  Per my answer here, you can generally expect a  performance cost of at least 25% for proper 4X anti-aliasing. And that is for  the most optimized version of anti-aliasing we&#39;ve been able to come up with: Super-Sampled Anti-Aliasing (SSAA). The oldest trick in the book - I list it as universal because you can use it pretty much anywhere: forward or deferred rendering, it also anti-aliases alpha cutouts, and it gives you better texture sampling at high anisotropy too. Basically, you render the image at a higher resolution and down-sample with a filter when done. Sharp edges become anti-aliased as they are down-sized. Of course, there&#39;s a reason why people don&#39;t use SSAA:  it costs a fortune. Whatever your fill rate bill, it&#39;s 4x for even minimal SSAA.</p><p>  但是，抗锯齿，特别是在艺术游戏的复杂状态下每秒30或60帧，用数百万多边形和效果有效，并不便宜。根据我的答案在这里，您通常可以预期适当的4x抗锯齿至少25％的性能成本。这是为了获得最优化的抗锯齿版，我们已经能够提出：超级采样的抗锯齿（SSAA）。这本书中最古老的伎俩 - 我将其列出它是普遍的，因为您可以在任何地方使用它基本上，在完成后，在更高的分辨率和下样品中将图像呈现更高的分辨率和下样品。尖锐的边缘变得抗锯齿，因为它们被缩小为尺寸。当然，在那里＆＃39;是人们不使用SSAA的原因：它花费了财富。无论您的填充率账单如何，它甚至最小的SSAA＆＃39; s 4x。</p><p> Multi-Sampled Anti-Aliasing (MSAA). This is what you typically have in hardware on a modern graphics card. The graphics card renders to a surface that is larger than the final image, but in shading each &#34;cluster&#34; of samples (that will end up in a single pixel on the final screen) the pixel shader is run only once. We save a ton of fill rate, but we still burn memory bandwidth. This technique does not anti-alias any effects coming out of the shader, because the shader runs at 1x, so alpha cutouts are jagged. This is the most common way to run a forward-rendering game. MSAA does not work for a deferred renderer because lighting decisions are made after the MSAA is &#34;resolved&#34; (down-sized) to its final image size.</p><p> 多采样的抗锯齿（MSAA）。这是您通常在现代显卡上的硬件中通常拥有的。图形卡呈现为大于最终图像的表面，但在阴影中，每个＆＃34; cluster＆＃34;样本（最终在最终屏幕上的单个像素中最终），像素着色器仅运行一次。我们节省了一吨填充率，但我们仍然刻录内存带宽。这种技术不会消除着色器中出现的任何效果，因为着色器在1x时运行，因此alpha切断是锯齿状的。这是运行前向渲染游戏的最常见方式。 MSAA不适用于延迟渲染器，因为在MSAA是＆＃34之后的照明决策;已解决的＆＃34; （下大小）到最终的图像尺寸。</p><p> Coverage Sample Anti-Aliasing (CSAA). A further optimization on MSAA from NVidia [ed: ATI has an equivalent]. Besides running the shader at 1x and the framebuffer at 4x, the GPU&#39;s rasterizer is run at 16x. So while the depth buffer produces better anti-aliasing, the intermediate shades of blending produced are even better.</p><p> 覆盖样品抗锯齿（CSAA）。来自NVIDIA [ED：ATI的MSAA进一步优化，相当于]。除了在1x上运行着色器和4x时的帧缓冲器，GPU＆＃39; S光栅化器在16倍下运行。因此，虽然深度缓冲器产生更好的抗锯齿，但产生的混合的中间色调甚至更好。</p><p> Pretty much all &#34;modern&#34; anti-aliasing is some variant of the MSAA hack, and even  that costs a quarter of your framerate. That&#39;s prohibitively expensive, unless you have so much performance you don&#39;t even care, which will rarely be true for any recent game. While the crawling lines of aliasing do bother me, I don&#39;t feel anti-aliasing alone is worth giving up a quarter of my framerate and/or turning down other details to pay for it. But that was before I learned that  there are some emerging alternatives to MSAA. And then, much to my surprise, these alternatives started showing up as actual graphics options in this season&#39;s PC games -- Battlefield 3, Skyrim, Batman: Arkham City, and so on.  What is this FXAA thing, and how does it work? Let&#39;s see it in action: (this is a zoomed fragment; click through to see the full screen) FXAA stands for Fast Approximate Anti-Aliasing, and it&#39;s an  even more clever hack than MSAA, because it ignores polygons and line edges, and simply  analyzes the pixels on the screen. It is a pixel shader program  documented in this PDF that runs every frame in a scant millisecond or two. Where it sees pixels that create an artificial edge, it smooths them. It is,  in the words of the author, &#34;the simplest and easiest thing to integrate and use&#34;. FXAA has two major advantages: FXAA smooths edges in  all pixels on the screen, including those inside alpha-blended textures and those resulting from pixel shader effects, which were previously immune to the effects of MSAA without oddball workarounds. It&#39;s fast. Very, very fast.  Version 3 of the FXAA algorithm takes about 1.3 milliseconds per frame on a $100 video card. Earlier versions were found to be  double the speed of 4x MSAA, so you&#39;re looking at a modest 12 or 13 percent cost in framerate to enable FXAA -- and in return you get a  considerable reduction in aliasing.</p><p> 几乎所有人＆＃34;现代＆＃34;抗锯齿是MSAA黑客的一些变体，甚至花费四分之一的帧。除非你有这么多的表现，否则昂贵的昂贵，除非你甚至关心，甚至都会很昂贵。虽然蔓延的别名线路让我打扰我，但是，我没有感到抗锯齿，值得放弃我的四分之一的帧气和/或关闭其他细节来支付它。但这是在我了解到有一些新出现的MSAA替代品。然后，令我惊讶的是，这些替代方案开始作为本赛季的实际图形选项展示＆＃39; S PC游戏 - 战场3，天际，蝙蝠侠：Arkham City等。这是什么FXAA的事情，它是如何工作的？让＆＃39;在行动中看到它:(这是一个缩放的片段;点击查看全屏）fxaa代表快速近似的抗锯齿，它比msa更聪明地聪明，因为它忽略多边形和线边缘，并简单地分析屏幕上的像素。它是在此PDF中记录的像素着色器程序，该程序在Scant毫秒或两个中运行每个帧。在它看到创建人造边缘的像素的情况下，它会平滑它们。它是作者的话，＆＃34;集成和使用的最简单和最简单的事情。 FXAA具有两个主要优点：FXAA在屏幕上的所有像素中平滑边缘，包括α-混合纹理中的那些和由像素着色器效应产生的那些，这先前没有MSAA的影响而没有古怪的替代方法。 ＆＃39; s快速。非常非常快。 FXAA算法的版本3在100美元的视频卡上每帧大约需要1.3毫秒。发现早期的版本被发现是4x MSAA的速度，所以你＆＃39;重新拍摄的速度为12或13％，以启用FXAA  - 并且在返回时，您可以获得相当大的别名减少。 </p><p> The only downside, and it is minor, is that you may see a bit of unwanted edge &#34;reduction&#34; inside textures or in other places. I&#39;m not sure if it&#39;s fair to call this a downside, but FXAA can&#39;t directly be applied to older games;  games have to be specifically coded to call the FXAA pixel shader  before they draw the game&#39;s user interface, otherwise it will happily smooth the edges of on-screen HUD elements, too. The FXAA method is  so good, in fact, it makes all other forms of full-screen anti-aliasing pretty much obsolete overnight.  If you have an FXAA option in your game, you should enable it immediately and ignore any other AA options. FXAA is an excellent example of the power of simple hacks and heuristics. But it&#39;s also  a great demonstration of how attacking programming problems from a different angle -- that is, rather than thinking of the screen as a collection of polygons and lines, think of it as a collection of pixels -- can enable you to solve computationally difficult problems faster and arguably  better than anyone thought possible. [advertisement] What&#39;s your next career move?  Stack Overflow Careers has the best job listings from great companies, whether you&#39;re looking for opportunities at a startup or Fortune 500. You can search our  job listings or  create a profile and let employers find you.</p><p>唯一的缺点，它是未成年人，是你可能会看到一些不需要的边缘和＃34;减少＆＃34;在纹理或其他地方。我不确定它是否＆＃39;公平地称之为下行，但FXAA可以直接应用于旧游戏;游戏必须特别编码，以便在他们绘制游戏之前调用FXAA像素着色器＆＃39; S用户界面，否则它也会愉快地平滑屏幕上的HUD元素的边缘。 FXAA方法是如此善良，其实它使所有其他形式的全屏抗锯齿相对于一夜之间过时。如果您在游戏中有FXAA选项，则应立即启用它并忽略任何其他AA选项。 FXAA是简单的黑客和启发式功能的重要例子。但它也是一个很好的展示如何攻击不同角度的编程问题 - 即而不是思考作为多边形和线条的集合，而是将其视为像素的集合 - 可以启用您可以更快地解决计算困难问题，比任何人都能更好地解决。 [广告]什么＆＃39;你的下一个职业活动？堆栈溢出职业生涯中有来自伟大公司的最佳工作列表，无论您是＆＃39;在启动或财富500强寻找机会。您可以搜索我们的工作列表或创建个人资料，让雇主找到您。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.codinghorror.com/fast-approximate-anti-aliasing-fxaa/">https://blog.codinghorror.com/fast-approximate-anti-aliasing-fxaa/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/抗锯齿/">#抗锯齿</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>