<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>打印此文件，打印机将卡纸（2008） Print this file, your printer will jam (2008)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Print this file, your printer will jam (2008)<br/>打印此文件，打印机将卡纸（2008） </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-27 07:28:36</div><div class="page_narrow text-break page_content"><p>Another story from printer-land of 20 years ago: this time about a seeminglyimpossible bug.</p><p>20年前打印机领域的另一个故事：这次似乎是不可能的错误。</p><p>  Print the attached file. The LPS-20 will jam. You’ll have to openthe printer to remove the scrunched up paper.</p><p>  打印附件。 LPS-20将卡纸。你必须打开打印机以取出卷曲的纸张。</p><p> We were no strangers to jammed printers, but a particular file that could jamthe printer? Yeah, right. It was crazy.</p><p> 我们对卡纸的打印机并不陌生，但是一个可能卡纸的特定文件打印机？是的，对。太疯狂了。</p><p> I printed the file. The printer jammed! I cleared the jam, printed the fileagain, it jammed again. I printed a different file, it printed fine. I printeda third file, it printed fine. Printed the bug report file again, the printerjammed, WTF!? How can a file reliably cause a printer to jam?</p><p> 我打印了文件。打印机卡纸！我清除了卡纸，打印了文件再次，它再次卡住了。我打印了一个不同的文件，打印得很好。我印了第三个文件，打印效果很好。再次打印错误报告文件，打印机卡住了，WTF ！？文件如何可靠地引起打印机卡纸？</p><p> The mystery in this case was solved by the hardware team, because while wesoftware guys were working on the software that fed PostScript files to the printer,the hardware guys were still getting the kinks out of the printer itself.</p><p> 在这种情况下，这个谜团已由硬件团队解决，因为软件人员正在研究将PostScript文件馈送到打印机的软件，硬件人员仍在摆脱打印机本身的麻烦。</p><p> A laser printer has a drum on which the image is formed, and then used totransfer the image to the paper. In a 20 ppm printer like the LPS-20,the drum rotates once every three seconds. With a PostScript printer, a pagecould take an arbitrary amount of time to render. If the page takes less thanthree seconds to render, then the drum will rotate at full speed, with no pauses.</p><p> 激光打印机具有在其上形成图像的感光鼓，然后用于将图像转印到纸张上。在LPS-20等20 ppm的打印机中，滚筒每三秒钟旋转一次。使用PostScript打印机时，一页可能需要花费任意时间来渲染。如果页面花费少于3秒钟进行渲染，然后鼓将全速旋转，而不会暂停。</p><p> But if the PostScript interpreter takes longer than three seconds to finish a page,then the drum has to stop and wait for the image to be ready. Starting and stoppingthe drum and all the associated feed machinery is not trivial to get right.</p><p> 但是，如果PostScript解释器花费超过三秒钟来完成一页，然后感光鼓必须停止并等待图像准备就绪。开始和停止滚筒和所有相关的进料机械并非易事。 </p><p> In the case of the bug report file, the page took longer than three seconds,but only slightly longer, so not only did the drum have to stop, but it hadn’tquite totally stopped before it was started again. That mechanical edge caseis what made the printer jam. The file had pages that took just the rightamount of time to hit a bad timing window in the drive train firmware, and theprinter jammed every time. Once the hardware guys adjusted the firmware, theproblem went away.</p><p>对于错误报告文件，该页面耗时超过三秒钟，但只是稍长一点，所以不仅鼓必须停止，而且没有在完全重新开始之前，它已经完全停止了。机械的边缘情况是什么导致打印机卡纸。该文件的页面刚好正确在传动系统固件中达到错误的计时窗口的时间，以及打印机每次卡纸。硬件人员调整固件后，问题消失了。</p><p>  Abstractions are everywhere, and they can be broken. As a software guy, Ibelieved that getting the paper into the output tray was a solved problem.</p><p>  抽象无处不在，可以被破坏。作为软件专家，我相信将纸张放入出纸盒是一个解决的问题。</p><p> As a QA guy I enjoyed this posting. Sometimes &#39;luck&#39; is involved with running into the defect but it takes follow through on the part of the tester and developer to see it to resolution.</p><p> 作为质量检查人员，我喜欢这个帖子。有时会很幸运涉及到缺陷的运行，但是它需要测试人员和开发人员的跟进，才能找到解决方案。</p><p>  Oh yeah I see this kind of thing every day. Finding proof is nearly impossible though. Could you please provide a like to the example page that caused the jam?</p><p>  哦，是的，我每天都看到这种事情。但是，找到证据几乎是不可能的。您能否在导致卡纸的示例页面上提供类似图片？</p><p>  I well recall the IBM 1403, a massive line-printer that was the workhorse of 1960s and 70s computer centers. This thing had a massive rotating chain that smashed down onto the paper in order to print (think of a typewriter wielded by the Terminator while on speed). Printing a + in the first position caused the printer to overprint; overprint enough lines (say around 20, with various combinations of AAAA and ZZZZ), and the printer would jam. The thing ran fast enough that any jam had fed enough paper into the printer to require some serious work to clear.    1403s had another peculiarity. There was a paper tape that told the printer where the top of page was. An eject command caused the printer to space the paper forward until the tape (moving at the same speed) indicated the top of the next page. If the tape broke, the paper would eject at high speed...generally most of a box of paper (2000 sheets) would eject before the operator noticed it.   I don&#39;t know when IBM discontinued the 1403, but a Google search just now revealed several companies that sell ribbon cartridges for them.</p><p>  我很记得IBM 1403，这是一款大型行式打印机，是1960和70年代计算机中心的主力军。这东西有一条巨大的旋转链，将其砸碎在纸上以便打印（想像一下终结者在高速行驶时所用的打字机）。在第一个位置打印+导致打印机套印；对足够多的行进行套印（例如大约20条，并使用AAAA和ZZZZ的各种组合），打印机将卡纸。事情运行得足够快，以至于任何卡纸都将足够的纸张送入打印机，需要进行一些认真的工作才能清除。   1403年代还有另一个特点。有一条胶带告诉打印机页面顶部在哪里。弹出命令使打印机向前间隔纸张，直到胶带（以相同速度移动）指示下一页的顶部。如果胶带断裂，纸张将以高速弹出...通常，一盒纸（2000张）将在操作员注意到之前弹出。   我不知道IBM何时停止使用1403，但是Google刚刚搜索了几家为其出售色带盒的公司。</p><p>    &gt;why does it take 3 seconds to interpret a postscript file    &#34;Another story from printer-land of 20 years ago&#34; Things were not as fast then.</p><p>    ＆gt;为什么解释后记文件需要3秒钟   ＆＃34;来自20年前打印机领域的另一个故事＆＃34; 事情还没那么快。</p><p>  This reminds me of a similar problem I once had with a Word document that crashed our departemental server. As you probably know, in windows networking the printer driver is running on the server and not on the client. Due to an obscure bug in the printer driver, every time somebody printed a certain Word Document, the server rebooted. It took 6 days before our IT experts realised that the combination of that Word document + printer driver were causing the issue. Everyone was thinking that the document was not printed because the server crashed, while it was the other way around. A group of 80 people in the IT darkness for 6 days, isn&#39;t that funny. By the way the Word document that caused the issue was a normal Word document that could be opened and saved in Ms Office without problems. The printer was an HP laserprinter with a Microsoft certified printer driver</p><p>  这让我想起了我曾经遇到的一个Word文档，该问题使我们的部门服务器崩溃了。您可能知道，在Windows联网中，打印机驱动程序在服务器而不是客户端上运行。由于打印机驱动程序中的一个模糊错误，每次有人打印某个Word文档时，服务器都会重新启动。我们的IT专家花了6天的时间才意识到该Word文档+打印机驱动程序的组合是造成此问题的原因。每个人都以为文件未打印是因为服务器崩溃了，反之亦然。一群80个人在IT暗中度过了6天，真不是那么有趣。顺便说一下，引起问题的Word文档是普通的Word文档，可以正常打开并保存在Office女士中。该打印机是带有Microsoft认证打印机驱动程序的HP Laserprinter </p><p>  Like the experience with the IBM 1403, we had a DEC chain line printer when I was at a university back in the late 70&#39;s. The chain held all the slugs which whirred rapidly like a tank tread over the paper. When a slug with the desired character was over the correct space, an electro-mechanical hammer, one of 132 for each space on the line, would stamp it. Each hammer was actuated independently so multiple characters might be stamped at the same time and the chain would spin until all the characters on the line were stamped before line feeding. It was loud enough that it had to be inside a large refrigerator sized foam lined box. But if you printed a line with the same character order as the slugs on the chain though...omigod...it sounded like bowling balls raining on a used car lot and the printer would start skittering around the floor. We expected something amusing to happen but not for it to be shaking itself to death. Being back in the days when mainframe printers cost more than any university student dared to imagine, we did not repeat our little hardware experiment.</p><p>就像IBM 1403的使用经验一样，我70年代末在大学时就拥有一台DEC链式打印机。链子上的所有鼻涕虫都像罐子踩在纸上一样迅速旋转。当带有所需字符的子弹在正确的空间上时，将用一条机电锤（在线路上每个空间的132个锤子之一）上进行冲压。每个锤子都是独立致动的，因此可以同时在多个字符上加盖印章，并且链条会旋转直到行上的所有字符都加盖后再换行。它的声音足够大，它必须放在冰箱大小的泡沫衬里大盒子里。但是，如果您以与链子上的子弹头相同的字符顺序打印了一行...哎呀，这听起来像是一个保龄球滚落在一辆二手车上，打印机就会开始在地板上打滑。我们期望会发生一些有趣的事情，但并不是希望它会摇摇欲坠。回到大型机打印机的价格超过任何大学生敢于想象的时代，我们没有重复我们的小型硬件实验。</p><p>    For those that want a copy of the file: I don&#39;t have it, and it wouldn&#39;t do you any good anyway, it was particular to a bug in a specific model of printer, and the bug was fixed 20 years ago!   About why the file would take 3 seconds to execute: not only were things not as fast then as now, but PostScript is a Turing-complete programming language. You can construct a file to take as long as you like.   As I recall, the file was a TeX output file full of Type3 bitmap fonts. Perhaps that had something to do with the complexity.</p><p>    对于那些想要文件副本的人：我没有它，反正也对您没有任何帮助，它特定于特定型号打印机的错误，并且该错误已得到修复。 20年前！   关于为什么要花3秒钟来执行该文件：不仅事情没有现在那么快，而且PostScript是一种Turing完整的编程语言。您可以构建一个文件，只要您愿意即可。   我记得，该文件是TeX输出文件，其中充满了Type3位图字体。也许这与复杂性有关。</p><p>    That&#39;s a pretty amazing bug story! I have to admit, I would have been in the same boat. How can a particular file cause a printer jam. It&#39;s amazing how working in the abstract world of software so much causes us to forget that there&#39;s real hardware running our software underneath the seams. Great story.</p><p>    那是一个非常惊人的错误故事！我必须承认，我本来应该在同一条船上。特定文件如何导致打印机卡纸。令人惊讶的是，如何在软件的抽象世界中工作如此之多，使我们忘记了真正的硬件在接缝下运行着我们的软件。好故事</p><p>  I heard a story about a program that would crash on wednesdays in september. Sounds crazy...but it was an off-by-one error in a buffer allocation to store the date in the format &#34;Wednesday, 01 September 2005&#34;. &#34;wednesday&#34; and &#34;september&#34; are the two longest day and month names.</p><p>  我听说了一个有关某个程序的故事，该程序将在9月的星期三崩溃。听起来很疯狂...但是在缓冲区分配中，日期以2005年9月1日（星期三）的格式存储时出现了一次错误。 ＆＃34;星期三＆＃34;和＆＃34; septe＆＃34;是最长的日期和月份名称。</p><p>  Good sir, I have looked for an email for you but failed, so I must reply here.   The emails you send in &#39;Email me future comments&#39; appears to be broken. I am using Evolution as my email client that does not seem to like HTML mail, and you don&#39;t send a plain version - so I cannot easily read these emails.</p><p>  先生，好，我已经为您寻找电子邮件，但没有成功，因此我必须在此处回复。   您发送的电子邮件＆＃39;给我发送以后的评论。似乎坏了。我将Evolution用作似乎不喜欢HTML邮件的电子邮件客户端，并且您没有发送纯文本-因此我无法轻松阅读这些电子邮件。</p><p>  Ned, I think it is very possible that I wrote that bug report. I was a co-op in the Westford &#34;TASTE&#34; group in 1989/90. My responsibility was to help with development of the PostScript test suite, with the LPS-20 and LPS-40 (I think) being my key targets. I recall writing some long-duration-interpretation tests with delay loops and reporting bugs like this. I think we actually met briefly a few times. I worked with Shari?   I found your blog through a reference on Gruber&#39;s blog. Quite a blast from the past.   - Patrick</p><p>  内德，我认为我很可能编写了该错误报告。我曾在Westford＆＃34; TASTE＆＃34;小组在1989/90年。我的责任是帮助开发PostScript测试套件，其中LPS-20和LPS-40（我认为）是我的主要目标。我记得写了一些带有延迟循环的长时间解释测试，并报告了这样的错误。我想我们实际上曾几次见过面。我和Shari一起工作吗？   我是通过Gruber博客上的参考文献找到您的博客的。过去的爆炸声很大。   -帕特里克</p><p>  ruben,   Your right but your wrong, its not windows networking, its called having a Print Server. The driver is downloaded to your machine from the print server, and when you print the document is converted into the output file that the print driver would create and sends it to the printer THROUGH the print server. SO you are right, but you said windows networking as if it has anything to do with your print driver or the process of printing. Microsoft Networking is just the general name that all the different components of networking fall under.</p><p>  鲁本   您的是对，但您的错，不是Windows网络，而是所谓的拥有打印服务器。该驱动程序已从打印服务器下载到您的机器上，并且在您打印文档时，该文档被转换为打印驱动程序将创建的输出文件，并将其通过打印服务器发送给打印机。因此，您说得对，但是您说的Windows网络连接与打印驱动程序或打印过程有关。 Microsoft Networking只是网络的所有不同组成部分所属的通用名称。 </p><p>  &gt; About why the file would take 3 seconds    Oh, for files that only took three seconds.    I worked on desktop publishing software that printed to some of the early hi-res filmsetters using a PostScript RIP. It was normal to print a 32 page tabloid document and wait an hour or two for all of it to finish. Sometimes, a single complex page done in Adobe Illustrator, or its then competitor, FreeHand, would take an overnight shift to output. Worse, it might run for several hours then die when the RIP ran out of memory and/or temp disk space. Good times.   &gt; PostScript is a Turing-complete programming language.   My first programming language was PostScript. I learned while working as a QA tester, by debugging and optimizing PS routines in some of our products. Long story on why I had to do that instead of just demonstrate the issue and send it back to engineering.    It warps you for life, sort of like if your cradle language was pig-latin.   Thanks for the trip down memory lane.</p><p>＆gt;关于为什么文件需要3秒   哦，对于只花了三秒钟的文件。   我开发了桌面发布软件，该软件使用PostScript RIP打印到一些早期的高分辨率电影摄制者。打印32页的小报文档并等待一两个小时，以完成所有操作是正常的。有时，在Adobe Illustrator中完成的单个复杂页面或其当时的竞争对手FreeHand将在一夜之间转移到输出。更糟糕的是，它可能会运行几个小时，然后在RIP内存和/或临时磁盘空间不足时消失。美好时光。   ＆gt; PostScript是一种Turing完整的编程语言。   我的第一种编程语言是PostScript。在作为QA测试人员时，我通过调试和优化某些产品中的PS例程来学习。关于为什么我必须这样做而不是仅仅演示问题并将其发送回工程的漫长故事。   它使您终生难舍，就像您的摇篮语言是猪拉丁一样。   感谢您的记忆之旅。</p><p>  I&#39;m really glad to read this article. My experience is that the more I working with software, the more I learn to doubt my own assumptions when encountering seemingly &#34;non-deterministic&#34; or &#34;paranormal&#34; behavior. A classic example is editing a file that drives dynamic web content but forgetting to restart Apache. In the default configuration, there are multiple processes, so if some have not launched yet, then you will get random results depending on whether or not your request is served by a process that has already launched.</p><p>  我很高兴阅读这篇文章。我的经验是，我越是使用软件，当遇到看似不确定的＆＃34;不确定性时，我越会怀疑自己的假设。或＆＃34;超自然现象＆＃34;行为。一个经典的例子是编辑一个驱动动态Web内容的文件，但是忘记重新启动Apache。在默认配置中，存在多个进程，因此，如果尚未启动，则将根据获得的请求是否由已经启动的进程提供服务而获得随机结果。</p><p>  I know this is only marginally related, but I have a brand new out-of-the box HP 6000, with an HP 300 printer. I have to restart the print spooler in XP every time I print a document. I went to HP&#39;s official site: their &#39;fix&#39; for the problem is to restart the print spooler every time you print a document. Some help desk you got there, HP.   But on a closer note - back at McDonnell-Douglas in late 70&#39;s a legend was that someone figured out the arm movement speeds on an old hard disk (IBM 3380?) and and set up a program to seek back and forth at high speed and start moving the disk drive unit across the floor, like a washing machine that is unbalanced. Never saw it happen.</p><p>  我知道这只是勉强相关，但是我有一个全新的即用型HP 6000，带有HP 300打印机。每次打印文档时，我都必须在XP中重新启动后台打印程序。我去了惠普的官方网站：他们的补丁程序。因为问题是每次打印文档时都要重新启动后台打印程序。惠普，您可以从那里获得一些帮助台。   但是更近一点-早在70年代末的麦克唐纳-道格拉斯，有一个传说是有人想出了旧硬盘（IBM 3380？）上的手臂运动速度，并建立了一个程序在高速旋转，然后开始将磁盘驱动器单元移动到地板上，就像洗衣机不平衡一样。从未见过。</p><p>  I&#39;ve seen and heard the chain printer phenomenon (severely clattering printer) described above with some old (even at that time) CDC chain printers that we had at Lockheed Martin in Sunnyvale back in the mid-1980&#39;s. Also something similar, though perhaps less severe-sounding, with band printers. And fun with rapid paper ejection when the &#34;form control&#34; tape (made of Mylar in these printers, I think) occasionally got damaged. Was there a common generic name for such tapes?   I wonder what would happen if you sent that same text over and over, with no paper feed, and each time shifting the text one character in the direction the band or chain was moving--until you&#39;d made two or three complete cycles through the character set?   And on the dot-matrix graphic line printers like the Printronix P600 or the DEC-branded LG02, you could tell whenever the printer drew a horizontal line by the &#34;bzzzt&#34; that was a little louder than usual.</p><p>  我已经看到并听到了1980年中期我们在森尼韦尔的洛克希德·马丁公司使用的一些旧的（甚至当时）CDC链式打印机遇到的上述链式打印机现象（严重损坏的打印机）。带式打印机也有类似的东西，尽管听起来可能不太严重。当＆＃34;表单控件＆＃34;胶带（我认为这些打印机是用Mylar制成的）偶尔会损坏。这些磁带有通用的通用名称吗？   我想知道如果您一遍又一遍地发送相同的文本，而没有进纸，并且每次将文本向着乐队或链条的移动方向移动一个字符，直到您完成两个或三个字符，会发生什么？遍历字符集？   在点阵图形行式打印机（如Printronix P600或DEC品牌的LG02）上，您可以通过bzzzt＆＃34;判断打印机何时绘制水平线。比平常大一点。</p><p>  This is a perfect real-world example of Doug Hofstaeder&#39;s machine-killing information from  Godel Escher Bach.</p><p>  这是来自Godel Escher Bach的Doug Hofstaeder的机器杀人信息的真实示例。</p><p>  Hollerith (punch) card readers (like line printers) were also &#39;fragile&#39;. Punching too many holes in a card caused it to become too flexible; inserting one in a deck of cards (the machines sorted dozens a second) would reliably cause the machine to jam ... and destroying many of the cards in the process.</p><p>  Hollerith（打孔）卡读取器（如行式打印机）也很脆弱。在卡上打太多的孔会导致其变得太柔韧性。将一张卡片插入一副纸牌（每秒分类数十台的机器）中，会可靠地导致机器卡纸...并在此过程中损坏许多卡片。</p><p>  @johnjay60: i can well recall IBM 2311 disk drives (7.5MB, with the form factor of a washing machine), which did move while seeking. I used to operate a System/360 Model 40 (small-scale mainframe), with a bunch of these. When you ran the sort program, the drives started swaying in a distinctly eerie manner. The IBM 1130 small computer system had a disk drive with a noisy stepping motor for seeking. You could be down at the other end of the building and hear the distinctive noise that meant that the Fortran compiler had found no errors, and was beginning to write out the object file.    @galen: we called them `carriage control tapes&#39;. I don&#39;t know if there was an official IBM name for them. My memory is hazy now, but I believe the early ones were indeed paper. Maybe later 1403 carriage control tapes were Mylar too.</p><p>  @ johnjay60：我很想起IBM 2311磁盘驱动器（7.5MB，具有洗衣机的外形），它在搜索时确实移动了。我曾经使用一堆System / 360 Model 40（小型大型机）进行操作。运行排序程序时，驱动器开始以明显异常的方式摇摆。 IBM 1130小型计算机系统具有一个磁盘驱动器，该磁盘驱动器具有用于搜索的嘈杂的步进电机。您可能在建筑物的另一端，听到独特的声音，这意味着Fortran编译器未发现任何错误，并开始写出目标文件。   @galen：我们称它们为“起落架控制带”。我不知道他们是否有IBM的正式名称。我的记忆现在朦胧了，但我相信早期的确是纸上的。也许后来的1403车架控制带也是聚酯薄膜。 </p><p>  Re: Long Render times in PS.   PS is a turing complete language (as noted above), and in those days ran on a 4Mhz 68000 -- hence, pretty slow. At one point, it was considered grand fun to write ray tracers in PostScript, which were programs that would render within the memory of the printer, and then print out the resultant image.    It took hours and hours of time to run programs that were under a page long. Irritated the hell out of the admins...</p><p>回复：PS中较长的渲染时间。   PS是一种图灵完整的语言（如上所述），并且在那些日子里运行在4Mhz 68000上-因此，速度非常慢。在某一时刻，用PostScript编写光线追踪器是很有趣的事，光线追踪器是可以在打印机内存中渲染的程序，然后打印出结果图像。   运行一个页面以下的程序需要花费数小时和数小时的时间。惹恼了管理员。</p><p>  I got that beat. Herewith is the hands-down weirdest printer bug I&#39;ve ever seen.   I was working for QualityLogic (formerly Genoa), a company that produced, among other things, certification tests for page description languages. Without boring you with the details, these tests just ran through each command in a PDL and exercised it six ways from Sunday.   Anyway, I was working on an upgrade to an HP PCL-XL test, and I came to the command (I don&#39;t recall the name off the top of my head) that set the color mode for printing bitmaps. This command actually did TWO things: it set the color mode to either indexed or direct, and it created a palette in memory.   Now, if you had set the color mode to direct, the palette was pointless, the color information came from the bitmap. So I figured it would be a good test to try poking various colors into the palette with direct mode set, and verify that the palette colors had no effect on the printed image.   And sure enough, on our reference printer (some HP color Laser Jet model), the command worked exactly as expected.   Our test pages had several pre-defined cells per page for separate tests, so I created a few tests that poked various colors into the palette, and verified that none of them affected the output.   Then I noticed I had one cell left on the page, so just for grins, I used it to set a palette that was all grays (ie, the R, G, and B values were equal).   The image didn&#39;t print. All the other tests on the page (the ones with non-gray palettes) printed. Just not the grayscale test.   I thought I&#39;d made some kind of mistake, so I tried it again, with a different set of grays.   The image didn&#39;t print.   I tried a whole series of grayscale palettes, and in every case, the image didn&#39;t print. But when I inserted just ONE non-gray color into the palette, the image printed just fine. If I altered a gray by so much as +/-1 in any channel, the image printed. If I mixed gray and non-gray tests on a page, all of the non-gray tests printed fine, none of the gray ones did.   Unfortunately, since what I was doing was essentially black-box testing, I never got a chance to see the source code for the printer, so I have no idea what caused this. If you told me to write a command that would *deliberately* do this, it would be trivial. But if you wanted a command that was supposedly properly-written, yet had this as a side-effect, I wouldn&#39;t even know where to start.</p><p>  我听见了这是我所见过的最卑鄙的打印机错误。   我曾在QualityLogic（前身为Genoa）工作，该公司主要生产页面描述语言的认证测试。这些测试只是在PDL中遍历了每个命令，并从星期日开始以六种方式进行了测试，因此您无需烦恼细节。   无论如何，我一直在进行HP PCL-XL测试的升级，并且遇到了设置打印位图颜色模式的命令（我不记得这个名字了）。该命令实际上做了两件事：它将颜色模式设置为索引模式或直接模式，并在内存中创建了一个调色板。   现在，如果您将颜色模式设置为direct，则调色板毫无意义，颜色信息来自位图。因此，我认为尝试使用直接模式设置将各种颜色戳入调色板，并验证调色板颜色对打印图像没有影响，将是一个很好的测试。   可以肯定的是，在我们的参考打印机（某些HP color Laser Jet型号）上，该命令完全按预期工作。   我们的测试页每页有几个预定义的单元格用于单独的测试，因此我创建了一些测试，这些测试将各种颜色插入到调色板中，并验证了它们均不影响输出。   然后，我注意到页面上还剩下一个单元格，所以仅出于笑容，我用它来设置一个全是灰色的调色板（即R，G和B值相等）。   图像无法打印。页面上的所有其他测试（带有非灰色调色板的测试）已打印。只是不是灰度测试。   我以为我犯了某种错误，所以我再次尝试了一下，但使用了另一组灰色。   图像无法打印。   我尝试了一系列的灰度调色板，但在每种情况下，都无法打印图像。但是，当我仅将一种非灰色的颜色插入调色板时，打印的图像就很好。如果我在任何通道中将灰度值最多改变了+/- 1，就打印出图像。如果我在页面上混合了灰色和非灰色测试，则所有非灰色测试都可以正常打印，而所有灰色测试都没有。   不幸的是，由于我所做的基本上是黑盒测试，因此我没有机会看到打印机的源代码，所以我不知道是什么原因造成的。如果您告诉我编写一个“故意”执行此操作的命令，那将是微不足道的。但是，如果您想要一个应该正确编写的命令，但又有副作用，那么我什至不知道从哪里开始。</p><p>  Now -- imagine you are the poor sucker who, as the end user, &#34;discovers&#34; a bug like this. Who on earth is going to believe you? You could spend hours, nay DAYS on the phone with technical support until somebody has the compassion to elevate it and get it into the hands of the engineering team.   That is, IF they even bother to let it get that far.   Lord help us all.</p><p>  现在-想象您是可怜的傻瓜，作为最终用户，他们发现＆＃34;这样的错误。到底谁会相信你？您可能要花几个小时，如果要在技术支持的情况下在DAYS打电话，直到有人有同情心将其提升并将其交到工程团队手中。   也就是说，如果他们甚至不愿让它走那么远。   上帝帮助我们所有人。</p><p>  IBM 1403 printers, LPS40&#39;s and 20&#39;s used them all. The 1403 when connected to a IBM 7044/1401 could not over print and treated the &#34;+&#34; in column one the same as a space, some users started always using &#34;+&#34;, which caused some problems when an upgraded printer (CDC 512?) did overprint!   The oddest problem I saw on a LPS20, was a paper jam error on every page. It turned out the paper was A4, but the printer was set for A5, and complained that each page took too long to exit the printer!   Don&#39;t get me started on old disk drives!   Peter.</p><p>  LPS40和20的IBM 1403打印机全部使用了它们。连接到IBM 7044/1401的1403无法套印并处理＆＃34; +＆＃34;在第一列与空格相同的位置，一些用户开始总是使用＆＃34; +＆＃34 ;，这在升级的打印机（CDC 512？）叠印时引起了一些问题！   我在LPS20上看到的最奇怪的问题是每页卡纸错误。原来纸张是A4，但打印机设置为A5，并抱怨每一页都花了太长时间才能退出打印机！   不要让我开始使用旧的磁盘驱动器！   彼得</p><p>  About a year or two ago, I discovered a Postscript file that would cause most HP B&amp;W LaserJet printers to lock up, requiring a power-off cycle to clear. It was a color operator that was not properly handled by the printer firmware.    I reported the bug, but for some reason HP was reluctant to issue fixes for all their Postscript printers. :-)</p><p>  大约一两年前，我发现了一个Postscript文件，该文件可能会导致 大多数HP B＆amp; W LaserJet打印机要锁定，需要关闭电源才能关闭 明确。这是一个颜色运算符，未得到正确的处理 打印机固件。   我报告了该错误，但是由于某种原因，HP不愿发布 修复了所有他们的Postscript打印机。 :-)</p><p>  One of the PC in my office is having this problem: each time sending a new word file to print will cause a paper jam but it&#39;s no problem with the old generated word file. There is no problem with .xls or .jpeg .... documents.    Reinstalled the Office didn&#39;t seem to solve the problem. I have no idea at all.</p><p>  我办公室的一台PC出现此问题：每次发送一个新的Word文件进行打印都会导致卡纸，但是旧生成的Word文件没有问题。 .xls或.jpeg ....文档没有问题。    重新安装Office似乎无法解决问题。我一点都不知道</p><p>  Here we are in 2012 and I have an ms word document that can make an HP inkjet go &#34;out of paper&#34;. Works on 3 different models I know of. Copying the text to a new document which prints will stop that document ever printing! We have a spare printer now as we purchased a new 8600 pro as our other printers were apparently broken! I will ave to spend some time with this document finding out how it does it.</p><p>  现在是2012年，我有一个ms Word文档，可以使HP喷墨打印机“用纸”。我了解3种不同的模型。将文本复制到要打印的新文档将停止该文档的打印！ 当我们购买了新的8600 pro时，我们已经有了备用打印机，因为其他打印​​机显然已经损坏！ 我将花一些时间来研究本文档的工作方式。 </p><p>  Oh you kids. Back in the day we had all kinds of bugs to destroy hardware. Reading the same memory location over and over could heat the cores enough to damage them on some machines. Printing a row of the same character on a printer would fire all the hammers. If you timed it right you could kill the printer power supply. Many bugs on setting programmable monitor setting to values that would burn out various components. Punching fully laced cards could both jam the heck out of the card punch and mess up the relays. On the other hand, if you were lazy and needed to move a printer or a disk drive, you could seek or print at the resonant frequencies and get those big suckers to slowly march along the floor.</p><p>哦，孩子们。过去，我们有各种各样的错误会破坏硬件。一遍又一遍地读取相同的内存位置可能会加热内核，从而在某些机器上损坏它们。在打印机上打印相同字符的行会击打所有锤子。如果您选择的时间正确，则可能会中断打印机电源。将可编程监视器设置设置为会烧毁各种组件的值的许多错误。打孔完全缠结的卡可能会把卡塞打出卡槽，并弄乱继电器。另一方面，如果您懒惰并且需要移动打印机或磁盘驱动器，则可以在共振频率下搜索或打印，并使那些大的吸盘缓慢地沿着地板行进。</p><p>  Years ago, whilst working as a programmer I discovered that some sections of assembler code when printed made a dot matrix printer sound like a chicken. How I enjoyed stringing them together so that the printer would do a full 30 seconds of farmyard impersonations. My boss was not so amused!</p><p>  几年前，在从事程序员工作时，我发现打印时的某些汇编代码部分使点阵打印机听起来像鸡。我如何享受将它们串在一起的乐趣，以便打印机可以整整30秒钟模拟农田。我的老板不是很开心！</p><p>  Dave P - I&#39;d guess someone was trying to stop you wasting colour to print greyscale, but went too far?</p><p>  Dave P-我猜有人试图阻止您浪费颜色来打印灰度，但是走得太远了？ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://nedbatchelder.com/blog/200811/print_this_file_your_printer_will_jam.html">https://nedbatchelder.com/blog/200811/print_this_file_your_printer_will_jam.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/打印/">#打印</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/文件/">#文件</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/file/">#file</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/打印机/">#打印机</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>