<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>好的设计就是不完美的设计，第 1 部分：诚实的名字</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">好的设计就是不完美的设计，第 1 部分：诚实的名字</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-08-05 21:02:30</div><div class="page_narrow text-break page_content"><p>完美主义是个陷阱。对于像我一样喜欢优雅设计并看到其实用性的人来说，当令人满意的设计没有在合理的时间内出现时，就会有一个滑坡等待。认识到这一点并接受、放手、发货并继续前进——或者在以后的周期中返回，如果重要的话，需要不断的自律。它并不总是重要的。对于我们系统的许多部分，一个足够好的设计就足够了。对于少数具有战略意义的部分，精辟的模型和清晰的设计实际上可能会影响项目的结果，出色的初始设计通常不会立即出现。我们需要迭代和实验。我们的任何目标都不是通过磨练和磨蹭来实现的，等待我们可以在第一版中引以为豪的设计。就我个人而言，我试图超越接受。当我为设计的某些部分苦苦挣扎时，我经常做出明确回应设计问题本身的设计选择。这有助于我放手继续前进，并且可以提高在以后的迭代中进行更改的机会。在这个简短的系列中，我将描述我使用的一些技术，这些技术可以帮助我采取措施交付我不满意的东西，同时也可能为未来的迭代改进留下良好的途径。我们将从非常细粒度的设计决策开始这个系列。一个诚实的名字并不总是一个揭示意图的名字。只有当我们通过设计元素成功实现我们的意图时，情况才会如此。但这并不总是发生。在本文中，我们正在考虑那些没有好的解决方案的不幸时期。我需要一个具体的例子来说明这种方法。挑出一些设计不佳的软件很容易，但检查通常设计良好的软件的缺陷更有趣。 JodaTime 是一个用于日期/时间的 Java 库，被广泛用作开源库，并最终以修改的形式采用作为 Java 的标准库。它设计精良——当然，并不完美。 （毕竟，它发货了！）JodaTime 库允许我们声明时间，例如日期和时间段： t = 2021-01-20 p = 3 days 对于许多应用程序，这些值的存储本身就是一个重要能力。当然，常见的时间相关的操作有很多，库中也实现了一些，比如：t.plus(p) 2021-01-20.plus(3 days) ⇒ 2021-01-23 不错！在 JodaTime 中，所有的值都被设计为值对象。没有突变或副作用。所以在上面的例子中，执行t.plus(p)后，t的值不变：2021-01-20，并且操作返回了一个新的值2021-01-23。 “加号”操作是通用的。它适用于不同类型的时期： 2021-01-20.plus(2 days) ⇒ 2021-01-22 2021-01-20.plus(2 Month) ⇒ 2021-03-20</p><p>代码看起来非常有表现力和清晰。然而......你认为以下会返回什么？请记住，二月是一个短暂的月份！我能想到至少三个似是而非的反应。为了了解它的实际作用，我运行了以下代码： 这似乎是一个合理的默认行为，但并不明显。我必须运行代码（或在某处查找文档）才能知道会发生什么，即使在使用该操作的一些经验之后，这一事实凸显了模型中的缺陷。但它有什么问题，可以做些什么呢？在本文中，我将重点介绍名称。 “加”这个词似乎符合我前几个例子中发生的情况，但它没有暗示我们如何处理不规则的情况，例如不同长度的月份。这给我们带来了“诚实的名字”。如果操作的行为很复杂，像“plus”这样的简单名称实际上可能会产生误导。它可以被称为什么？探索重要事物名称的许多选项通常是一种很好的做法。让我们尝试一些：这些中的任何一个至少会给我一个线索。他们也很尴尬！我们不喜欢笨拙的设计。但我们需要诚实的名字。让我们多看看 JodaTime 中的“plus”操作，以及为什么“plus”是一个令人困惑的名字。 （这里我将&#39;plus&#39; 写为&#39;+&#39; 以便于阅读。）</p><p>猜一下这两个表达式的值：2021-03-31 + 2 个月 ⇒ ? 2021-03-31 + 1 个月 + 1 个月 ⇒ ?以下是实际答案： 2021-03-31 + 2 个月 ⇒ 2021-05-31 2021-03-31 + 1 个月 + 1 个月 ⇒ 2021-05-30 期间也可以与“加”组合，所以 1 个月+ 1 个月 ⇒ 2 个月 因此， 2021-03-31 + 1 个月 + 1 个月 ⇒ 2021-05-30 2021-03-31 +（1 个月 + 1 个月）⇒ 2021-05-31 在这里我们来到关于称这个“加号”有什么问题的见解：该名称的含义在我们的上下文中不适用！在数学中，“加”运算具有诸如结合性之类的属性： (a + b) + c = a + (b + c) 当我们使用这个名称时，我们暗示了读者（使用库的程序员或阅读代码的程序员）使用它）该操作是关联的。但事实并非如此！许多定义明确的操作都不是关联的。但是我们应该称它们为“加号”吗？顺便说一句，我喜欢不断地将事物的可能替代名称添加到我的列表中。在这一点上，我还有一些其他想法：我们必须发货！ JodaTime 的设计者当时可能已经注意到了这个问题。 （我对那个项目的内部一无所知。）如果他们注意到了，在我看来，他们仍然做出了正确的决定。他们发布了一个非常有用且通常非常干净的库——这并不完美。他们一定做过很多次类似的决定。有些问题他们注意到了，有些则没有。</p><p>但是，如果您决定运送一些您认识的笨拙的东西，请考虑给它一个诚实的、笨拙的名字。这可以与未来的用户进行交流，并且可以帮助设计的未来迭代。一个尴尬的名字会激发新的想法。 t.plusIshRoundCeiling(p) ⇒ t（拜托，拜托！我的代码太丑了！）它在我们的脑海中挥之不去，可能是通过软件的后期迭代。同时，它将向代码的用户传达一个现实的期望。接受我们设计中的缺陷并不意味着我们会忘记它！在第二部分中，我们将快速浏览一个替代概念，该概念可能会在以后的迭代中出现以缓解尴尬。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/design/">#design</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1071210.html"><img src="http://img2.diglog.com/img/2021/8/thumb_1361b06937bf19bb40267a3ec51319b0.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1071210.html">Google 推出配备 6.4&quot; FHD+ 90Hz 显示屏的 Pixel 6 和配备 6.7&quot; QHD+ 120Hz 显示屏和 4 倍光学变焦的 Pixel 6 Pro，配备 Google 设计的 Tensor SoC</a></div><span class="my_story_list_date">2021-8-3 0:28</span></div><div class="col-sm"><div><a target="_blank" href="/story/1071171.html"><img src="http://img2.diglog.com/img/2021/8/thumb_eebd3451535c62ea7342662608b01786.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1071171.html">“球机”设计师乔治·罗兹去世</a></div><span class="my_story_list_date">2021-8-2 22:7</span></div><div class="col-sm"><div><a target="_blank" href="/story/1070815.html"><img src="http://img2.diglog.com/img/2021/7/thumb_786799b84cac4157da190e669e18aa7d.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1070815.html">Lumen：替代 BEAM 实现，专为 WebAssembly 设计</a></div><span class="my_story_list_date">2021-7-31 15:55</span></div><div class="col-sm"><div><a target="_blank" href="/story/1070693.html"><img src="http://img2.diglog.com/img/2021/7/thumb_4e3bb96925435accd92f0ec8302ecdcf.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1070693.html">设计专家 Scott Tong 概述了创始人在设计产品时应考虑的 4 个概念</a></div><span class="my_story_list_date">2021-7-31 1:41</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>