<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>铁锈1.45.0</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">铁锈1.45.0</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-07-16 22:35:52</div><div class="story_img_container"><a href="http://img.diglog.com/img/2020/7/10c030b2429f801a5aed8756bdece9d2.jpg"><img src="http://img.diglog.com/img/2020/7/10c030b2429f801a5aed8756bdece9d2.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Rust团队很高兴宣布Rust的新版本，1.45.0。Rust是一种编程语言，它使每个人都能够构建可靠而高效的软件。</p><p>如果您通过Rustup安装了以前版本的Rust1.45.0，则获取Rust1.45.0与以下操作一样简单：</p><p>如果您还没有，您可以从我们网站的相应页面获取概要信息，并在GitHub上查看1.45.0的详细发行说明。</p><p>在Rust1.45.0中有两个大的变化需要注意：修复了一些长期存在的在整数和浮点数之间转换时不健全的问题，以及稳定了更流行的Web框架之一在稳定的Ruust上工作所需的最终功能。</p><p>10184期最初是在2013年10月开始发行的，比“铁锈1.0”早了一年半。您可能知道，rustc使用LLVM作为编译器后端。当您像这样编写代码时：</p><p>定义I8@_ZN10playground4cast17h1bdf307357423fcfE(float%x)UNNAMED_ADDR#0{START：%0=fpToui Float%x to I8 ret I8%0}。</p><p>“fpoui”指令将其浮点操作数转换为最小(舍入为零)的无符号整数值。如果该值不适合TY2，则结果为毒值。</p><p>现在，除非您经常深入研究编译器，否则您可能不会理解这是什么意思。它充满了行话，但有一个更简单的解释：如果你将一个大的浮点数转换成一个小的整数，你会得到未定义的行为。</p><p>fn cast(x：f32)-&gt；u8{x as U8}fn main(){设f=300.0；设x=cast(F)；println！(&#34；x：{}&#34；，x)；}。</p><p>在Rust 1.44.0上，这正好在我的机器上打印&#34；x：0&#34；。但是它可以打印任何东西，或者做任何事情：这是未定义的行为。但是我们这里没有不安全的代码。这就是我们所说的健全错误，也就是说，这是一个编译器做了错误事情的错误。我们在我们的问题跟踪器上将这些漏洞贴上标签，并非常认真地对待它们。</p><p>不过，这个错误需要很长时间才能解决。原因是当时非常不清楚前进的正确道路是什么。</p><p>FN CAST(x：F32)-&gt；U8{x as U8}FN Main(){let Too_Bigge=300.0；let Too_Small=-100.0；let NaN=F32：：NaN；println！(&#34；Too_Big_Casted={}&#34；，cast(Too_Big))；println！(&#34；Too_Small_Casted={}&#34；，cast(Too_Small))；println！(&。，cast(NaN))；}。</p><p>也就是说，太大的数字会变成最大的可能值，而太小的数字会产生最小的可能值(即零)。NaN生成零。</p><p>但一如既往，您应该只将此方法作为最后手段使用。就像数组访问一样，编译器通常可以优化检查，使安全版本和不安全版本在编译器可以证明的情况下是等价的。</p><p>GNOME-CLASS是Rust的过程化宏。在宏中，我们定义了一种迷你语言，它看起来尽可能像Rust-y，并且具有允许您定义GObject子类、它们的属性、信号、接口实现和GObject的其余功能的扩展。目标是您不需要任何不安全的代码。</p><p>gobject_gen！{class MyClass：GObject{foo：cell&lt；I32&gt；，bar：RefCell&lt；string&gt；，}Impll MyClass{virtual fn my_virtual_method(&amp；self，x：I32){.。对x做点什么.}</p><p>项目位置中的&#34；位是一些行话，但基本上这意味着您只能调用gobject_gen！在代码中的某些位置。</p><p>//假设我们有一个名为&#34；mac&#34；mac！()；//项位置，这是以前稳定的位置//但这三个是新的：fn main(){let expr=mac！()；//表达式位置匹配expr{mac！()=&gt；{}//pattern position}mac！()；//语句位置}。</p><p>能够在更多的地方使用宏是很有趣的，但是还有另一个原因让许多Rustaceans期待这个特性很久了：Rocket。最初于2016年12月发布的Rocket是一个流行的Rust网络框架，经常被描述为Rust生态系统提供的最好的东西之一。以下是即将发布的hello world示例：</p><p>#[MACRO_USE]外部板条箱rocket；#[get(&#34；/&lt；name&gt；/&lt；age&gt；&#34；)]fn HELLO(名称：String，年龄：U8)-&gt；String{Format！(&#34；HELLO，{}YOLD NAME{}！&#34；，AGE，NAME)}#[Launch]FN Rocket()-&gt；Rocket：：Rocket{Rocket：：Ignite().mount(&#34；/hello&#34；，routes！[Hello])}。</p><p>直到今天，火箭依靠夜间专用功能来实现其灵活性和人体工程学的承诺。事实上，正如在项目页面上所看到的，在当前版本的Rocket中，上面的相同示例需要编译proc_宏_个人卫生功能。然而，正如你可能从这个功能的名字中猜到的那样，今天它是以稳定的方式发货的！Thisissue追踪了“火箭”晚间专题片的历史。现在，他们都检查过了！</p><p>下一个版本的火箭还在筹备中，但一旦发布，很多人都会非常高兴：)。</p><p>在Rust 1.45.0版本中还有其他更改：查看Rust、Cargo和Clippy中的更改。</p><p>许多人聚集在一起创建了铁锈1.45.0。没有你们，我们做不成这件事。谢谢!</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.rust-lang.org/2020/07/16/Rust-1.45.0.html">https://blog.rust-lang.org/2020/07/16/Rust-1.45.0.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/rust/">#rust</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/铁锈/">#铁锈</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1012051.html"><img src="http://img.diglog.com/img/2020/7/thumb_5decf526f6e681d26b98aea051002a59.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1012051.html">Rust编程语言：因安全缺陷而吊销的板条箱包API令牌</a></div><span class="my_story_list_date">2020-7-15 23:38</span></div><div class="col-sm"><div><a target="_blank" href="/story/1012041.html"><img src="http://img.diglog.com/img/2020/7/thumb_de1bb5f661ad5929ffe80377fdf7289e.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1012041.html">在锈迹斑斑的情况下重写Fortran软件</a></div><span class="my_story_list_date">2020-7-15 23:13</span></div><div class="col-sm"><div><a target="_blank" href="/story/1011998.html"><img src="http://img.diglog.com/img/2020/7/thumb_9f4c1dccbb8904e2c2ab7cfb794e9b98.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1011998.html">英国初创公司Revolut与总部位于纽约的信托公司Paxos合作，将比特币和以太交易带给美国除田纳西州以外的每个州的客户</a></div><span class="my_story_list_date">2020-7-15 19:58</span></div><div class="col-sm"><div><a target="_blank" href="/story/1011656.html"><img src="http://img.diglog.com/img/2020/7/thumb_c7b5c5402f1e5273b434989e408c04ad.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1011656.html">加州调查谷歌潜在的反垄断违规行为</a></div><span class="my_story_list_date">2020-7-14 9:47</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>