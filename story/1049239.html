<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>修复了17岁的Firefox功能请求 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">修复了17岁的Firefox功能请求 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-02-25 06:34:47</div><div class="page_narrow text-break page_content"><p>用户代理：Mozilla / 5.0（Windows; U; Windows NT 5.1; rv：1.7.3）Gecko / 20040913 Firefox / 0.10 Build Identifier：Mozilla / 5.0（Windows; U; Windows NT 5.1; rv：1.7.3）Gecko / 20040913 Firefox / 0.10一些文本编辑器将在滚动条旁边显示搜索字符串的匹配项，因此您可以快速查看有多少个匹配项以及它们在页面上的位置。我也喜欢Firefox的查找工具栏来执行此操作。我已经附上了IntelliJ IDEA如何执行此操作的屏幕截图。可复制：AlwaysSteps to Reproduce：1.2.3。</p><p>  对附件的评论159011 [详细信息] IntelliJ IDEA的屏幕截图，显示了滚动条上的匹配项滚动条旁边的绿线显示了匹配项在页面上的位置。</p><p>    在非滚动页面上，您不需要此功能，因为您无需滚动即可发现黄色区域。</p><p> 我将修复此错误，因此也许有一天我可以做到。现在的方法太难了，但是拥有它会非常好。标记取决于77790，因为这里的正确解决方案可能涉及能够设置滚动条的样式。</p><p>                 对于任何相关的人，https://addons.mozilla.org/en-US/firefox/addon/findbar-tweak/都可以通过在滚动条区域上覆盖找到的匹配项来实现此目的，方法与当前WIP补丁类似错误384458（浏览器堆栈中的元素）。对于最终接受此错误的人，请不要忘记使用框架！具有大iframe的页面很可能是错误的，而基于框架集的页面实际上不会具有“主”页面。滚动条用于此目的。 FBT的最新1.4-beta试图通过在内容中放置类似框以覆盖其滚动条应位于的框架元素来解决此问题。</p><p>        （回复评论16中的路易斯·米格尔[：quicksaver]）对于任何有关的人，> https://addons.mozilla.org/zh-CN/firefox/addon/findbar-tweak/通过＆gt;在＆gt;中将具有找到的匹配项的滚动条区域放置在滚动条区域上。与错误384458处的当前WIP补丁（浏览器堆栈内的元素）类似。 ＆gt;对于最终接受此命令的人，不要忘记框架！具有大＆gt;的页面iframe很可能是错误的，而基于框架集的页面实际上不会有一个＆＃34;主要＆＃34;滚动条用于此目的。 FBT的最新1.4-beta试图通过将类似的框放置在覆盖＆gt; Luis，您会考虑为此编写补丁吗？我看着Chrome Canary，如果它们在iframe中，则它们不会在滚动条上显示匹配项。我们可以通过仅在顶级框架的滚动条上的顶级框架中显示匹配项来实现这种简单方法，并且这不会比今天在Chrome Canary中发布的版本差。您可以使用新的FinderHighlighter.jsm模块，应使其更直接地实现。 Mike de Boer可以帮助您导航FinderHighlighter。</p><p> （在评论＃19中回复Jared Wein [：jaws]（请需要info吗？我））路易斯，您愿意为此写一个补丁吗？但实际上，我很快就无法梦想像这样对Firefox代码进行黑客攻击。可能甚至在2017年之前... :( </p><p>对附件8793871的评论[详细信息]错误259640-具有“查找工具栏”突出显示模式的hacky概念证明应在滚动条顶部显示匹配项。 https://reviewboard.mozilla.org/r/80472/#review79350:::toolkit/content/minimal-xul.css:104（差异版本1）＆gt; -滚动条，滚动条按钮，滚动角，滑块，拇指，比例尺{＆gt; +标记{＆gt; + -moz-binding：url（chrome：//global/content/bindings/scrollbar.xml#marker）;＆gt; +显示：-moz-box！important;＆gt; +}＆gt; +＆gt; + scrollbar，scrollbarbutton，scrollcorner，滑块，拇指，标记，比例尺{我认为最初的想法是按字母顺序...或其他东西：）::: Toolkit / content / widgets / scrollbar.xml：14（Diff修订1）＆gt; -＆gt; -＆lt;绑定ID =＆＃34;拇指＆＃34; extended =＆＃34; xul：button＆＃34; /＆gt;＆gt; ＆gt; +＆lt;绑定ID =＆＃34;缩略图＆＃34; extends =＆＃34; xul：button＆＃34; /＆gt; +＆lt; binding id =＆＃34; marker＆＃34; extended =＆＃34; xul：button＆＃34; /＆gt; +＆lt; bidning id =＆＃34; markers＆＃34; extend =＆＃34; xul：box＆＃34; /＆gt;`biding`曾经有效吗？:::: toolkit / modules / FinderHighlighter.jsm：1048（差异修订1）＆gt; dict.modalHighlightAllMask.setCutoutRectsForElement（kMaskId，allRects）;＆gt; + this._setScrollbarMarkers（window，allRects，width，height）;＆gt; +}，＆gt; +＆gt; + _setScrollbarMarkers（窗口，矩形，宽度，高度）{＆gt; + if（！window ||！window.document ||！window.document.documentElement）{您对此有何想法，而不是为此的单独方法？ *创建一个辅助方法，以获取所有滚动条节点，例如此处的第一个引导程序部分，类似于`_getScrollbarMarkerNodes（）`*与_repaintHighlightAllMask（）中的for循环集成以丢失另一个循环的开销*懒惰地创建标记节点并重新使用已经存在的节点。循环后，隐藏不需要的标记节点（如果有）。 *使用`marker.onclick = e =＆gt; {}`以确保只有一个事件监听器始终能够满足您的期望*对于滚动行为，请使用`range.startContainer.scrollIntoView（）`使其起作用（我认为差不多）就像常规的页面查找导航一样。*基于百分比的定位将非常好...但是无论如何调整窗口大小后，高光都会重新绘制，因此您可以重新定位“免费”。 *`parseFloat`不知道第二个＆base的基础。论点，但我认为您还是不需要这种转换。</p><p> 您正在尝试使这项工作超酷！我不耐烦地转动拇指……令人兴奋！</p><p>  什么（在评论21中回复Jared Wein [：jaws]（请提供needinfo吗？我））创建的附件8793871 [详细信息]＆gt;错误259640-具有“查找工具栏”的突出显示模式的概念hacky证明；应该在滚动条顶部显示匹配项。 ＆gt;审核提交：https://reviewboard.mozilla.org/r/80472/diff/#index_header&gt;查看其他评论：https://reviewboard.mozilla.org/r/80472/这在视觉上是什么样的？</p><p> （作为对第24条评论的avada的回复）什么（在评论21中回复Jared Wein [：jaws]（请提供needinfo吗？我））＆gt; ＆gt;创建的附件8793871 [详细信息]＆gt; ＆gt;错误259640-具有“查找工具栏”突出显示模式的概念性证明。 ＆gt;应该在滚动条顶部显示匹配项。 ＆gt; ＆gt; ＆gt;审核提交：https://reviewboard.mozilla.org/r/80472/diff/#index_header&gt; ＆gt;查看其他评论：https://reviewboard.mozilla.org/r/80472/&gt; ＆gt;视觉上是什么样的？类似于FindBar Tweak，https://addons.cdn.mozilla.net/user-media/previews/full/165/165756.png?modified=1455331568</p><p> （在评论＃25中回复Jared Wein [：jaws]（请需要info吗？我））这类似于FindBar Tweak，＆gt; https://addons.cdn.mozilla.net/user-media/previews/full/165/165756.&gt; png？modified = 1455331568I＆＃39;对此很熟悉。我有一个增强的想法。滚动条的高亮部分可能具有一定的透明度。这样，它将显示多个结果是否在单个突出显示内。 （很容易在较长的页面上发生）</p><p>   在带来此功能的插件在v57中停止运行之前，是否有这种可能？</p><p> +1这对我来说是一个非常核心的功能。如果57的内核中没有此功能或可以通过插件启用的功能，那将非常令人失望。 </p><p>＆＃34; TextMarker Go＆＃34; Firefox Quantum的附加组件（https://addons.mozilla.org/cs/firefox/addon/textmarker-go/?src=api）具有滚动条标记功能，因此也许它的开发人员可以分享一些知识关于如何使滚动条突出显示也可用于“查找”对话框的信息。</p><p>  更改大量错误，以替换各种“奇偶校验”带有新规范关键字的白板标志。 （请参见错误1443764注释13。）</p><p> 迁移到p3是因为至少有24周没有任何活动。有关更多信息，请参见https://github.com/mozilla/bug-handling/blob/master/policy/triage-bugzilla.md#how-do-you-triage</p><p>  除了＆＃34; TextMarker Go＆＃34;插件（https://addons.mozilla.org/cs/firefox/addon/textmarker-go/），还有另一个具有相同用途的插件：＆＃34; HighlightAll＆＃34; （https://addons.mozilla.org/en-US/firefox/addon/highlightall/）。只需激活“自定义突出显示”即可。加载项首选项中的模式。因此，也许使此功能成为本机功能的需求有所减少，尽管它可能是唯一真正被从Chrome浏览器访问Firefox的用户所错过的功能-不过，我的主观观点是...</p><p>  除了＆＃34; TextMarker Go＆＃34;插件（https://addons.mozilla.org/cs/firefox/addon/textmarker-go/），还有另一个具有相同用途的插件：＆＃34; HighlightAll＆＃34; （https://addons.mozilla.org/en-US/firefox/addon/highlightall/）。只需激活“自定义突出显示”即可。加载项首选项中的模式。因此，也许使此功能成为本机功能的需求有所减少，尽管它可能是唯一真正被从Chrome浏览器访问Firefox的用户所错过的功能-不过，我的主观观点是...</p><p> “ TextMarker Go”不是滚动条中的“突出显示搜索结果”。扩大。这是在滚动条中显示书签的文本。扩大。</p><p> HighlightAll不与搜索功能集成，因此不支持对每个结果的分页。 </p><p>除了＆＃34; TextMarker Go＆＃34;插件（https://addons.mozilla.org/cs/firefox/addon/textmarker-go/），还有另一个具有相同用途的插件：＆＃34; HighlightAll＆＃34; （https://addons.mozilla.org/en-US/firefox/addon/highlightall/）。只需激活“自定义突出显示”即可。加载项首选项中的模式。因此，也许使此功能成为本机功能的需求有所减少，尽管它可能是唯一真正被从Chrome浏览器访问Firefox的用户所错过的功能-不过，我的主观观点是...</p><p> “ TextMarker Go”不是滚动条中的“突出显示搜索结果”。扩大。这是在滚动条中显示书签的文本。扩大。</p><p> HighlightAll不与搜索功能集成，因此不支持对每个结果的分页。</p><p> 在我看来，Firefox团队真的不关心这一点。这个问题从15年前开始，他们在这15年中一直忙于其他事情。这是“在页面中找到”的功能。功能落后于Chrome多年。他们正在尝试使用Pocket，Gecko，Send，Monitor等功能，这些功能每天只有少数用户使用。但是，他们在＆＃34; find＆＃34;中忽略了这个长期存在的问题。人们在假装此问题时每天使用的功能已通过插件解决。</p><p> Mozilla企业文化及其管理团队一定存在严重错误。我猜他们的哲理可能是：喜欢新事物，讨厌旧事物。</p><p> 我不相信Firefox团队会在页面搜索中实现此功能。</p><p>  我认为Chrome自一开始就是这么做的...对此是否有任何更新？当我需要此功能时，我讨厌使用Chrome。 </p><p>在通常包含数十个（甚至数百个）匹配项和屏幕的API参考页上进行搜索时，Mozilla开发人员能否提出建议，在没有此功能的情况下如何快速跳到正确的位置？</p><p> 我的经验：在API参考页上，在许多其他方法描述中多次重复引用一个方法名称是很常见的，但是在98％的情况下，滚动条（当然，在Chrome上）的最高密度突出显示位置是正确的方法名称的位置。</p><p> 我每天在工作流程中使用此功能。...我目前正在评估Firefox，以确定是否可以从Chrome（我喜欢FF的隐私标准）进行切换，但这对我来说是一个令人惊讶的大问题。我会乐于帮助添加此内容。</p><p>  有没有可行的解决方法（插件/脚本/等）？ HighlightAll插件是这样的，但使用起来却不太舒服。</p><p>  十年来，如何才能不添加此功能及其要求？</p><p> firefox开发人员在想什么，他们是否不想从chrome获得市场份额？并以为它们是高级用户的浏览器。</p><p> 您曾经能够添加其他所有必须使用Firefox的浏览器，但这是5年前。 </p><p>十年来，如何才能不添加此功能及其要求？</p><p> firefox开发人员在想什么，他们是否不想从chrome获得市场份额？并以为它们是高级用户的浏览器。</p><p> 您是Firefox或Bugzilla的新手吗？要使用Mozilla MO实施所有不流行的事物，需要花费数年甚至数十年的时间才能实现。即使它们是小规模的变化。</p><p>     认为在休息期间实施此功能可能会很有趣。使用上述补丁，使用默认显示为洋红色的突出显示颜色在窗口的滚动条中绘制刻度线。请注意，“突出显示所有”需要打开findbar上的开关，刻度线才会出现。</p><p> 附件＃9195680-附件描述：错误259640，仅添加chrome方法将滚动条刻度线添加到窗口，r = smaug→错误259640，仅添加chrome方法将滚动条刻度线添加至窗口，r = smaug，tnikkel</p><p>     由neil@mozilla.com推送：https://hg.mozilla.org/integration/autoland/rev/67faf54a31a1add仅使用chrome方法向窗口添加滚动条刻度线，r = smaug，tnikkel https：//hg.mozilla。 org / integration / autoland / rev / 2e218cf0cf63在文档的根滚动框的垂直滑块上绘制刻度线（如果已将其分配给窗口），r = tnikkel https://hg.mozilla.org/integration/autoland/rev/ fd4c496cee86在页面突出显示完成后更新滚动标记，使用突出显示的位置作为标记点，r = mikedeboer https://hg.mozilla.org/integration/autoland/rev/3bece74bc551调整发现标记的高度在基于dpi的滚动条上，r = tnikkel https://hg.mozilla.org/integration/autoland/rev/9e6cd269d773添加一些reftests以验证是否绘制了滚动条标记，r = tnikkel</p><p>  尼尔热烈鼓掌，感谢他将业余时间用在这种优雅的滚动标记实现上！！我知道至少：jaws和我一直用星光闪闪的眼睛看着这个bug多年了，而且-考虑到这个虫子的年龄-肯定还有很多其他虫子。 </p><p>这应该如何工作？它对我不起作用（Windows 10），使用带有某些结果的查找后，滚动条中没有标记。我没有发现任何区别。 findbar.highlightAll = true。我问过其他Nightly用户，到目前为止，有两个答案是对他们也没有帮助。</p><p>        第一：感谢您的努力！坏消息：至少在macOS上，实现非常脆弱：</p><p> 通常情况下，它不会突出显示任何内容。当它起作用并且我更改搜索词时，突出显示并不总是更新。示例：我搜索了出现次数很多的单词，它们被正确突出显示。然后，我将搜索词更改为只有两个出现的另一个搜索词。突出显示数量更改为两个（按预期）。然后，我再次将搜索词更改回第一个，而不是保留许多突出显示，Firefox保留了上一个搜索词的两个突出显示。</p><p> 有时，调整浏览器窗口的大小会固定突出显示的内容（似乎是错误1690791的相反行为），有时，调整大小不会改变任何内容。</p><p>  我将其发布在这里是因为我不确定这些是否都是相关问题或这些错误是否不同。</p><p> 错误1690783可能会解决以下问题：更改搜索后，突出显示未正确更新。</p><p> 谢谢！一旦错误1690783关闭，我将关注错误1690783，并针对剩余的问题（如果有的话）提出新的错误。 :) </p><p>在具有垂直滚动条的窗口中搜索现有字符串时，我可以确认带有勾号突出显示的栏出现，但是我也可以重现记录下来的问题，以阻止此错误。  我们会将此错误用作其余问题/任务的元错误吗？ 我认为我们可以用剩余的问题阻止Bug 565552，或者更有可能阻止bug 1271782，并关闭经过验证的当前漏洞。 你怎么认为？  您需要先登录，然后才能对此错误发表评论或进行更改。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=259640">https://bugzilla.mozilla.org/show_bug.cgi?id=259640</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/功能/">#功能</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1049218.html"><img src="http://img2.diglog.com/img/2021/2/thumb_c741e87710b82d63202c7539274ee146.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1049218.html">Firefox 86带来了多个图片，“总饼干保护” </a></div><span class="my_story_list_date">2021-2-25 5:14</span></div><div class="col-sm"><div><a target="_blank" href="/story/1049045.html"><img src="http://img2.diglog.com/img/2021/2/thumb_102d3c5a15769f9f209ba839ebb74a56.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1049045.html">Mozilla加强了Firefox中的跨站点跟踪功能，因为Chrome仍然落后于隐私 </a></div><span class="my_story_list_date">2021-2-24 23:0</span></div><div class="col-sm"><div><a target="_blank" href="/story/1049031.html"><img src="http://img2.diglog.com/img/2021/2/thumb_01d5fe1841f6a0989a16aeb3dcc384e1.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1049031.html">Firefox的总曲奇饼保护旨在停止在多个站点之间跟踪 </a></div><span class="my_story_list_date">2021-2-24 22:45</span></div><div class="col-sm"><div><a target="_blank" href="/story/1048982.html"><img src="http://img2.diglog.com/img/2021/2/thumb_9253815689042ab324b1f5fa407e06b2.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1048982.html">Firefox的新更新增加了对多个画中画窗口和“总Cookie保护”的支持，以防止使用Cookie来跨站点跟踪用户 </a></div><span class="my_story_list_date">2021-2-24 22:12</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>