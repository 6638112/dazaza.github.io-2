<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Bebop：基于型号的基于模式的二进制序列化格式 Bebop: An Efficient, Schema-Based Binary Serialization Format</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Bebop: An Efficient, Schema-Based Binary Serialization Format<br/>Bebop：基于型号的基于模式的二进制序列化格式 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-30 17:31:39</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/0a6ee23a8333e5e2c73d43934d24972d.png"><img src="http://img2.diglog.com/img/2021/3/0a6ee23a8333e5e2c73d43934d24972d.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>We know what you’re thinking:  yet another standard. In a world of JSON, Protocol Buffers, MessagePack, and dozens of other formats, why reinvent the wheel?</p><p>我们知道你在想什么：还有另一种标准。在JSON，协议缓冲区，MessagePack和数十种其他格式的世界中，为什么重新发明轮子？</p><p> At Rainway, we stream video games to client applications. At 60 frames per second, video and audio data needs to be delivered every 16 milliseconds. Gamepad, mouse or keyboard input has to be processed and streamed back to a remote host, all in real-time. For us, every millisecond spent encoding and decoding matters.</p><p> 在Rainway，我们将视频游戏流传输到客户端应用程序。每秒60帧，需要每16毫秒传送视频和音频数据。 Gamepad，鼠标或键盘输入必须处理并将其流回到远程主机，实时所有。对我们来说，每毫秒的编码和解码事项。</p><p> Moreover, Rainway runs on a variety of platforms: iOS, Android, embedded devices, web browsers, and more. In each of these environments, we require high performance, and we have to make it easy for our development team to build across many programming languages with confidence.</p><p> 此外，Radway在各种平台上运行：iOS，Android，嵌入式设备，Web浏览器等。在这些环境中的每一个中，我们需要高性能，我们必须让我们的开发团队轻松掌握许多编程语言的信心。</p><p> Our evaluation of other solutions found poor client-side serialization performance, large run-time overhead, poor browser support, and different trade-offs that drove us to create Bebop.</p><p> 我们对其他解决方案的评估发现了客户端序列化性能差，大型运行时间开销，较差的浏览器支持以及驱动我们创建Bebop的不同权衡。</p><p>  For anyone who’s wondering “is JSON good enough for my distributed/networked app’s messaging?” it should be just as easy to use Bebop, but faster and safer. (The graph below shows  operations per second, so higher is faster.)</p><p>  对于那些想知道的人来说，“对于我的分布式/联网应用程序的消息感到足够的人，这是足够好的？”它应该像使用Bebop一样容易，但更快和更安全。 （下图表显示每秒的操作，所以更高速度更快。）</p><p>  That speed and safety comes from the Bebop compiler, which turns schemas describing data structures into tightly optimized “encode” and “decode” methods. The generated code is type-safe in languages that support it, and invoking it is dead simple.</p><p>  这种速度和安全来自Bebop编译器，将描述数据结构的模式变为密切优化的“编码”和“解码”方法。生成的代码是支持它的语言类型安全，并调用它已经死了。</p><p> Here is an example of what using the Bebop-generated serialization code looks like in TypeScript:</p><p> 以下是使用Bebop生成的序列化代码在键入版中的示例： </p><p> const  mySong :  ISong  =  {  title :  &#39;Donna Lee&#39; ,  year :  1947 ,  performers :  [  {  name :  &#39;Charlie Parker&#39; ,  plays :  Instrument . Sax  },  {  name :  &#39;Miles Davis&#39; ,  plays :  Instrument . Trumpet  },  ], }; const  buffer  =  Song . encode ( mySong ); const  theSameSong  =  Song . decode ( buffer );</p><p>Const Mysong：Isong = {Title：＆＃39; Donna Lee＆＃39; ，年：1947年，表演者：[{名：＆＃39;查理帕克＆＃39; ，播放：仪器。 SAX}，{名：＆＃39; Miles Davis＆＃39; ，播放：仪器。喇叭}，]，}; const buffer =歌曲。编码（Mysong）; const thesamesong =歌曲。解码（缓冲区）;</p><p>   Much of the syntax is built to be obvious and convenient. Notably, there are two ways to aggregate data in a Bebop schema:</p><p>   许多语法都是显而易见的。值得注意的是，有两种方法可以在Bebop模式中聚合数据：</p><p> Use a  struct when all fields are always present, and you’ll never add more fields (like  struct Point {int32 x; int32 y;}.)</p><p> 当始终存在所有字段时，使用结构，您永远不会添加更多字段（如struct point {int32 x; int32 y;}。）</p><p> Use a  message when fields can be missing, and it makes sense for more fields to be added in later versions of your app.</p><p> 使用字段丢失时使用邮件，并且在应用程序的更高版本中添加更多字段是有意义的。</p><p> Also, Bebop supplies useful base types like  date and  guid out of the box. That way, there’s no “intermediary serialization step” of converting a date object to a Unix timestamp and back manually — Bebop is all about saving you effort.</p><p> 此外，Bebop提供了有用的基础类型，如日期和GUID开箱即用。这样，没有“中间序列化步骤”将日期对象转换为UNIX时间戳和手动后退 -  Bebop是节省您的努力。</p><p>   For the majority of people reading this, Bebop is cool. Still, you won’t be jumping to integrate it into your existing applications. You’ve built around other solutions, and it is great they are working for you.</p><p>   对于大多数人阅读这个，Bebop很酷。尽管如此，您将不会跳转到现有的应用程序中。你已经建立在其他解决方案中，这很好，他们正在为你工作。</p><p> So whether you’re starting to build your next multiplayer app or refactor an RPC / IPC, or you need to increase app stability – for performance and your overall productivity Bebop is here.</p><p> 因此，无论您是开始构建下一个多人游戏应用程序还是RPC / IPC，或者您需要提高应用程序稳定性 - 对于性能而且您的整体生产率BBOP在此处。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://rainway.com/blog/2020/12/09/bebop-an-efficient-schema-based-binary-serialization-format/">https://rainway.com/blog/2020/12/09/bebop-an-efficient-schema-based-binary-serialization-format/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/二进制/">#二进制</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/efficient/">#efficient</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/bebop/">#bebop</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>