<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Apache Pinot 0.7.1. Apache Pinot 0.7.1</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Apache Pinot 0.7.1<br/>Apache Pinot 0.7.1. </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-22 15:50:18</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/6/bdc67109b637f4e3468cf354e3e1b2d4.png"><img src="http://img2.diglog.com/img/2021/6/bdc67109b637f4e3468cf354e3e1b2d4.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>We are excited to announce that Apache Pinot 0.7.1 was released a few months back in April 2021.  Apache Pinot is a real-time distributed datastore designed to answer OLAP queries with low latency for those of you who are new readers of this blog. This release introduced several fantastic new features, including JSON index, Lookup-based Join support, GeoSpatial support, TLS support for Pinot connections, and various performance optimizations and improvements. It also adds several new APIs to better manage the segments and upload data to an offline table. It also contains many critical bug fixes.</p><p>我们很高兴地宣布，Apache Pinot 0.7.1于4月2021年4月几个月发布.Apache Pinot是一个实时分布式数据存储，旨在回答那些是这款博客的新读者的OLAP查询。此版本引入了几种梦幻般的新功能，包括JSON索引，基于查找的连接支持，地理空间支持，TLS支持Pinot Connections，以及各种性能优化和改进。它还添加了几种新的API，以更好地管理段并将数据上传到脱机表。它还包含许多关键错误修复。</p><p>  A JSON string can represent an array, map, or nested field without forcing a fixed schema. It is very flexible, but it comes at a cost:  filtering on a JSON string column is very expensive.</p><p>  JSON字符串可以表示数组，映射或嵌套字段，而无需强制固定模式。它非常灵活，但它以成本为准：在JSON字符串列上过滤非常昂贵。</p><p> Without an index, we need to scan and reconstruct the JSON object from the JSON string for every record to look up a key and filter records based on the value. Then we need to look up the key and compare the value. Pinot’s new JSON index feature is designed to accelerate the filtering on JSON string columns without scanning and reconstructing all the JSON objects.</p><p> 如果没有索引，我们需要从JSON字符串扫描并重建JSON对象，以获取每个记录以查找基于该值的键和过滤器记录。然后我们需要查找密钥并比较值。 Pinot的新JSON索引功能旨在加速JSON String列的过滤而不扫描和重建所有JSON对象。</p><p>  Let’s consider the following JSON structured document ingested into a Pinot table column.</p><p>  让我们考虑以下JSON结构化文档摄取到Pinot表列。</p><p>  By indexing the column, we can now search the JSON document’s structure as quickly as we would by indexing any other Pinot table’s field.</p><p>  通过索引列，我们现在可以通过索引任何其他Pinot表的字段来搜索JSON文档的结构。</p><p>  Link to the documentation for JSON index with the text of this query can be found here:  JSON Index</p><p>  可以在此处找到与此查询的文本的JSON索引文档链接：JSON索引</p><p>  Lookup-based join support was added in 0.7.1 via a new UDF SQL function named  LOOKUP. This feature is relatively straightforward to get started with. Before this function, you would have been unable to join tables across Pinot in a single SQL query by default without using something like Presto. We’ve now added support for you to join exclusively from a dimension table. Table types other than  dimension are not currently supported. You can find more details about  dimension tables in our documentation.</p><p>  通过名为Lookup的新UDF SQL函数在0.7.1中添加了基于查找的加入支持。此功能相对简单以便开始使用。在此功能之前，默认情况下，您将无法在单个SQL查询中横跨小点连接表，而无需使用Presto等内容。我们现在已经向您添加了从维度表中加入的支持。目前不支持维度之外的表类型。您可以在文档中找到有关维度表的更多详细信息。 </p><p>   The SQL query above joins the dimension table  dimBaseballTeams into the regular table  baseballStats on the  teamID key. The   LOOKUP(...) function then returns the value of the column    teamName.</p><p>上面的SQL查询将维度表DimBaseballTeams连接到Teamid密钥上的常规表棒球服务器中。查找（...）函数然后返回列TeamName的值。</p><p> Joins in Apache Pinot are different than the kind of joins you might do in a relational database using SQL. The UDF function here provides a long-awaited feature that is performant and convenient for scalable OLAP joins. This function includes the advantages of Pinot’s advanced indexing capabilities that make real-time analytical SQL queries so fast.</p><p> Apache Pinot中的连接与您在关系数据库中可能使用SQL的类型不同。 UDF功能在此提供了一段时间已久的功能，可扩展OLAP连接是表现和方便的。此功能包括Pinot的高级索引功能的优势，使实时分析SQL查询如此之快。</p><p> To see the function in action, you can also fire  JoinQuickstart and test it as follows:</p><p> 要在操作中看到函数，您还可以宣传joyquickstart并按如下方式测试：</p><p>  To run the JoinQuickstart, you can run the following command in Docker to fire up the example.</p><p>  要运行joinquickstart，您可以在Docker中运行以下命令以触发该示例。</p><p>   To get started with this feature in 0.7.1, you will need to use a transform function in your schema definition configuration for a table.</p><p>   要在0.7.1中启动此功能，您需要在架构定义配置中使用转换函数进行表格。</p><p> The first thing you will need to add to your schema definition file to enable geolocation-based queries is your latitude and longitude fields. These fields will be imported from your data source, either from an offline data source or streaming.</p><p> 您需要添加到架构定义文件以启用基于地理位置查询的第一件事是您的纬度和经度字段。这些字段将从脱机数据源或流中的数据源导入。</p><p>  In your list of fields, which are either imported by their unique name or generated during ingestion using a transform function, you’ll need to list both latitude and longitude fields, as shown above ( lon,  lat). There is nothing too special going on here, but you’ll need to generate a new field to execute real-time geospatial queries on these fields. You’ll need to generate a new field, which I’ve named  location_st_point in the snippet below.</p><p>  在您的字段列表中，它由其唯一名称导入或使用转换函数生成，您需要列出纬度和经度字段，如上所示（LON，LOT）。这里没有什么太特别的事情，但你需要生成一个新的字段来在这些字段上执行实时地理空间查询。您需要生成一个新字段，我在下面的代码段中指定了一个名为location_st_point。 </p><p> Just to be clear, both of these snippets are from the same configuration block in your schema definition file.</p><p>刚刚清除，这两种代码段都来自架构定义文件中的相同配置块。</p><p>  Now that we’ve added the necessary bits to the schema configuration file, we can now move on to updating the table configuration that references the above schema. The changes here are simple and can be seen below. There may be some changes in future versions, so it’s always good to head over to the most  recent version of the Apache Pinot documentation.</p><p>  既然我们已将必要的位添加到架构配置文件，我们现在可以继续更新引用上述架构的表配置。这里的变化很简单，可以在下面看到。未来版本可能会有一些变化，因此始终始终好转到最近的Apache Pinot文档版本。</p><p>  The final step to enable indexing on geospatial fields is to modify your table configuration with the settings shown above.</p><p>  启用在地理空间字段上索引的最终步骤是使用上面显示的设置进行修改您的表配置。</p><p> That’s it! After you’ve created your schema and table in Pinot using the above configurations, you’ll be able to start ingesting the now indexed geospatial data and begin executing queries in real-time.</p><p> 就是这样！在使用上述配置中创建了Pinot中的模式和表格后，您将能够开始摄取现在索引的地理空间数据并开始实时执行查询。</p><p> Check out the full feature blog post for   geospatial support in Pinot 0.7.1 , which continues on with an exploration of the H3 indexing system and its origins at Uber.</p><p> 在Pinot 0.7.1中查看全部功能博客文章，以便在Pinot 0.7.1中继续探索H3索引系统及其在优步的起源。</p><p>  Support for  TLS-secure connections was also added in 0.7.1. TLS can be configured using the following new (or refactored) properties. Upgrades to a TLS-enabled cluster can be performed safely and without downtime. To achieve a live-upgrade, go through the following steps:</p><p>  在0.7.1中也添加了对TLS安全连接的支持。可以使用以下新（或重构）属性来配置TLS。可以安全地执行升级到启用TLS的群集，无需停机时间。要实现实时升级，请通过以下步骤：</p><p> First, configure alternate ingress ports for https/netty-tls on brokers, controllers, and servers. Restart the components with a rolling strategy to avoid cluster downtime.</p><p> 首先，在经纪商，控制器和服务器上配置用于HTTPS / NETTY-TLS的备用入口端口。使用滚动策略重新启动组件以避免群集停机时间。 </p><p> Second, verify manually that HTTPS access to controllers and brokers is live. Then, configure all components to prefer TLS-enabled connections (while still allowing unsecured access). Restart the individual components.</p><p>其次，手动验证HTTPS对控制器和经纪人的访问是直播的。然后，配置所有组件以更喜欢启用TLS的连接（同时仍允许无担保访问）。重新启动各个组件。</p><p> Third, disable insecure connections via configuration. You may also have to set controller.vip.protocol and controller.vip.port and update the configuration files of any ingestion jobs. Restart components a final time and verify that insecure ingress via HTTP is not available anymore.</p><p> 第三，通过配置禁用不安全的连接。您还可能必须设置Controller.VIP.PRotocol和Controller.VIP.PORT并更新任何摄取作业的配置文件。重新启动组件最后一次，并验证是否不再使用HTTP不安全的入口。</p><p>  We would like to take a moment to thank the Pinot community for supporting our Product. We keep a steady amount of  commits for the past year, and we’ve seen that more and more excellent  features are implemented to this project. At this moment, we would like to thank everyone who made contributions to this release.</p><p>  我们要花一点时间感谢Pinot社区支持我们的产品。我们在过去一年内保留稳定的犯罪，我们已经看到越来越优秀的功能是在这个项目中实现的。此时，我们要感谢为此发布做出贡献的大家。</p><p>    Medium is an open platform where 170 million readers come to find insightful and dynamic thinking. Here, expert and undiscovered voices alike dive into the heart of any topic and bring new ideas to the surface.  Learn more</p><p>    媒体是一个开放的平台，17亿读者来寻找有洞察力和动态的思维。在这里，专家和未被发现的声音相似地潜入任何主题的核心，并将新的想法带到表面上。学到更多</p><p> Follow the writers, publications, and topics that matter to you, and you’ll see them on your homepage and in your inbox.  Explore</p><p> 遵循对您有关的作家，出版物和主题，您将在您的主页和收件箱中看到它们。探索</p><p> If you have a story to tell, knowledge to share, or a perspective to offer — welcome home. It’s easy and free to post your thinking on any topic.  Write on Medium</p><p> 如果您有一个故事来讲述，知识分享，或者提供提供的视角 - 欢迎回家。很容易和免费发布您对任何主题的思考。写下媒介 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://medium.com/apache-pinot-developer-blog/announcing-apache-pinot-0-7-1-31b46ad6b0f6">https://medium.com/apache-pinot-developer-blog/announcing-apache-pinot-0-7-1-31b46ad6b0f6</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/apache/">#apache</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/pinot/">#pinot</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>