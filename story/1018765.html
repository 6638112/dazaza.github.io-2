<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>用ESP8266将Atari ST连接到互联网(2017)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">用ESP8266将Atari ST连接到互联网(2017)</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-08-18 05:42:29</div><div class="page_narrow text-break page_content"><p>在接下来的教程中，我将描述我是如何通过使用廉价的ESP8266微控制器作为WiFi转串行路由器(运行速度为19.2kbit/s)将我的Atari ST连接到互联网的。请注意，Atari有更快的网络连接解决方案，如NetUSBee或CosmosEx。但是，我在这里描述的设置几乎是最低成本的。你可能得花不到10美元买硬件。</p><p>还要注意，雅达利上的互联网用途有限；不要指望能用你的ST来冲浪现代网站。然而，更简单的服务，如通过IRC(互联网中继聊天)聊天或通过FTP下载文件也是可能的。</p><p>对于本教程对您的硬件或数据造成的任何损坏或其他问题，我不承担任何责任。另外，虽然我会尽力回答您的问题，但请不要期望我会为这里描述的一切提供专业支持。有关获取帮助的其他方式，请参阅下面的内容。</p><p>核心组件是Espressif的ESP8266微控制器，支持WiFi连接。我在ESP-01板上使用它，但是任何其他带有这个微控制器的板都可以做得一样好。此外，您还需要一个电平移位器，如用于RS-232串行端口的MAX3232和一个3.3V电源。我把所有东西都按照这个示意图接线了：</p><p>至少在临时情况下，您的PC还需要3.3(！)的串行电缆(例如USB转串行适配器)。V逻辑电平以刷新固件。</p><p>ESP8266将充当运行串行线互联网协议(SLIP)的WiFi到串行路由器，这要归功于Martin Ger的esp_SLIP_ROUTER固件。我必须稍微修改固件，例如将默认串行比特率设置为19.2kbit/s，并使此比特率可配置。(与此同时，用于配置比特率的命令也已添加到Martin&#39；的原始固件中。)。</p><p>在此处下载修改后的固件，并使用您首选的ESP8266闪存工具进行刷新。对于我的ESP-01板，我使用了esptool和以下命令-您必须将com8适配到您要用于闪存的串行端口：</p><p>如果您的ESP8266以前从未使用任何固件进行过刷新，您还需要刷新文件：esp_init_data_default.bin，您可以从此处下载该文件。丢失初始化数据的症状可能是ESP8266无休止的重启循环，并且模块上的LED可能会疯狂闪烁。正确的地址取决于闪存芯片的大小。您可以在这里阅读更多详细信息。然后再次使用闪存软件(如esptool)，为您的模块替换正确的地址和串行端口：</p><p>雅达利ST上的SLIP串行链接的设置不是即插即用的，事实上这是我花了最多时间的事情。因此，您现在可以下载我为您预先配置的软件包，其中包含您的Atari的STING网络堆栈。下载的内容甚至可以放在一张720k的软盘上。如果您想要从硬盘运行它-我推荐这样做-您必须使用文本编辑器更改AUTO\STING.INF和CONTROL.INF中的驱动器号。</p><p>正如在Atari TOS上通常所做的那样，您需要恢复AUTUI文件夹中程序的正确顺序。为此，首先将DRVIN.PRG从AUTO.TMP文件夹移动到AUTO文件夹，然后将MFP.PRG移动到AUTO文件夹，最后将STING.PRG移动到AUTO文件夹。</p><p>从软盘(或硬盘)引导后，将安装STING。但是，您仍然需要配置WiFi转串行路由器才能使用您的WiFi凭据。为此，启动TELNET.PRG并打开到主机192.168.240.1和端口7777的连接。您将得到CMD&&gt;；提示。使用Set SSID(设置SSID)和Set Password(设置密码)命令将登录数据输入到WiFi，然后输入保存和重置命令以存储配置并重新启动固件。执行重置命令后，连接将丢失。打开到相同主机和端口号的新连接。然后，show命令应显示模块已连接到您的WiFi。如果不是，请仔细检查登录数据。您还可以使用SCAN命令查看ESP8266是否可以看到您的WiFi。记下图中显示的DNS服务器。</p><p>有关配置固件使用的串行比特率的说明，请参见下面的说明。请务必阅读那里的警告。</p><p>有关示例配置会话，请参见下面的屏幕截图。请注意，IP地址和DNS服务器显然会获得不同的值。</p><p>从桌面附件菜单中，选择控制面板，然后选择STIN协议和解析器。在名称服务器字段中输入先前显示给您的DNS服务器。别忘了单击“保存”。有关示例，请参阅此屏幕截图：</p><p>您的Internet连接现在已配置好，可以与支持STINK或STIK网络堆栈的任何程序一起使用。除了Telnet客户端，我还包括一个IRC(聊天)客户端和Web浏览器CAB。但是，请注意，CAB和CAB.OVL的版本非常过时，仅作为概念验证包含在内。您还可以为Atari找到几个合适的FTP和电子邮件客户端，例如AFTP和AMAIL。</p><p>固件的默认比特率为19.2kbit/s，这是Atari ST中的MFP(串行控制器)在不进行任何硬件修改的情况下能够达到的最大速度。但是，如果使用适当的HSMODEM串行驱动程序，更高级的Atari计算机(如MegaSTE、TT或Falcon)可以在串行端口上使用更高的比特率。因此，我修改了固件以允许您配置比特率。为此，请使用TELNET.PRG连接到192.168.240.1端口7777(同上)。在命令提示符下输入SET BITRATE命令，例如SET BITRATE 57600，然后输入SAVE命令。在ESP8266下一次上电或在重置命令之后，固件将使用新的比特率。</p><p>在台式机附件菜单中，选择控制面板，然后选择串行端口，并相应地更改STIN的比特率。别忘了单击“保存”。</p><p>请注意，固件将接受任何比特率。如果您设置了计算机不支持的比特率，您将无法使用TELNET.PRG再次更改它。如果模块仍连接到您的WiFi，并且您知道其IP地址(使用show命令显示为外部IP)，则可以从WiFi中的另一台计算机telnet到此IP和端口7777以更改配置。否则，您将不得不擦除ESP板的闪存，例如使用esptool，然后重新刷新固件以恢复到19.2kbit/s。因此，在输入保存命令之前，请务必仔细检查比特率。</p><p>如上所述，连接速度受到ST串口容量的限制。此外，WiFi到串行路由器仅为传出连接执行网络地址转换。传入连接将不起作用。这意味着你不能在Atari上运行服务器，FTP文件传输只能在被动模式下工作。</p><p>我非常喜欢你在雅达利论坛这个帖子上提问，因为这样其他人就可以从答案中受益。另外，请不要指望我马上回复，这只是我的一个爱好项目。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.chzsoft.de/site/hardware/connecting-the-atari-st-to-the-internet/">https://www.chzsoft.de/site/hardware/connecting-the-atari-st-to-the-internet/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/atari/">#atari</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/串行/">#串行</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>