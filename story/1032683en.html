<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>颤动网：不良设计的分形</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">颤动网：不良设计的分形</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-02 05:36:14</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/bccae1d48d6c6685ed976e465aeac4fc.png"><img src="http://img2.diglog.com/img/2020/11/bccae1d48d6c6685ed976e465aeac4fc.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>The web has a long and rich history dating back to the nineties at CERN. Back then  Tim Berners-Lee laid the foundation of HTML that is still around today. There have been attempts to replace it with varying success but none have been successful, for good reason. HTML and the later invention of CSS are a remarkably powerful set of tools to build all kinds of experiences on the web. People are still trying to replace HTML, which brings us to the topic of this post: Flutter Web.</p><p>网络有着悠久而丰富的历史，可以追溯到欧洲核子研究中心(CERN)的90年代。那时，Tim Berners-Lee奠定了HTML的基础，至今仍在使用。有人试图用各种不同的成功来取代它，但都没有成功，这是有充分理由的。HTML和后来的CSS发明是一套非常强大的工具，可以在Web上构建各种体验。人们仍在试图取代HTML，这就把我们带到了这个帖子的主题：Ffltter Web。</p><p> Flutter Web is part of Google’s  Flutter framework for building cross platform UI. Hailed by many developers as the best thing since sliced bread, my opinion of it lacks the rose coloured glasses. I haven’t looked at Flutter for other platforms than web so I cannot comment on it other than that the general principle of Flutter is a terrible idea. Flutter works by throwing away the native UI toolkits provided by the platform and rendering everything from scratch using OpenGL et al. This translates extremely poorly to the web platform in particular. It’s worth noting that Flutter for Web is currently in beta and the problems I am about to detail could be addressed. However, I believe these issues are fundamental to Flutter’s design choices so I feel confident in my criticism.</p><p>Ffltter Web是Google用于构建跨平台UI的Ffltter框架的一部分。被许多开发者誉为自切片面包以来最好的东西，但我对它的看法没有玫瑰色的眼镜。除了web之外，我还没有在其他平台上看过颤动，所以我不能对此发表评论，只能说颤动的一般原理是一个糟糕的想法。Ffltter的工作原理是丢弃平台提供的原生UI工具包，使用OpenGL等从头开始渲染所有内容。这对Web平台的翻译尤其糟糕。值得一提的是，Ffltter for Web目前处于测试阶段，我即将详细说明的问题可能会得到解决。然而，我相信这些问题是Ffltter设计选择的基础，所以我对我的批评充满信心。</p><p>  Anyone learning HTML these days would have encountered the term “Semantic HTML” because it is such an important part of modern web.  Peter Lambert describes why this is important in the excellent blog post  HTML is the Web. In short, the visible portion of a website, i.e. presentation, is only half the story. To take an example Peter used, a  div with an  onClick handler might be clickable and can be styled to look like a button, but that doesn’t make it a button. The semantic structure of a document matters because that’s how machines, not humans, understand the web. A  div with an  onClick handler doesn’t look like a link or a button to a screen reader, search engine crawler, or accessibility extension, it looks like a  div.</p><p>如今任何学习HTML的人都会遇到“语义HTML”这个词，因为它是现代Web的重要组成部分。Peter Lambert在优秀的博客文章HTML is the Web中描述了为什么这一点很重要。简而言之，网站的可见部分，即展示，只是故事的一半。以Peter使用的一个例子为例，带有onclick处理程序的div可能是可单击的，并且可以设置为看起来像一个按钮，但这并不意味着它就是一个按钮。文档的语义结构很重要，因为这是机器(而不是人类)理解Web的方式。带有onclick处理程序的div看起来不像屏幕阅读器、搜索引擎爬行器或辅助功能扩展的链接或按钮，它看起来像div。</p><p> Most importantly, semantic HTML is key for accessibility and other tools that let a user experience the web as they wish.</p><p>最重要的是，语义HTML是可访问性和其他让用户随心所欲地体验Web的工具的关键。</p><p>  Does Flutter Web generate semantic HTML? Not even close. It generates a patchwork of  canvas elements, custom elements, and a few other HTML elements. In the demo app  Reply, how many buttons and links are there? If you guessed  zero, congratulations you are as jaded and cynical as me. Let me reiterate that, an email app with no buttons and links! Because there are no links in particular, features like cmd/ctrl clicking to open a new tab, hovering links to see the URL, and using the context menu do not work.</p><p>Ffltter Web会生成语义HTML吗？一点都不接近。它生成由画布元素、自定义元素和一些其他HTML元素组成的拼凑。在演示应用回复中，有多少按钮和链接？如果你猜到了零，恭喜你和我一样厌倦和愤世嫉俗。让我重申一下，这是一个没有按钮和链接的电子邮件应用程序！因为没有特别的链接，所以cmd/ctrl单击以打开新选项卡、悬停链接以查看URL以及使用上下文菜单等功能不起作用。</p><p> I use the browser extension  Vimium to navigate the web, it’s an amazingly powerful tool that relies on, you guessed it, semantic HTML. Does it work on pages built with Flutter Web? Fuck no. It doesn’t work because it tries to find things that are semantically clickable, like  button or  a elements, of which, as we have established, Flutter Web generates none. Vimium works on almost all websites I use because most developers, thankfully, don’t just stick  onClick handlers on  divs. However, whatever crazy shit Flutter Web does, doesn’t look clickable. Things being clickable that don’t look clickable is a good proxy for poor accessibility. For example, screen readers can navigate by landmarks, such as headings,  links, forms, and other semantic elements, does any of this work with Flutter Web? Fuck no.</p><p>我使用浏览器扩展Vimium来导航Web，这是一个非常强大的工具，您可以猜到，它依赖于语义HTML。它能在用Ffltter Web构建的页面上工作吗？他妈的没有。它不起作用是因为它试图找到语义上可点击的东西，比如按钮或元素，正如我们已经确定的那样，Ffltter Web不会生成这些元素。Vimium几乎可以在我使用的所有网站上运行，因为谢天谢地，大多数开发人员不只是在div上使用onclick处理程序。然而，无论疯狂的狗屎颤动网络做什么，看起来都是不可点击的。可点击但看起来不可点击的内容很好地代表了可访问性差。例如，屏幕阅读器可以通过地标导航，如标题、链接、表单和其他语义元素，这些都适用于Ffltter Web吗？他妈的没有。</p><p> Even worse, unless you use special “selectable” text, Flutter Web doesn’t even support selecting text. No joke, their own code examples have a “copy all” button to get around this.</p><p>更糟糕的是，除非您使用特殊的“可选”文本，否则Ffltter Web甚至不支持选择文本。不是开玩笑，他们自己的代码示例有一个“全部复制”按钮来绕过这个问题。</p><p>  How did anyone look at this and say “yeah nah, selecting text isn’t an important use case on the web”? Why does selecting text matter you ask? Some people use it to aid with reading by selecting the text they are currently reading, other people use it to(and I know this is wild) copy parts of the text, people with dyslexia use tools that read out selected portions of the text to help them read. Does any of this work with Flutter’s default, unselectable text? Fuck no!</p><p>怎么会有人看到这一点并说“是的，不，选择文本在网络上不是一个重要的用例”？你会问为什么选择文本很重要？一些人用它来帮助阅读，选择他们正在阅读的文本，另一些人用它来(我知道这是疯狂的)复制文本的部分，患有诵读困难的人使用工具读出选定的文本部分来帮助他们阅读。这是否适用于Ffltter的默认不可选文本？他妈的不！</p><p> While we are talking about dyslexia, another useful feature that help people who suffer from it is the ability to change the fonts of web pages to one they find easier to read, such as  OpenDyslexic. There are many tools that help with this and they all rely on the ability to inject custom CSS in a web page, to my surprise this actually looked to work when I tried it on some of the Flutter Web demos. However, looks deceive and while the font does apply it causes text to get cut off in almost all instances because of the terrible HTML Flutter generates. For example, in the “Reply” email client here’s the tag for the word “Reply” in the upper right</p><p>当我们谈论诵读困难症时，另一个帮助患有诵读困难症的人的有用功能是能够将网页的字体更改为他们认为更容易阅读的字体，例如OpenDyslexic。有很多工具可以帮助这一点，它们都依赖于在网页中注入自定义CSS的能力，令我惊讶的是，当我在一些Ffltter Web演示中尝试它时，它看起来真的很管用。然而，它看起来是欺骗的，虽然字体确实适用，但它会导致几乎所有情况下的文本都被截断，因为产生了可怕的HTML颤动。例如，在“回复”电子邮件客户端中，右上角是单词“回复”的标签。</p><p> &lt;p  style= &#34;font-size: 18px; font-weight: normal; font-family: WorkSans_regular, -apple-system, BlinkMacSystemFont, sans-serif; color: rgb(255, 255, 255); letter-spacing: 0px; position: absolute; white-space: pre-wrap; overflow-wrap: break-word; overflow: hidden; height: 27px; width: 54px; transform-origin: 0px 0px 0px; transform: matrix(1, 0, 0, 1, 59, 3.5); left: 0px; top: 0px;&#34; &gt;REPLY &lt;/p&gt;</p><p>&lt；p style=&#34；font-size：18px；font-weight：Normal；font-family：WorkSans_Regular，-Apple-System，BlinkMacSystemFont，sans-serif；color：RGB(255,255,255)；字母间距：0px；位置：绝对；空白：预换行；溢出：断字；溢出：隐藏；高度：27px；宽度：54px；变换原点：0px 0px 0px；变换：矩阵(1，0，0，1，59，3.5)；左：0px；上：0px；&#34；&gt；回复&lt；/p&gt；</p><p>  font-size: 18px;font-weight: normal;font-family: WorkSans_regular, -apple-system, BlinkMacSystemFont, sans-serif; color: rgb(255, 255, 255);letter-spacing: 0px;position: absolute;white-space: pre-wrap;overflow-wrap: break-word;overflow: hidden;height: 27px;width: 54px;transform-origin: 0px 0px 0px;transform: matrix(1, 0, 0, 1, 59, 3.5);left: 0px;top: 0px;</p><p>Font-size：18px；font-weight：Normal；font-family：WorkSans_Regular，-Apple-System，BlinkMacSystemFont，sans-serif；颜色：RGB(255,255,255)；字母间距：0px；位置：绝对；空白：预换行；溢出换行：断字；溢出：隐藏；高度：27px；宽度：54px；变换原点：0px 0px 0px；变换：矩阵(1，0，0，1，59，3.5)；左：0px；顶：0px；</p><p> Flutter Web generates absolutely positioned fixed sized HTML which instead of adopting to the text layout specified by the browser just cuts the text off.</p><p>颤动网页生成绝对定位的固定大小的HTML，而不是采用浏览器指定的文本布局，而只是剪切文本。</p><p> Another useful feature that is common in accessibility extensions is making links stand out more. This works by injecting global CSS rules that target  a tags on the page.</p><p>辅助功能扩展中常见的另一个有用功能是使链接更加突出。这是通过注入针对页面上的标签的全局CSS规则来实现的。</p><p>  Does this work with Flutter Web (this questions is starting to feel redundant because the answer is almost always “No”)? Fuck no! In general, users use custom stylesheets for a multitude of reasons not limited to accessibility. As a “fun” exercise try this  low vision stylesheet on one of the  Flutter Web demos and see how readable the content is.</p><p>这对Ffltter Web有效吗(这个问题开始让人觉得多余了，因为答案几乎总是“不”)？他妈的不！通常，用户使用自定义样式表的原因有很多，不限于可访问性。作为一个“有趣”的练习，在Ffltter Web演示之一上尝试这个低视觉样式表，看看其内容的可读性如何。</p><p> Another one of the  demos in the Flutter Web Gallery is a news site. On news sites, I like to use the built-in “reader mode” in my browser to get a reading experience that is free from clutter and better suites me. For example, when reading in bed late at night (which I know I shouldn’t do) it’s nice to have a soft, dark mode experience instead of the glaring black text on pure white that many publications use. Does reader mode work with Flutter Web website? Nope. It doesn’t work because, you guessed it, it relies on semantic HTML.</p><p>Ffltter Web Gallery中的另一个演示是一个新闻站点。在新闻网站上，我喜欢使用浏览器内置的“阅读器模式”来获得一种不杂乱、更适合我的阅读体验。例如，当深夜在床上阅读时(我知道我不应该这样做)，有一种柔和的、黑暗的模式体验是很好的，而不是许多出版物使用的纯白色上耀眼的黑色文本。阅读器模式是否适用于Ffltter Web网站？不是的。它不工作是因为，您猜到了，它依赖于语义HTML。</p><p>  Like any good writer, I’ve saved the best for last: the screen reader experience with Flutter Web. When you first focus on one of the Flutter Web demos with a screen reader you are greeted with a “button” that says “Enable accessibility”. Admittedly, when you click this button there is a resemblance of screen reader content but it’s terrible. In the “Reply” app things are read out with unnecessarily high detail in the list view, things that can be clicked aren’t identified as such, you cannot even get to the menu as far as I can tell, and as previously identified there are almost no landmarks which are used for navigation.</p><p>像任何优秀的作家一样，我把最好的东西留到了最后：Ffltter Web的屏幕阅读器体验。当您第一次使用屏幕阅读器关注Ffltter Web演示之一时，您会看到一个“按钮”，上面写着“启用辅助功能”。诚然，当你点击这个按钮时，屏幕阅读器的内容是相似的，但这很可怕。在“回复”应用程序中，列表视图中的内容以不必要的高细节读出，可以点击的内容没有这样标识，据我所知，你甚至无法进入菜单，而且之前标识的几乎没有用于导航的地标。</p><p>  Flutter is a misguided attempt to achieve the impossible: quality cross platform experiences. Flutter Web in particular is fundamentally flawed and needs to be rebuilt from the ground up if it has any hopes of being viable tech that generates semantic, accessible, and modern web experiences. I have serious doubt that when Flutter Web leaves beta any of this will be addressed properly, unless the whole approach is reconsidered. If you see Flutter Web, turn around and run in the opposite direction.</p><p>颤动是一种误入歧途的尝试，目的是实现不可能的：高质量的跨平台体验。特别是Ffltter Web，它从根本上是有缺陷的，如果它有任何希望成为产生语义的、可访问的和现代的网络体验的可行技术，就需要从头开始重建。我严重怀疑，当Ffltter Web离开测试版时，这些问题是否会得到妥善解决，除非重新考虑整个方法。如果你看到颤动的网，转过身，朝相反的方向跑。</p><p> Developers, designers, and product people all love cross platform solutions because it saves them time and energy while achieving the “same” outcome as the costlier alternatives. Flutter Web nicely illustrates that the outcomes aren’t the same, the visible part of a product is only one part of the puzzle.</p><p>开发人员、设计人员和产品人员都喜欢跨平台解决方案，因为它节省了他们的时间和精力，同时实现了与成本更高的替代方案“相同”的结果。Ffltter Web很好地说明了结果是不一样的，产品的可见部分只是拼图的一部分。</p><p> I’m merely an accessibility novice and I didn’t even mention SEO in this post. I didn’t stop writing because I stopped finding flaws, but because this post was getting too long and I have other things to do. I’m sure accessibility users and experts can find even more issues than I have presented here(feel free to DM me on  Twitter and I’ll include them).</p><p>我只是一个可访问性的新手，在这篇文章中我甚至没有提到SEO。我停止写作并不是因为我不再寻找缺陷，而是因为这篇文章太长了，我还有其他事情要做。我相信易访问性用户和专家可以找到比我在这里介绍的问题更多的问题(请随时在Twitter上DM我，我会将它们包括在内)。</p><p> To end I’d like to leave you with a  quote from  Dr. Ian Malcolm.</p><p>最后，我想引用伊恩·马尔科姆博士的一句话。</p><p> Your scientists were so preoccupied with whether or not they could, they didn’t stop to think if they should.</p><p>你们的科学家全神贯注于他们是否能做到，他们没有停下来想一想他们是否应该这样做。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://hugotunius.se/2020/10/31/flutter-web-a-fractal-of-bad-design.html">https://hugotunius.se/2020/10/31/flutter-web-a-fractal-of-bad-design.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/flutter/">#flutter</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/颤动/">#颤动</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/web/">#web</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1032654.html"><img src="http://img2.diglog.com/img/2020/11/thumb_0223d07386be748502b18ba2d0b454f9.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032654.html">“把一些东西放进硬件”(ASIC)通常不会让程序变得更快</a></div><span class="my_story_list_date">2020-11-2 2:48</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032648.html"><img src="http://img2.diglog.com/img/2020/11/thumb_b83ea6056427505e42086f7220479d7c.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032648.html">随着时间的推移，平均用户体验改进正在缩减</a></div><span class="my_story_list_date">2020-11-2 1:53</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032600.html"><img src="http://img2.diglog.com/img/2020/11/thumb_e5b309df54d34dce2a3ef2156b12a700.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032600.html">今年的图标设计潮流是不是太过火了？</a></div><span class="my_story_list_date">2020-11-1 19:58</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032188.html"><img src="http://img2.diglog.com/img/2020/10/thumb_5a0d05ae94f38f4e8a2735225f5509e7.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032188.html">Zoom端到端加密的离奇设计选择</a></div><span class="my_story_list_date">2020-10-30 7:51</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>