<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>更早、更快、更好、更强：通过区分API流量来捕捉突破性变化</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">更早、更快、更好、更强：通过区分API流量来捕捉突破性变化</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-09-23 07:24:41</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/9/1636b393791e5f6a1bbafbcce0dd1696.gif"><img src="http://img2.diglog.com/img/2020/9/1636b393791e5f6a1bbafbcce0dd1696.gif" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>如果您使用Web应用程序，您有时可能会觉得您的工具抛弃了您。你说得没错。由于现代技术堆栈的设置方式，要确保您的代码执行其应该执行的操作变得越来越困难。</p><p>在这篇博客文章中，我们将向您展示一个今天从裂缝中溜走的bug，解释为什么它不是任何人的错，并向您展示我们如何通过比较API行为来捕获bug(同时生成API规范！！)。</p><p>你在一个网络应用程序上工作。您的同事和#bff，Aki打开了从常用API中删除属性的拉取请求。你们两个关系很好，所以你们来回顾一下公关。Aki的公关包括一个链接，显示该属性的使用已从网站上删除，再次证明了为什么Aki是您的#bff。你热情地+1公关，你们两个都认为Aki已经考虑到了所有的依赖。</p><p>更改将合并。然后：背叛！现在移动客户端出现故障，您和Aki现在已经很晚了。(幸好你一开始非常喜欢Aki。)。事实证明，Aki的API非常好，以至于移动API已经开始依赖于移除的属性，而您和Aki都不知道。</p><p>如果这件事发生在你身上，那就不该怪你！这些bug都是令人讨厌的小东西：它们必须依赖于您编写的代码，而不是代码本身，这使得很难通过源代码差异来捕捉它们。事实上，bug一旦跨越API边界，就会变得极其难以捕获，因为它们避开了通用的测试和软件分析(考虑静态和动态分析)解决方案。开发人员只能依靠文档、口口相传和真真切切地祈祷。</p><p>要捕捉这些类型的bug，您只需安装Akita，以便在发出Pull请求时分析影响API的更改。以下是秋田在您的拉取请求上留下的评论示例：</p><p>Akita使您能够跨拉请求、多个环境(EX Production与Test)，甚至是预先存在的规范来比较API行为。如果Aki使用Akita来比较他们的生产环境和测试环境之间的API行为，他们肯定会发现错误并为您省去一些深夜调试！</p><p>通过不同的行为而不是代码，Akita总结了拉取请求如何更改您的API，包括：</p><p>👷🏻‍♀️即将面世：受影响的客户端，准确告诉您哪些移动和网络客户端受到影响。</p><p>就在本周，我们发布了GitHub集成，可以洞察每个Pull请求。您现在可以在不更改任何代码或配置文件的情况下使用Akita，而无需代理-并且将其作为正常开发人员工作流程的一部分。</p><p>Akita通过向您展示隐式API契约之间的语义差异来实现这一点。换句话说，这意味着Akita会魔术般地找出您的API通常做什么，然后在这方面有所不同，而不是在源代码上进行语法上的不同。通过对观察到的行为进行区分，而不是代码本身或API可以相互调用的静态图表，Akita的报告可以更精确地指出潜在问题。Akita足够灵活，既可以在CI中运行(如下所示)，也可以在生产环境中运行！</p><p>您可能想知道我们是如何做到这一点的，因为现有的Linter、静态分析或动态分析都无法做到这一点。在幕后，Akita分析API流量，从头开始构建API模型。作为基础，Akita为您的API构建了API规范。这里我们展示了Akita自动生成的OpenAPI规范：</p><p>下一步就是魔力从何而来。Akita使用高级编程语言技术不仅可以检测基本规范属性，还可以检测隐式API约定，例如，日期时间、电子邮件、电话号码等特定类型：</p><p>您所要做的就是设置Akita来监视您的API流量。无需更改代码，也无需代理：</p><p>我们刚刚在我们的私人测试版中发布了规范查看器和GitHub集成，希望您能尝试我们的规范生成和/或语义API行为差异。以下是您可以提供帮助的方式：</p><p>如果您对试用感兴趣，请注册我们的私人测试版！</p><p>您可能还会对我们上周在API spes会议上所做的演讲和演示感兴趣。</p><p>我们也在不断地努力使我们的工具变得更好！如果您对变更分析有疑问，请填写此调查-有机会赢得价值50美元的亚马逊礼品卡。</p><p>把我们的事散布出去！我们希望能得到所有的反馈！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.akitasoftware.com/blog/2020/9/22/faster-better-earlier-catch-breaking-changes-by-diffing-api-behavior">https://www.akitasoftware.com/blog/2020/9/22/faster-better-earlier-catch-breaking-changes-by-diffing-api-behavior</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/api/">#api</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/faster/">#faster</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1025352.html"><img src="http://img2.diglog.com/img/2020/9/thumb_f1001ae03a5ea45069eafa0c247e052d.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1025352.html">.NET标准的未来</a></div><span class="my_story_list_date">2020-9-21 23:13</span></div><div class="col-sm"><div><a target="_blank" href="/story/1024318.html"><img src="http://img2.diglog.com/img/2020/9/thumb_013b004603baf71489f6e900441fbca1.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1024318.html">使用多屏幕窗口放置API管理多个显示</a></div><span class="my_story_list_date">2020-9-17 0:49</span></div><div class="col-sm"><div><a target="_blank" href="/story/1023358.html"><img src="http://img2.diglog.com/img/2020/9/thumb_c29f8db28896da1a54c25cff49f297c2.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1023358.html">现代Ruby序列化程序</a></div><span class="my_story_list_date">2020-9-12 0:8</span></div><div class="col-sm"><div><a target="_blank" href="/story/1022755.html"><img src="http://img2.diglog.com/img/2020/9/thumb_48d6c00cc799f46ef5d37585d9074897.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1022755.html">为什么像Git中的API密钥这样的秘密是个问题</a></div><span class="my_story_list_date">2020-9-8 23:28</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>