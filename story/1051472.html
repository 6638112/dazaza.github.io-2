<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>esbuild 0.9 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">esbuild 0.9 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-11 00:58:15</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/4a57b2001b415569a50c488c65b2552e.png"><img src="http://img2.diglog.com/img/2021/3/4a57b2001b415569a50c488c65b2552e.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>此版本包含向后 - 不兼容的更改。由于eSBuild在1.0.0之前，这些更改已被释放为新的次要版本，以反映此（如NPM的推荐）。您应该要将Package.json文件中的ESBuild的确切版本固定为eSbuild。或使用只接受^ 0.8.0等修补程序升级的版本范围语法。有关更多信息，请参阅关于SEMV的文档。</p><p> 最近将此功能添加到节点中。它允许您重写包映射中的导入路径，并防止人员在包中导入某些文件。向eSbuild添加支持是一个破坏的变化（即，在很容易停止工作之前工作的代码），因此在这个破坏更改版本之前增加了对它的支持。</p><p> 使用此功能的一种方法是重新映射包的导入路径。例如，这将重新删除您的-pkg / ESM / lib.js的导入（＆＃34; public＆＃34;导入路径）到您的pkg / dist / Esm / lib.js（＆＃34;私人＆ ＃34;文件系统路径）：</p><p>  另一种使用此功能的方法是在不同情况下具有不同的进口路径可能意味着不同的东西。例如，这将重新映射（＆＃39;您的pkg＆＃39;）到您的pkg / beacer.cjs和Import＆＃39;您的pkg＆＃39;到您的pkg / imported.mjs：</p><p>  根据当前平台的进口和浏览器和节点条件，有内置的进口和需要条件。此外，无论当前配置设置如何，默认情况始终适用，并且可以用作捕获 - 所有后退条件。</p><p> 请注意，当您使用条件时，您的包裹可能会多次结束捆绑包！这是一个微妙的问题，可能由于代码＆＃39; s状态的重复副本而导致错误。这通常被称为双包危险。避免此方法的主要方式是将所有代码放在requircer条件下，并具有导入条件只是一个灯具包装器，可在您的包装上调用，并使用ESM语法重新导出包裹。</p><p> 还支持带有-Conditions =标志的自定义条件。这些的含义完全达到了包作者。例如，您可以想象一个需要您配置--Conditions = Test，En-US的包。 Node目前仅核可了推荐使用的开发和生产定制条件。 </p><p>由于＃656，调用service.stop（）不再做任何事情，因此不再有强烈的原因来保持eSBuild.StartService（）API。它目前所做的主要内容只是使API更复杂，更难使用。您现在可以直接调用esbuild.build（）和esbuild.transform（）而不是调用esbuild.startservice（）。然后（service =＆gt; service.build（））或esbuild.startservice（）。然后（服务=＆gt ; service.Transform（））。</p><p> 如果您在浏览器中使用eSbuild，则需要调用eSbuild.Initialize（{wasmurl}）并在调用esbuild.transform（）之前等待返回的承诺。它采用eSbuild.StartService（）常用的选项。请注意，在节点中使用eSbuild时，eSBuild.BuildSync（）和esbuild.transformsync（）API仍然存在。关于同步esbuild API没有任何改变。</p><p> 以前使用与API的元文件是不必要的麻烦，因为您必须自己从输出文件中提取JSON元数据而不是刚刚向您提供返回值。如果您使用的是Write：False，这尤其是虚拟机：因为那么您需要在输出文件上使用for循环，并使用文件路径执行字符串比较，以便查找与元文件相对应的字符串。直接返回元数据是API的重要UX改进。这意味着您现在可以这样做：</p><p> esbuild。构建（{横幅：{JS：＆＃39; //横幅＆＃39;，CSS：＆＃39; / *横幅* /＆＃39;}，页脚：{JS：＆＃39; //页脚＆＃39 ;，CSS：＆＃39; / *页脚* /＆＃39;}，}）</p><p> 这被改变，因为该功能最初以特定于JavaScript的方式添加，这是一个疏忽。 CSS横幅和页脚必须与JavaScript横幅和页脚分开，以避免将JavaScript语法注入CSS文件。</p><p> 以前的＆＃34;解决扩展名和＃34;设置包含.mjs和.cjs，但这不再是这种情况。这不是一个良好的默认，因为它没有匹配节点＆＃39;行为，可以打破一些包。您现在必须明确地指定这些扩展或配置＆＃34;解决扩展名和＃34;让自己设置。</p><p> 如果您不通过--log-locl =警告，则可以禁用摘要。它可以通过设置Loglevel：＆＃39;信息＆＃39;我将尝试这样做，因为我相信它会改善UX。当他们第一次尝试它时，人们在eSbuild中有这个问题，在这种情况下，他们认为它必须被打破，只要稍后发现它实际上是罚款。虽然这很有趣，但它似乎是一个很好的迹象表明UX可以得到改善。所以我要尝试自动打印摘要，看看它的方式。请注意，如果增量构建处于活动状态（这包括手表和服务模式），则不会打印摘要。 </p><p>此参数已重命名，因为它现在适用于警告和错误，而不仅仅是错误。以前设置错误限制没有对打印的警告数量不适用于打印的警告数量，有时可能导致Windows命令提示符有问题的卓越警告，这对打印至非常慢的滚动滚动并具有非常有限的滚动。现在日志限制适用于包括错误和警告的日志消息总数，因此不会打印任何消息数。日志通常会立即打印日志消息，但现在在接近限制时将故意阻止警告，以便在构建过程中为未来可能的未来错误进行空间。因此，如果构建失败，您应该保证查看错误消息（即警告可以＆＃39; t上整个日志限制，然后防止打印错误）。</p><p> 此选项现已始终启用且无法禁用，因此可以从API中删除它。现有的API参数不再做任何事情，以便这种删除没有影响所生成的输出。</p><p> 这些选项是与第三件事的CLI实验的一部分。观看模式不再使用旋转器，因为它让人们希望能够与其他工具交错eSBuild＆＃39; STDERR管道并通过旋转器动画绊倒。这些选项不再做任何事情并且已被删除。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/evanw/esbuild/releases/tag/v0.9.0">https://github.com/evanw/esbuild/releases/tag/v0.9.0</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/esbuild/">#esbuild</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>