<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>像专业人士一样阅读手册 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">像专业人士一样阅读手册 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-05 17:11:48</div><div class="page_narrow text-break page_content"><p>在进行开发演讲或演讲时，我经常参考手册页，但是直到最近我才意识到很少有人对手册界面感到满意，并且擅长通过它来发现信息。</p><p> 这篇文章是我尝试分享我多年来阅读联机帮助页时学到的一些技巧和技术。</p><p>  手册页（“ manual pages”的缩写）是* nix上最早，运行时间最长的文档集，其起源可追溯至1971年Unix程序员手册的第一版。</p><p> 在现代系统上，man命令是访问手册页的最常用方法：</p><p> ＃访问名为＆＃34; time＆＃34;的第一个手册页，恰好是time（1）man time＃访问特定节的＆times＃34，在这种情况下为C时间函数＃2次尝试访问不存在的＆＃34; time＆＃34;在第5部分5次中</p><p> 因为这些手册页最初是在纸上发布的，所以在大多数系统上都使用troff排版（并将继续使用）。今天，man命令（和其他联机帮助页阅读器）在内部调用troff并将输出通过管道传递到用户的寻呼机（或多或少）。</p><p> 实际上，只需将三个命令一起流水线就可以实现非常简单的联机帮助页阅读器（仅适用于第1节）： </p><p>函数myman {＃-t和`-e`：在输入中为表和方程式运行`tbl`和`eqn`＃`-mandoc`：使用一组专门用于联机帮助页的troff宏＃`-Tutf8` ：输出UTF-8文字，而不是PostScript gunzip＆lt; / usr / share / man / man1 /＆＃34; $ {1} .1.gz＆＃34; | groff -t -e -mandoc -Tutf8 | } myman gccmyman ls</p><p> 除了其简单性和对UNIX哲学的坚持外，man和联机帮助页还扮演着许多重要的角色：</p><p> 它们提供了一个分类：第1节是系统命令，第2节是系统调用，第3节是库函数，依此类推。系统本身（由多个部分组成）以及用户或程序包管理器安装的程序都遵循此分类。</p><p>  他们提供离线文档：男人不需要互联网连接，并且可以提供互联网搜索所需要的大部分文档。</p><p>  它们提供了规范的信息：在线搜索命令或函数可能会告诉您它是否存在，但不会告诉您系统特定的标志，参数或行为，例如man ls会告诉您系统的ls是否是BSD或GNU（以及它们之间的差异）。手册页（在Linux上）还将告诉您要使用功能（或功能的变体），您需要在C程序中定义哪些功能宏。</p><p>   要提高man手册页的可读性，您可以做的最简单的事情之一就是使寻呼机的输出着色：</p><p>  用更少的钱，这是通过将LESS_TERMCAP_ *环境变量设置为您首选的ANSI颜色代码来完成的。您可以设置以下变量： </p><p>LESS_TERMCAP_mb＃闪烁模式（在联机帮助页中不常见）模式（用于带下划线的文本）LESS_TERMCAP_ue＃退出下划线模式</p><p> 您也许可以设置与termcap功能名称相对应的其他名称，但是上面的变量应该可以满足您的所有联机帮助需求。</p><p> 举例来说，这是我用来为联机帮助页上色的bash函数：</p><p> man（）{env \ LESS_TERMCAP_mb =＆＃34; $（printf＆＃34; \ e [1; 31m＆＃34;）＆＃34; \ LESS_TERMCAP_md =＆＃34; $（printf＆＃34; \ e [1; 31m＆＃34;）＆＃34; \ LESS_TERMCAP_me =＆＃34; $（printf＆＃34; \ e [0m＆＃34;）＆＃34; \ LESS_TERMCAP_se =＆＃34; $（printf＆＃34; \ e [0m＆＃34;）＆＃34; \ LESS_TERMCAP_so =＆＃34; $（printf＆＃34; \ e [1; 44; 33m＆＃34;）＆＃34; \ LESS_TERMCAP_ue =＆＃34; $（printf＆＃34; \ e [0m＆＃34;）＆＃34; \ LESS_TERMCAP_us =＆＃34; $（printf＆＃34; \ e [1; 32m＆＃34;）＆＃34; \人＆＃34; $ {@}＆＃34; }</p><p> 请注意，您不需要使用上面的转义序列-tput可以正常工作。</p><p>  我在上面提到了一些重要的部分：1用于系统命令，2用于系统调用，依此类推。</p><p> 90％的人查询将在这三个查询中进行，但是有一些鲜为人知的部分也可能有用： </p><p>在Linux上，第4节用于记录特殊文件，这些文件通常代表计算机或其外围设备的某些方面。例如，man 4 mem会告诉您如何使用/ dev / mem，/ dev / kmem和/ dev / port文件来读取和写入系统的主内存。</p><p>  您可能知道/ etc / shadow文件，但是您知道如何指定其格式吗？男人5的影子会告诉你。同样，man 5 deb描述了.deb软件包格式，man 5 ppm列出了PPM图像的规范。</p><p>  这些页面可用于将POSIX行为与系统行为进行对比。</p><p>    ＃将系统ls（在Linux，GNU上）与POSIX ls行为man 1 ls man 1p ls＃＃将读取的系统调用与POSIX的读取函数进行比较＃注意分类：POSIX读取是一个函数，而不是syscall！男人2读男人3p读</p><p>  像着色一样，搜索通常比人类特有的功能少。话虽如此，较少的搜索和导航功能可以使联机帮助页浏览更快，更愉快。</p><p> 较少的搜索可以使用/和？进行正向或反向搜索。命令。搜索语法主要是POSIX ERE，但有一些补充（细节少了！）。</p><p> 例如，要在man gcc中查找“ x86”的第一个实例（请在屏幕底部查看搜索提示）： </p><p>观察到搜索词的实例以以前突出的颜色突出显示。</p><p> 输入搜索词后，即可通过n和N命令浏览其结果，这两个命令分别在结果列表中向前和向后移动。例如，浏览“ Windows”的所有结果：</p><p>  当最后一个结果跳转到后，状态栏将变为“未找到模式”。一旦发生这种情况，如上面的视频中所示，可以通过按N返回先前的结果。</p><p> 即使这样也可以简化：＆amp;命令可用于仅显示与给定模式匹配的行。例如，检索包含“ ARM”或“ ABI”的每一行：</p><p>  搜索标志的定义（在本例中为-D）时，效果更加明显：</p><p>  这些命令只是冰山一角，更少地支持搜索多个文件，跳跃范围（打开和关闭括号，大括号，方括号）以及标记当前位置以供以后返回。其中的每一个都记录在帮助屏幕上，您可以在更少的会话中通过h命令进入该屏幕：</p><p>   在掌握这些技巧之前（特别是在搜索之前），手册页对我而言是不得已的事情：我会在互联网上搜索或询问朋友，结果却不尽相同。我不知道如何减少使用量，只是笨拙地翻页直到找到想要的东西。很多时候，我会完全放弃。 </p><p>最终，手册页（和man界面）并不完美-没有超链接或真实的交叉引用，并且整个语料库均使用45岁以上的排版语言编写，旨在提供物理输出，而不是虚拟显示 终奌站。  话虽这么说，它们是有关您系统的几乎所有内容的绝佳初始资源-它们保持最新（与博客和文章不同），它们准确而简洁，并且它们非常UNIX-y（文本文件和 管道！）。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.yossarian.net/2018/01/22/Reading-Manpages-Like-a-Pro">https://blog.yossarian.net/2018/01/22/Reading-Manpages-Like-a-Pro</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/阅读/">#阅读</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/manpages/">#manpages</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/man/">#man</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1037712.html"><img src="http://img2.diglog.com/img/2020/12/thumb_480cc71dfa796867c2cdbe779f81d0ab.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037712.html">有效阅读的完整指南 </a></div><span class="my_story_list_date">2020-12-4 22:55</span></div><div class="col-sm"><div><a target="_blank" href="/story/1036942.html"><img src="http://img2.diglog.com/img/2020/11/thumb_fe99c7c4967ab5a954aa3e62130fea1d.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1036942.html">如何读书</a></div><span class="my_story_list_date">2020-11-28 7:15</span></div><div class="col-sm"><div><a target="_blank" href="/story/1035897.html"><img src="http://img2.diglog.com/img/2020/11/thumb_5f38c70828819c3a3668838e6991223d.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1035897.html">程序员书籍</a></div><span class="my_story_list_date">2020-11-22 20:23</span></div><div class="col-sm"><div><a target="_blank" href="/story/1035877.html"><img src="http://img2.diglog.com/img/2020/11/thumb_cf0ff864bae0d70f2bad99b5a46bf98a.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1035877.html">分享我认为有意义的技术文章</a></div><span class="my_story_list_date">2020-11-22 16:27</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>