<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>v0.16  -  Gleam编译到JavaScript </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">v0.16  -  Gleam编译到JavaScript </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-17 22:29:54</div><div class="page_narrow text-break page_content"><p>Gleam是Erlang虚拟机的一种安全且可扩展的语言，DIDAS的v0.16.0 v0.16.0发布到JavaScript的释放闪光！</p><p>  没有SomeCliché的例子，引入了写前端Web代码的新方法是什么？</p><p> 这是一系列互动小部件，您可能已经看到了无数次数，以及他们的闪光源代码和它编译的JavaScript。</p><p> 为了简洁的利益，我们在这些示例中跳过错误处理，并且userather yseraths的javascript函数的定义它们导入。在真实的闪光程序中，我们希望这些JavaScript绑定在内部的库中生活，但这些示例应该足够了给你一种味道，闪闪发光可以用javascript做。</p><p>         pub fn main（）{让输入= query_selector（＆＃34; [data-hello-input]＆＃34;）vistray = query_selector（＆＃34; [data-hello-display]＆＃34;）让sync = fn（）{ver text = get（from：输入，属性：＆＃34;值＆＃34;）集（＆＃34; innertext＆＃34; on：显示，to：text）}设置（＆＃34 ; OnInput＆＃34;，开关：输入，to：sync）}外部类型元素意外fn query_selector（String） - ＆gt;元素=＆＃34;＆＃34; ＆＃34; document.querySelector＆＃34;外部fn get（from：元素，属性：字符串） - ＆gt;字符串=＆＃34;＆＃34; ＆＃34; reflect.get＆＃34;外部fn set（上：元素，属性：字符串，to：nement） - ＆gt; BOOL =＆＃34;＆＃34; ＆＃34; reflect.set和＃34;</p><p>   ＆＃34;使用严格＆＃34; ;导出函数main（）{让输入= query_selector（＆＃34; [data-hello-inpect]＆＃34;）;让display = query_selector（＆＃34; [data-hello-display]＆＃34;）;让Sync =（）=＆gt; {让文本= get（输入，＆＃34;值＆＃34;）;返回集（显示，＆＃34; innertext＆＃34;，文本）; };返回集（输入，＆＃34; OnInput＆＃34;，同步）; }函数query_selector（arg0）{return文档。 QuerySelector（arg0）}函数get（from，属性）{return反映。获取（来自，属性）}函数集（开，属性，to）{return反映。设置（on，property，to）}</p><p>           pub fn main（）{让increment = query_selector（＆＃34; [data-counter-uplentment]＆＃34;）让递减= query_selector（＆＃34; [数据 - 反递减]＆＃34;）显示= query_selector（＆＃34; [数据计数器显示]＆＃34;）vet = fn（diff）{set（＆＃34; innertext＆＃34; on：display，to：get_value（显示）+ diff ）}设置（＆＃34; onclick＆＃34; on：inclentment，to：fn（）{add（1）}）集（＆＃34; onclick＆＃34; on：diglement，to：fn（）{添加（-1）}）} fn get_value（元素）{元素|＆gt;得到（财产：＆＃34; innertext＆＃34;）|＆gt; parse_int}外部类型元素ElementExternal FN Query_Selector（String） - ＆gt;元素=＆＃34;＆＃34; ＆＃34; document.querySelector＆＃34;外部fn get（from：元素，属性：字符串） - ＆gt;字符串=＆＃34;＆＃34; ＆＃34; reflect.get＆＃34;外部fn set（上：元素，属性：字符串，to：nement） - ＆gt; BOOL =＆＃34;＆＃34; ＆＃34;反射.set＆＃34;外部fn parse_int（string） - ＆gt; int =＆＃34;＆＃34; ＆＃34; Parseint＆＃34; </p><p>＆＃34;使用严格＆＃34; ;导出函数main（）{让increment = query_selector（＆＃34; [data-counter-utriment]＆＃34;）;让递减= query_selector（＆＃34; [数据计数器递减]＆＃34;）;假设显示= query_selector（＆＃34; [数据计数器显示]＆＃34;）;让add =（diff）=＆gt; {返程集（显示，＆＃34; innertext＆＃34;，get_value（显示）+ diff）; };设置（递增，＆＃34; onclick＆＃34;，（）=＆gt; {return添加（1）;}）;返回集（递减，＆＃34; onclick＆＃34;，（）=＆gt; {return添加（ -  1）;}）; }函数get_value（元素）{return parse_int（get（元素，＆＃34; innertext＆＃34;））; }函数query_selector（arg0）{return文档。 QuerySelector（arg0）}函数get（from，属性）{return反映。获取（来自，属性）}函数集（开，属性，to）{return反映。设置（on，property，to）}函数parse_int（arg0）{return parseint（arg0）}</p><p>         const url =＆＃34; https：//dog.ceo/api/breeds/image/random&#34; pub fn main（）{el按钮= query_selector（＆＃34; [数据 - 狗 - 按钮]＆＃34 ;）让img = query_selector（＆＃34; [data-dogs-img]＆＃34;）new_dog（img）集（开：按钮，属性：＆＃34; onclick＆＃34;，to：fn（）{ new_dog（img）}）} fn new_dog（img）{fetch（url）|＆gt;然后（get_json_body）|＆gt;然后（FN（JSON）{SET（ON：IMG，属性：＆＃34; SRC＆＃34;：GET（JSON，＆＃34;消息＆＃34;））解析_PROMISE（nil）}）}外部类型元素意外键入responstexternal类型jsonexternal类型承诺（value）外部fn query_selector（String） - ＆gt;元素=＆＃34;＆＃34; ＆＃34; document.queryselector＆＃34;外部fn get（from：json，property：string） - ＆gt; json =＆＃34;＆＃34; ＆＃34; reflect.get＆＃34;外部fn set（上：元素，属性：字符串，to：nement） - ＆gt; BOOL =＆＃34;＆＃34; ＆＃34; reflect.set.set＆＃34;外部fn fn fetch（string） - ＆gt;承诺（响应）=＆＃34;＆＃34; ＆＃34; fetch＆＃34;外部fn get_json_body（响应） - ＆gt;承诺（JSON）=＆＃34;＆＃34; ＆＃34; response.prototype.json.call＆＃34;外部fn那么（承诺（a），fn（a） - ＆gt; promise（b）） - ＆gt;承诺（b）=＆＃34;＆＃34; ＆＃34; promise.prototype.then.call＆＃34;外部fn解析_promise（值） - ＆gt;承诺（价值）=＆＃34;＆＃34; ＆＃34; promise.resolve＆＃34;</p><p>   ＆＃34;使用严格＆＃34; ; const url =＆＃34; https://dog.ceo/api/breeds/image/random＆＃34; ;导出函数main（）{el按钮= query_selector（＆＃34; [data-dogs-button]＆＃34;）;让img = query_selector（＆＃34; [data-dogs-img]＆＃34;）; new_dog（img）;返回集（按钮，＆＃34; onclick＆＃34;，（）=＆gt; {return new_dog（img）;}）; }函数new_dog（img）{return然后（然后（获取（url），get_json_body），（json）=＆gt; {set（img，＆＃34; src＆＃34;，get（json，＆＃34;消息＆＃34;））;返回解析_promise（未定义）;}，）; }函数query_selector（arg0）{return文档。 QuerySelector（arg0）}函数get（from，属性）{return反映。获取（来自，属性）}函数集（开，属性，to）{return反映。设置（on，property，to）} function fetch（arg0）{return globalthis。获取（arg0）}函数get_json_body（arg0）{return响应。原型 。杰森。呼叫（arg0）}函数（arg0，arg1）{return promise。原型 。然后 。呼叫（arg0，arg1）}函数解析_promise（arg0）{return promise。解决（arg0）}</p><p>    Erlang虚拟机是逃避服务器的长期运行服务，但在此空间之外，它可能并不总是成为作业的最佳工具。所有平台都不支持，以及编译量大，启动时间和安装方案等因素可能是一个问题。</p><p> JavaScript是世界上最广泛使用和广泛支持的语言之一。它可以用于网站前端，桌面应用程序，命令的Linopplications，Mobile Phones应用程序，在IOT设备上，在云无服务器平台上以及更多。</p><p> 虽然JavaScript缺乏Erlang虚拟机的多核和分发计算能力，但它确实具有强大的并发功能AndRespected Single Threaded性能，因此感谢高度优化的运行仪器谷象的V8引擎，它在NodeJS和Chrome Web浏览器中使用。</p><p> 通过编译到JavaScript以及Erlang闪光可用于最大限度的问题空间和域，并可以通过更广泛的人员访问。在GLEAM中编写后端Web API的团队现在可以选择WRitetheir网站前端以闪光，共享在平台之间的分享代码，并享受友好且基于生产类型的基于闪光的闪光应用程序堆栈。 </p><p>就个人而言，我很高兴使用无服务器函数平台来运行Gliam代码，并在浏览器中创造有趣的小处理样式Skinnesthat。</p><p>  与Erlang Compiler硬化一样，这款新的JavaScript后端输出人类和漂亮的印刷源代码。它现在包含在编译器中不需要安装任何额外的组件来使用它。</p><p> 而不是尝试在针对JavaScript时复制Erlang演员模型Gleam Usesthe标准的并发模型的子集。虽然某些人可能会令人失望，但这意味着没有添加额外的runtimecode。这使捆绑尺寸小，使其在闪光扫描中编写的代码被称为正常的语言，例如JavaScript和CypeScript。</p><p>   JavaScript后端支持几乎所有的闪光语言，但是仍有仍然实现的AFEW功能，最值得注意的是，剩余功能的位字符串语法将在以下版本中添加。</p><p>  在编译到Erlang时，我们通常使用Erlang的rebar3构建工具或elixir'smix构建工具。使用JavaScript我们尚未构建工具集成，并且instead必须使用较低级别的闪光编译包--target = javascriptcommand行API。该API可以由NPM预处理脚本，Amakefile或更复杂的集成调用，与Parcel Orwebpack等工具。</p><p> 目前正在进行一台GLEEM构建工具，其中一个将适合与Erlang和JavaScript留下，并处理来自十六进制包管理器的分辨率和编译。</p><p>  在JavaScript代码中，必须使用promise.prototype.then或await关键字手动插入javascript代码点，或者使用Whea语言异议，并通过编译器自动处理。 </p><p>普遍的承诺类型和javascript中同步和异步功能之间的分裂可能比慵懒和使用更难以学习和使用，作为Erlang，没有这样的区别。虽然目前没有Firmplans，但我想探索使用Gleam编译器的静态分析来自动将等待语句插入生成的javascript代码。</p><p> 如果这证明是成功的，并且有用我们可以交换基于威胁的闪电代码：</p><p> PUB FN MAIN（） - ＆gt; promise（int）{async_function（）|＆gt; promise.then（fn（x）{let y = sync_function（）async_function（）|＆gt; promise.then（fn（z）{proside.resolve（x + y + z）}）}）}）}）</p><p>  PUB FN MAIN（） - ＆gt; int {设定x = async_function（）让y = sync_function（）let z = async_function（）x + y + z}</p><p>  这也将解决JavaScript的承诺类型自动变形承诺（promise（value））中的问题（价值），这使得在不向Gleam的类型系统中添加特例而不添加特殊情况，这使得它可以不受欢迎。</p><p>  有关如何安装最新版本的Gleam的说明，请访问本网站的入门页面。</p><p> 安装后，此格式JavaScript模板可以在JavaScript上撰写并运行Gloweam代码。 </p><p>闪闪发光的赞助是我的主要收入来源。 如果您想支持闪光，请考虑赞助GLEAM或要求您的计算机播放闪光。 每一个捐款都有所作为，无论如何，谢谢你的帮助。  Gleam编译器的JavaScript后端最初由Peter Saxton创建，非常感谢他。 Ialso想感谢Andy Thompson，她对javascript编译的其他功能语言的了解一直非常宝贵的手段。  通过赞助和为项目的所有人的支持来实现闪光。谢谢所有人！ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://gleam.run/news/v0.16-gleam-compiles-to-javascript/">https://gleam.run/news/v0.16-gleam-compiles-to-javascript/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/java/">#java</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/编译/">#编译</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/compiles/">#compiles</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>