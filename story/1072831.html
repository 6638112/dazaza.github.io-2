<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>StackOverflow关闭了</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">StackOverflow关闭了</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2022-02-13 10:46:30</div><div class="page_narrow text-break page_content"><p>&lt；模板&gt；{{messageId}//其他html代码&lt/模板&gt&书信电报；脚本&gt；导出默认值{props:[&#39；messageId&#39；]，data:function（）{var theData={//下面一行给出引用错误messageId未定义somevar:messageId，//其他对象属性}}}&lt/脚本&gt；</p><p>在上面的代码中，我对给出错误的那行进行了注释。如果删除该行，它将正常工作，模板呈现正确（我也可以看到{messageId}}的预期值）。因此，传递数据的逻辑是正确的。</p><p>似乎在data（）中访问messageId的方法是错误的。那么如何访问数据中的props messageId呢？</p><p>2.</p><p>data:function（）{var theData={somevar:this.messageId，//其他对象属性}返回theData；}</p><p>1.</p><p>编辑：根据Ryans的帖子，可以使用如下箭头函数引用实例：</p><p>请注意，如果使用箭头函数分配数据，则此操作无效：</p><p>有一次我被这个烫伤了。它&#39；这是一个微妙的区别，但是将函数从arrow切换到data（）{return{}就可以了。谢谢木法沙。</p><p>实际上可以使用arrow函数——第一个参数将是对实例的引用。数据：vm=&gt；（{somevar:vm.messageId}）</p><p>@jvndev是的，底部的两个是相同的，顶部的一个是一个arrow函数，它以不同的方式处理上下文</p><p>要将数据属性指定为道具，可以使用watcher，如下所示：</p><p>&lt；脚本&gt；导出默认值{props:[&#39；messageId&#39；]，数据：function（）{var theData={somevar:&#34；&#34；&#34；//other object attributes}，注意：{messageId:function（newVal）{this.somevar=newVal}</p><p>8@RoyJ是的，这也是可以做到的，但是如果你想更新数据变量，你必须使用computed with getter。</p><p>我的意思是，如果somevar从来都不是由观察者指定的，那么您应该用计算值替换数据项。</p><p>它使代码更清晰。计算机实际上是一个观察者加上一个数据项。</p><p>如果要渲染子组件，并希望通过道具设置数据变量，则必须同时使用此函数和监视函数：</p><p>&lt；脚本&gt；导出默认值{data（）{id:0}，props:[&#39；propId&#39；]，方法：{init（）{this.id=this.propId//step1.assign propId to id}}&lt/脚本&gt；</p><p>&lt；脚本&gt；导出默认值{data（）{id:0}，props:[&#39；propId&#39；]，方法：{init（）{this.id=this.propId//step1.assign propId to id}，//将其添加到代码中，这是必须的。//否则你赢了&#39；看不到属性watch{propId:function（new_value）{this.init（）}}}指定的数据变量&lt/脚本&gt；</p><p>假设您有两个组件：父级和子级（子级的属性命名为propId），子级也有一个&#34；异步&#34；操作，例如读取数据库。</p><p>&lt；模板&gt；{{messaged}//其他HTML代码&lt/模板&gt&书信电报；脚本&gt；导出默认值{props:[&#39；messaged&#39；]，数据：function（）{return（）{some_-var:this.messaged}}，methods:{post_-order:function（）{console.log（{some_-var:this.some_-var.id}）}&lt/脚本&gt；</p><p>3元#39元；后面没有括号。正如您返回的（）{some_var:this.messaged}</p><p>我认为你已经完成了你的解决方案，因为这个问题在几个月前发布了。我昨天也遇到了同样的问题，所以没有运气就尝试了以上的解决方案。然而，我想分享一个替代的解决方案，这对某人有很大帮助。watch有一些属性来处理这些类型的案例。下面的纸条显示了我们如何接受道具价值是数据。</p><p>&lt；脚本&gt；导出默认值{props:{messageId:{type:String，required:true}}data:function（）{var theData={somevar:&#34；&#34；，//其他对象属性}返回theData；}，监视：{messageId:{//组件加载立即运行：true，handler（）{//将&#39；somevar&#39；值设置为props this.somevar=this.messageId；}}}}&lt/脚本&gt；</p><p>点击“发布您的答案”，即表示您同意我们的服务条款、隐私政策和cookie政策</p><p>不是你的答案&#39；你在找什么？浏览其他问题或问自己的问题。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/messageid/">#messageid</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>