<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>最佳展示–滥用libc </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">最佳展示–滥用libc </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-09 14:10:51</div><div class="page_narrow text-break page_content"><p>该程序由包裹在while循环中的单个print语句组成。您不会以为这会很大，但您会非常非常错。程序源的ASCII编码对正在发生的事情以及它如何工作的线索进行了编码。</p><p>           如果一个玩家试图覆盖另一个玩家的举动，游戏将停止，但它会很高兴地允许一个玩家在自己之上移动。但是，鉴于这是有效的无人操作，并且可以保证输给有能力的对手，如果这样做，您可能应该输掉。</p><p> 您的终端机可能每转都会对您发出蜂鸣声。我们称此功能为…该程序…很难处理您的举动！那是！请耐心等待。</p><p> 宏扩展后，格式字符串大约为100K。这使一些编译器不满意，而另一些则变慢。 （例如，向GCC传递-Wall-Wextra -pedantic标志将导致有关字符串过大的警告。）</p><p>      在这里，fmt是单个字符串，而arg是printf的一系列参数。</p><p> 尽管它的主要目的是充当The One True Debugger，但printf也恰好是Turing的完整版。 （请参阅“控制流弯曲：关于控制流完整性的有效性”，我们在一份实际的已发表的学术论文中对此进行了介绍。有时可以避免的事情。）</p><p> 我们滥用这一事实，以完全在此一个printf调用（以及对scanf（）的调用以读取用户输入）内完全实现井字逻辑。 </p><p>该程序使用三个printf格式说明符。-％d使用整数参数并打印它-％s使用字符串参数并打印它-％n使用指针并写入（!!）到目前为止已打印的字节数。</p><p>  格式说明符可能需要额外的“参数”。-＆＃34;％hhn＆＃34 ;：将写入mod 256的字节数存储到char指针-＆＃34;％2 $ d＆＃34 ;：将参数2打印到printf （而不是顺序的下一个参数）-＆＃34;％8d＆＃34 ;：将打印的整数填充为8个字符-＆＃34;％3 $。* 4 $ d＆＃34 ;：将参数3打印到printf，使用as如参数4所示的许多零。</p><p>     因为它将打印出0000000005（将5填充为大小10），然后将写入x的字节数写入。</p><p>   我们使用printf将内存视为二进制数组执行任意计算-每对字节一个位：-零位由序列00 00表示-一位由序列xx 00表示，其中xx是任何非零字节。</p><p> 我们可以使用格式字符串来计算任意“位”的OR / NOT。</p><p>     但假设strlen（x）对于1位是1，对于0位是0，我们有</p><p>          游戏本身被表示为一个18位的棋盘，每个玩家9位，以及在玩家1和玩家2之间交替的转盘计数器。 </p><p>为了检测谁赢了，我们执行以下逻辑。假设A，B和C指向连续三个正方形进行测试，而D是是否存在双赢的保存位置。</p><p> ＆＃34;％A $ s％B $ s％C $ s％1 $ 253d％11 $ hhn＆＃34; // r11 =！（* A＆amp; * B＆amp; * C）为零＆＃34;％11 $ s％1 $ 255d％11hhn＆＃34; // r11 =！r11ZERO＆＃34;％11 $ s％D $ s％D $ hhn＆＃34; // * D = * D | r11</p><p> 也就是说，如果存在三行，我们将* D设置为1。对于两个玩家，我们都会针对所有可能的三合一配置重复此操作。</p><p> ZERO宏使用以下表达式确保写出的字节数为0 mod 256</p><p>  其中参数1是指向临时变量的指针，后跟一个空字节。</p><p> 之所以起作用，是因为如果当前计数是0 mod 256，则“％1 $ hhn”将零写入参数1，然后“％1 $ s”将永远不会发出任何文本。另一方面，如果计数不是0 mod 256，则将将长度为1的字符串写入参数1，然后“％1 $ s”将使计数增加1。通过重复此256次，我们最终将达到0 mod 256。</p><p>  为了决定要打印的内容，我们必须将“内存中”的位数组强制转换为Xs和Os进行打印。这实际上很简单。给定1 $指向玩家1的平方的指针，2 $指向玩家2的平方的指针，以及3 $指向棋盘字符串的指针，我们可以计算 </p><p>如果都不为真，则输出为；如果r1为true，则输出为“ X”；如果r2为true，则输出为“ O”。</p><p>  为了能够最终显示面板，同时仍然仅使用oneprintf语句，我们使用</p><p>  这是清除屏幕的转义序列，然后输出参数26。参数26是指向内存中char *的指针，该指针最初未定义，但是在printf语句中，我们将构造此字符串，使其看起来像atic-tac-脚趾板。</p><p>   根据P1或P2的移动角度，游戏结束并有人赢了，或者游戏结束了，这是平局。</p><p> 事实证明，这并不像看起来那样难。使用与前面相同的技巧，我们将字节4设置为</p><p>  字节＆＃39; I＆＃39;和＆＃39;可以始终相同，并且我们对＆＃39; /＆＃39; N＆＃39;做相同的操作。</p><p> 我们以动态方式创建scanf（）格式字符串，但是出于不同的原因。我们首先要运行printf（）来显示第一块木板，然后在运行之间交替进行，以scanf（）和printf（）读取并显示移动。重要的是，我们不希望在游戏结束时进行最后的扫描。它应该退出。 </p><p>但这将使我们需要的对printf的调用次数增加一倍。 所以我们像这样实现它  （实际上，我们实际上将scanf（）作为参数来避免多余声明，但是它具有相同的效果。）  请注意，现在没有初始printf（）。 为了确保程序不会在第一个printf（）之前阻塞，但是我们将scanf（）格式初始化为nullstring，以便它立即返回而不会阻塞。 第一次运行printf（）调用时，它将写出“％hhd”以创建scanf（）格式字符串。  ©版权所有1984-2020，Leo Broukhis，Simon Cooper，Landon Curt Noll-保留所有权利本作品是根据Creative Commons Attribution-ShareAlike 3.0 Unported License授权的。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.ioccc.org/2020/carlini/index.html">https://www.ioccc.org/2020/carlini/index.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/滥用/">#滥用</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/abuse/">#abuse</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/printf/">#printf</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1033499.html"><img src="http://img2.diglog.com/img/2020/11/thumb_809e05ec521eea39107e6028d777f4ac.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1033499.html">RIAA滥用DMCA关闭流行的在线视频下载工具</a></div><span class="my_story_list_date">2020-11-6 9:27</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030111.html"><img src="http://img2.diglog.com/img/2020/10/thumb_3878eae83a677de05b12902d8d537938.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030111.html">打击滥用，没有后门</a></div><span class="my_story_list_date">2020-10-21 0:52</span></div><div class="col-sm"><div><a target="_blank" href="/story/1020786.html"><img src="http://img.diglog.com/img/2020/8/thumb_9c935616310638824f807a6c3515bf41.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1020786.html">
不一致表示，自去年以来，用户滥用报告翻了一番</a></div><span class="my_story_list_date">2020-8-28 3:23</span></div><div class="col-sm"><div><a target="_blank" href="/story/1007732.html"><img src="http://img.diglog.com/img/2020/6/thumb_1e35d2eebab052da2e12dca8845fdf14.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1007732.html">骗子滥用谷歌分析隐瞒支付卡数据被盗</a></div><span class="my_story_list_date">2020-6-23 7:13</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>