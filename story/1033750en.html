<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>VT52-FPGA</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">VT52-FPGA</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-08 09:31:49</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/f6017a039652050c2a95bb43879d58d1.jpeg"><img src="http://img2.diglog.com/img/2020/11/f6017a039652050c2a95bb43879d58d1.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>vt52-fpga is a  serialterminal implementedon a FPGA.It&#39;s more or less compatible with the  DECVT52 (see below for missingfunctionality). It uses a regular PS/2 keyboard and VGA monitorconnected to a  TinyFPGA BX Board. The serialconnection is over the integrated usb port on the board.</p><p>VT52-FPGA是在FPGA上实现的串行终端，它或多或少与DECVT52兼容(有关缺少的功能，请参阅下文)。它使用普通PS/2键盘和连接到TinyFPGA BX板的VGA显示器。串行连接通过主板上的集成USB端口进行。</p><p> It is capable enough to be used as a serial terminal for a unix-likesystem, running not only a regular shell but also full screen programslike emacs or vim (screenshots in the img folder).</p><p>它足以用作类Unix系统的串行终端，不仅可以运行常规的Shell，还可以运行emacs或vim(img文件夹中的屏幕截图)之类的全屏程序。</p><p>    I wanted to do a longer Verilog project to practice with the languageand test out some ideas but I also wanted to create something useful.Once I arrived at the idea of a video terminal I settled on the VT52as a simple enough candidate, with good documentation, a simplecommand set &amp; decent support on current systems.I wrote it in pure Verilog without a processor so I could practicewriting different kind of modules, memories &amp; FSMs instead offorth/assembly/c.</p><p>我想做一个更长的Verilog项目来练习这种语言，测试一些想法，但我也想创造一些有用的东西。一旦我有了一个足够简单的候选视频终端的想法，我就选择了VT52，拥有良好的文档，一个简单的命令集和对当前系统的良好支持。我用没有处理器的纯Verilog编写它，这样我就可以练习编写不同类型的模块、内存和FSM，而不是前/汇编/c。</p><p>  100% Verilog with no processor to speak of. Currently using about2000 LUTS (about half of that for USB) and 18 RAM blocks (9KB). Thereare several submodules that interact to provide the functionality:</p><p>100%Verilog，没有处理器可言。目前使用了大约2000个LUT(大约一半用于USB)和18个RAM块(9KB)。有几个相互作用的子模块来提供功能：</p><p> video_generator.v: vga video generation (green on black,640x384, @70Hz) including syncs, cursor generation, combination of thechar buffer &amp; char rom info. This is the only module that runs @24Mhz(half usb clock speed)</p><p>Video_Generator.v：VGA视频生成(黑底绿色，640x384，@70 Hz)，包括同步、光标生成、缓存和字符ROM信息的组合。这是唯一在24 Mhz(半USB时钟速度)下运行的模块。</p><p>  keyboard.v: ps/2 communication &amp; keymap handling (including capslock, shift, control and alt which is mapped to Esc+key)</p><p>Keyboard.v：PS/2通信和amp；键映射处理(包括encaplock、Shift、Ctrl和Alt，映射到Esc+键)。</p><p>  I&#39;ll try to add some schematics later, but basically I&#39;m drivingeverything with 3.3V directly from the FPGA. All keyboards andmonitors I tested don&#39;t seem to mind. So the PS/2 connector has 3.3V,GND and two pull-up resistors from 3.3V to the CLK and DATA pins. TheVGA has two pins for hsync &amp; vsync, one for ground &amp; one pin with aseries resistor for the green channel.</p><p>稍后我会尝试添加一些原理图，但基本上我是直接从FPGA用3.3V驱动一切。我测试的所有键盘和显示器似乎都不介意。因此PS/2连接器有3.3V、GND和两个从3.3V到CLK的上拉电阻和数据引脚。VGA有两个用于hsync和amp；vsync的引脚，一个用于接地和放大，一个引脚带有一系列用于绿色通道的电阻器。</p><p>  The following features of the DEC VT52 are not implemented (most ofthese probably never will)</p><p>DEC VT52的以下功能未实现(其中大多数功能可能永远不会实现)</p><p> Graphics mode (these are some 33 special symbols that the VT52 maysend instead of regular chars, useful for crude graphs and somefractions)</p><p>图形模式(这些是大约33个特殊符号，VT52可以发送这些符号来代替常规字符，对于粗略的图形和一些问题很有用)。</p><p>  Right now in addition to the VT52 stuff it supports the latin-1character set and maps the alt key to an esc- prefix (useful foremacs, mostly).</p><p>目前，除了VT52之外，它还支持拉丁文-1字符集，并将Alt键映射到Esc-前缀(主要是有用的前缀)。</p><p> I&#39;m considering implementing the Atari ST extensions (16 colorsforeground/background, inverse video, auto-wrap,saving/restoring/hiding cursor, extra clear text commands)</p><p>我正在考虑实现Atari ST扩展(16色前景/背景、反转视频、自动换行、保存/恢复/隐藏光标、额外的明文命令)。</p><p>  The USB-serial interface is implemented with the tinyfpga_bx_usbserialmodule, which is included in the repo as a git submodule.</p><p>USB串行接口是使用tinyfpga_bx_usbSeries模块实现的，该模块作为git子模块包含在repo中。</p><p> The  terminus font isincluded as a rom image (8x16 in regular and bold versions) in the memdirectory.</p><p>终端字体作为rom图像(常规和粗体版本为8x16)包含在memdirectory中。</p><p>  I want to thank to Luke Valenti for creating the Tinyfpga boards (andeven sending me a couple free of charge) and for the idea ofimplementing the usb-serial bridge on the fpga fabric. Also to LawrieGriffiths, David Williams and others for adapting that code forgeneral use. I also want to thank Dimitar Toshkov Zhekov for theamazing Terminus font, which looks a lot better than the old IBM fontsI was using on the first prototypes.</p><p>我要感谢卢克·瓦伦蒂创造了Tinyfpga电路板(甚至还免费寄了几块给我)，并提出了在FPGA结构上实现USB串行桥的想法。也感谢LawrieGriffiths、David Williams和其他人将该代码改编为通用代码。我还想感谢迪米塔尔·托什科夫·哲科夫做出的令人惊叹的Terminus字体，它看起来比我在第一个原型上使用的旧IBM字体要好得多。</p><p>  vt52-fpga is free software licensed under the GPLv3 or later. SeeLICENSE for details. The included  terminusfont, is an open font underthe SIL Open Font License, Version 1.1. See mem/ofl.txt fordetails. USB-serial interface is implemented with the tinyfpga_bx_usbserialmodule (included in the repo as a git submodule).tinyfpga_bx_usbserial is licensed under the Apache License 2.0, seetinyfpga_bx_usbserial/LICENSE for details.</p><p>VT52-FPGA是在GPLv3或更高版本下许可的自由软件。有关详细信息，请参阅LICENSE。包含的TerminusFont是Sil Open Font许可证1.1版下的一种开放字体。详情见mem/ofl.txt。USB串行接口是通过tinyfpga_bx_usbSeries模块(作为GIT子模块包含在repo中)实现的。tinyfpga_bx_usbSeries是根据Apache License 2.0授权的，有关详细信息，请参阅tinyfpga_bx_usbSeries/License。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/AndresNavarro82/vt52-fpga">https://github.com/AndresNavarro82/vt52-fpga</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/vt52/">#vt52</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/模块/">#模块</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>