<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>黑客可以通过向电子邮件服务器发送数据来混淆HTTPS连接 Hackers can mess with HTTPS connections by sending data to your email server</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Hackers can mess with HTTPS connections by sending data to your email server<br/>黑客可以通过向电子邮件服务器发送数据来混淆HTTPS连接 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-09 20:10:54</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/6/80e61513906d08a8420f86c56927fd4f.jpeg"><img src="http://img2.diglog.com/img/2021/6/80e61513906d08a8420f86c56927fd4f.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>When you visit an HTTPS-protected website, your browser doesn&#39;t exchange data with the webserver until it has ensured that the site&#39;s digital certificate is valid. That prevents hackers with the ability to monitor or modify data passing between you and the site from obtaining authentication cookies or executing malicious code on the visiting device.</p><p>当您访问HTTPS保护的网站时，您的浏览器就会使用Web服务器与Web服务器交换数据，直到它确保网站和＃39; S数字证书有效。这可以防止黑客能够监视或修改您和站点之间的数据从获取身份验证cookie或在访问设备上执行恶意代码。</p><p> But what would happen if a man-in-the-middle attacker could confuse the browser into accidentally connecting to an email server or FTP server that uses a certificate that&#39;s compatible with the one used by the website?</p><p> 但是，如果一个中间人攻击者可以将浏览器混淆到意外连接到使用证书的电子邮件服务器或FTP服务器，则会发生什么，该服务器或＃39; s兼容网站所使用的电子邮件服务器或FTP服务器？</p><p>  Because the domain name of the website matches the domain name in the email or FTP server certificate, the browser will, in many cases, establish a  Transport Layer Security connection with one of these servers rather than the website the user intended to visit.</p><p>  由于网站的域名与电子邮件或FTP服务器证书中的域名匹配，因此浏览器将在许多情况下与其中一个服务器建立传输层安全连接，而不是用户旨在访问的网站。</p><p> Because the browser is communicating in HTTPS and the email or FTP server is using SMTP, SFTP, or another protocol, the possibility exists that things might go horribly wrong—a decrypted authentication cookie could be sent to the attacker, for instance, or an attacker could execute malicious code on the visiting machine.</p><p> 由于浏览器在HTTPS和电子邮件或FTP服务器中使用SMTP，SFTP或其他协议进行通信，因此存在可能存在的可能性，这些可能会令人满意的错误 - 可以将解密的身份验证cookie发送给攻击者，例如攻击者或攻击者可以在访问机上执行恶意代码。</p><p> The scenario isn&#39;t as farfetched as some people might think. New research, in fact, found that roughly 14.4 million webservers use a domain name that&#39;s compatible with the cryptographic credential of either an email or FTP server belonging to the same organization. Of those sites, about 114,000 are considered exploitable because the email or FTP server uses software that&#39;s known to be vulnerable to such attacks.</p><p> 根据有些人可能会思考的情况，场景是＆＃39; t.事实上，新的研究发现，大约1440万WebServers使用域名，兼容属于同一组织的电子邮件或FTP服务器的加密凭据。在这些网站中，大约114,000人被认为是可利用的，因为电子邮件或FTP服务器使用已知易受这种攻击的软件。</p><p> Such attacks are possible because of the failure of TLS to protect the integrity of the TCP connection itself rather than the integrity of just the server speaking HTTP, SMTP, or another Internet language. Man-in-the-middle attackers can exploit this weakness to redirect TLS traffic from the intended server and protocol to another, substitute endpoint and protocol.</p><p> 由于TLS的失败来保护TCP连接的完整性而不是仅说话HTTP，SMTP或其他互联网语言的服务器的完整性，因此可以进行这种攻击。中间人攻击者可以利用这种弱点来将TLS流量从预期的服务器和协议重定向到另一个，替代端点和协议。</p><p> &#34;The basic principle is that an attacker can redirect traffic intended for one service to another, because TLS does not protect the IP address or port number,&#34; Marcus Brinkmann, a researcher at Ruhr University Bochum in Germany, told me. &#34;In the past, people have considered attacks where the MitM attacker redirects a browser to a different web server, but we are considering the case where the attacker redirects the browser from the webserver to a different application server such as FTP or email.&#34;</p><p> ＆＃34;基本原则是攻击者可以将用于一个服务的流量重定向到另一个服务，因为TLS不保护IP地址或端口号，＆＃34; Ruhr University Bochum的研究员Marcus Brinkmann告诉我。 ＆＃34;过去，人们已经考虑了MITM攻击者将浏览器重定向到其他Web服务器的攻击，但我们正在考虑攻击者将浏览器从Web服务器重定向到其他应用服务器（如FTP或电子邮件）的情况。＆＃34; </p><p>      Typically abbreviated as TLS, Transport Layer Security uses strong encryption to prove that an end user is connected to an authentic server belonging to a specific service (such as Google or Bank of America) and not an impostor masquerading as that service. TLS also encrypts data as it travels between an end user and a server to ensure that people who can monitor the connection can&#39;t read or tamper with the contents. With millions of servers relying on it, TLS is a cornerstone of online security.</p><p>通常缩写为TLS，传输层安全使用强加密来证明最终用户已连接到属于特定服务的真实服务器（例如Google或美国银行），而不是伪装成那种服务的冒名顶替者。 TLS还在终端用户和服务器之间传播时加密数据，以确保可以监视连接的人可以＆＃39; T读取或篡改内容。凭借数百万服务器依赖于它，TLS是在线安全的基石。</p><p> In a  research paper published on Wednesday, Brinkmann and seven other researchers investigated the feasibility of using what they call cross-protocol attacks to bypass TLS protections. The technique involves an MitM attacker redirecting cross-origin HTTP requests to servers that communicate over SMTP, IMAP, POP3, or FTP, or another communication protocol.</p><p> 在星期三发布的研究文件中，Brinkmann和七个研究人员调查了使用他们称呼跨协议攻击的可行性来绕过TLS保护。该技术涉及MITM攻击者将交叉源HTTP请求重定向到通过SMTP，IMAP，POP3或FTP或其他通信协议进行通信的服务器。</p><p> The main components of the attack are (1) the client application used by the targeted end user, denoted as C; (2) the server the target intended to visit, denoted as S int; and (3) the substitute server, a machine that connects using SMTP, FTP, or another protocol that&#39;s different from the one server int uses but with the same domain listed in its TLS certificate.</p><p> 攻击的主要组成部分是（1）目标最终用户使用的客户端应用程序，表示为C; （2）服务器旨在访问的目标，表示为S INT; （3）替代服务器，使用SMTP，FTP或其他协议连接的机器与＆＃39; s不同于ONE服务器INT的不同，但使用其TLS证书中列出的相同域。</p><p> The researchers identified three attack methods that MitM adversaries could use to compromise the safe browsing of a target in this scenario. They are:</p><p> 研究人员确定了三种攻击方法，即MITM对手可以用来损害在这种情况下安全浏览目标。他们是：</p><p> Upload Attack. For this attack, we assume the attacker has some ability to upload data to S sub and retrieve it later. In an upload attack, the attacker tries to store parts of the HTTP request of the browser (specifically the Cookie header) on S sub. This might, for example, occur if the server interprets the request as a file upload or if the server is logging incoming requests verbosely. On a successful attack, the attacker can then retrieve the content on the server independently of the connection from C to S sub and retrieve the HTTPS session cookie.</p><p> 上传攻击。对于此攻击，我们假设攻击者有一定能力将数据上传到S子子并稍后检索。在上传攻击中，攻击者试图存储S子子上浏览器（特别是cookie标题）的HTTP请求的部分。例如，如果服务器将请求解释为文件上载，则这可能会发生这种情况，或者如果服务器正在重新记录传入请求。在成功的攻击中，攻击者可以独立于C到S子的连接检索服务器上的内容，并检索HTTPS会话cookie。</p><p> Download Attack—Stored XSS. For this attack, we assume the attacker has some ability to prepare stored data on S sub and download it. In a download attack, the attacker exploits benign protocol features to &#34;download&#34; previously stored (and specifically crafted) data from S sub to C. This is similar to a stored XSS vulnerability. However, because a protocol different from HTTP is used, even sophisticated defense mechanisms against XSS, like the Content-Security-Policy (CSP), can be circumvented. Very likely, S sub will not send any CSP by itself, and large parts of the response are under the control of the attacker.</p><p> 下载攻击存储的XSS。对于此攻击，我们假设攻击者有一些能够在S子子上准备存储的数据并下载它。在下载攻击中，攻击者利用良性协议功能到＆＃34;下载＆＃34;以前存储（并专门制作）从S子到C中的数据。这类似于存储的XS漏洞。但是，由于使用与HTTP不同的协议，所以可以绕过内容 - 安全策略（CSP），如XSS的复杂防御机制。很可能，S Sub将自身发送任何CSP，并且响应的大部分位于攻击者的控制下。</p><p> Reflection Attack—Reflected XSS. In a reflection attack, the attacker tries to trick the server S sub into reflecting parts of C&#39;s request in its response to C. If successful, the attacker sends malicious JavaScript within the request that gets reflected by S sub. The client will then parse the answer from the server, which in turn can lead to the execution of JavaScript in the context of the targeted web server.</p><p> 反射攻击反射XSS。在反射攻击中，攻击者试图将服务器S子分为反映C＆＃39; S的反映的部分，以其对C的响应。如果成功，则攻击者在由S Sub反映的请求中发送恶意JavaScript。然后，客户端将从服务器解析答案，这又可以导致在目标Web服务器的上下文中执行JavaScript。 </p><p> The MitM adversary can&#39;t decrypt the TLS traffic, but there are still other things the adversary can do. Forcing the target&#39;s browser to connect to an email or FTP server instead of the intended webserver, for instance, might cause the browser to write an authentication cookie to the FTP server. Or it could enable cross-site scripting attacks that cause the browser to download and execute malicious JavaScript hosted on the FTP or email server.</p><p>MITM对手可以＆＃39; T解密TLS交通，但仍有其他事情可以做到的事情。例如，迫使目标＆＃39;浏览器连接到电子邮件或FTP服务器而不是预期的Web服务器，可能导致浏览器将身份验证cookie写入FTP服务器。或者它可以启用跨站点脚本攻击，使浏览器下载和执行托管在FTP或电子邮件服务器上的恶意JavaScript。</p><p>     To prevent cross-protocol attacks, the researchers proposed stricter enforcement of two existing protections. The first is known as  application layer protocol negotiation, a TLS extension that allows an application layer such as a browser to negotiate what protocol should be used in a secure connection. ALPN, as it&#39;s usually abbreviated, is used to establish connections using the better-performing HTTP/2 protocol without additional round trips.</p><p>     为防止跨协议攻击，研究人员建议更严格执行两个现有保护。首先被称为应用层协议协商，一个TLS扩展允许诸如浏览器的应用层协商应该在安全连接中使用什么协议。 ALPN，通常缩写，用于建立使用更好的HTTP / 2协议的连接，而无需额外的圆形旅行。</p><p> By strictly enforcing ALPN as it&#39;s defined in the  formal standard, connections created by browsers or other app layers that send the extension are not vulnerable to cross-protocol attacks.</p><p> 通过严格执行ALPN作为IT＆＃39;在正式标准中定义的，由浏览器或发送扩展名的其他应用层创建的连接不容易受到跨协议攻击的影响。</p><p> Similarly, use of a separate TLS extension called  server name indication can protect against cross-hostname attacks if it&#39;s configured to terminate the connection when no matching host is found. &#34;This can protect against cross-protocol attacks where the intended and substitute server have different hostnames, but also against some same-protocol attacks such as HTTPS virtual host confusion or context confusion attacks,&#34; the researchers wrote.</p><p> 同样，使用名为Server Name指示的单独的TLS扩展名称可以防止跨主机名攻击＆＃39; s配置为在未找到匹配主机时终止连接时终止。 ＆＃34;这可以防止预期和替代服务器具有不同主机名的跨协议攻击，也可以针对一些同类协议攻击，例如HTTPS虚拟主机混淆或上下文混淆攻击，＆＃34;研究人员写道。</p><p> The researchers are calling their cross-protocol attacks ALPACA, short for &#34;application layer protocols allowing cross-protocol attacks.&#34; At the moment, ALPACA doesn&#39;t pose a major threat to most people. But the risk posed could increase as new attacks and vulnerabilities are discovered or TLS is used to protect additional communications channels.</p><p> 研究人员正在呼叫他们的交叉协议攻击alpaca，短暂的＆＃34;应用层协议允许交叉协议攻击。＆＃34;目前，羊驼不对大多数人构成重大威胁。但是，由于发现新的攻击和漏洞或用于保护额外的通信渠道，因此可能会增加风险。</p><p> &#34;Overall, the attack is very situational and targets individual users,&#34; Brinkmann said. &#34;So, the individual risk for users is probably not very high. But over time, more and more services and protocols are protected with TLS, and more opportunities for new attacks that follow the same pattern arise. We think it&#39;s timely and important to mitigate these issues at the standardization level before it becomes a larger problem.&#34;</p><p> ＆＃34;总体而言，攻击是非常努力和目标个人用户，＆＃34; Brinkmann说。 ＆＃34;所以，用户的个人风险可能不是很高。但随着时间的推移，越来越多的服务和协议受到TLS的保护，并且出现了遵循相同模式的新攻击的更多机会。我们认为它＆＃39;及时，重要的是在标准化水平之前缓解这些问题，然后是它成为一个更大的问题。＆＃34; </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://arstechnica.com/gadgets/2021/06/hackers-can-mess-with-https-connections-by-sending-data-to-your-email-server/">https://arstechnica.com/gadgets/2021/06/hackers-can-mess-with-https-connections-by-sending-data-to-your-email-server/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/黑客/">#黑客</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/电子邮件/">#电子邮件</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/mess/">#mess</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/服务器/">#服务器</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>