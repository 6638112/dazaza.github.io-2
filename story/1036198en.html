<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>raspberry pi webcamRaspberry Pi Webcam</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Raspberry Pi Webcam<br/>raspberry pi webcam</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-24 06:20:58</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/9852827d36e63f35b2f1bb9bd0e25164.jpeg"><img src="http://img2.diglog.com/img/2020/11/9852827d36e63f35b2f1bb9bd0e25164.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Inspired by David Hunt&#39;s blog post showing how to use a  Raspberry Pi Zero with a Pi Camera as a USB Webcam, as well as  justinschuldt&#39;s gist, I wanted to make my Raspberry Pi do the same thing, but automated and with all the scripts wrapped in version control, since the blog post was a little bit vague in some areas.</p><p>受大卫·亨特（David Hunt）的博客文章的启发，该文章展示了如何将带有树莓派相机的Raspberry Pi Zero用作USB网络摄像头，以及justinschuldt的要旨，我希望让Raspberry Pi做同样的事情，但要自动化，并且将所有脚本打包在一起版本控制，因为博客文章在某些方面有些含糊。</p><p> This Ansible playbook can be run on  any Raspberry Pi to set it up as a USB OTG webcam.</p><p> 该Ansible剧本可在任何Raspberry Pi上运行，并将其设置为USB OTG网络摄像头。</p><p>   It works on Mac, Windows, and all the flavors of Linux I&#39;ve tested so far. It even works on another Raspberry Pi (I&#39;ve tested it on a Pi 4 and Pi 400).</p><p>   它可以在Mac，Windows以及到目前为止我测试过的所有Linux版本上运行。它甚至可以在另一个Raspberry Pi上运行（我已经在Pi 4和Pi 400上对其进行了测试）。</p><p>  I published a video in November 2020 detailing how to set up your Pi Webcam using this project. Click the thumbnail below to view it:</p><p>  我在2020年11月发布了一个视频，详细介绍了如何使用此项目设置Pi网络摄像头。单击下面的缩略图以查看它：</p><p>   The playbook is meant to run on a brand new installation of Raspbian that has not had any configuration changes via  raspi-config or any other tools, though it  should work correctly with an existing installation.</p><p>   该剧本旨在在Raspbian的全新安装上运行，该安装没有通过raspi-config或任何其他工具进行任何配置更改，尽管它可以与现有安装正常运行。</p><p> Note:  This modifies your boot config, and as such you  should not run this playbook on a microSD or other boot volume you&#39;re not ready to reformat and re-flash!</p><p> 注意：这会修改您的启动配置，因此，您不应该在MicroSD或其他启动卷上运行此剧本，您还没有准备好重新格式化和刷新！</p><p>  It doesn&#39;t matter if you set up the software or hardware first, you just need to do both to have a functional webcam.</p><p>  无论您是先设置软件还是硬件都没有关系，只需要同时安装这两个功能就可以使用网络摄像头。</p><p> There are a number of different components you can purchase instead of these, but here&#39;s the list of what I&#39;m using in my &#39;official&#39; version that is well-tested and that I use frequently on my Mac and Windows laptops:</p><p>您可以购买许多不同的组件来代替这些组件，但这是我在“官方”版本中使用的组件的列表，这些组件经过了充分测试，并且在Mac和Windows笔记本电脑上经常使用：</p><p>   Check out my video on YouTube for a detailed assembly and setup guide:  Raspberry Pi Zero is a PRO HQ webcam for less than $100!.</p><p>   在YouTube上查看我的视频，以获取详细的组装和设置指南：Raspberry Pi Zero是一款PRO HQ网络摄像头，价格不到100美元！</p><p>  The HQ Camera includes a female tripod socket, so any tripod or mounting arm will do. I&#39;ve used a variety of mounts depending on the purpose, for example:</p><p>  HQ相机包括一个凹型三脚架插槽，因此任何三脚架或安装臂都可以使用。我根据目的使用了多种安装座，例如：</p><p> SmallRig Ballhead Clamp Mount: To mount the cam above my monitor on my monitor arm</p><p> SmallRig球头钳安装座：将凸轮安装在显示器上方的显示器臂上</p><p>  Joby GorillaPod 5K stand and ballhead: Rock solid and a little taller, but it&#39;s definitely overkill</p><p>  Joby GorillaPod 5K支架和球头：坚如磐石，高一点，但这绝对过高</p><p> 25 inch flexible gooseneck webcam desk mount: Can mount the camera any which way using this, especially great for top-down shots</p><p> 25英寸灵活的鹅颈式网络摄像头台式安装架：可以通过这种方式以任何方式安装摄像头，特别适合自顶向下拍摄</p><p>  There are two ways you can run this automated setup. You can either run everything on the Raspberry Pi itself (e.g. if you plug in a keyboard, mouse, and monitor), or you can run it from another computer.</p><p>  您可以通过两种方式运行此自动设置。您可以在Raspberry Pi本身上运行所有内容（例如，如果您插入键盘，鼠标和显示器），也可以从另一台计算机上运行它。</p><p>  Pro Tip: If you want to use a Pi Zero for the webcam, and don&#39;t want to wait half an hour for it to run all this automation, you can put the flashed microSD card into a newer Pi (like the Pi 4) and do all this work there, then when it&#39;s done pull the card and pop it into a Pi Zero.</p><p>专家提示：如果您想为网络摄像头使用Pi Zero，并且不想等待半小时才能运行所有这些自动化操作，则可以将闪存的microSD卡放入更新的Pi（例如Pi 4）中并在那里完成所有工作，然后将其拉出并将其弹出到Pi Zero中。</p><p> Once Raspbian is loaded on the card, insert the card in your Pi, and plug in your Pi to boot it up.</p><p> 将Raspbian加载到卡上后，将卡插入您的Pi中，然后插入您的Pi即可启动它。</p><p> Follow the setup wizard, and if you want to easily be able to log into the Pi later, connect to a WiFi network, and also run the  raspi-config tool and enable SSH.</p><p> 遵循设置向导，如果您希望以后能够轻松登录到Pi，请连接到WiFi网络，然后运行raspi-config工具并启用SSH。</p><p> The Raspberry Pi should ask to be restarted. Go ahead and restart now, and wait for it to boot back up.</p><p> Raspberry Pi应该要求重新启动。继续并立即重新启动，并等待其重新启动。</p><p>  Install Ansible:  sudo apt update &amp;&amp; sudo apt install -y python3-dev python3-pip libyaml-dev libffi-dev &amp;&amp; sudo pip3 install --no-binary pyyaml ansible ( Warning: this can take a while, especially on slower Pis!).</p><p>  安装Ansible：sudo apt更新&& sudo apt install -y python3-dev python3-pip libyaml-dev libffi-dev && sudo pip3 install --no-binary pyyaml ansible（警告：这可能需要一段时间，特别是在速度较慢的Pis上！） 。</p><p>  Flash the latest Raspberry Pi OS a microSD card. Make sure you added an  ssh file to the boot volume so SSH is enabled on first boot.</p><p>  将最新的Raspberry Pi OS的microSD卡刷新。确保已将ssh文件添加到启动卷中，以便在首次启动时启用SSH。</p><p> Once Raspbian is loaded on the card and you have the  ssh file in the boot volume, insert the card in your Pi, and plug in your Pi to boot it up.</p><p> 将Raspbian加载到卡上之后，并且启动卷中包含ssh文件，将卡插入Pi中，然后插入Pi中以进行启动。</p><p> Make sure you can log into the Pi via SSH. Ideally, add your SSH key to the Pi using  ssh-copy-id. If you don&#39;t, make sure to add the  -k parameter to the  ansible-playbook command later so you can enter the SSH password.</p><p>确保您可以通过SSH登录到Pi。理想情况下，使用ssh-copy-id将SSH密钥添加到Pi。如果不这样做，请确保稍后将-k参数添加到ansible-playbook命令，以便您可以输入SSH密码。</p><p>   Update the IP address in  inventory to match the IP address or hostname of your Raspberry Pi.</p><p>   更新清单中的IP地址以使其与Raspberry Pi的IP地址或主机名匹配。</p><p>   You can shutdown the Pi at this point (log in via SSH then  sudo shutdown now).</p><p>   您可以在此时关闭Pi（通过SSH登录，然后立即sudo关闭）。</p><p>  You could&#39;ve done this earlier, but if you haven&#39;t yet, plug the camera module into the Raspberry Pi using the appropriate camera connector.</p><p>  您可以早些完成此操作，但如果尚未完成，请使用适当的相机连接器将相机模块插入Raspberry Pi。</p><p>  At this point, it  should (assuming everything worked) be set up as a USB webcam.</p><p>  此时，应该（假设一切正常）将其设置为USB网络摄像头。</p><p> All you need to do is grab a USB cable and plug the Pi into any USB port on your computer. But which port do you plug into on the Pi? Well, I have a handy little table here:</p><p> 您所需要做的就是抓住USB电缆并将Pi插入计算机上的任何USB端口。但是您要在Pi上插入哪个端口？好吧，我这里有一张方便的小桌子：</p><p>  Once it&#39;s plugged in, you need to wait 30 seconds or so before the Pi will be booted and fully ready, then you can open any video recording/conferencing software, go to the camera selection, and BOOM! Select the &#39;PI4 USB Device&#39;.</p><p>  插入后，您需要等待30秒钟左右，然后才能启动Pi并准备就绪，然后可以打开任何视频录制/会议软件，进入摄像机选择，然后单击BOOM！选择“ PI4 USB设备”。</p><p>  If you want, and you still have WiFi enabled, or the Pi is otherwise connected to your network, you can log into it via SSH and run  sudo shutdown now to power it off cleanly.</p><p>如果需要，并且仍启用WiFi，或者Pi已连接到网络，则可以通过SSH登录到该网络，然后立即运行sudo shutdown干净地关闭电源。</p><p> But I like living on the edge... it&#39;s not like the thing is writing a ton of data to the microSD card. When I&#39;m finished using it as a webcam, I just unplug it. Simple as that.</p><p> 但是我喜欢生活在边缘……这不像是向microSD卡写入大量数据。将其用作网络摄像头后，只需拔下它的电源即可。就那么简单。</p><p> If, for some strange reason, it did end up getting corrupted, I could just re-run this automation to set it up again. No big deal! I haven&#39;t had that happen yet, though.</p><p> 如果由于某种奇怪的原因而最终损坏了，我可以重新运行该自动化程序以重新设置它。没什么大不了的！我还没有发生过。</p><p>  Well... most of the known issues have to do with the other projects  this project relies on:</p><p>  嗯...大多数已知问题与该项目所依赖的其他项目有关：</p><p> If you&#39;re not using a Mac, you may need to adjust the brightness setting in the  uvc-gadget.c file and re-compile it manually. I&#39;m looking into a better way to allow this to be configured.</p><p> 如果您未使用Mac，则可能需要调整uvc-gadget.c文件中的亮度设置，然后手动重新编译。我正在寻找一种更好的方法来对其进行配置。</p><p> The upstream repository providing the  uvc-gadget application currently defaults to 720p resolution, which is great for most use cases. You can stream at 1080p, though the Pi Zero and older Pis may drop frames at that resolution. Follow  this issue for progress making resolution more easily configurable.</p><p> 提供uvc-gadget应用程序的上游存储库当前默认为720p分辨率，这对于大多数用例而言非常有用。尽管Pi Zero和较旧的Pis可能会以该分辨率丢帧，但您可以以1080p进行流式传输。遵循此问题可以使解决方案更容易配置。</p><p> The Pi 4 model B currently locks up when you try to use USB OTG and enable the webcam for some reason. You can run the  2020-02-07 Raspbian release to work around this bug for now. Follow  this issue for progress resolving this bug.</p><p> 当您尝试使用USB OTG并出于某种原因启用网络摄像头时，Pi 4 B型目前会锁定。您可以运行2020-02-07 Raspbian版本来暂时解决此错误。请遵循此问题以解决此错误的进度。</p><p> This stuff is a little bit of a complicated ball of string, so future Raspberry Pi OS and kernel updates could cause issues. I would not run this on a Raspberry Pi that is controlling a breathing machine or something like that.</p><p>这些东西有点复杂，因此将来的Raspberry Pi OS和内核更新可能会引起问题。我不会在控制呼吸机或类似功能的Raspberry Pi上运行此程序。</p><p> Yadda, yadda, standard &#34;if something breaks don&#39;t blame me&#34; disclaimer. The worst thing I&#39;ve done to my Pi in testing this so far is accidentally breaking off the locking connector for the camera cable. Oops.</p><p> Yadda，Yadda的标准说法是“如果出现问题不要怪我”。到目前为止，在对Pi进行测试时，我对Pi所做的最糟糕的事情是意外断开了相机电缆的锁定连接器。哎呀。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/geerlingguy/pi-webcam">https://github.com/geerlingguy/pi-webcam</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/pi/">#pi</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>