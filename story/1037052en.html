<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>早期德州仪器（TI）计算器芯片中的反向工程RAM存储Reverse engineering RAM storage in early Texas Instruments calculator chips</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Reverse engineering RAM storage in early Texas Instruments calculator chips<br/>早期德州仪器（TI）计算器芯片中的反向工程RAM存储</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-29 05:02:02</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/eb71cd1c639f78ec811edb428a9a368d.jpeg"><img src="http://img2.diglog.com/img/2020/11/eb71cd1c639f78ec811edb428a9a368d.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Texas Instruments introduced the first commercial single-chip computer in 1974, combining the CPU, RAM, ROM, and I/O into one chip.This family of 4-bit processors was called the TMS1000.  1A 4-bit processor now seems very limited, but it was a good match for calculators, where each decimal digit fit into four bits.This microcontroller was also used in hand-held games  2 and simple control applications such as microwave ovens.  3Since its software was in ROM, the TMS1000 needed to be custom-manufactured for each application, butit was inexpensive and sold for $2-$4 in quantity.It became very popular and was  said to bethe best-selling &#34;computer on a chip&#34;.</p><p>德州仪器（TI）在1974年推出了第一台商用单芯片计算机，它将CPU，RAM，ROM和I / O集成到一个芯片中。该4位处理器家族称为TMS1000。 1A 4位处理器现在似乎非常有限，但对于计算器来说是个不错的选择，每个小数位都可以容纳4位，该微控制器还用于手持游戏2和简单控制应用（例如微波炉）中。 3由于TMS1000的软件位于ROM中，因此每种应用都需要定制制造，但价格便宜，售价为2至4美元。它变得非常流行，并被认为是最畅销的“片上计算机”。</p><p>  The die photo above shows the main functional blocks of the TMS1000.One thing that distinguishes the TMS1000 (and most microcontrollers) from regular processors is the &#34;Harvard architecture&#34;,where code and data are stored and accessed separately.In the TMS1000, code and data even have different sizes:instructions were 8 bits and stored in a 1-kilobyte ROM, while data was 4 bits and stored in a 64×4 (256-bit) RAM.  4Since the space for RAM was limited, Texas Instruments developed new circuits for RAM.In this blog post, I look at how the TMS1000 and later TI chips implemented their on-chip RAM.</p><p>  上面的照片显示了TMS1000的主要功能模块。区别于TMS1000（和大多数微控制器）与常规处理器的一件事是“哈佛体系结构”，其中代码和数据分别存储和访问。数据甚至具有不同的大小：指令为8位，并存储在1 KB的ROM中，而数据为4位，并存储在64×4（256位）的RAM中。 4由于RAM的空间有限，德州仪器（TI）开发了RAM的新电路。在这篇博文中，我介绍了TMS1000和后来的TI芯片如何实现其片上RAM。</p><p>  Dynamic RAM revolutionized memory storage in the  early 1970s; its low cost and high density rapidly made magnetic core memory obsolete.Dynamic RAM uses a tiny capacitor to store each bit, with a 0 or 1 represented by a low or high voltage stored in the capacitor.The problem with dynamic RAM is that the charge leaks away after a few milliseconds, so the values need to be constantlyrefreshed by reading the data, amplifying the voltages, and storing the values back in the capacitors.  5Texas Instruments developed a new dynamic RAM circuit for the TMS1000 to avoid the complexity of an external refresh circuit.Instead, each memory cell uses a clock signal to refresh itself internally.</p><p>  1970年代初期，动态RAM彻底改变了存储器的存储方式。动态RAM使用一个很小的电容器来存储每个位，其中0或1表示电容器中存储的低电压或高电压，而动态RAM的问题在于电荷几毫秒后就会泄漏出去，因此需要通过读取数据，放大电压并将这些值存储回电容器来不断刷新这些值。 5Texas Instruments为TMS1000开发了一种新的动态RAM电路，从而避免了外部刷新电路的复杂性，而是每个存储单元都使用时钟信号在内部对其自身进行刷新。</p><p> The diagram below zooms in on the TMS1000 die photo, showing the 16×16 grid of RAM storage cells.The inset at the right shows a single storage cell. This photo shows the chip&#39;s metal layer; the transistors are underneath.</p><p> 下图放大了TMS1000芯片照片，显示了16×16的RAM存储单元网格。右侧的插图显示了一个存储单元。这张照片显示了芯片的金属层。晶体管在下面。</p><p>  The TMS1000 is constructed from a type of transistor called PMOS, shown below.At the bottom, two regions of silicon (red) are doped to make them conductive, forming the source and drain of the transistor. A metal strip in between forms the gate, separated from the silicon by a thin layer of insulating oxide. (These layers—Metal, Oxide, Semiconductor—give the MOS transistor its name.) The transistor can be considered a switch between the source and drain, controlled by the gate. The metal layer also provides the main wiring of the integrated circuit, although the silicon layer is also used for some wiring.</p><p>  TMS1000由一种称为PMOS的晶体管构造而成，如下图所示。在底部，掺杂了两个硅区域（红色）以使其导电，从而形成了晶体管的源极和漏极。介于两者之间的金属带形成栅极，并通过一层薄薄的绝缘氧化物与硅隔开。 （这些层（金属，氧化物，半导体）赋予MOS晶体管名称。）可以将晶体管视为源极和漏极之间的开关，由栅极控制。金属层也提供集成电路的主要布线，尽管硅层也用于某些布线。</p><p>  The diagram below shows a closeup of one bit of storage in the TMS1000.The first die photo shows the yellowish metal layer. The metal layer both connects the circuitry and forms thegates of the transistors.The second photo shows the die after the metal has been dissolved with acid to reveal the silicon underneath.The conductive doped silicon appears pinkish, while the transistors are yellow squares. The black spot in the lower left isa via connecting the silicon to the metal above.Since the photo is hard to interpret, I created the diagram at the right, clarifying the components.The five white squares are the transistors, between pink silicon regions. There are also two capacitors (labeled) created by overlapping the metal and silicon.</p><p>  下图显示了TMS1000中一个存储位的特写镜头。第一张模具照片显示了淡黄色的金属层。金属层既连接电路又形成晶体管的栅极。第二张照片显示了金属被酸溶解后露出裸片下方的硅片。导电掺杂的硅粉红色，而晶体管为黄色正方形。左下方的黑点是通过将硅与上方的金属连接起来的黑点，由于难以解释照片，我在右侧创建了示意图，以澄清成分。五个白色正方形是位于粉红色硅区域之间的晶体管。通过重叠金属和硅产生两个电容器（标记为）。</p><p> One bit of RAM storage. The first photo shows the metal layer, the second shows the underlying silicon, and the third illustrates the silicon structures. Die photos from Sean Riddle  here.</p><p> 一位RAM存储。第一张照片显示金属层，第二张照片显示下面的硅，第三张照片显示硅结构。在此处死掉Sean Riddle的照片。</p><p> The schematic below corresponds to the above circuit, with the transistors in their approximate physical locations.To write a bit, the bit is placed on the data I/O line and the address line is activated.  8This turns on transistor Q4 and allows the bit to flow to point A, where it is maintained (temporarily) by the capacitor there.The bit can be read out the same way, by activating the address line.In a typical dynamic RAM chip, each cell consists of just this transistor and capacitor, but the TMS1000 uses the additionaltransistors to refresh the voltage on the capacitor.</p><p>下面的原理图与上述电路相对应，其中的晶体管处于近似的物理位置。要写入位，将该位放在数据I / O线上并激活地址线。 8这将打开晶体管Q4，并允许该位流到A点，该点由那里的电容器保持（暂时）。可以通过激活地址线以相同的方式读出该位。在典型的动态RAM芯片中，每个单元仅由该晶体管和电容器组成，但是TMS1000使用附加的晶体管刷新电容器上的电压。</p><p>  The TMS1000 refresh circuitis driven by two clock signals, clock phase 1 (Φ1) and clock phase 5 (Φ5).  7Activating clock phase 5 turns on Q3 and allows the bit to flow to point C, the gate of transistor Q1.Large transistor Q1 is the key component of the refresh circuit, as it amplifies the signal C.Next, during clock phase 1, the amplified signal at B flows through Q2, restoring the original bit stored at A.This circuit is repeated 256 times for the 256 bits of RAM storage in the chip.These clock signals are activated at about 80 kilohertz, ensuring the bit is refreshed before it can drain away.</p><p>  TMS1000刷新电路由两个时钟信号驱动，时钟相位1（Φ1）和时钟相位5（Φ5）。 7激活时钟相位5会导通Q3，并使该位流向C点，即晶体管Q1的栅极。大晶体管Q1是刷新电路的关键组件，因为它会放大信号C.接下来，在时钟相位1时， B处的放大信号流经Q2，恢复存储在A处的原始位。该电路对芯片中256位RAM的存储重复256次，这些时钟信号以大约80 kHz的频率被激活，确保在刷新该位之前会流失。</p><p>  CMOS (Complementary MOS) is a type of circuitry that combines NMOS and PMOS transistors to reduce power consumption.In 1978, TI began building CMOS calculator chips, starting with the TP0310 and TP0320 chips.  6These chips were used in calculators such as the TI-30-II (below), TI-35, and TI-50.The switch to CMOS coincided with TI&#39;s switch from power-hungry LED or vacuum fluorescent displays (VFD) to low-power LCD ( details).These improvements led to better battery life.TI also used CMOS to implement &#34;Constant Memory™&#34;, preserving calculator data evenwhen the calculator was off; CMOS&#39;s low power consumption meant that the memory could be continuously powered without drainingthe battery.</p><p>  CMOS（互补MOS）是将NMOS和PMOS晶体管相结合以降低功耗的一种电路.1978年，TI开始从TP0310和TP0320芯片开始制造CMOS计算器芯片。 6这些芯片用于TI-30-II（下图），TI-35和TI-50等计算器中。向CMOS的转换与TI从耗电的LED或真空荧光显示器（VFD）转换为低电压的同时发生。这些改进可以延长电池寿命。TI还使用CMOS来实现“ Constant Memory™”，即使关闭计算器也可以保留计算器数据。 CMOS的低功耗意味着可以连续给存储器供电而不会耗尽电池。</p><p>  CMOS has a long history, starting with its invention in  1963.RCA did a lot of early development of CMOS, introducing the  4000-series of integrated circuits in 1968 and thefirst CMOS processor, the  RCA 1802, in 1974.RCA was unfortunately a decade too early for market success with CMOS; although CMOS&#39;s lower power consumption made it useful forniche aerospace markets, NMOS processors dominated the microprocessor industry.Eventually, however, mainstream microprocessors switched to CMOS withthe Intel 80386 in 1985 and Motorola&#39;s 68030 in 1987, and CMOS is the dominant technology today.</p><p>  CMOS的悠久历史始于1963年的发明.RCA进行了CMOS的早期开发，1968年推出了4000系列集成电路，1974年推出了第一个CMOS处理器RCA 1802.不幸的是，RCA十年了CMOS在市场上取得成功还为时过早；尽管CMOS的较低功耗使其成为了航空航天市场的重要市场，但NMOS处理器在微处理器行业占据了主导地位。然而，主流微处理器最终在1985年转向Intel 80386，并在1987年进入摩托罗拉68030，成为当今的主流技术。</p><p> TI&#39;s move from metal-gate PMOS to CMOS in 1978 is unusual.Other manufacturers (such as Intel) switched from metal-gate transistors to the much superior  silicon-gate transistorsaround 1971, and then moved from PMOS to NMOS around 1974. It&#39;s unclear why Texas Instruments continued using inferior metal-gate PMOS circuitry for several years; perhaps calculators didn&#39;t need the improved performance so it wasn&#39;t cost-effective to switch.But then Texas Instruments skipped over the NMOS generation entirely, jumping to CMOS a decade before the mainstream microprocessor industry.This decision is easier to justify, since low-power CMOS was a clear advantage for battery-powered calculators.Curiously, TI continued to use inferior metal-gate transistors, even after moving to CMOS.</p><p> TI在1978年从金属栅PMOS转移到CMOS的情况很不寻常。其他制造商（例如Intel）在1971年左右从金属栅晶体管转移到性能更好的硅栅晶体管，然后在1974年左右从PMOS转移到NMOS。目前尚不清楚为什么德州仪器（TI）继续使用劣质金属栅极PMOS电路已有数年；也许计算器并不需要改进的性能，因此切换成本效益不高，但随后德州仪器（TI）完全跳过了NMOS的一代，在主流微处理器行业的十年之前跳到了CMOS。低功耗CMOS是电池供电计算器的明显优势。奇怪的是，即使转向CMOS，TI仍继续使用劣质的金属栅晶体管。</p><p> This history illustrates that technological progress isn&#39;t a straightforward path with new and improved technologies replacingolder technologies. Instead, a new technology like CMOS may take years to catch on, becoming successful in particularmarkets but being not making headway in other markets until economic factors and engineering tradeoffs changed.</p><p> 这段历史表明，用新技术和改进技术代替旧技术并不是技术进步的直接途径。取而代之的是，像CMOS这样的新技术可能需要几年的时间才能流行起来，在特定市场上获得成功，但要等到经济因素和工程折衷方法改变后才能在其他市场取得进展。</p><p> Getting back to the TP0320, the die photo below shows the  TP0320 die,zooming in on the RAM array. This 32×24 array holds 768 bits, a significant upgrade from the TMS1000.The closeup at the right zooms in on a single bit.The bit caell has a different layout from the TMS1000 RAM.The design switched from dynamic RAMto static RAM, eliminating the capacitors and the need for refresh.In this section, I&#39;ll explain how this RAM cell is implemented.</p><p> 回到TP0320，下面的裸片照片显示了TP0320裸片，放大了RAM阵列。该32×24阵列可容纳768位，是TMS1000的显着升级。右侧特写放大了一位;位缓存的布局与TMS1000 RAM不同;设计从动态RAM切换为静态RAM，消除了在本节中，我将解释如何实现此RAM单元。</p><p> Die of the TMS-0320, zooming in on the 32×24 RAM array and a single storage cell. Original die photo from  Sean Riddle.</p><p>TMS-0320的管芯，放大了32×24 RAM阵列和单个存储单元。肖恩·里德尔（Sean Riddle）的原始照片。</p><p> The diagram below shows how two inverters can be connected in a loop to store either a 0 or a 1.If the upper signal is 1, the inverter on the right outputs a 0 on the bottom, and the inverter on the left outputs a 1 at the top,reinforcing the original signal. Alternatively, the top signal can be a 0 as shown on the righ.The key difference between this static circuit and the previous dynamic circuit is that the static circuit will hold a bitfor an arbitrarily long time. The bit won&#39;t leak out of a capacitor as in a dynamic RAM, so refresh is not needed.</p><p> 下图显示了如何将两个反相器以循环方式连接以存储0或1。如果上信号为1，则右侧的反相器在底部输出0，而左侧的反相器在输出1。在顶部，增强原始信号。或者，顶部信号可以如右图所示为0.此静态电路与先前的动态电路之间的关键区别在于静态电路将保持任意长时间的位。该位不会像动态RAM中那样从电容器泄漏出来，因此不需要刷新。</p><p>  To make a usable storage cell, an addressing mechanism is added to the inverter circuit above.When the address select line is activated, the transistors connect the inverters to the data lines.For a read, the value of the cell is read from the data line.For a write, the desired bit and its complement are applied to the data lines, overpowering the value stored in the invertersand switching them to the new bit value.This type of storage cell is used to implement registers in many processors, including the  Zilog Z80 and the  Intel 8085.</p><p>  为了使存储单元可用，在上面的反相器电路中增加了寻址机制，当地址选择线被激活时，晶体管将反相器连接到数据线，要进行读取，将从数据中读取单元的值对于写操作，将所需的位及其补码应用于数据线，以使逆变器中存储的值过载，并将其切换为新的位值。这种类型的存储单元用于在许多处理器中实现寄存器，包括Zilog Z80和Intel 8085。</p><p>  The diagram below shows how a CMOS inverter is constructed from two transistors. The upper transistor is a PMOS transistor,while the lower transistor is an NMOS transistor.With a 0 input, the PMOS transistor turns on, connecting the output to the positive voltage (1).With a 1 input, the NMOS transistor turns on, connecting the output to ground (0).Thus, the output is the opposite of the input, as you&#39;d expect from an inverter.</p><p>  下图显示了如何由两个晶体管构成CMOS反相器。上晶体管是PMOS晶体管，下晶体管是NMOS晶体管。输入为0时，PMOS晶体管导通，将输出连接到正电压（1）。输入为1时，NMOS晶体管导通，将输出接地（0）。因此，输出与输入相反，正如您期望的那样。</p><p>  Putting this all together yields the schematic below. Transistors Q1 and Q3 implement one inverter, while transistors Q2 and Q4implement the second inverter. Transistors Q5 and Q6 select the cell based on the address.The transistors are arranged on the schematic to match their physical locations.</p><p>  将所有这些放在一起将产生以下示意图。晶体管Q1和Q3实现一个反相器，而晶体管Q2和Q4实现第二个反相器。晶体管Q5和Q6根据地址选择单元。晶体管排列在原理图上以匹配其物理位置。</p><p>  The die photos below show how the storage cell is implemented in the TP0320 processor.The first photo shows three vertical metal traces that wire the cell together.In the second photo, the metal was removed with acid to reveal the silicon underneath.The upper section holds the PMOS transistors (Q1 and Q2) while the lower section holds the NMOS transistors (Q3 to Q6).The transistors appear as whitish rectangles, while the doped silicon appears as greenish or reddish lines.The black spots are vias connecting the silicon to the metal above.The diagram can be compared with the schematic above.</p><p>  下方的照片展示了TP0320处理器中存储单元的实现方式，第一张照片显示了将电池连接在一起的三个垂直金属迹线，第二张照片中用酸去除了金属以露出下方的硅。握住PMOS晶体管（Q1和Q2），下部握住NMOS晶体管（Q3至Q6）。晶体管显示为白色矩形，而掺杂硅显示为绿色或红色线条。黑点是将硅与该图可以与上面的示意图进行比较。</p><p> One RAM cell in the TP0320. The first photo shows the metal layer. The second photo shows the underlying silicon. The diagram shows the combined layers. Die photos courtesy of  Sean Riddle.</p><p> TP0320中有一个RAM单元。第一张照片显示了金属层。第二张照片显示了底层硅。该图显示了合并的层。死亡照片由Sean Riddle提供。</p><p> The photo below zooms out a bit to show how the NMOS and PMOS transistors are arranged. Note the &#34;P ring&#34; that surroundsthe NMOS transistors. This forms a tub of P-type silicon that holds the NMOS transistors.(This P ring is the horizontal green line below Q2 in the die photo above.)The chip contains many of these tubs, separating the PMOS and NMOS transistors.</p><p>下图缩小了一点，以显示NMOS和PMOS晶体管的排列方式。注意包围NMOS晶体管的“ P环”。这形成了一个容纳NMOS晶体管的P型硅槽（该P环是上方裸片照片中Q2下方的水平绿线）。芯片包含许多这样的槽，将PMOS和NMOS晶体管分隔开。</p><p> The NMOS transistors are located in a P-type &#34;tub&#34; surrounded by a ring of P-type silicon.</p><p> NMOS晶体管位于被P型硅环环绕的P型“管”中。</p><p>  In 1981, Texas Instruments introduced a  more powerful architecture,the TP0455, followed shortlly by the TP0456.The TP0456 chip was used in calculators such as the  TI-55-II scientific calculator,TI-35, and TI-60, as well as educational toys such as  Little Professorand  Spelling B.</p><p>  1981年，德州仪器（TI）推出了功能更强大的TP0455，紧随其后的是TP0456。TP0456芯片用于TI-55-II科学计算器，TI-35和TI-60等计算器以及益智玩具，例如Little Professorand SpellingB。</p><p>  The die photo below shows the TP0456.The RAM array is in the lower-left corner of the die photo below, while the ROM is in the lower-right.The TP0456&#39;s RAM array is 32 cells wide and 16 cells tall, providing 512 bits of storage, less than the 768 bits of the TP0320.</p><p>  下图是TP0456，RAM阵列在下图的左下角，而ROM在右下角.TP0456的RAM阵列宽32个单元，高16个单元，提供512位存储空间，小于TP0320的768位。</p><p> Die photo of a TP0456 as used in the TI-55-II calculator; the calculator uses two TP0456 chips. Die photo courtesy of  Sean Riddle.</p><p> TI-55-II计算器中使用的TP0456的模具照片；计算器使用两个TP0456芯片。死亡照片由Sean Riddle提供。</p><p> The TP0456 uses almost the same static cell structure as the earlier CMOS chips, but the layout was changed slightly.In particular, the select line runs between the two inverter lines, rather than on the side.I don&#39;t know why they made this change, as it doesn&#39;t appear to change the density.The static RAM circuit is same as the TP0320 described earlier, so I won&#39;t discuss it here.</p><p> TP0456使用与早期CMOS芯片几乎相同的静态单元结构，但布局略有变化，特别是选择线在两条反相器线之间而不是在侧面运行，我不知道他们为什么这样做改变，因为它似乎并没有改变密度。静态RAM电路与前面描述的TP0320相同，因此在此不再赘述。</p><p> Two RAM cells in the TP0456. The long vertical select lines run between the shorter inverter lines, unlike the layout of earlier cells.</p><p> TP0456中有两个RAM单元。较长的垂直选择线在较短的反相器线之间延伸，这与早期单元的布局不同。</p><p>  While RAM storage may seem trivial, early microcontrollers required new ways to fit storage into the limitedspace on a die. Even just 256 bits took up a substantial fraction of the chip.Texas Instruments developed new dynamic RAM circuits for the TMS1000 microcontroller, followed by a completely differentstatic circuit when they switched to CMOS microcontrollers.</p><p>尽管RAM存储看似微不足道，但早期的微控制器需要新的方法来将存储空间适配到裸片上的有限空间中。甚至只有256位占用了芯片的很大一部分。德州仪器（TI）为TMS1000微控制器开发了新的动态RAM电路，随后在切换至CMOS微控制器时又采用了完全不同的静态电路。</p><p> Decades later, microcontrolelrs still have limited memory capacity. The Arduino Uno, for example, has 32 kilobytes of flash for program storage and 2 kilobytes of RAM.Modern high-end microcontrollers can have megabytes for program storage and hundreds of kilobytes of RAM, but this is stillorders of magnitude less than a typical microcomputer.The constraints of fitting everything onto a single chip still limit capacity and still require novel solutions, just as in the TMS1000.</p><p> 几十年后，微控制器的存储容量仍然有限。例如，Arduino Uno具有32 KB的闪存用于程序存储和2 KB RAM。现代高端微控制器可以具有MB的程序存储和数百KB RAM，但这仍然比典型的微型计算机小几个数量级。就像在TMS1000中一样，将所有内容装配到单个芯片上的限制仍然限制了容量，并且仍然需要新颖的解决方案。</p><p> I announce my latest blog posts on Twitter, so follow me at  kenshirriff. I also have an  RSS feed. Thanks to Joerg Woerner at  Datamath for suggestingthis topic and thanks to  Sean Riddle for die photos.</p><p> 我会在Twitter上发布我的最新博客文章，所以请在kenshirriff上关注我。我也有一个RSS feed。感谢Datamath的Joerg Woerner提出了这个主题，并感谢Sean Riddle的照片。</p><p>  Texas Instruments is considered the inventor of the microcontroller for developing the TMS0100 (different from the TMS1000) in 1971.While the TMS0100 has the characteristics of a microcontroller, it was marketed as a &#34;calculator-on-a-chip&#34;.The TMS1000, however, was marketed as a &#34;single-chip computer&#34; for both calculator-type applications and small to mediumcontrol applications.  ↩</p><p>  德州仪器（TI）在1971年被认为是开发TMS0100（与TMS1000不同）的微控制器的发明者。虽然TMS0100具有微控制器的特性，但它还是作为“片上计算器”销售的。但是，作为计算器类型的应用程序和中小型控制应用程序的“单芯片计算机”销售。 ↩</p><p> The famous  Speak &amp; Spell used a TMS1100 microcontroller,a version of the TMS1000 with twice as much RAM and ROM. A die photo is  here;it is nearly identical to the TMS1000 die except the RAM and ROM regions are stretched vertically to increase the capacity.</p><p> 著名的Speak＆Spell使用了TMS1100微控制器，这是TMS1000的版本，具有两倍的RAM和ROM。此处是一个裸照；它与TMS1000裸照几乎相同，只是RAM和ROM区域垂直延伸以增加容量。</p><p> The architecture of the TMS1000 is rather unusual due to its roots as a calculator chip.It has just four input lines, designed to be connected to a grid of buttons.The outputs are also unusual: it has 8 &#34;O&#34; output lines, but these are not individually controllable. Instead, a 5-bit valueis converted to the eight outputs by a customizable PLA decoder. The motivation behind this is to drive a 7-segment display.The microcontroller also has 11 &#34;R&#34; outputs, which are typically used to multiplex the LED display and to scan the keyboard.Another curious feature of the TMS1000 is that the instruction set was somewhat customizable.</p><p> TMS1000的体系结构由于其源于计算器芯片而非常不寻常。它只有四根输入线，被设计为连接到按钮网格。输出也很不寻常：它具有8条“ O”输出线，但是这些不是单独可控制的。而是由可定制的PLA解码器将5位值转换为八个输出。其背后的动机是驱动7段显示器。微控制器还具有11个“ R”输出，通常用于多路复用LED显示和扫描键盘。TMS1000的另一个令人惊奇的功能是指令集是有点可定制。</p><p> In comparison, Intel&#39;s microcontrollers such as thepopular 8048 (1976) and 8051 (1980)were much more like standard 8-bit microprocessors.Unlike the TMS1000, the Intel microcontrollers had familiar features such as an 8-bit CPU, 8-bit I/O ports, interrupts,a stack, and a fixed instruction set with Boolean operations (AND, OR, XOR) and shifts.Looking at the TMS1000 instruction set, it seems slightly alien, while the 8048&#39;s instruction set is similar to microprocessorsof the time.  ↩</p><p> 相比之下，流行的8048（1976）和8051（1980）等英特尔微控制器更像是标准的8位微处理器。与TMS1000不同，英特尔微控制器具有熟悉的功能，例如8位CPU，8位I / O端口，中断，堆栈以及带有布尔运算（AND，OR，XOR）和移位的固定指令集。从TMS1000指令集来看，它看起来有些陌生，而8048的指令集与当时的微处理器相似。 ↩</p><p>  Dynamic RAM is sometimes used for register storage in a processor, such as the  Intel 8008, although static RAM is more common since it doesn&#39;t require refreshing.  ↩</p><p>动态RAM有时用于处理器（例如Intel 8008）中的寄存器存储，尽管静态RAM更常见，因为它不需要刷新。 ↩</p><p> The  Datamath Calculator Museum has tons of information on Texas Instruments calculators.The  list of ICs is particularly relevant.  ↩</p><p> Datamath计算器博物馆拥有有关Texas Instruments计算器的大量信息，IC列表尤其相关。 ↩</p><p> The TMS1000 is implemented with complex logic circuitry, using a five-phase clock.The TMS1000 uses a mixture of depletion loads, gated loads, or precharge logic, for power savings.I&#39;m not sure why the TMS1000 uses a five-phase clock.  Four-phase logicwas a logic design methodology at the time, but the TMS1000 circuitry doesn&#39;t appear to use four-phase principles.Among other things, the TMS1000 phases are irregular and Φ4 pulses twice per cycle.  ↩</p><p> TMS1000采用复杂的逻辑电路，使用五相时钟来实现.TMS1000使用了耗尽负载，门控负载或预充电逻辑的混合以节省功率。我不确定为什么TMS1000使用五相时钟。四相逻辑当时是一种逻辑设计方法，但是TMS1000电路似乎没有使用四相原理，其中TMS1000的相是不规则的，每个周期Φ4脉冲两次。 ↩</p><p> TI&#39;s  Random access memory cell patent (1974) describes the memory cellused in the TMS1000. The layout in the patent is similar but not identical to the actual layout.Transistor Q5 appears in the circuit but not the patent. It pulls point B to 0 when clock phase 5 is active, making sure thata 0 bit at C is restored to a stronger 0 bit.</p><p> TI的随机存取存储单元专利（1974年）描述了TMS1000中使用的存储单元。专利中的布局与实际布局相似但不完全相同。晶体管Q5出现在电路中，但并非专利中。当时钟相位5处于活动状态时，它将点B拉至0，确保将C处的0位恢复为更强的0位。</p><p>  While most patents don&#39;t provide much useful information, Texas Instruments&#39; calculator patents are unusually detailed and informative,providing schematics, source code, and clear explanations; they seem like they were written by engineers.(I feel that I should give TI credit for the quality of their patents.)  ↩</p><p>  尽管大多数专利并没有提供太多有用的信息，但德州仪器（TI）的计算器专利却异常详细和翔实，提供了原理图，源代码和清晰的解释。它们似乎是由工程师编写的。（我觉得我应该以TI的专利质量为荣。）</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="http://www.righto.com/2020/11/reverse-engineering-ram-storage-in.html">http://www.righto.com/2020/11/reverse-engineering-ram-storage-in.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/芯片/">#芯片</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/ram/">#ram</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/晶体管/">#晶体管</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>