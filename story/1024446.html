<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>缺失的操作系统</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">缺失的操作系统</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-09-17 05:56:10</div><div class="page_narrow text-break page_content"><p>前言：2011年加入谷歌时，我引用了一位朋友的一句俏皮话：</p><p>世界上大约有一台半电脑，谷歌就有一台。</p><p>自2011年以来，世界发生了相当大的变化，现在世界上可能有六台计算机。这就是说，为了让下面的文本有意义，当我说计算机时，我指的是单个机器的非常大的集合，这些机器已经连接在一起，使它们的行为像一台计算机。</p><p>现代微服务部署的技术前景可能会令人困惑-它变化很快，表面上相似的项目激增，声称做着类似的事情。即使对我这个对技术有相当深了解的人来说，不同的项目服务的确切目的也并不总是很清楚。自从2015年我第一次离开谷歌开始休假以来，我一直在反复打趣数据中心操作系统(至少在这里和这里)，并沉思着它。我最近有机会和一群性能工程师(他们经常坐在开发人员和运营人员之间)聊天，他们提醒我要写下我的想法。这是第一篇帖子，但可能会有更多的帖子(特别是关于它的安全模型)。警告：此帖子纯属纯正观点。它充满了未经证实的、不科学的主张。我经常是错的。我要说的是：当我们第一次制造计算机时，花了几十年才有了第一个真正的操作系统。在真正的操作系统出现之前，有许多原始操作系统--必须分开管理并拼凑在一起的工具集合。当时世界上几乎没有计算机，如果你想研究一台，你必须在一个大型的研究机构或组织工作。这些机器运行的是那台计算机独有的拼凑而成的操作系统。大约从2007年开始，我们正在经历第二个这样的时期：单机型号被仓库大小的计算机所取代。起初，很少有组织有足够的财力拥有一台这样的计算机，但云计算正在让许多没有10亿现金来建设完整数据中心的公司能够使用到大量的个人小型计算机。超级缩放器(GOOG、FB，还有腾讯等)。在内部构建类似于原型数据中心操作系统的产品；亚马逊正在将他们的一些产品外部化，数据中心操作系统的单个组件组成的大型动物园作为开放源码项目而存在。目前还不存在的是一个真正完整的DatacenterOS，一般的公司只需安装即可。</p><p>缺少OS&34；-您在大型计算机组件上安装的一款软件，可将此计算机组件转换为一台计算机&#34；。</p><p>数据中心操作系统包括哪些组件？如果你观察一下现代技术堆栈，你会发现有一种令人惊讶的趋同--不是在人们实际运行的软件上，而是在需要填补的角色上。对于每个角色，通常有许多不同的可用实现。</p><p>某种形式的群集范围文件系统。如果你在Google内部，GlusterFS或类似的东西，如果你在外面，想想GFS/Colossus。许多公司最终使用S3，因为可用的产品不是很好。</p><p>水平可伸缩的键值存储。如果你在Google，或者Cassandra，或者Scylla，甚至ElasticSearch(如果你足够斜视)，那就想想Bigtable吧。</p><p>分布式一致键值存储。如果你在谷歌内部，想想Chubby，如果你在外面，就想想etcd。这并不是大多数应用程序直接使用的，主要用于管理群集。</p><p>某种发布/订阅消息排队系统。想想PubSub，或者某种意义上的Kafka，或者AWS上的SQS，或者RabbitMQ。</p><p>作业调度器/容器协调器。一种系统，它利用可用的资源、所有应该运行的作业和一系列约束，然后解决一个受约束的装箱优化问题，以确保资源得到正确使用。想想博格，或者某种程度上的库伯内斯。这可能与某种MapReduce风格的批处理工作负载基础设施集成，也可能不集成，以利用非高峰CPU周期。</p><p>我发现这非常值得思考&#34；我在单个笔记本电脑操作系统上还有哪些其他部件，我真的应该在DatacenterOS上拥有这些部件？&#34；。</p><p>人们正在通过普罗米修斯和各种其他数据收集代理构建近似的过程资源管理器。</p><p>有人可能会争辩说，分布式跟踪(每个人都意识到他们需要分布式跟踪)实际上是数据中心操作系统(是的，它非常重要)。问题#34；什么是我的数据中心-OS-syslog&#34；也同样有趣。</p><p>在可观察性方面，很多工程都在将我们习惯于在一台机器上拥有的自省功能移植到计算机上。</p><p>这就是人们谈论的端口映射器的DatacenterOS版本的服务网状网吗？还有一些我们真的不知道如何建立等价物的其他东西。计算机&#34；的&#34；调试器是什么样子的？显然，单步执行单个主机不是修复现代分布式系统中问题的正确方法-您的服务可能正在与数十个可能同时崩溃(或逐渐停止或其他任何情况)的其他主机交互，而重新启动和单步执行是极其困难的。</p><p>除了许多需要为计算机重建的监控、开发和调试工具之外，还有许多其他-甚至更基本的-问题确实没有令人满意的答案。安全是一个特别未知的领域：</p><p>此计算机的特权进程是什么？什么是特权和信任边界？用户管理是如何工作的？跨服务身份验证和凭据委派是如何工作的？我们如何避免将James Forshaw在幻灯片中描述的每个逻辑单机权限提升重新引入我们的新操作系统和在那里运行的各种服务？有没有可能/mm中的单个Linux内核错误不会给我们的整个安全模型带来厄运呢？</p><p>长话短说：在我看来，新兴的DatacenterOS是几十年来计算机科学界发生的最激动人心的事情。有时我希望我能更好地说服亿万富翁给我几亿美元投资于有趣的问题--因为如果有我认为我喜欢解决的问题，那就是Foss DatacenterOS-34；把它安装在N台机器上，你就有一台电脑了。如果有人问这个问题：这块拼图解决了计算机的什么功能，那么很多技术前景就更容易理解了。这个项目的单机相当于什么？这篇帖子可能会有后续帖子，因为我在这个话题上还有更多考虑不周的想法：</p><p>库伯内斯：你是想当调度员，还是想当操作系统？选一个吧。</p><p>如果不是针对20000台机器的集群，我们如何才能获得bash脚本的强大功能呢？</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="http://addxorrol.blogspot.com/2020/07/the-missing-os.html">http://addxorrol.blogspot.com/2020/07/the-missing-os.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/操作系统/">#操作系统</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/缺失/">#缺失</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/missing/">#missing</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/计算机/">#计算机</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1023639.html"><img src="http://img2.diglog.com/img/2020/9/thumb_a0f45bf73c27b744be40b91e990e31f6.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1023639.html">软件开发人员需要记住的操作系统概念</a></div><span class="my_story_list_date">2020-9-13 6:34</span></div><div class="col-sm"><div><a target="_blank" href="/story/1022909.html"><img src="http://img2.diglog.com/img/2020/9/thumb_57d4fba318ab5bab6135ca0545574952.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1022909.html">BeOS文件系统，操作系统极客回顾展</a></div><span class="my_story_list_date">2020-9-9 15:3</span></div><div class="col-sm"><div><a target="_blank" href="/story/1022362.html"><img src="http://img2.diglog.com/img/2020/9/thumb_928ac8d0ab63452d61ca8e0295fab6e3.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1022362.html">了不起的电子纸平板电脑的自由软件操作系统</a></div><span class="my_story_list_date">2020-9-6 22:18</span></div><div class="col-sm"><div><a target="_blank" href="/story/1021219.html"><img src="http://img.diglog.com/img/2020/8/thumb_b96122a1cce07e69cae0adc2668458c8.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1021219.html">Windows 95有哪些变化</a></div><span class="my_story_list_date">2020-8-30 7:32</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>