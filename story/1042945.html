<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>虚拟环境神秘化 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">虚拟环境神秘化 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-02 17:09:30</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/1/2e1b232e24f909db212edad48ac9a735.jpg"><img src="http://img2.diglog.com/img/2021/1/2e1b232e24f909db212edad48ac9a735.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>以下是不完整的程序列表，它们都旨在以某种方式帮助创建或管理虚拟环境：</p><p>  显然，这些东西一定很难做到正确。我也必须是个笨蛋，因为在编写了数千行Python之后，我什至不知道我们要在这里解决什么问题，而且名称不同的大量相关程序使我无法继续阅读。远。</p><p>   一个独立的目录树，其中包含针对特定版本的Python的Python安装，以及许多其他软件包。</p><p>   让我们来看看。目录？检查一下包含Python安装？检查一下包含许多其他软件包？零是数字！ （检查。）特殊版本？嗯...</p><p>  我认为可以。但是，它是独立的吗？它本身不包含……</p><p>  撇开笑话，实际上只有两件事缺少使我们的目录成为PEP 405所指定的虚拟环境，该建议将虚拟环境的标准机制与Python集成在一起。 1个</p><p>  （两个路径都取决于操作系统，第二个路径也取决于所使用的Python版本。） </p><p>$ tree--noreport.├──bin│└──python3├──lib│└──python3.6│└──站点包└──pyvenv.cfg</p><p>   当我们运行Python二进制文件的副本时，pyvenv.cfg文件会更改启动过程中发生的事情：home键的存在告诉Python二进制文件属于虚拟环境，键的值（/ usr / bin）告诉它在哪里找到完整的Python安装，包括标准库。</p><p> 底线是./lib/python3.6/site-packages成为模块searchpath的一部分。关键是我们现在可以将软件包安装到该位置，尤其是可能与同一系统上另一个Python程序的依赖项冲突的特定版本。 3</p><p>       同一系统上的另一个项目在其自身的虚拟环境中可以具有不同版本的左键盘，而不会干扰该左键盘。</p><p>  在实践中，不仅仅是手动创建虚拟环境，这使我们回到了上面艰巨的工具清单。幸运的是，其中之一与其他人不一样。尽管大多数人都在使用它，但Python还是标准库venv的一部分。 4</p><p>     它还复制了许多其他内容：我在89个子目录中获得650个文件，总计约10 MiB。这些文件之一是pip二进制文件，我们可以使用它将包安装到虚拟环境中，而无需传递额外的命令线性参数：</p><p>  您可以在Python教程或venv的文档中阅读有关使用venv和可选魔术（如“激活”脚本）的更多信息-这篇文章仅旨在说明虚拟环境的实际含义。 </p><p>虚拟环境是一个目录，其中包含Python解释器，影响解释器启动的特殊pyvenv.cfg文件以及一些第三方Python程序包。安装到虚拟环境中的Python软件包不会干扰同一系统上的其他Python应用程序。 venv是“用于创建虚拟环境的标准工具”。</p><p>  我认为Ian Bicking的non_root_python.py符合创建虚拟环境的第一个工具。基于此，virtual-python.py在2005年10月的0.6a6版中添加到EasyInstall中。以下是概述一些主要事件的时间表。</p><p> Ian Bicking，non_root_python.py（基于virtual-python.pyis的作者）的作者，发表了一篇有关改善virtual-python.py的博客文章，标题为“工作环境头脑风暴”。</p><p>    在PEP 405被接受之前，虚拟环境纯粹是第三方工具的领域，没有语言本身的直接支持。 ↩</p><p>  我认为这没有必要。但是，由于我假设是CPython中的bug，所以是这样。不过，bin /子目录当然是二进制文件的常规位置。 ↩</p><p>    实际上，pyvenv也随Python一起提供，但是在3.6版中已弃用（引入后仅3个次要版本）。 venv和pyvenv均已在3.3版中添加到Python。 ↩ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://meribold.org/python/2018/02/13/virtual-environments-9487/">https://meribold.org/python/2018/02/13/virtual-environments-9487/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/虚拟环境/">#虚拟环境</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/python/">#python</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>