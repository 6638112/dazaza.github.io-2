<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我们正在建立一个更好的Heroku We are building a better Heroku</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">We are building a better Heroku<br/>我们正在建立一个更好的Heroku </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-23 21:21:12</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/3a2fcd9c632676107880cbaf7c14306d.jpg"><img src="http://img2.diglog.com/img/2021/3/3a2fcd9c632676107880cbaf7c14306d.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Creating a web application has become very convenient and easy. You’ll start in your local development environment, run a dev server and verify the changes looking good. At a certain point, you want to share it with your friends on the internet. A service or server?</p><p>创建Web应用程序变得非常方便和简单。您将从本地开发环境中开始，运行DEV服务器并验证更好的更改。在某个点，您想与您的朋友分享它。服务或服务器？</p><p>  I have been a backend focussed developer in the past 20 years, web development is often fighting with Javascript and CSS. Especially Heroku as a deployment platform is a new area for me.</p><p>  在过去的20年里，我一直是一个重点的开发人员，Web开发通常与JavaScript和CSS战斗。特别是Heroku作为部署平台是我的新领域。</p><p> Let&#39;s start with creating an account, login, and follow the web instructions to create a new app.</p><p> 让＆＃39;首先创建一个帐户，登录和遵循Web说明以创建一个新应用程序。</p><p>  Ok. After some trial and error, the name needs to be unique in the global namespace. Time to stop and read the  documentation.</p><p>  好的。在某些试验和错误之后，名称需要在全局命名空间中是唯一的。时间停止并阅读文档。</p><p>  Let’s try a fun demo, a battleship game to learn Javascript on the client and NodeJS on the server.</p><p>  让我们尝试一个有趣的演示，战舰游戏来学习客户端和服务器上的nodejs上的JavaScript。</p><p>          The CLI command adds a new Git remote called  heroku where we need to push into.</p><p>          CLI命令添加了一个名为heroku的新git远程，我们需要推进。</p><p> $ git push heroku mainremote: -----&gt; Launching...remote: Released v3remote: https://nameless-mountain-48655.herokuapp.com/ deployed to Herokuremote:remote: Verifying deploy... done.</p><p> $ git推送heroku mainRemote：-----＆gt;启动...远程：发布的V3Remote：https://nameless-mountain-48655.herokuapp.com/部署到HerokureMote：Remote：验证部署...完成。 </p><p> Deployed in less than 5 minutes. Getting there and installing the pre-requisites on the CLI took longer than expected.</p><p>在不到5分钟的时间内部署。到达那里并安装CLI的先决条件比预期更长。</p><p>  Lots of CLI commands involved, and it did not run in a CI/CD pipeline with additional tests before deploying it. Now the web application is deployed into a black box. Want to use Let’s Encrypt and your own domain name? How about adding the deployment natively to GitLab to have a single application in your DevOps workflow?</p><p>  涉及许多CLI命令，它没有在CI / CD管道中运行，然后在部署之前具有额外的测试。现在Web应用程序部署到黑匣子中。想要使用让我们的加密和您自己的域名？如何将部署添加到Gitlab以在Devops工作流中具有单个应用程序？</p><p>  Heroku is like a fallen civilization of elves. Beautiful, immortal, beloved by all who encountered it - but still a dead end.</p><p>  Heroku就像是精灵的堕落文明。美丽，不朽，受到遇到的所有遇到的人 - 但仍然是一个死胡同。</p><p>— Adam Jacob (@adamhjk)  March 10, 2021</p><p> - 亚当雅各布（@adamhjk）2021年3月10日</p><p> Apparently Heroku is not Open Source, making contributions not so easy. You cannot debug Heroku by reading the source code.</p><p> 显然Heroku不是开源，使贡献不那么容易。您无法通过阅读源代码来调试Heroku。</p><p>   Cloud resources are cheap. AWS offers a free tier, HashiCorp Terraform has become an excellent tool to manage multi-cloud resources and GitLab integrates app packaging, container registry, deployment and TLS certificates.</p><p>   云资源便宜。 AWS提供免费层，Hashicorp Terraform已成为管理多云资源，Gitlab集成应用程序包装，容器注册表，部署和TLS证书的优秀工具。</p><p> There’s more application goodies: Provision a PostgreSQL VM, add Redis, SMTP email transport, custom domains with Let’s Encrypt.</p><p> 有更多的应用程序成绩：提供PostgreSQL VM，添加Redis，SMTP电子邮件传输，与让我们加密的自定义域。 </p><p>   The second step is to have the source code available in a GitLab project. You can use  New project &gt; Import project &gt; Repo by URL to automatically import the GitHub repository  https://github.com/kubowania/battleships.git.</p><p>第二步是在Gitlab项目中具有可用的源代码。您可以使用新项目＆gt;进口项目＆gt;通过URL repo自动导入github存储库https://github.com/kubowania/battleships.git。</p><p>  Once imported, navigate into  Settings &gt; CI/CD &gt; Variables to specify the AWS credentials and region. Ensure to tick the  Masked checkbox to hide them in all job logs.</p><p>  导入后，导航到设置＆gt; CI / CD＆gt;要指定AWS凭据和区域的变量。确保勾选蒙面复选框以隐藏所有作业日志。</p><p>  Navigate back into the project overview. Click the  Setup CI/CD button or open the Web IDE to create a new  .gitlab-ci.yml file. Add the remote CI/CD template include like this:</p><p>  导航回项目概述。单击“设置CI / CD”按钮或打开Web IDE以创建一个新的.gitlab-ci.yml文件。添加远程CI / CD模板包含如下所示：</p><p>  The battleship application does not need the PostgreSQL and Redis backends. They are disabled with setting  TF_VAR_DISABLE_POSTGRES and  TF_VAR_DISABLE_REDIS  variables to  false.</p><p>  战斗应用程序不需要PostgreSQL和Redis后端。它们被禁用，将TF_VAR_DISABLE_POSTGRES和TF_VAR_DISABLE_DIS变量设置为FALSE。</p><p>       The deploy job log greets with the URL in ~5 minutes, including a Lets Encrypt TLS certificate. There we go, let’s play some battleship!</p><p>       Depoy作业日志在〜5分钟内与URL发出问候，包括允许加密TLS证书。我们走了，让我们玩一些战舰！</p><p>  Note that we never left the browser, there is no CLI involved. Next to the included template, there’s also room for adding more CI tests and security best practices while hacking on this project. You can navigate into your AWS console for debugging and troubleshooting, and plan with production budgets where needed.</p><p>  请注意，我们从未离开浏览器，没有CLI涉及。在附带的模板旁边，还可以在此项目中添加更多CI测试和安全最佳实践的余地。您可以导航到AWS控制台以进行调试和故障排除，并计划在需要的情况下进行生产预算。</p><p>     This blog post covers the basic learning steps with Heroku and the 5 minute production app. A typical web app requires a database, storage or caching backend, which can get complicated to run with Heroku. We will explore the setup and production experience in future blog posts. In addition to backends, we will also look into TLS certificates and production environments in CD workflows.</p><p>     此博客文章涵盖了Heroku和5分钟的生产应用程序的基本学习步骤。典型的Web应用程序需要数据库，存储或缓存后端，它可以与Heroku一起运行。我们将探索未来博客帖子中的设置和生产经验。除了后端之外，我们还将查看CD工作流程中的TLS证书和生产环境。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://about.gitlab.com/blog/2021/03/22/we-are-building-a-better-heroku/">https://about.gitlab.com/blog/2021/03/22/we-are-building-a-better-heroku/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/building/">#building</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/web/">#web</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>