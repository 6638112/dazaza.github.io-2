<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ΘεΑθερηςΠυθωνΦουζζερ The Atheris Python Fuzzer</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">The Atheris Python Fuzzer<br/>ΘεΑθερηςΠυθωνΦουζζερ </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-05 11:16:28</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/693a4b65e499efbf209d9aaad9539a75.jpg"><img src="http://img2.diglog.com/img/2020/12/693a4b65e499efbf209d9aaad9539a75.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Fuzz testing is a well-known technique for uncovering programming errors. Many of these detectable errors have serious security implications. Google has found thousands of security vulnerabilities and other bugs using this technique.  Fuzzing is traditionally used on native languages such as C or C++, but last year, we built a new Python fuzzing engine.  Today, we’re releasing the  Atheris fuzzing engine as  open source.  Atheris can be used to automatically find bugs in Python code and native extensions. Atheris is a “ coverage-guided” fuzzer, which means that Atheris will repeatedly try various inputs to your program while watching how it executes, and try to find interesting paths.  One of the best uses for Atheris is for  differential fuzzers. These are fuzzers that look for differences in behavior of two libraries that are intended to do the same thing. One of the example fuzzers packaged with Atheris does exactly this to compare the Python “idna” package to the C “libidn2” package. Both of these packages are intended to decode and resolve internationalized domain names. However, the example fuzzer  idna_uts46_fuzzer.py shows that they don’t always produce the same results. If you ever decided to purchase a domain containing (Unicode codepoints  [U+0130, U+1df9]), you’d discover that the idna and libidn2 libraries resolve that domain to two completely different websites.  In general, Atheris is useful on pure Python code whenever you have a way of expressing what the “correct” behavior is - or at least expressing what behaviors are definitely not correct. This could be as complex as custom code in the fuzzer that evaluates the correctness of a library’s output, or as simple as a check that no unexpected  exceptions are raised. This last case is surprisingly useful. While the worst outcome from an unexpected exception is typically denial-of-service (by causing a program to crash), unexpected exceptions tend to reveal more serious bugs in libraries. As an example, the one YAML parsing library we tested Atheris on says that it will only raise  YAMLErrors; however,  yaml_fuzzer.py detects numerous other exceptions, such as  ValueError from trying to interpret “-_” as an integer, or  TypeError from trying to use a list as a key in a dict. ( Bug report.) This indicates flaws in the parser.  Finally, Atheris supports fuzzing native Python extensions, using libFuzzer. libFuzzer is a fuzzing engine integrated into Clang, typically used for fuzzing C or C++. When using libFuzzer with Atheris, Atheris can still find all the bugs previously described, but can also find memory corruption bugs that only exist in native code. Atheris supports the Clang sanitizers Address Sanitizer and Undefined Behavior Sanitizer. These make it easy to detect corruption when it happens, rather than far later. In one case, the author of this document found  an LLVM bug using an Atheris fuzzer (now fixed).</p><p>模糊测试是一种发现编程错误的众所周知的技术。这些可检测的错误中有许多都具有严重的安全隐患。 Google使用此技术发现了数千个安全漏洞和其他错误。传统上，模糊处理是在C或C ++等本地语言上使用的，但是去年，我们构建了一个新的Python模糊处理引擎。今天，我们将Atheris模糊引擎作为开源发布。 Atheris可用于自动查找Python代码和本机扩展中的错误。 Atheris是一个“覆盖率指导”的模糊器，这意味着Atheris将在观察程序执行情况的同时反复尝试对程序的各种输入，并尝试找到有趣的路径。 Atheris的最佳用途之一是用于差分模糊器。这些是模糊测试，旨在寻找旨在执行相同操作的两个库的行为差异。与Atheris打包在一起的示例模糊器之一就是这样做的，目的是将Python的“ idna”软件包与C的“ libidn2”软件包进行比较。这两个软件包都旨在解码和解析国际化域名。但是，示例模糊器idna_uts46_fuzzer.py显示它们并不总是产生相同的结果。如果您决定购买一个包含（Unicode代码点[U + 0130，U + 1df9]）的域，则会发现idna和libidn2库将该域解析为两个完全不同的网站。通常，只要您有一种表达“正确”行为的方式-或至少表达某种行为绝对不正确的方法，Atheris就可用于纯Python代码。这可能与评估库输出正确性的模糊器中的自定义代码一样复杂，也可能与检查是否引发意外异常一样简单。后一种情况出奇地有用。虽然意外异常的最坏结果通常是拒绝服务（通过导致程序崩溃），但意外异常往往会揭示库中更严重的错误。例如，我们在Atheris上测试过的一个YAML解析库说它只会引发YAMLErrors。但是，yaml_fuzzer.py检测到许多其他异常，例如ValueError尝试将“ -_”解释为整数，TypeError尝试将列表用作dict中的键。 （错误报告。）这表明解析器中存在缺陷。最后，Atheris使用libFuzzer支持模糊测试本机Python扩展。 libFuzzer是集成到Clang中的模糊处理引擎，通常用于对C或C ++进行模糊处理。当将libFuzzer与Atheris结合使用时，Atheris仍然可以找到先前描述的所有错误，但是也可以找到仅在本机代码中存在的内存损坏错误。 Atheris支持Clang清理器Address Sanitizer和Undefined Behavior清理器。这些使得在发生腐败时更容易发现腐败，而不是在很久以后。在一种情况下，本文的作者使用Atheris模糊器（现已修复）发现了LLVM错误。</p><p>  Atheris supports fuzzing Python code and native extensions in Python 2.7 and Python 3.3+. When fuzzing Python code, using Python 3.8+ is strongly recommended, as it allows for much better coverage information. When fuzzing native extensions, Atheris can be used in combination with Address Sanitizer or Undefined Behavior Sanitizer.   OSS-Fuzz is a fuzzing service hosted by Google, where we execute fuzzers on open source code free of charge. OSS-Fuzz will soon support Atheris!</p><p>  Atheris在Python 2.7和Python 3.3+中支持模糊化的Python代码和本机扩展。在对Python代码进行模糊处理时，强烈建议使用Python 3.8+，因为它可以提供更好的覆盖率信息。在对本机扩展进行模糊处理时，可以将Atheris与Address Sanitizer或Undefined Behavior Sanitizer结合使用。 OSS-Fuzz是Google托管的一项模糊服务，我们在其中免费对开放源代码执行模糊器。 OSS-Fuzz即将支持Atheris！</p><p>  Take a look at  the repo, in particular the examples. For fuzzing pure Python, it’s as simple as:    pip3 install atheris  And then, just define a TestOneInput function that runs the code you want to fuzz:   import atheris import sys   def TestOneInput(data):      if data == b&#34;bad&#34;:           raise RuntimeError(&#34;Badness!&#34;)   atheris.Setup(sys.argv, TestOneInput) atheris.Fuzz()  That’s it! Atheris will repeatedly invoke TestOneInput and monitor the execution flow, until a crash or exception occurs.  For more details, including how to fuzz native code, see the  README.</p><p>  看一下仓库，特别是示例。对于模糊化纯Python来说，这很简单：pip3 install atheris然后，只需定义一个TestOneInput函数来运行要模糊化的代码即可：import atheris import sys def TestOneInput（data）：if data == b＆＃34; bad＆＃ 34 ;:提高RuntimeError（＆＃34; Badness！＆＃34;）atheris.Setup（sys.argv，TestOneInput）atheris.Fuzz（）就是这样！ Atheris将反复调用TestOneInput并监视执行流程，直到发生崩溃或异常。有关更多详细信息，包括如何模糊本机代码，请参阅自述文件。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://opensource.googleblog.com/2020/12/announcing-atheris-python-fuzzer.html">https://opensource.googleblog.com/2020/12/announcing-atheris-python-fuzzer.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/python/">#python</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/atheris/">#atheris</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1037615.html"><img src="http://img2.diglog.com/img/2020/12/thumb_2a502fd2c734a645390a2b662aef2c78.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037615.html">Python和TypeScript在编程语言中大受欢迎 </a></div><span class="my_story_list_date">2020-12-4 21:41</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037367.html"><img src="http://img2.diglog.com/img/2020/12/thumb_3790d2be1324eb5b72104d28d754a21c.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037367.html">Python Pip 20.3与新的解析器一起发布</a></div><span class="my_story_list_date">2020-12-1 3:13</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037275.html"><img src="http://img2.diglog.com/img/2020/11/thumb_3a4ad09fc72f54e1c1e265d0c5167538.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037275.html">Python Pip 20.3与新的解析器一起发布</a></div><span class="my_story_list_date">2020-11-30 21:52</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037235.html"><img src="http://img2.diglog.com/img/2020/11/thumb_f7d32712ba15e47601f1a70ffe65bcb9.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037235.html">向Python追溯添加变量</a></div><span class="my_story_list_date">2020-11-30 13:44</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>