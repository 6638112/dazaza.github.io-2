<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我拆除GB 6k照明系统的原因</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">我拆除GB 6k照明系统的原因</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-15 17:40:59</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/e90f3e57ffcbe97e849565a44bfc9afb.jpg"><img src="http://img2.diglog.com/img/2020/11/e90f3e57ffcbe97e849565a44bfc9afb.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Back in 2012 my wife and I started a house renovation project in Edinburgh (Scotland) having moved to that great city the previous year. In our previous London abode we’d installed a wireless lighting system from a company called Rako and it worked well enough to convince us that wireless was the way to go. Now, having installed and maintained a system with over 150 wireless lighting control circuits over the past 7 years I’ve finally had to admit that my technology choice was wrong. The Z-Wave wireless lighting system I installed just doesn’t work for a home like mine. I have now ripped out almost all of the Z-Wave units I installed – which had cost me more than £6k to buy and install. Read on to see the 10 reasons I finally kicked it out and what I have now replaced it with.</p><p>早在2012年，我和妻子在苏格兰爱丁堡开始了一个房屋翻新项目，前一年我们搬到了那个伟大的城市。在我们之前的伦敦住所，我们安装了一家名为Rako的公司的无线照明系统，它工作得很好，足以让我们相信无线是可行的。现在，在过去的7年里，我安装和维护了一个拥有150多个无线照明控制电路的系统，我终于不得不承认我的技术选择是错误的。我安装的Z-Wave无线照明系统不适用于像我这样的家庭。我现在几乎拆掉了我安装的所有Z-Wave设备--购买和安装这些设备花了我6000多GB的钱。继续读下去，看看我最终把它踢出去的10个原因，以及我现在用什么取代了它。</p><p>  Firstly let me explain that I spent most of my career in the wireless (mobile phone) industry and consider myself to have a reasonable degree of expertise in the field. The company I founded ( http://www.actix.com) has been a leading specialist in planning and optimising new wireless technologies for the past 25 years and has developed solutions for measurement and optimisation of everything from Analog to 5G.</p><p>首先，让我解释一下，我职业生涯的大部分时间都是在无线(手机)行业度过的，我认为自己在这一领域拥有相当程度的专业知识。我创立的公司(http://www.actix.com))在过去25年里一直是规划和优化新无线技术的领先专家，开发了从模拟到5G的各种测量和优化解决方案。</p><p> Wireless technology is behind some of the most amazing developments of the last 50 years – things like the iPhone and satellite TV. So you may find it strange that I would be doubting the ability of a leading home-automation wireless technology to do something as straightforward as turning a light on and off. But unfortunately my experience has been exactly that.</p><p>无线技术是过去50年来一些最令人惊叹的发展的幕后推手--比如iPhone和卫星电视。因此，你可能会觉得奇怪，我会怀疑领先的家庭自动化无线技术是否有能力做一些像打开和关闭灯这样简单的事情。但不幸的是，我的经历正是如此。</p><p>  Back in 2012 I asked for recommendations from the people I knew who were Home Automation pioneers – not least  Pilgrim Beart (the founder of the Hive product  https://www.hivehome.com now owned by BG) and  Quentin Stafford-Fraser (co-inventor of the webcam). The consensus around the time was that one of the wireless technologies already on the market would become the de-facto standard for domestic lighting control. That seemed pretty compelling as companies like  AeoTech,  Fibaro, Philips and LightwaveRF were already producing wireless lighting systems including (in the first two instances) control modules that could be retro-fitted into the pattress (wall-box) behind a light switch.</p><p>早在2012年，我就征求了我认识的家庭自动化先驱们的推荐--尤其是皮尔格林·比尔特(Pilgrim Beart)和昆汀·斯塔福德-弗雷泽(Quentin Stafford-Fraser)(网络摄像头的共同发明者)。比尔特是蜂巢产品https://www.hivehome.com的创始人，现在归英国天然气集团所有。当时的共识是，市场上已有的一项无线技术将成为家庭照明控制的事实标准。这似乎相当有说服力，因为AeoTech、菲巴罗(Fibaro)、飞利浦(Philips)和LightwaveRF等公司已经在生产无线照明系统，包括(在前两种情况下)控制模块，这些模块可以改装到电灯开关后面的壁盒中。</p><p>  At that time there were essentially three main choices of wireless technology:  Z-Wave,  LightwaveRF and  ZigBee. I discounted LightwaveRF as it was (still is?) very range limited and my house is an old one built almost entirely from large stone blocks (even internally) that are very good at blocking RF signals. Between Z-Wave and ZigBee there wasn’t much to choose from a wireless perspective but the decision was made for me when I looked at the manufacturer support for each technology. As mentioned above companies like AeoTech and Fibaro already had modules (devices that turn on/off or dim a circuit) on the market that I thought would be ideal for my lighting control system whereas such support for ZigBee was pretty much completely absent save a few hobbyist-level companies.</p><p>当时，无线技术基本上有三种主要选择：Z-Wave、LightwaveRF和ZigBee。我把LightwaveRF打折了(现在还是吗？)。范围非常有限，我的房子是一座老房子，几乎完全是用很大的石块(即使是内部的)建造的，这些石块非常擅长阻挡射频信号。在Z-Wave和ZigBee之间，从无线的角度来看，没有太多可供选择的，但当我看到制造商对每种技术的支持时，我就做出了这个决定。如上所述，像AeoTech和Fibaro这样的公司已经在市场上有了我认为最适合我的照明控制系统的模块(开/关或调暗电路的设备)，而对ZigBee的这种支持几乎是完全不存在的，除了一些业余爱好者级别的公司。</p><p> So I found a supplier ( Vesternet – who have been great by the way) and started ordering Z-Wave modules to try out. Fast-forward 18 months or so and I’d installed (with the help of a great electrician called Lorenzo) over 150 circuits with Z-Wave control. Many of the modules I installed in that period were Fibaro generation 1 dimmer and switch (relay) units. They had a few quirks but I found that if I bought the right LED lamps (mainly Philips ones) and used the balun that you can buy to compliment a Fibaro dimmer then I could get (relatively) flicker-free dimming wirelessly.</p><p>所以我找到了一家供应商(顺便说一句，Vesternet很不错)，并开始订购Z-Wave模块来试用。快进18个月左右，我(在一位名叫洛伦佐的伟大电工的帮助下)安装了150多条带有Z波控制的电路。我在那个时期安装的许多模块都是Fibaro的第一代调光器和开关(继电器)单元。他们有一些怪癖，但我发现，如果我买了合适的LED灯(主要是飞利浦的)，并使用你可以买到的Balun来配合Fibaro调光器，那么我就可以获得(相对)无闪烁的无线调光效果。</p><p>  Since Lorenzo was replacing most of the wiring in the house I managed to get him to bring a lot of the control cables together in around five separate locations. This simplified the task of adding devices and also helped me to keep track of the actual units. To this day I have a spreadsheet with around 500 lines (around 3 lines per circuit) which details all of the lighting circuits in the house, the circuit breaker they are connected to, the type of device that controls the circuit and its location. Unfortunately I wasn’t 100% successful in getting the control point of all the lighting circuits in one of these five locations and there are actually at least three units lost in the walls somewhere which respond to Z-Wave commands but don’t seem to control anything I can find!</p><p>由于洛伦佐正在更换房子里的大部分电线，我设法让他在大约五个不同的地方把很多控制电缆放在一起。这简化了添加设备的任务，还帮助我跟踪实际设备。到今天为止，我有一个电子表格，大约有500条线路(每条线路大约3条)，详细说明了房子里所有的照明电路，它们所连接的断路器，控制电路的设备类型及其位置。不幸的是，我没有百分百成功地找到这五个地点中任何一个照明电路的控制点，实际上至少有三个单元丢失在墙上的某个地方，它们响应Z波命令，但似乎控制不了我能找到的任何东西！</p><p>  Having chosen a technology and the modules to turn things on and off (or dim them) the next step is to decide on a central hub or controller as all Z-Wave networks need one of those. At the time a popular one was called  Vera and I initially opted for that. It had a reasonably good way of overcoming one of the problems of Z-Wave (adding a new module requires the hub and the module to be close together) which came in the form of a battery box that could power the hub while you moved it around to add modules (the AeoTech Z-Stick has a similar feature). Unfortunately Vera also had a number of downsides – a limited API to allow it to be controlled by other systems, a non-working backup system that forgot what modules had been added and a slow processor which meant adding multiple modules took a stupidly long time.</p><p>选择了一种技术和模块来打开和关闭(或调暗它们)后，下一步是决定中央集线器或控制器，因为所有Z-Wave网络都需要其中之一。当时有一款很流行的叫维拉(Vera)的，我最初选择了这个名字。它有一个相当好的方法来克服Z-Wave的一个问题(添加一个新的模块需要集线器和模块靠近)，电池盒的形式可以在你移动集线器添加模块的同时为集线器供电(AeoTech Z-Stick也有类似的功能)。不幸的是</p><p>  So began a waltz through a significant part of the available hub-landscape, taking in  Fibaro’s HC2 hub, a Mac-based home automation app called  Indigo, an open-source system called  Domoticz and finally  Home Assistant (recommended by Quentin who I mentioned previously – did I tell you he co-invented the web-cam – I did – but I guess that’s cool enough to be mentioned twice – right?). Each has their own strengths and weaknesses but ultimately a lot of the problems I found with any of these systems came down to issues with Z-Wave itself and while my sashays from one to another sometimes gave me the impression of progress they generally just shifted the shadows around and left the underlying issues unresolved.</p><p>于是，我们开始了一场华尔兹舞曲，展示了Fibaro的HC2 Hub，一款基于Mac的家庭自动化应用Indigo，一个名为Domoticz的开源系统，最后是Home Assistant(我之前提到的昆汀推荐的系统--我有没有告诉你他是网络摄像头的发明人之一--我说了--但我想这已经足够酷了--不是吗？)--这是一个基于Mac的家庭自动化应用程序，名为Domoticz的开源系统，最后是Home Assistant。每个系统都有自己的长处和短处，但归根结底，我发现其中任何一个系统的许多问题都归结为Z-Wave本身的问题。虽然我从一个系统到另一个系统的慢跑有时会给我留下进步的印象，但它们通常只是转移了阴影，没有解决根本问题。</p><p> What did prove to be significant though was the hardware on which these systems are based. The Vera and Fibaro HC2 have their own hardware platforms which are not open and this gave me quite a bit of trouble as I tried to work though the failure concentration problem that I will attempt to explicate later. The Mac-based system was good in the sense that it was based on Mac hardware which I have found to be relatively reliable. However, it was, ironically, the failure of a Mac Mini which ultimately precipitated another switch that I had been mulling due to a lack of Z-Wave diagnostics.</p><p>然而，事实证明，真正重要的是这些系统所基于的硬件。Vera和Fibaro HC2有自己的硬件平台，但都不是开放的，这给我带来了不少麻烦，因为我试图工作，尽管故障集中的问题，我稍后会尝试解释。基于Mac的系统很好，因为它是基于Mac硬件的，我发现这是相对可靠的。然而，具有讽刺意味的是，正是Mac Mini的故障最终引发了另一次切换，由于缺乏Z-Wave诊断，我一直在考虑这一点。</p><p> The systems I moved to (Domoticz and then Home Assistant) were based on Raspberry Pi hardware and that has resulted in quite a few more problems – SD card corruption due to brown-outs, reboots at unfortunate times due to me attempting to automate system updates and hardware failure initiated by some circuit breaker issues I experienced.</p><p>我转移到的系统(Domoticz和后来的Home Assistant)都是基于树莓派(Raspberry Pi)硬件的，这导致了相当多的问题-由于断电导致的SD卡损坏，由于我试图自动更新系统而不幸地重启，以及我遇到的一些断路器问题引发的硬件故障。</p><p>  The process of adding a module to a Z-Wave network is to put the hub into “include” mode and then press a button on the module while it is close to the hub. That sounds simple enough but now imagine doing this for 150 modules scattered around a house, some behind wall-plates, others in waterproof boxes, concealed in ceilings, etc.</p><p>将模块添加到Z-Wave网络的过程是将集线器置于“包含”模式，然后在模块靠近集线器时按下模块上的按钮。这听起来很简单，但现在想象一下，对散布在一所房子周围的150个模块进行这种操作，一些在墙板后面，另一些在防水盒子里，隐藏在天花板中，等等。</p><p>  It was quite onerous to do it once but I think I’ve probably done it on average three times for every module in the house plus quite a few more times for modules that I’ve moved around, or have failed and had to be replaced. That’s getting on for 500 include processes. And that’s just to get the module visible to the system. Once it is included you generally have to locate the specific function(s) of the module you want to use (e.g. a motion sensor might have a temperature reading, a light-level and an alarm setting in addition to the motion detection function), then you give each function a name, then you need to indicate what room it is in, then you might want to group it with other module functions (so, for instance, a mood setting in the dining room sets the light levels on five different modules via a scene or group). All of that needs to be typed in and you will generally be doing this while wandering around, so you will do it on a laptop or tablet and sometimes up a ladder or in a cupboard.</p><p>做一次是相当繁重的，但我想我可能已经为房子里的每个模块平均做了三次，再加上我移动过的模块，或者出现故障而不得不更换的模块，我可能已经做了相当多的次。其中包括500个进程。这只是为了让系统可以看到模块。一旦它被包括在内，你通常必须找到你想要使用的模块的特定功能(例如，除了动作检测功能之外，运动传感器可能还有温度读数、亮度和警报设置)，然后你给每个功能命名，然后你需要指出它在哪个房间，然后你可能想要将它与其他模块功能组合在一起(例如，餐厅中的情绪设置通过场景或组来设置五个不同模块上的光线水平)。(例如，餐厅中的情绪设置可以通过场景或组来设置五个不同模块上的光线水平)，然后你需要将其与其他模块功能组合在一起(例如，餐厅中的情绪设置可以通过场景或组来设置五个不同模块上的光线水平)。所有这些都需要输入，你通常会在四处走动的时候输入，所以你会在笔记本电脑或平板电脑上输入，有时还会爬上梯子或放在橱柜里。</p><p> I have now gotten to the stage where I dread some modules failing. The one that controls a water-feature in the garden is in a sealed box, the one that controls an out-door heater is in a small loft area that can only be accessed by a rickety ladder, the one for the guest-room extractor fan is in a crawl space, etc. This can’t be the right way to do things can it?</p><p>现在，我已经到了害怕某些模块出现故障的阶段。控制花园里的水景的那个在一个密封的盒子里，控制室外加热器的那个在一个只能通过摇摇晃晃的梯子才能进入的小阁楼里，客房抽气扇的那个在爬行的空间里，等等。这不可能是正确的做法，对不对？</p><p> When I compare this to the way IT operations used to be compared to the way dev-ops is now I think it is fair to say that we are just at the start and that things must change. It used to be normal that an IT person would have to physically sit at a computer for hour on end to install OSes, applications and security. Now it is done remotely and automatically on predominantly virtualized hardware. Furthermore, most apps are now in the cloud and the management of the servers that run them are automated to the Nth degree. Home automation and IoT have a long way to go!</p><p>当我将这与过去IT运营与现在的开发运营方式进行比较时，我认为可以公平地说，我们才刚刚开始，情况必须改变。过去，IT人员不得不连续数小时坐在计算机前安装操作系统、应用程序和安全性，这是很正常的。现在，它是在以虚拟化为主的硬件上远程自动完成的。此外，大多数应用程序现在都在云中，运行它们的服务器的管理达到了N级自动化。家庭自动化和物联网还有很长的路要走！</p><p>  As mentioned a common challenge with Z-Wave is that introducing a new module to the network requires the module and hub to be close together. This actually creates a lot of work. There are two main ways to handle this:</p><p>如前所述，Z-Wave的一个常见挑战是将新模块引入网络需要模块和集线器靠得很近。这实际上创造了大量的工作。有两种主要方法来处理此问题：</p><p> power the module up when it is close to the hub and then move it later</p><p>当模块靠近集线器时打开电源，稍后再移动。</p><p> Both options are problematic if you are relying on the mesh network capabilities to extend the range of the network because the mesh works by finding routes from one module to another so that it can communicate at distance.</p><p>如果您依赖网状网功能来扩展网络范围，则这两种选择都有问题，因为网状网的工作方式是查找从一个模块到另一个模块的路由，以便它可以远距离通信。</p><p>  In the first case the hub will think that the module can be communicated directly – rather than through the mesh. In the second the module will have the wrong list of neighbors altogether.</p><p>在第一种情况下，集线器会认为模块可以直接通信-而不是通过网格。在第二种情况下，模块的邻居列表将完全错误。</p><p> In both cases, when a module is added, the hub always considers that it is in direct communication with the module so it has to be disabused of this before it will operate properly when the hub is returned to it’s proper place. The way to achieve this is to “heal” the network and this involves sending lots of messages around to discover which modules are neighbors of (can “hear”) each-other. This leads to the next problem</p><p>在这两种情况下，当添加模块时，集线器总是认为它与模块直接通信，因此当集线器返回到正确位置时，它必须消除这一点才能正常运行。实现这一点的方法是“修复”网络，这涉及到四处发送大量消息，以发现哪些模块是彼此的邻居(可以“听到”)。这就引出了下一个问题。</p><p>  With a small network a “heal” is relatively quick but as the network grows it can take a lot longer and if things have moved around or aren’t powered on then there can be big problems.</p><p>对于小型网络，“修复”相对较快，但随着网络的发展，可能需要更长的时间，如果东西已经移动或没有通电，那么可能会出现大问题。</p><p> With just a few modules a full network heal took only a few minutes but as I added more and more devices the heal took longer and longer and eventually it didn’t complete overnight. In the first version of Z-Wave a nightly-heal was recommended but I quickly went past the point where this was possible – well before I got to 100 modules I think.</p><p>只有几个模块，一个完整的网络修复只需要几分钟，但随着我添加越来越多的设备，修复花费的时间越来越长，最终它不是一夜之间完成的。在Z-Wave的第一个版本中，推荐进行夜间治疗，但我很快就通过了这一点--我想，早在我讲到100个模块之前，这一点就已经可以实现了。</p><p> I’ve read quite a bit about improvements made to the “heal” operation in Z-Wave Plus and, indeed I did start buying Z-Wave Plus devices to replace failed Z-Wave ones. But I haven’t been able to detect any improvement – possibly because I now have a mixed network of Z-Wave and Z-Wave Plus devices. For completeness though I did try creating yet another network with only Z-Wave Plus devices but I didn’t get far enough testing it before I gave up due to other issues.</p><p>我读过很多关于Z-Wave Plus的“修复”操作的改进，事实上，我确实开始购买Z-Wave Plus设备来替换故障的Z-Wave设备。但我没有察觉到任何改进--可能是因为我现在使用的是Z-Wave和Z-Wave Plus设备的混合网络。不过，为了完整性，我确实试着创建了另一个只有Z-Wave Plus设备的网络，但在因为其他问题而放弃之前，我没有进行足够的测试。</p><p>  Z-Wave is a proprietary protocol and this is blamed by several suppliers of home automation software for the lack of backup capabilities on their Z-Wave network hubs. It is also exacerbated by the many different approaches used for actual Z-Wave connection to the hub. For instance Domoticz, Home Assistant and others are open-source software packages that make use of the third-party library OpenZWave (OZW) to connect to your network.</p><p>Z-Wave是一种专有协议，几家家庭自动化软件供应商将其Z-Wave网络集线器缺乏备份功能归咎于此。实际Z波连接到集线器所使用的许多不同方法也加剧了这一问题。例如，Domoticz、Home Assistant和其他软件都是开源软件包，它们利用第三方程序库OpenZWave(OZW)连接到您的网络。</p><p> Also, the actual hardware used to connect is generally a USB dongle ( AeoTech Z-Stick or  ZWave.Me for instance) or the  RaZberry which is a Raspberry Pi compatible add-on. To back-up each of these devices requires a different piece of software and, as far as I’m aware, can’t be done while the device is connected through OZW. So every time you change the configuration of your Z-Wave network you would need to bring down the home automation software and backup the memory on the USB dongle.</p><p>此外，用于连接的实际硬件通常是USB加密狗(例如AeoTech Z-Stick或ZWave.Me)或RaZberry，这是一个与Raspberry PI兼容的附加组件。备份这些设备需要不同的软件，据我所知，如果设备是通过OZW连接的，是不可能做到的。因此，每次更改Z-Wave网络的配置时，您都需要关闭家庭自动化软件并备份USB加密狗上的内存。</p><p> I think it is fair to say that no dev-ops person worth their salt would accept a system so likely to be prone to human error.</p><p>我认为，公平地说，没有一个称职的开发人员会接受一个如此容易出现人为错误的系统。</p><p> A further issue is that the configuration of the network (stored in non-volatile memory on the USB dongle) and the home automation software configuration (names of devices, rooms, groups, scenes, rules – for instance turning devices on and off at specific times) are stored (and backed-up) separately from each other and using different backup mechanisms. But if these backups are out-of-step then it isn’t possible to restore the full capabilities of the system.  Here’s a brief explanation of why backup isn’t possible.</p><p>另一个问题是，网络配置(存储在USB加密狗上的非易失性存储器中)和家庭自动化软件配置(设备名称、房间、组、场景、规则-例如在特定时间打开和关闭设备)彼此分开地存储(和备份)，并且使用不同的备份机制。但是，如果这些备份不同步，则不可能恢复系统的全部功能。下面简要解释一下为什么备份是不可能的。</p><p>  Once upon a time I had a friend who was sceptical about wireless lighting systems. I told him that the system was run by a computer and this was when he pounced. “What if the power goes down” he said, “your computer will be off and you won’t be able to control the lights”. Of course I scoffed and pointed out that if there was no power there would be nothing to power then lights. 1-0 to me!</p><p>曾几何时，我有一个朋友，他对无线照明系统持怀疑态度。我告诉他，系统是由一台计算机运行的，这就是他突袭的时候。“如果停电了，”他说，“你的电脑就会关机，你就无法控制灯光了。”当然，我嘲笑并指出，如果没有电，除了灯，就没有什么可以供电的了。我是1比0！</p><p> But I am the one who should have thought more carefully. Any network that depends on a single central hub (as Z-Wave does) has a single point of failure – which is an extension of his point I guess. Since a Z-Wave hub has a number of components, the failure of any of these can bring the network down. Over the years the main elements of the hub (Raspberry Pi – due to SD card corruption, Domoticz software – due to buggy updates and the USB stick – due to being physically damaged) have all been a problem for me.</p><p>但我才是那个应该更仔细考虑的人。任何依赖于单一中心集线器的网络(如Z-Wave)都会出现单点故障--我想这是他观点的延伸。由于Z-Wave集线器有许多组件，其中任何一个组件的故障都可能导致网络瘫痪。多年来，集线器的主要部件(树莓PI-由于SD卡损坏，Domoticz软件-由于错误更新和U盘-由于物理损坏)一直是我的问题。</p><p> A single software/hardware/connection failure at the hub means I can’t turn on any of the lights in the whole house. This is a huge problem for this technology!</p><p>集线器上的一个软件/硬件/连接故障意味着我无法打开整个房子里的任何一盏灯。这对这项技术来说是个大问题！</p><p> Of course anyone familiar with Z-Wave will tell you that there is a way around this concentration issue by adding a secondary controller. But this leads me to the related problem. Complexity.</p><p>当然，任何熟悉Z-Wave的人都会告诉你，有一种方法可以通过添加辅助控制器来解决这个集中问题。但这就引出了一个相关的问题。复杂性。</p><p> Adding a secondary controller is a non-trivial exercise and is not well supported by any of the home automation platforms I’ve tried.  The fact is that the secondary capability is really only handled at the level of basic network configuration. Ideally you would host the secondary on a different hardware and software platform in case it is a systematic issue but this results in having to set up the entire system a second time.</p><p>添加辅助控制器不是一件轻而易举的事情，我尝试过的任何家庭自动化平台都不能很好地支持它。事实上，辅助功能实际上只在基本网络配置级别进行处理。理想情况下，您应该将辅助控制器托管在不同的硬件和软件平台上，以防这是一个系统性问题，但这会导致不得不再次设置整个系统。</p><p> I’ve tried several times to set up a secondary controller and actually have the system fail-over to it but every time it has either been too complex and time-consuming or it has just failed for reasons too difficult to identify when push-came-to-shove.</p><p>我曾多次尝试设置辅助控制器，并实际让系统故障转移到辅助控制器上，但每次要么太复杂、太耗时，要么就是因为太难确定何时到了紧要关头而失败了。</p><p>  Another problem, if you aren’t tired of this yet, is the unacceptable rate of failure of modules in moderately large network. I now have around 150 modules and I think it is safe to say that I haven’t had a single month in the last five years when no modules have failed. I can’t keep up with the rate of failure. Right now there around 7 dead nodes on the network and at least three modules are indicating that they are functional but not operating correctly.</p><p>另一个问题(如果您还没有厌倦的话)是中等规模网络中模块的不可接受的故障率。我现在有大约150个模块，我认为可以肯定地说，在过去的五年里，我没有一个月的时间没有模块出现故障。我跟不上失败率。目前，网络上大约有7个死节点，至少有3个模块表明它们工作正常，但运行不正常。</p><p>  Admittedly some of this was probably caused by a whole-street power failure which occurred last month and that also caused an SD corruption issue on a Raspberry Pi. But whatever the reason, even if each module has a mean-time-between-failure (MTBF) of 100,000 hours (more than 10 years), when you combine 150 of them into a system then the MTBF for one module is actually less than one month.</p><p>诚然，这其中的一些原因可能是上个月发生的整条街的停电，这也导致了一辆覆盆子PI上的SD腐败问题。但不管是什么原因，即使每个模块的平均无故障时间(MTBF)为100,000小时(超过10年)，当您将150个模块合并到一个系统中时，一个模块的平均故障间隔时间(MTBF)实际上不到一个月。</p><p> So the only ways to get anywhere near an MTBF of a year or more would be to reduce the number of modules by a factor of more than 10 or to massively increase the reliability of each one.</p><p>因此，接近一年或更长时间的MTBF的唯一方法是将模块的数量减少10倍以上，或者大幅提高每个模块的可靠性。</p><p>  Now for another group of problems associated with modules that are either really dead, not dead but not communicating reliably, not dead but unreachable, not dead but have been off some time, etc. With any communications system there have to be some methods to handle communication or node failure which result in a degraded but still functional system. In a mesh network this is harder because a node which has failed or isn’t communicating reliably may be part of a path used to reach other nodes further away in the network.</p><p>现在来看另一组与模块相关的问题，这些模块要么真的死了，要么死了但通信不可靠，要么死了但无法到达，要么死了但已经关机了一段时间，等等。对于任何通信系统，都必须有一些方法来处理通信或节点故障，这些故障会导致系统降级但仍能正常工作。在网状网络中，这比较困难，因为出现故障或通信不可靠的节点可能是用于到达网络中更远的其他节点的路径的一部分。</p><p> The main way Z-Wave handles the lack of communication of a node is to gradually reduce the rate at which communication is attempted until it gives up altogether. This might work ok in a small network but in my experience the idea of giving up on a node altogether probably costs me a couple of hours a month in maintenance. Every time this happens – and it happened to about 10 nodes when we had a power failure while I was away – forces me to locate the module and physically press a button on it to wake the node and get it communicating.</p><p>Z-Wave处理节点通信不足的主要方式是逐渐降低尝试通信的速率，直到完全放弃通信。这在小型网络中可能行得通，但根据我的经验，完全放弃一个节点的想法可能每个月要花费我几个小时的维护时间。每次发生这种情况时--当我不在的时候我们停电时，大约有10个节点会发生这种情况--迫使我找到模块，并按下模块上的一个按钮来唤醒节点，让它进行通信。</p><p> I believe that if the network was setup in polling mode then this wouldn’t be a problem. But polling is a time consuming operation and for all but the smallest Z-Wave networks it is discouraged. So anyone thinking about a large-ish network should build-in time for spotting and fixing these issues and, if you don’t keep better records than me, a lot of that time will be spent wandering around trying to find the module which controls that light in the hall that used to work but now doesn’t.</p><p>我相信，如果网络设置为轮询模式，那么这不会是问题。但轮询是一项耗时的操作，除了最小的Z-Wave网络，其他所有网络都不鼓励轮询。因此，任何想要建立一个大型网络的人都应该有足够的时间来发现和修复这些问题，如果你没有比我做得更好的记录，那么很多时间都会花在四处寻找控制大厅里的灯的模块，这个模块曾经有效，但现在不起作用了。</p><p>  The power failure I mentioned before was probably the main thing that pushed me into ditching the majority of the Z-Wave system. But a full power outage isn’t the only issue I’ve had of this kind. Several mini-outages have occurred due to circuit-breakers. These perform an important function of course and can trip the power if a person inadvertently touches a live wire or if there is water ingress into a light fitting, etc.</p><p>我之前提到的停电可能是促使我放弃大部分Z-Wave系统的主要原因。但全面停电并不是我遇到的唯一这类问题。由于断路器，已经发生了几次小型停电。当然，它们发挥着重要的作用，如果一个人不小心接触到带电的电线，或者如果有水进入灯具等，它们可能会触发电源。</p><p> Since a number of our lighting circuits are outdoor we’ve had quite a few of these kinds of outage. Light fixtures such as pillar lights seem to last around five years before there is a good chance of water ingress. Up-lights set into paving probably last around the same amount of time. A set of christmas lights we put in a tree in the garden seem to work for around six months before something trips their circuit-breaker. And the lights we put under a feature-wall in the garden didn’t work for more than a week before they had to be disconnected completely as they tripped the circuit-breaker almost immediately every time they came on.</p><p>由于我们的许多照明线路都是室外的，我们已经经历了相当多的这类停电。柱灯等灯具似乎可以持续五年左右，才有很好的机会进水。设置在路面上的照明灯可能会持续大约相同的时间。我们放在花园里的一棵树上的一组圣诞彩灯似乎工作了大约六个月，直到有什么东西触发了它们的断路器。我们放在花园里的特色墙下的灯在一周多的时间里都不工作，直到它们不得不完全断开，因为它们几乎每次亮起来都会立即触发断路器。</p><p> Each time this happens on a less obvious circuit, the module ends up with a “dead” indicator in Domoticz and the only way I’ve managed to revive them has been to open up the enclosure they are in and press the little button to get them talking. What a waste of time!</p><p>每次在不太明显的线路上发生这种情况时，模块在Domoticz上都会显示一个“死”指示灯，而我设法使它们苏醒的唯一方法就是打开它们所在的外壳，按下小按钮让它们说话。真是浪费时间！</p><p>  Diagnostic tools are an important part of any technology that is more than moderately complicated. I would say that Z-Wave falls easily into the complicated bracket but the tools available are poor at best. Some of he home-automation apps have rudimentary route-map and logging tools and there are some log files that you can access from Open Z-Wave if you look hard but in general you are pretty much on your own. The tools from ZWave.me are some of the best at the lower level but their user interface and home-automation is pretty poor. There are also some proprietary tools but I paid for a couple and they are not that helpful.</p><p>诊断工具是任何中等复杂程度以上的技术的重要组成部分。我想说，Z-Wave很容易归入复杂的范围，但可用的工具充其量也是糟糕的。一些家庭自动化应用程序有基本的路线图和记录工具，还有一些日志文件，如果你仔细看的话，你可以从Open Z-Wave访问这些文件，但总的来说，你基本上只能靠自己了。ZWave.me的工具在较低级别是最好的，但它们的用户界面和家庭自动化相当差。也有一些专有工具，但我花钱买了几个，它们没有太大帮助。</p><p>  In the end a technology like Z-Wave which is marketed for the home user needs to “just-work”. If a regular user has to start connecting up test equipment or disconnecting their home automation system such that diagnostics can be run on part of it then there is a problem of maturity and quality in the current solutions.</p><p>最终，像Z-Wave这样的面向家庭用户的技术需要“正常工作”。如果一个普通用户不得不开始连接测试设备或断开他们的家庭自动化系统，以便在其中的一部分上运行诊断，那么当前的解决方案就存在成熟度和质量的问题。</p><p> I have found many occasions where things I thought I knew – like the routing the hub would take for a particular module – have proven incorrect – perhaps because a heal changed things unexpectedly – or because a new mo</p><p>我发现很多情况下，我认为我知道的事情--比如集线器对特定模块采取的路线--被证明是不正确的--可能是因为治愈出乎意料地改变了事情--或者是因为一个新的管理模式。</p><p>......</p><p>.</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://robdobson.com/2020/11/the-10-reasons-i-ripped-out-a-6k-lighting-system/">https://robdobson.com/2020/11/the-10-reasons-i-ripped-out-a-6k-lighting-system/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/系统/">#系统</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/reasons/">#reasons</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/模块/">#模块</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1035245.html"><img src="http://img2.diglog.com/img/2020/11/thumb_b4532d7463994d1c86bfe6f62b32ee79.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1035245.html">悲伤的域名系统解释</a></div><span class="my_story_list_date">2020-11-15 15:46</span></div><div class="col-sm"><div><a target="_blank" href="/story/1035118.html"><img src="http://img2.diglog.com/img/2020/11/thumb_390dde6cffc523654112e5d0cdbdc2db.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1035118.html">评级系统能帮助权衡科普书籍中的说法吗？(2019年)</a></div><span class="my_story_list_date">2020-11-14 21:21</span></div><div class="col-sm"><div><a target="_blank" href="/story/1034754.html"><img src="http://img2.diglog.com/img/2020/11/thumb_8c211aac604e1466d518d906fef1d40b.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034754.html">使用Erlang/OTP 22进行性能回归</a></div><span class="my_story_list_date">2020-11-12 20:37</span></div><div class="col-sm"><div><a target="_blank" href="/story/1034680.html"><img src="http://img2.diglog.com/img/2020/11/thumb_b7bf5fc2265a6b758cbc2dfee950ac83.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034680.html">
里维安正在将其免提驾驶辅助系统作为其制造的“每一辆车”的标准</a></div><span class="my_story_list_date">2020-11-12 7:46</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>