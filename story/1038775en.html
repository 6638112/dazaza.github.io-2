<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Deno 1.6支持将TypeScript编译为单个可执行文件 Deno 1.6 supports compiling TypeScript to a single executable</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Deno 1.6 supports compiling TypeScript to a single executable<br/>Deno 1.6支持将TypeScript编译为单个可执行文件 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-10 07:07:51</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/39e5a1a2cf9b16f7d483e691b5369055.png"><img src="http://img2.diglog.com/img/2020/12/39e5a1a2cf9b16f7d483e691b5369055.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>As a  developer, I install  deno and use the helpful additional functions such as doc generation, formatting, linting, bundling, file watching, testing, etc to develop my program. Anything that isn&#39;t relevant once a program has been deployed is included in this Deno release. It would also have the requested feature here of  deno compile. The compile subcommand should NOT need a Rust toolchain installed to be functional though as it would defeat one of the benefits of developing with Deno, that is only needing one self contained binary to get started developing. If possible, it should be that  deno compile can create a self contained binary for different platforms by using a precompiled  deno-run binary for the target architecture. These  deno-run binaries don&#39;t need to be included in the full  deno binary. In fact, it should be possible to use a flag to point to the lightweight Deno binary to include in the final binary (as a bonus benefit, allowing the developer the flexibility to use a customised binary based on the result of implementing option B). Otherwise  deno could download an appropriate  deno-run binary from Denoland and cache it for future use by default. The final &#39;compiled&#39; binary is just a wrapper around an appropriately tested Deno bundle and  deno-run</p><p>作为开发人员，我安装deno并使用有用的附加功能（例如doc生成，格式化，整理，捆绑，文件监视，测试等）来开发程序。此Deno版本中包含与程序一旦部署无关的所有内容。在这里，它还将具有deno编译所需的功能。 compile子命令不需要安装Rust工具链即可运行，因为它会破坏使用Deno开发的好处之一，那就是只需要一个自包含的二进制文件即可开始开发。如果可能的话，应该通过使用目标架构的预编译deno-run二进制文件，deno编译可以为不同平台创建一个自包含的二进制文件。这些deno-run二进制文件不需要包含在完整deno二进制文件中。实际上，应该可以使用一个标志来指向要包含在最终二进制文件中的轻量级Deno二进制文件（作为一项额外的好处，这使开发人员可以根据实现选项B的结果灵活地使用自定义的二进制文件）。否则，deno可以从Denoland下载适当的deno-run二进制文件，并默认将其缓存以备将来使用。最终的“编译”二进制文件只是经过适当测试的Deno包和deno-run的包装</p><p> As an  administrator, I can download the source code of a Deno program, inspect it as needed and run it on a server using  deno-server (or use CI tools to automate this). This Deno release still has the ability to transpile TS to JS, download modules from URLs, full logging capabilities, lockfiles, security flags (where an administrator is more likely to understand the implications and it will have greater value), etc. An administrator can also include plugins and extend the original developers code using this option. Ultimately, I would expect that as an administrator, I would compile the developers Deno code and any desired plugins for use in containerised environments, but that&#39;s up to me. If it makes sense to just install one  deno-server binary and run a bunch of code from that, I have the option. Transpiling from TS to JS at startup in these scenarios is also unlikely to be a major issue as the benefit of seeing the source as it was written will outweigh any issues of slow downs on startup and I can otherwise compile it myself if it is a problem.</p><p> 作为管理员，我可以下载Deno程序的源代码，根据需要对其进行检查，然后使用deno-server在服务器上运行（或使用CI工具自动执行此操作）。这个Deno版本仍然具有将TS转换为JS，从URL下载模块，完整的日志记录功能，锁定文件，安全标志（管理员更可能理解其含义，并且将具有更大的价值）的能力，等等​​。管理员可以还包括插件，并使用此选项扩展原始开发人员代码。最终，我希望作为管理员，我可以编译开发人员的Deno代码以及在容器化环境中使用的任何所需插件，但这取决于我。如果仅安装一个deno-server二进制文件并从中运行一堆代码有意义，那么我可以选择。在这些情况下，在启动时从TS转换为JS也不大可能成为主要问题，因为查看源代码的好处将胜过启动速度减慢的任何问题，如果有问题，我可以自己编译。</p><p> As an  end user, I can download a self contained, lightweight binary with no awareness of what code is in it other than what is labeled on the box (so to speak). I run it knowing it can do anything any other executable file can do (no need for permission flags). All this binary contains is the  developers bundled source code and the linked  deno-run binary. If it needs to log anything beyond fatal errors, the developer will have written that code in themselves. Because the transpiling of TS was done on the developers machine and every extra feature of Deno that is no longer needed is removed, it is as fast and lightweight as possible.</p><p> 作为最终用户，我可以下载一个自包含的，轻量级的二进制文件，而不必知道其中包含的代码（包装上标明的内容除外）的含义。我知道它可以执行任何其他可执行文件可以执行的任何操作（不需要权限标志）。这些二进制文件仅包含开发人员捆绑的源代码和链接的deno-run二进制文件。如果需要记录致命错误以外的所有内容，则开发人员将自己编写该代码。由于TS的转译是在开发人员机器上完成的，并且删除了不再需要的Deno的所有其他功能，因此它尽可能快且轻巧。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/denoland/deno/issues/986#issuecomment-740756795">https://github.com/denoland/deno/issues/986#issuecomment-740756795</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/编译/">#编译</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/compiling/">#compiling</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/deno/">#deno</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1038050.html"><img src="http://img2.diglog.com/img/2020/12/thumb_38ab2f586e1efef00a85f89bcea553e2.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1038050.html">基于MIR（中等内部表示）的轻量级JIT编译器 </a></div><span class="my_story_list_date">2020-12-6 20:1</span></div><div class="col-sm"><div><a target="_blank" href="/story/1038019.html"><img src="http://img2.diglog.com/img/2020/12/thumb_022ae1f163e3837faf7572f4d1b4761b.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1038019.html">Template Haskell和交叉编译的故事 </a></div><span class="my_story_list_date">2020-12-6 14:57</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037150.html"><img src="http://img2.diglog.com/img/2020/11/thumb_b5310b7ab14bd3f2dcb5e98a7f9dc32a.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037150.html">Richard Miller的RISC-V计划9 C编译器[视频]</a></div><span class="my_story_list_date">2020-11-30 0:30</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037116.html"><img src="http://img2.diglog.com/img/2020/11/thumb_025b67dc2053e70abacf6317da9484ff.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037116.html">Nim编译器— Pascal源代码</a></div><span class="my_story_list_date">2020-11-29 16:5</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>