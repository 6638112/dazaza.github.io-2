<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Pgcli–带自动补全和语法突出显示的Postgres CLIPgcli – Postgres CLI with autocompletion and syntax highlighting</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Pgcli – Postgres CLI with autocompletion and syntax highlighting<br/>Pgcli–带自动补全和语法突出显示的Postgres CLI</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2022-02-15 02:32:10</div><div class="page_narrow text-break page_content"><p>$ pip install -U pgclior$ sudo apt-get install pgcli # Only on Debian based Linux (e.g. Ubuntu, Mint, etc)$ brew install pgcli # Only on macOS</p><p>$pip install-U pgclior$sudo apt get install pgcli#仅适用于基于Debian的Linux（如Ubuntu、Mint等）$brew install pgcli#仅适用于macOS</p><p>  If you are restricted to using psycopg2 2.7.x then pip will try to install it from a binary. There are some known issues with the psycopg2 2.7 binary - see the  psycopg docs for more information about this and how to force installation from source. psycopg2 2.8 has fixed these problems, and will build from source.</p><p>如果您仅限于使用psycopg2 2.7。然后pip将尝试从二进制文件安装它。psycopg2 2.7二进制文件存在一些已知问题——请参阅psycopg文档，以了解有关这一点以及如何从源代码强制安装的更多信息。psycopg2 2.8已经修复了这些问题，并将从源代码开始构建。</p><p>       $ pgcli --helpUsage: pgcli [OPTIONS] [DBNAME] [USERNAME]Options: -h, --host TEXT Host address of the postgres database. -p, --port INTEGER Port number at which the postgres instance is listening. -U, --username TEXT Username to connect to the postgres database. -u, --user TEXT Username to connect to the postgres database. -W, --password Force password prompt. -w, --no-password Never prompt for password. --single-connection Do not use a separate connection for completions. -v, --version Version of pgcli. -d, --dbname TEXT database name to connect to. --pgclirc FILE Location of pgclirc file. -D, --dsn TEXT Use DSN configured into the [alias_dsn] section of pgclirc file. --list-dsn list of DSN configured into the [alias_dsn] section of pgclirc file. --row-limit INTEGER Set threshold for row limit prompt. Use 0 to disable prompt. --less-chatty Skip intro on startup and goodbye on exit. --prompt TEXT Prompt format (Default: &#34;\u@\h:\d&gt; &#34;). --prompt-dsn TEXT Prompt format for connections using DSN aliases (Default: &#34;\u@\h:\d&gt; &#34;). -l, --list list available databases, then exit. --auto-vertical-output Automatically switch to vertical output mode if the result is wider than the terminal width. --warn [all|moderate|off] Warn before running a destructive query. --help Show this message and exit.</p><p>$pgcli--helpUsage:pgcli[OPTIONS][DBNAME][USERNAME]OPTIONS:-h，--postgres数据库的主机文本主机地址-p、 --端口整数postgres实例正在侦听的端口号-U、 --连接到postgres数据库的用户名文本用户名-u、 --连接到postgres数据库的用户文本用户名-W、 --密码强制密码提示-w、 --无密码从不提示输入密码--单一连接不使用单独的连接来完成-v、 --pgcli的版本-d、 --要连接的dbname文本数据库名称--pgclirc文件pgclirc文件的位置-D、 --dsn TEXT使用配置到pgclirc文件[alias_dsn]部分的dsn--列出配置到pgclirc文件[alias_dsn]部分的dsn列表--行限制整数设置行限制提示的阈值。使用0禁用提示--不要那么健谈，启动时跳过介绍，退出时再见--提示文本提示格式（默认值：&#34；\u@\h:\d&gt；&#34；）--使用dsn别名的连接的提示dsn文本提示格式（默认值：&#34；\u@\h:\d&gt；&#34；）-l、 --列出可用的数据库，然后退出--自动垂直输出如果结果大于终端宽度，则自动切换到垂直输出模式--警告[全部|适度|关闭]在运行破坏性查询之前发出警告--帮助显示此消息并退出。</p><p> pgcli also supports many of the same  environment variables as  psql for login options (e.g.  PGHOST,  PGPORT,  PGUSER,  PGPASSWORD,  PGDATABASE).</p><p>pgcli还支持许多与psql相同的登录选项环境变量（例如PGHOST、PGPORT、PGUSER、PGPASSWORD、PGDATABASE）。</p><p> The SSL-related environment variables are also supported, so if you need to connect a postgres database via ssl connection, you can set set environment like this:</p><p>还支持与SSL相关的环境变量，因此如果需要通过SSL连接连接postgres数据库，可以如下设置环境：</p><p>     Auto-completes as you type for SQL keywords as well as tables andcolumns in the database.</p><p>在数据库中键入SQL关键字以及表和列时，自动完成。</p><p>   A config file is automatically created at  ~/.config/pgcli/config at first launch.See the file itself for a description of all available options.</p><p>配置文件在~/处自动创建。第一次启动时的config/pgcli/config。有关所有可用选项的说明，请参见文件本身。</p><p>   If you&#39;re interested in contributing to this project, first of all I would liketo extend my heartfelt gratitude. I&#39;ve written a small doc to describe how toget this running in a development setup.</p><p>如果你&#39；如果你有兴趣为这个项目做出贡献，首先我想表达我衷心的感谢。我&#39；我已经写了一个小文档来描述如何在开发设置中运行它。</p><p>  Please feel free to reach out to me if you need help.My email:  amjith.r@gmail.com, Twitter:  @amjithr</p><p>如果你需要帮助，请随时联系我。我的电子邮件：amjith。r@gmail.com，推特：@amjithr</p><p>        Alternatively, you can install  pgcli as a python package using a packagemanager called called  pip. You will need postgres installed on your systemfor this to work.</p><p>或者，可以使用名为pip的packagemanager将pgcli作为python包安装。你需要在你的系统上安装postgres才能正常工作。</p><p>     If that fails due to permission issues, you might need to run the command withsudo permissions.</p><p>如果由于权限问题而失败，则可能需要使用sudo权限运行该命令。</p><p>         If it doesn&#39;t exist, use your linux package manager to install pip. Thismight look something like:</p><p>如果没有&#39；如果不存在，请使用linux软件包管理器安装pip。这看起来可能是：</p><p> $ sudo apt-get install python-pip # Debian, Ubuntu, Mint etcor$ sudo yum install python-pip # RHEL, Centos, Fedora etc</p><p>$sudo apt get install python pip#Debian、Ubuntu、Mint等$sudo yum install python pip#RHEL、Centos、Fedora等</p><p> pgcli requires python-dev, libpq-dev and libevent-dev packages. You caninstall these via your operating system package manager.</p><p>pgcli需要python开发包、libpq开发包和libevent开发包。您可以通过操作系统包管理器安装这些。</p><p>      Pgcli can be run from within Docker. This can be useful to try pgcli withoutinstalling it, or any dependencies, system-wide.</p><p>Pgcli可以从Docker内部运行。这对于在不暂停pgcli或任何依赖项的情况下在系统范围内尝试pgcli非常有用。</p><p>     To access postgresql databases listening on localhost, make sure to run thedocker in &#34;host net mode&#34;. E.g. to access a database called &#34;foo&#34; on thepostgresql server running on localhost:5432 (the standard port):</p><p>要访问在本地主机上侦听的postgresql数据库，请确保在&#34；主机网络模式&#34；。例如，访问名为&#34的数据库；34岁；在本地主机5432（标准端口）上运行的PostgreSQL server上：</p><p>  To connect to a locally running instance over a unix socket, bind the socket tothe docker container:</p><p>要通过unix套接字连接到本地运行的实例，请将套接字绑定到docker容器：</p><p>    Pgcli can be run from within  IPython console. When working on a query,it may be useful to drop into a pgcli session without leaving the IPython console, iterate on aquery, then quit pgcli to find the query results in your IPython workspace.</p><p>Pgcli可以在IPython控制台内运行。在处理查询时，在不离开IPython控制台的情况下进入pgcli会话，在aquery上迭代，然后退出pgcli以在IPython工作区中查找查询结果可能会很有用。</p><p>      In [2]: %pgcli postgres://someone@localhost:5432/worldConnected: someone@worldsomeone@localhost:world&gt; select * from city c where countrycode = &#39;USA&#39; and population &gt; 1000000;+------+--------------+---------------+--------------+--------------+| id | name | countrycode | district | population ||------+--------------+---------------+--------------+--------------|| 3793 | New York | USA | New York | 8008278 || 3794 | Los Angeles | USA | California | 3694820 || 3795 | Chicago | USA | Illinois | 2896016 || 3796 | Houston | USA | Texas | 1953631 || 3797 | Philadelphia | USA | Pennsylvania | 1517550 || 3798 | Phoenix | USA | Arizona | 1321045 || 3799 | San Diego | USA | California | 1223400 || 3800 | Dallas | USA | Texas | 1188580 || 3801 | San Antonio | USA | Texas | 1144646 |+------+--------------+---------------+--------------+--------------+SELECT 9Time: 0.003s</p><p>在[2]中：%pgclipostgres://someone@本地主机：5432/WorldConnect:someone@worldsomeone@localhost:world&gt；从城市c中选择*，其中countrycode=&#39；美国&#39；和人口&gt；1000000;+------+--------------+---------------+--------------+--------------+| 4.--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------第四四四四四四四4 4 4 4 4 4 4 4 4 4天，美国纽约州（纽约）纽约州（美国）纽约州（美国）纽约州（美国）美国，纽约州（纽约）美国）纽约州（纽约州）市（纽约市）的）国家（纽约市）的）2008 2008 2008 2008 2008 2008 2008 2008 2008 2008 2008 2008 2008 2008 2008年（1242007 2007 200712412441244124412441244124；2007 2007 2007 2007 2007 2007 2007 2007年年年；2007 2007 2007 2007 2007 2007年；美国洛杉矶洛杉矶洛杉矶洛杉矶（洛杉矶（洛杉矶（洛杉矶）美国）洛杉矶（美国）洛杉矶（洛杉矶）洛杉矶（洛杉矶）洛杉矶（美国）美国）洛杉矶（美国）洛杉矶（美国）美国）美国）洛杉矶（美国）美国）美国美国美国美国美国A |美国|宾夕法尼亚|1517550 | 3798 |菲尼克斯|美国|亚利桑那| 1321045 | 3799 |圣迭戈|美国|加利福尼亚| 1223400 | 3800 |达拉斯|美国|德克萨斯| 1188580 | 3801 |圣安东尼奥|美国|德克萨斯| 1144646 |+------------------+---------选择时间</p><p>  someone@localhost:world&gt;Goodbye!9 rows affected.Out[2]:[(3793, u&#39;New York&#39;, u&#39;USA&#39;, u&#39;New York&#39;, 8008278), (3794, u&#39;Los Angeles&#39;, u&#39;USA&#39;, u&#39;California&#39;, 3694820), (3795, u&#39;Chicago&#39;, u&#39;USA&#39;, u&#39;Illinois&#39;, 2896016), (3796, u&#39;Houston&#39;, u&#39;USA&#39;, u&#39;Texas&#39;, 1953631), (3797, u&#39;Philadelphia&#39;, u&#39;USA&#39;, u&#39;Pennsylvania&#39;, 1517550), (3798, u&#39;Phoenix&#39;, u&#39;USA&#39;, u&#39;Arizona&#39;, 1321045), (3799, u&#39;San Diego&#39;, u&#39;USA&#39;, u&#39;California&#39;, 1223400), (3800, u&#39;Dallas&#39;, u&#39;USA&#39;, u&#39;Texas&#39;, 1188580), (3801, u&#39;San Antonio&#39;, u&#39;USA&#39;, u&#39;Texas&#39;, 1144646)]</p><p>someone@localhost：世界&gt；再见9行受影响。（3）表示（2）n n n n（3）n n（3）n n n（3）n n n（2）n n n（3）n n n（3）n（3）n（3）3）n n（3）3）n n n）n n n n n）n n（3）3）3）n）n n n n（3）n（3）3）n）n n n（3）n（3）n）n）n）n（3）n（3）n（3）n）n）n）n）n（3）n）n）n）n（3）n）n）n）n）n（3）n）n）n（3，n）n）n）n（3）n）n）n）n（3，n）n）n）n）n）n（3）n）n）n（3）n）n）n（3）n）n）n（3）n（3）n）n）n）n（3）n）n（3796，u&#39；u&#39；u&#39；u&#39；美国&#39；u&#39；德克萨斯&#39；1953631），（3797，u和（39）u和（37 97，u和（39）39；费城和39；u和（39）u和（39）美国，美国和（39）美国，u和（39），u和（39）美国，u和（39）宾夕法尼亚州和（39）39；宾夕法尼亚州和（39）39；宾夕法尼亚州和（39）39，1517550），1517550，（3798，u和（98，u和（39）98，u和（39）u和（39）39）费城；凤凰和（39）凤凰（39）凤凰（39）凤凰和（39）凤凰（39）凤凰和（39）39）凤凰（39）39）凤凰，39）39，美国，美国，美国，美国，美国，美国，美国39；39；39；美国；美国；美国；39；美国；美国；美国；美国；美国；美国；美国；美国；美国和39；美国和39；美国；美国；美国和39；美国；美国和39；美国；美国；美国；美国和39；美国和（3800，u和#39；u和#39；达拉斯和#39；u和#39；美国和#39；u和#39；德克萨斯和#39；1188580），（3801，u和#39；圣安东尼奥和#39；，u和#39；美国和#39；，u和#39；德克萨斯州和#39；，1144646）]</p><p> The results are available in special local variable  _, and can be assigned to a variable of yourchoice:</p><p>结果可在特殊的局部变量u中获得，并可分配给您选择的变量：</p><p>  Pgcli only runs on Python3.6+ since 2.2.0, if you use an old version of Python,you should use install  pgcli &lt;= 2.2.0.</p><p>Pgcli仅在Python3上运行。6+自2.2.0以来，如果使用旧版本的Python，则应使用install pgcli&lt；=2.2.0.</p><p>   A special thanks to  Jonathan Slenders forcreating  Python Prompt Toolkit,which is quite literally the backbone library, that made this app possible.Jonathan has also provided valuable feedback and support during the developmentof this app.</p><p>特别感谢Jonathan Slenders创建Python Prompt Toolkit，它实际上是主干库，使这个应用成为可能。Jonathan在该应用的开发过程中也提供了宝贵的反馈和支持。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/postgres/">#postgres</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/pgcli/">#pgcli</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>