<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>它可能发生在你身上 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">它可能发生在你身上 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-07 11:55:29</div><div class="page_narrow text-break page_content"><p>几天前，一个迷人的Articleabout Grand Theft汽车on onlineMade The Tech New Ecosystem的回合。</p><p> 我鼓励你阅读整件事，但总之，GTA Online在解析大型JSON Blob时意外地表现出了四元级，（由于重复呼叫Strlen）;将这种改进的加载时间修复近70％。</p><p>       由于许多仔细编程，它将在2013年MacBook Pro上开设大约165毫秒的BINARES，在大约165毫秒的平板下开放了97 MB二进制STLFILE。这令人垂涎欲滴。</p><p>   固体cube_corner面正常0.0 -1.0 0.0外环顶点0.0 0.0 0.0 1.0顶点0.0 0.0顶点0.0 0.0 1.0 ENDLOOP endfacet面正常0.0 0.0 -1.0外环顶点0.0 0.0 0.0顶点0.0 1.0 0.0 1.0顶点0.0 0.0 ENDLOOP endfacet ... endsolid</p><p>  / *最自由的ASCII STL解析器：忽略除了单词＆＃39之外的所有内容;顶点＆＃39;然后读取三个浮点数。 * /</p><p> 加载ASCII STL总是似乎有点慢，但我假设你使用低效的文本格式来获得的。</p><p>    我在几年内首次重新审视Erizo，以修复宏的焦点问题 </p><p>在后续讨论中，我了解到，由于对SSCANF的呼叫重复，解析可能是二次级别的</p><p>  [erizo]（0.000000）main.c：10 |启动！[erizo]（0.162895）window.c：91 |创建窗口[erizo]（0.162900）window.c：95 |制作上下文当前[erizo]（0.168715）window.c：103 |初始化GLEW [ERIZO]（0.178329）窗口：91 |创建的窗口[erizo]（0.178333）window.c：95 |制作上下文当前[erizo]（1.818734）Loader.c：109 |解析ASCII STL [ERIZO]（1.819471）Loader.c：227 |工人有重复复杂的顶点[ERIZO]（1.819480）Loader.c：237 |得到5146个顶点（7982三角形）[Erizo]（1.819530）Loader.c：240 |等待缓冲区...... [ERIZO]（1.819624）LOADER.c：326 |分配缓冲器[ERIZO]（1.819691）Loader.c：253 |向工作线程发送缓冲区[ERIZO]（1.819883）Loader.c：258 |加入工人线程[erizo]（1.819887）Loader.c：279 | Loader Thread完成[Erizo]（1.821291）instance.c：32 |显示窗口</p><p>   / *最自由的ASCII STL解析器：忽略除了单词＆＃39之外的所有内容;顶点＆＃39;然后读取三个浮点数。 * / const char vertex_str [] =＆＃34;顶点＆＃34 ;;虽然（1）{data = strstr（数据，vertex_str）;如果（！数据）{break; } / *跳转到后面的第一个字符＆＃39;顶点＆＃39; * / data + = strlen（vertex_str）; for（unsigned i = 0; i＆lt; 3; ++ i）{skip_while（ISSPACE）; float f; const int r = sscanf（数据，＆＃34;％f＆＃34;＆amp; f）; abort_if（r == 0 || r == eof，＆＃34;未能解析浮动＆＃34;）; if（buf_size == buf_count）{buf_size * = 2;缓冲区=（float *）realloc（缓冲区，buf_size * sizeof（float））;缓冲区[buf_count ++] = f; skip_while（！isspace）; }}</p><p> 您可以注意到SSCANF，愉快地坐在那里，读取单个浮动数据流的前面并每次检查整个字符串的长度。</p><p> 是的，我已经提出了与在线GTA的程序员的完全相同的错误：我有一个意外的二次解析器！</p><p> 用Strtof替换SSCANF调用，将启动改进的启动近一个10分：从1.8秒到199毫秒。</p><p> [erizo]（0.000000）main.c：10 |启动！[erizo]（0.178082）window.c：91 |创建窗口[erizo]（0.178086）window.c：95 |制作上下文当前[erizo]（0.184226）窗口：103 |初始化GLEW [ERIZO]（0.194469）窗口：91 |创建窗口[erizo]（0.194472）window.c：95 |制作上下文当前[erizo]（0.196126）Loader.c：109 |解析ASCII STL [ERIZO]（0.196866）Loader.c：227 |工人有重复复杂的顶点[ERIZO]（0.196871）Loader.c：237 |得到5146个顶点（7982三角形）[Erizo]（0.196921）Loader.c：240 |等待缓冲区...... [ERIZO]（0.197013）loader.c：326 |分配缓冲区[ERIZO]（0.197082）Loader.c：253 |向工作线程发送缓冲区[ERIZO]（0.197303）Loader.c：258 |加入工人线程[erizo]（0.197306）Loader.c：279 | Loader Thread完成[Erizo]（0.199328）instance.c：32 |显示窗口 </p><p>这在＆＃34的噪音中回归;操作系统需要多长时间给我们一个OpenGL Context＆＃34;这是一个高性能工具的好地方。  作为一直编制多年的人，这是一个完全定时的提醒，总有陷阱。SSCanfdoes的文档不包括时间复杂性，所以这尤其棘手的Sofgun，以及我肯定是＆＃39;我肯定 ＃39;不是在黑暗中潜伏的唯一一个。  你可能没有得到如此完美的提醒，但它值得记住-Next时间你读了一个关于不良编程的迷人故事 - 这可能发生在你身上！  （显然，故事的寓意是不要使用SSCANF在字符串的前面重复单个代币; I＆＃39; M确定你和＃39;我可以避免避免那个） </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.mattkeeter.com/blog/2021-03-01-happen/">https://www.mattkeeter.com/blog/2021-03-01-happen/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/可能/">#可能</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/happen/">#happen</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/erizo/">#erizo</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1050959.html"><img src="http://img2.diglog.com/img/2021/3/thumb_27fec3b46f95a7338ce3f47dc8c78522.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1050959.html">深层科学：艺术与信件的AI冒险 </a></div><span class="my_story_list_date">2021-3-7 10:24</span></div><div class="col-sm"><div><a target="_blank" href="/story/1050939.html"><img src="http://img2.diglog.com/img/2021/3/thumb_4b309ece6e10b5e3065b22ed08b04421.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1050939.html">Torvalds警告世界：不要使用Linux 5.12-RC1内核 </a></div><span class="my_story_list_date">2021-3-7 9:54</span></div><div class="col-sm"><div><a target="_blank" href="/story/1050921.html"><img src="http://img2.diglog.com/img/2021/3/thumb_2b6d506c2d1059c89901d3c4e43ebe5c.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1050921.html">iOS 14.5实际上不会让您更改默认音乐服务 </a></div><span class="my_story_list_date">2021-3-7 9:39</span></div><div class="col-sm"><div><a target="_blank" href="/story/1050920.html"><img src="http://img2.diglog.com/img/2021/3/thumb_422c292d9d14216e49ddf6fc9ee05c2c.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1050920.html">转盘.fm从死者回来 </a></div><span class="my_story_list_date">2021-3-7 9:39</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>