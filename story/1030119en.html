<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>AWS及其数十亿美元的IPv4地址</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">AWS及其数十亿美元的IPv4地址</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-21 01:42:46</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/b8072ac85577157cdd62858db1bfdc06.jpeg"><img src="http://img2.diglog.com/img/2020/10/b8072ac85577157cdd62858db1bfdc06.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Earlier this week, I was doing some work on AWS and wanted to know what IP addresses were being used. Luckily for me, AWS publishes this all here  https://ip-ranges.amazonaws.com/ip-ranges.json. When you go through this list, you’ll quickly see that AWS has a massive asset of IPv4 allocations. Just counting quickly I noticed a lot of big prefixes.</p><p>本周早些时候，我在AWS上做了一些工作，想知道正在使用哪些IP地址。对我来说幸运的是，aws在https://ip-ranges.amazonaws.com/ip-ranges.json.上发布了这一切。当您浏览此列表时，您很快就会发现AWS拥有大量的IPv4分配资产。数得很快，我注意到有很多大的前缀。</p><p> Ever wondered what all of the AWS network ranges are? You can find them all here: https://t.co/NBaBF6w0la That&#39;s *a lot* of big prefixes! 4x /11, 14x /12, 30x /13, 78x /14, 184x /15, 278x /16</p><p>有没有想过所有的AWS网络范围都有哪些？你可以在这里找到它们：https://t.co/NBaBF6w0la那是*很多*大前缀！4x/11，14x/12，30x/13，78x/14,184x/15,278x/16，4x/11，14x/12，30x/13，78x/14,184x/15,278x/16。</p><p>— Andree Toonk, Adelante! (@atoonk)  October 13, 2020</p><p>-Andree Toonk，Adelante！(@atoonk)2020年10月13日。</p><p> However, the IPv4 ranges on that list are just the ranges that are in use and allocated today by AWS. Time to dig a bit deeper.</p><p>但是，该列表中的IPv4范围只是AWS目前正在使用和分配的范围。现在是深入挖掘的时候了。</p><p>  Over the years, AWS has acquired a lot of IPv4 address space. Most of this happens without gaining too much attention, but there were a few notable acquisitions that I’ll quickly summarize below.</p><p>多年来，AWS获得了大量的IPv4地址空间。其中大部分都没有引起太多关注，但有几个值得注意的收购，我将在下面快速总结。</p><p>  In 2017  MIT sold half of its 18.0.0.0/8 allocation to AWS. This 18.128.0.0/9 range holds about 8 million IPv4 addresses.</p><p>2017年，麻省理工学院将其18.0.0.0/8分配的一半出售给了AWS。此18.128.0.0/9范围包含大约800万个IPv4地址。</p><p>  In 2018 the IPv4 prefix 3.0.0.0/8 was transferred from GE to AWS. With this, AWS became the proud owner of its first /8! That’s sixteen million new IPv4 addresses to feed us hungry AWS customers.  https://news.ycombinator.com/item?id=18407173</p><p>2018年，IPv4前缀3.0.0.0/8从GE转移到AWS。有了这一点，AWS成为其First/8的骄傲所有者！这就是1600万个新的IPv4地址，用来满足我们饥肠辘辘的AWS客户的需求。Https://news.ycombinator.com/item?id=18407173。</p><p>  In 2019 AWS bought a /10 from AMPR.org, the Amateur Radio Digital Communications (ARDC). The IPv4 range 44.0.0.0/8 was an allocation made to the Amateur Radio organization in 1981 and known as the AMPRNet. This sell caused a fair bit of discussion, check out the  nanog discussion here.</p><p>2019年，AWS从业余无线电数字通信(ARDC)AMPR.org购买了a/10。IPv4范围44.0.0.0/8是1981年分配给业余无线电组织的，称为AMPRNet。这一出售引起了相当多的讨论，请查看此处的Nanog讨论。</p><p> Just this month, it  became public knowledge AWS paid $108 million for this /10. That’s $25.74 per IP address.</p><p>就在这个月，AWS为这个/10支付了1.08亿美元，也就是每个IP地址25.74美元。</p><p> These are just a few examples. Obviously, AWS has way more IP addresses than the three examples I listed here. The IPv4 transfer market is very active. Check out this website to get a sense of all transfers:  https://account.arin.net/public/transfer-log</p><p>这些只是几个例子。显然，AWS拥有的IP地址比我在这里列出的三个示例要多得多。IPv4转移市场非常活跃。请查看此网站，了解所有转账情况：https://account.arin.net/public/transfer-log。</p><p>  Armed with the information above it was clear that not all of the AWS owned ranges were in the  JSON that AWS published. For example, parts of the 3.0.0.0/8 range are missing. Likely because some of it is reserved for future use.</p><p>有了上面的信息，很明显，并不是所有的AWS拥有的范围都在AWS发布的JSON中。例如，缺少3.0.0.0/8范围的部分内容。很可能是因为其中一些是预留给将来使用的。</p><p> I did a bit of digging and tried to figure out how many IPv4 addresses AWS really owns. A good start is the Json that AWS publishes. I then combined that with all the ARIN, APNIC, and RIPE entries for Amazon I could find. A few examples include:   https://rdap.arin.net/registry/entity/AMAZON-4  https://rdap.arin.net/registry/entity/AMAZO-4  https://rdap.arin.net/registry/entity/AT-88-Z</p><p>我做了一些调查，试图弄清楚AWS真正拥有多少IPv4地址。AWS发布的Json是一个很好的开端。然后，我将其与我能找到的所有关于Amazon的ARIN、APNIC和RIPE条目相结合。几个示例包括：https://rdap.arin.net/registry/entity/AMAZON-4 https://rdap.arin.net/registry/entity/AMAZO-4 https://rdap.arin.net/registry/entity/AT-88-Z。</p><p> Combining all those IPv4 prefixes, removing duplicates and overlaps by aggregating them results in the following list of unique IPv4 address owned by AWS:  https://gist.github.com/atoonk/b749305012ae5b86bacba9b01160df9f#all-prefixes</p><p>将所有这些ipv4前缀组合在一起，通过聚合它们来移除重复和重叠，结果是aws拥有的唯一ipv4地址列表如下：https://gist.github.com/atoonk/b749305012ae5b86bacba9b01160df9f#all-prefixes。</p><p> The total number of IPv4 addresses in that list is just over 100 Million (100,750,168). That’s  the equivalent of just over six /8’s, not bad!</p><p>该列表中的IPv4地址总数刚刚超过1亿(100,750,168)。这相当于刚刚超过6/8，还不错！</p><p>  1x /8 =&gt; 16,777,216 IPv4 addresses1x /9 =&gt; 8,388,608 IPv4 addresses4x /10 =&gt; 16,777,216 IPv4 addresses5x /11 =&gt; 10,485,760 IPv4 addresses11x /12 =&gt; 11,534,336 IPv4 addresses13x /13 =&gt; 6,815,744 IPv4 addresses34x /14 =&gt; 8,912,896 IPv4 addresses53x /15 =&gt; 6,946,816 IPv4 addresses182x /16 =&gt; 11,927,552 IPv4 addresses&lt;and more&gt;</p><p>1x/8=&gt；16,777,216个IPv4地址1x/9=&gt；8,388,608个IPv4地址4x/10=&gt；16,777,216个IPv4地址5x/11=&gt；10,485,760个IPv4地址11x/12=&gt；11,534,336个IPv4地址13x/13=&gt；6,815,744个IPv4地址34x/14=&gt；8,912,896个IPv4地址53x/15=&gt；6,946,816个IPv4地址182x/16=&gt；11,927,552个IPv4地址&lt；以及更多。</p><p>    Since AWS is (one of) the largest buyers of IPv4 addresses, they have spent a significant amount on stacking up their IPv4 resources. It’s impossible, as an outsider, to know how much AWS paid for each deal. However, we can for fun, try to put a dollar number on AWS’ current IPv4 assets.</p><p>由于AWS是IPv4地址的最大买家之一，他们在堆叠IPv4资源上花费了大量资金。作为一个局外人，不可能知道AWS为每笔交易支付了多少钱。然而，我们可以为了好玩，试着给AWS目前的IPv4资产加上一个美元数字。</p><p> The average price for IPv4 addresses has gone up over the years. From ~$10 per IP a few years back to ~$25 per IP  nowadays.  Note that these are market prices, so if AWS would suddenly decide to sell its IPv4 addresses and overwhelm the market with supply, prices would drop. But that won’t happen since we’re all still addicted to IPv4 ;)</p><p>IPv4地址的平均价格多年来一直在上涨。从几年前的每个IP约10美元回落到现在的每个IP约25美元。请注意，这些是市场价格，因此，如果AWS突然决定出售其IPv4地址，并用大量供应压倒市场，价格将会下降。但这不会发生，因为我们都还沉迷于IPv4；)。</p><p>     It’s clear AWS is working hard behind the scenes to make sure we can all continue to build more on AWS. One final question we could look at is:  how much buffer does AWS have? ie. how healthy is their IPv4 reserve?</p><p>很明显，AWS正在幕后努力工作，以确保我们都能继续在AWS上建设更多。我们可以考虑的最后一个问题是：AWS有多少缓冲区？也就是说。他们的IPv4储备有多健康？</p><p> According to their  published data, they have allocated roughly 53 Million IPv4 addresses to existing AWS services. We found that all their IPv4 addresses combined equates to approximately 100 Million IPv4 addresses. That means they still have ~47 Million IPv4 addresses, or 47% available for future allocations. That’s pretty healthy! And on top of that, I’m sure they’ll continue to source more IPv4 addresses. The IPv4 market is still hot!</p><p>根据他们公布的数据，他们已经为现有的AWS服务分配了大约5300万个IPv4地址。我们发现，它们的所有IPv4地址加起来大约相当于1亿个IPv4地址。这意味着他们仍有约4700万个IPv4地址，或47%可供将来分配。那是相当健康的！最重要的是，我相信他们会继续寻找更多的IPv4地址。IPv4市场依然火爆！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://toonk.io/aws-and-their-billions-in-ipv4-addresses/index.html">https://toonk.io/aws-and-their-billions-in-ipv4-addresses/index.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ipv4/">#ipv4</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/billions/">#billions</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/aws/">#aws</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>