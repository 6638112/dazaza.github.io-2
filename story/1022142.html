<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>鲜为人知的Web API</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">鲜为人知的Web API</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-09-05 02:30:46</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/9/80371e02ea2f5829aee125c0631e484c.png"><img src="http://img2.diglog.com/img/2020/9/80371e02ea2f5829aee125c0631e484c.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>API是应用程序编程接口的首字母缩写，它定义了多个软件体系结构层之间的交互。程序员在软件开发中使用API可以轻松地执行复杂的任务。如果没有API，程序员的生活将是悲惨的，因为没有适当的(例如，安全的)数据访问，知道不必要的低级细节等。</p><p>当涉及到WebAPI时，有非常有用的对象、属性和函数可用于执行从访问DOM到管理音频、视频、图形等复杂任务。</p><p>如果您来自Web开发背景，那么您已经在使用它们中的许多了。以下是非常知名的Web API列表。</p><p>在这篇文章中，我将谈论另外10个不太流行的WebAPI。不太受欢迎并不意味着它们没有用处。您可以在项目的各种用例中使用它们。请看一下。</p><p>如果您想立即进入源代码或观看演示，这里有指向它们的快速链接：</p><p>注意：WebAPI只不过是使用普通JavaScript编写和公开的接口、函数、对象和属性。然而，webAPI的使用并不仅限于基于普通JavaScript的应用程序。将它们与基于角度、反应或VUE的应用程序一起使用也非常简单。</p><p>我用来演示本文中的webAPI的所有示例都是使用reactjs编写的。您可以在上面提到的GitHub链接中找到它们。请随意分叉、更换和使用！</p><p>使用Web API的一大(痛点)是，它们中的大多数还没有标准化。这意味着，不同的浏览器供应商对Web API的支持可能不同。例如，您可能会发现一个API可以与Chrome浏览器一起使用，但Firefox或Edge浏览器还不支持该API。</p><p>只需输入网站的名称，即可查看是否支持Can I Use WebSite中的Web API。</p><p>如果某个Web API不受支持，则实施回退或反馈。大多数Web API都提供了检查API是否受支持的方法。您可以选择在不受支持时实现后备，或者至少通过证明反馈消息来通知您的用户。</p><p>您是否需要以全屏模式显示任何DOM元素？全屏使用案例对游戏应用程序、在线视频平台(如YouTube)等要求很高。</p><p>FullScreen API提供了以全屏模式呈现特定元素(及其子元素)的方法。有一种方法可以在不再需要时退出全屏模式。不仅如此，当DOM元素转换为全屏模式或退出全屏模式时，此API还可以帮助执行任何操作。</p><p>在下面的例子中，我最喜欢的圣诞老人可以进入全屏模式，然后轻松地走出来。</p><p>在下面的代码中，manageFullScreen()函数对id为fs_id的元素使用requestFullscreen()API。</p><p>这个id为fs_id的元素是一个包含子元素的DIV，即圣诞老人图像。</p><p>剪贴板是一些操作系统提供的缓冲区，用于在应用程序内和应用程序之间进行短期存储和传输。</p><p>使用剪贴板可以执行的操作主要有三种。它们是复制、剪切和粘贴。剪贴板API提供响应这三个操作的功能。</p><p>有趣的是，将内容复制到剪贴板是打开的，如中所示，不需要用户权限。但是，要将内容从剪贴板粘贴到用户应用程序，用户需要授予其权限。它是使用另一个称为权限API的Web API来实现的。</p><p>异步函数(Event){event.prevenentDefault()；try{await Navigator.clipboard.writeText(Copy Text)；console.log(`${copy Text}Copy to clipboard`)；}catch(Err){console.error(&#39；复制失败：&#39；，err)；}}。</p><p>异步API功能从剪贴板读取内容并对其进行操作，</p><p>异步函数(Event){event.prevenentDefault()；try{const text=await Navigator.clipboard.readText()；setPastetext(Text)；console.log(&#39；粘贴内容：&#39；，text)；}catch(Err){console.error(&#39；无法读取剪贴板内容：&#39；，err)；}}。</p><p>注意：随着剪贴板异步API的加入，您可以免去document()函数的使用，因为它现在已经过时了。</p><p>是否要根据对DOM元素的内容或边框的更改执行某些操作？您是否在考虑自己编写一个处理程序？如果我告诉您，web API实现已经提供了一个呢？</p><p>这里有一个关于哑巴按钮的故事。我们使用范围滑块来调整按钮的大小。在调整按钮大小的同时，我们还希望控制文本颜色，而不让按钮了解太多信息。</p><p>首先，创建一个按钮并指定一个id，这样我们以后就可以使用id访问该按钮。</p><p>现在，我们使用HTML5中的Range输入类型创建一个滑块。当滑块值更改时，将调用resize()函数。</p><p>Resize()函数只是将按钮的宽度设置为滑块范围值，以便可以动态调整其大小。</p><p>Const resize=event=&gt；{const value=event.target.valueAsNumber；setRangeValue(Value)；let dumbBtn=Document.getElementById(&#39；dumbBtnId&#39；)；dumbBtn.style.width=`${value}px`；}。</p><p>到现在为止还好?。现在，每次更改范围值时，都会调整按钮的大小。我们有一个ResizeWatch观察此更改，并更改按钮文本的颜色。</p><p>UseEffect(()=&gt；{try{let dumbBtn=Document.getElementById(&#39；dumbBtnId&#39；)；var size zeWatch=new ResizeWatch(Entries=&gt；{for(Const Entry Of Entries){//获取按钮元素并为其上色//基于如下所示的范围值，entry.target.style.color=&#39；green`；}})；realzeObserverver。}}，[rangeValue])；</p><p>有一些很酷和有用的API围绕用户媒体，如音频，视频等。我喜欢图像捕获API，它可以帮助我们从视频设备(如网络摄像头)捕获图像或抓取帧。不仅如此，您还可以执行捕捉图像或抓取帧的操作。</p><p>首先，获取用户的媒体访问权限。在这种情况下，我们将获得网络摄像头访问权限。</p><p>Navigator.mediaDevices.getUserMedia({video：true}).Then(mediaStream=&gt；{document ent.querySelector(&#39；video&#39；).srcObject=mediaStream；const Track=mediaStream.getVideoTracks()[0]；setTrack(Track)；}).catch(error=&gt；{console.error(`${error}尚不支持`。</p><p>就像剪贴板粘贴操作一样，网络摄像头媒体访问权限必须由用户授予。</p><p>现在抓起一副相框，做点什么。在本例中，我只是在画布上绘制框架。</p><p>Const imageCapture=new ImageCapture(Track)；imageCapture.grabFrame().Then(imageBitmap=&gt；{const canvas=Docent.querySelector(&#39；#grabFrameCanvas&#39；)；draCanvas(canvas，imageBitmap)；}).catch(error=&gt；{console.log(Error)；setError(Error)；})；</p><p>Const imageCapture=new ImageCapture(Track)；imageCapture.takPhoto().Then(blob=&gt；createImageBitmap(Blob)).Then(imageBitmap=&gt；{const canvas=Document.querySelector(&#39；#takPhotoCanvas&#39；)；drawCanvas(Canvas，imageBitmap)；}).catch(Error=&gt；{。</p><p>要停止网络摄像头的视频流，只需在正在运行的视频轨道上调用方法stop()即可。</p><p>广播频道API允许在浏览上下文(窗口、选项卡、IFRAME)和同一来源的工作人员之间进行通信。想一想这样的用例，一旦您从浏览器选项卡中运行的应用程序注销，您希望将其广播到在同一浏览器的其他选项卡中打开的应用程序实例。</p><p>这里是发送者向接收者发送消息并且该消息被广播到其浏览上下文(在这种情况下是制表符)的示例，</p><p>第一步是通过为广播频道指定唯一名称来创建该频道。还要定义要广播的内容(消息)。</p><p>Const Channel_name=&#34；greenroot_channel&#34；；const BC=new BroadCastChannel(Channel_Name)；const message=&#39；我很棒！&#39；；</p><p>要广播消息，请通过传递消息在通道上调用postMessage()方法。</p><p>在接收端，任何正在收听广播的人都会收到发送的消息通知。</p><p>Const Channel_name=&#34；greenroot_channel&#34；；const BC=new BroadCastChannel(Channel_Name)；bc.addEventListener(&#39；message&#39；，function(Event){console.log(`Received message，&#34；${event.data}&#34；，on the channel，&#34；${Channel_name}&#34；`)；const output=document.getElementById(&#39；</p><p>您是否想了解有关笔记本电脑、PC或设备电池的所有信息？是的，还有一个用于此的Web API，即电池状态API。此API有助于了解所有信息，如电池是否正在充电、剩余电量以及处理与充电相关的状态变化的处理程序。</p><p>下面的示例显示了当我插入和拔出笔记本电脑充电器时的状态变化，</p><p>下面的代码解释了如何处理手柄和处理与电池相关的信息。</p><p>Navigator.getBattery().Then(函数(电池){//处理充电更改事件battery.addEventListener(&#34；Chargingchange&#34；，function(){console.log(&#34；Battery Charging？&#34；Yes&#34；：&#34；No&#34；)；})；//处理充电级别更改电池.addEventListener(&#34；，function(){console.log(&#34；电池电量：&#34；+battery.level*100+&#34；%&#34；)；})；//处理充电时间变化电池。addEventListener(&#34；chargingtimechange&#34；，function(){console.log(&#34；电池充电时间：&#34；+battery.chargingTime+&#34；秒&#34；)；})；//处理放电时间更改battery.addEventListener(&#34；dischargingtimchangange&#34；，function(){console.log(&#34；Battery放电时间：&#34；+battery.dischargingTime+&#34；秒&#34；)；})；</p><p>我喜欢这个API，使用它很有趣。不好笑的是，此API可能会在未来几天过时。</p><p>网络信息API提供有关网络类型(例如，WiFi、蜂窝等)、节省数据模式、带宽等的信息。</p><p>这是您可以连接到系统硬件并执行操作的另一个示例。Visionation API提供了启动和停止设备振动(瞬间或一段时间)的方法。</p><p>UseEffect(()=&gt；{IF(START){//振动2秒导航器.Viviate(2000)；}Else{//停止振动导航器.Viviate(0)；}}，[START])；</p><p>支付请求接口：为商家和用户提供一致的支付体验。</p><p>触摸事件：提供可用于支持特定于应用程序的多点触摸交互(如两指手势)的相对低级API。</p><p>页面可见性：提供您可以监视的事件，以了解文档何时变为可见或隐藏</p><p>通道消息传递API：在浏览上下文中发送消息的另一种很好的方式。然而，与广播不同的是，这里是发送1对1的消息。</p><p>我将很快将这些示例添加到Web API DemoLab中。</p><p>如果它对你有用，请点赞/分享，这样其他人也能收到。要获得有关我最新帖子的电子邮件通知，请点击页面顶部的订阅按钮订阅我的博客。封面图片是在弗里皮克一件酷炫作品的基础上即兴创作的。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.greenroots.info/10-lesser-known-web-apis-you-may-want-to-use-ckejv75cr012y70s158n85yhn">https://blog.greenroots.info/10-lesser-known-web-apis-you-may-want-to-use-ckejv75cr012y70s158n85yhn</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/api/">#api</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1022121.html"><img src="http://img2.diglog.com/img/2020/9/thumb_99943bd585128dd7c2c57465bf6a310f.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1022121.html">提高Web开发和编程技能的YouTube频道列表</a></div><span class="my_story_list_date">2020-9-4 23:39</span></div><div class="col-sm"><div><a target="_blank" href="/story/1022087.html"><img src="http://img2.diglog.com/img/2020/9/thumb_6ade600b5e9b61cfb6ffbd95249d7493.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1022087.html">在经历了20年的Web开发之后，我已经准备好迎接颠覆</a></div><span class="my_story_list_date">2020-9-4 18:7</span></div><div class="col-sm"><div><a target="_blank" href="/story/1020757.html"><img src="http://img.diglog.com/img/2020/8/thumb_18aa7ad06372edbca20b9616354213f1.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1020757.html">亚马逊网络服务公司聘请了四名前州首席信息官</a></div><span class="my_story_list_date">2020-8-28 3:2</span></div><div class="col-sm"><div><a target="_blank" href="/story/1020434.html"><img src="http://img.diglog.com/img/2020/8/thumb_ced308708346e5c19b74d41fb7d8a1df.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1020434.html">ARWES-未来主义科幻/赛博朋克图形用户界面框架</a></div><span class="my_story_list_date">2020-8-26 22:21</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>