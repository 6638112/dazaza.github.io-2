<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我在Reddit上有(和没有)Fast.ai的10K帖子业力</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">我在Reddit上有(和没有)Fast.ai的10K帖子业力</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-04 00:47:54</div><div class="page_narrow text-break page_content"><p>回到2006-2007年，我和我的朋友整理了一个电子表格，里面有大约20项高水平的成就，叫做“一切都是一场比赛”。这包括像“在野外拍摄一只活的灰熊”，“以你的名字命名一些东西”，以及“在Reddit上获得10,000(发布)因果报应”这样的目标。尽管我们对这份清单上的内容和成功的标准进行了激烈的讨论，但我们中没有人真正做过任何实质性的事情来实现这些目标。2020年初，我决定解决其中一个长期存在的问题。但我打算用人工智能来做这件事，因为我想看看如何将人工智能应用到更多的问题上。我是Fast.ai的铁杆粉丝，我欣赏它的高级抽象和简单的接口。对于那些想要深入学习的人，我强烈推荐它和相关的课程。这是一篇关于我如何用ast.ai在Reddit上创建了一个机器人来获得因果报应的帖子。</p><p>一般来说，Reddit上的内容可以分为两类，你可以称之为原创内容和发现内容。试图自动生成要发布的原创内容将会实现类似imgflip的人工智能模因生成器，并将生成的内容发布到r/memes。虽然生成的模因是比喻的有趣并列，但它们通常不如熟练于观察喜剧艺术的人类用户生成的模因好。试试表情包生成器，你就会明白我的意思了。在某种程度上，我确实尝试过发布其中的一个，只是为了看看它做得有多好。</p><p>另一种方法是在网上找到内容并将其发布。我之所以选择这条路线来实现自动化，是因为虽然生成高质量的内容更有趣，但它也更具挑战性和复杂性。在试图赶上内容的“人类质量”方面，计算机并不处于劣势，而是处于优势地位，因为海报的主要区别在于搜索大量内容的能力和速度(谁最先找到并发布一些东西)。特别值得一提的是，我最终查看了基于新闻的subreddits，原因有几个：</p><p>不过，为什么要使用人工智能呢？如果我要自动发帖，为什么不创建一个提交所有链接的机器人，然后让大众来整理我的命运呢？总体而言，在Reddit上发垃圾邮件是被鄙视的，尽管我相信禁止是由subreddit版主的自由裁量权决定的。虽然从理论上讲，我可能已经逃脱了惩罚，或者使用了某种通用的速率限制，并抱着最好的希望，但我希望我的机器人更像是社区中一个富有成效的成员，提交深思熟虑的内容，是我自己的延伸，而不是一个垃圾邮件机器人，在被强行移除之前，垃圾邮件机器人会成为它存在的祸根。</p><p>我搜索并找到了许多好消息subreddits，但我最初的目标是/r/business和/r/worldnews，有点武断，有些因为我对这些领域似乎很感兴趣。/r/企业拥有相当大的社区(577,000名成员)，而新闻子编辑的发帖频率相对较低，因此它似乎是可以接近的第一目标。我会构建一个网络爬虫来观察流行的商业新闻站点的新文章，然后利用基于NLP的文章分类器来确定文章是否有很高的机会获得好评。</p><p>要训练对文章进行分类的NLP模型，我需要文章文本及其对应的Reddit分数。不幸的是，官方Reddit API将您可以检索的历史帖子数据的数量限制在1000个项目。幸运的是，还有一种替代方法，您可以使用我不知羞耻地从Water Cooler改编的代码从presShit.io抓取历史POST数据：抓取整个subreddit(/r/2007scape)。脚本的输出文件具有如下所示的各行，每行包含一个POST的JSON对象：</p><p>{&#34；作者&#34；：&#34；CALIPHATEMEDIA&#34；，&#34；AUTHER_FLAIR_CSS_CLASS&#34；：NULL，&#34；AUTHER_FLAIR_TEXT&#34；：NULL，&#34；BRAND_SAFE&#34；：TRUE，&#34；CAN_MOD_POST&#34；：FALSE，&#34；CONTET_MODE&#34；：FALSE，&#34；CREATED_UTC&#34；：1514767344，&#34；DOMAIN&#34；：&#34；Caliphateedia.info&#34；，&#34；FULL_LINK&#34；：&#34；https://www.reddit.com/r/business/comments/7nc5yf/south_korea_to_regulate_bitcoin_trading_further/&#34；，&#34；id&#34；：&#34；7nc5yf&#34；，&#34；IS_CROSSPOSTABLE&#34；：FALSE，&#34；IS_REDIT_MEDIA_DOMAIN&#34；：FALSE，&#34；IS_SELF&#34；：FALSE，&#34；IS_VIDEO&#34；：FALSE，&#34；LOCKED&#34；：FALSE，&#34；Num_Comments&#34；：0，&#34；Num_Crosssposts&#34；：0，&#34；Over_18&#34；：FALSE，&#34；Parent_White List_Status&#34；：&#34；All_ADS&#34；，&#34；permalink&#34；：&#34；/r/business/comments/7nc5yf/south_korea_to_regulate_bitcoin_trading_further/&#34；，&#34；钉住&#34；：FALSE，&#34；RETRIED_ON&#34；：1514841750，&#34；SCORE&#34；：1，&#34；SELF&#34；：&#34；&#34；，&#34；扰流器&#34；：FALSE，&#34；粘滞&#34；：FALSE，&#34；SUBREDIT&#34；：&#34；业务&#34；，&#34；subreddit_id&#34；：&#34；T5_2qgzg&#34；，&#34；subreddit_type&#34；：&#34；public&#34；，&#34</p><p>在加载了文章文本之后，我做了一些处理来删除加载不正确的页面，并将页面文本截断到最多10k个字符。</p><p>我对/r/业务的NLP模型进行了为期几天的培训，内容涉及2018-01-01至2020年4月中旬期间的大约271k篇文章。我为模型使用了AWD_LSTM(例如language_model_learner(data_lm，awd_lstm，drop_mult=0.3)和text_classfier_learner(data，awd_lstm，drop_mult=0.5))，并根据文章得分使用离散标签：中性(0-10分)、可(10-100)、好(100-500)和好(500+)。这些类有点随意，我针对不同的迭代和子代码对它们进行了更改。我最终在运行时关注的唯一一件事是非中性类分数，因此这可能是一个二进制分类器，或者更好的分类器，它将单个文章视为多个子reddit的候选，而不是针对每个subreddit训练一个单独的模型。关于世界新闻，我的文章数量大约是现在的两倍。在这两种情况下，由于内存的限制，我都训练了100k的文章块，每次都会重新加载现有模型并使用新数据进行调整。</p><p>我选择了几个网站(Business Insider、路透社、彭博社、CNN、CNBC、BBC等)。基于/r/business的频繁站点，并将它们放入脚本中，并使用Requests和BeautifulSoup构建了一个爬行器。大约每分钟，我都会爬行站点根目录，寻找新的链接，并使用boilertube处理链接的页面，然后将其传递给NLP模型进行评分。非中性得分大于0.25(我为此特定模型选择的任意阈值)的新页面将被标记，并使用AWS SNS通过电子邮件发送给我。最初，我依赖于过滤这些收到的建议，然后自己使用Reddit应用程序提交文章。</p><p>我的网站投票器就像一个个人新闻聚合器，我用它来为要发布的东西生成建议。要将我从这个循环中移除，有几个“最后一英里”的问题需要解决。通过Reddit API编写提交代码非常简单，但我不仅仅提交所有传递给我的文章，我还充当一个质量过滤器，选择不提交看起来不合适的内容。我还为Reddit的帖子收集了一个合适的标题。页面标题通常不适合直接作为帖子标题(例如，包含站点名称之类的冗余内容)，需要重新格式化，或者应该从内容中提取标题，例如，通过选择页面上最合适的H1标记。我没有改进模型以更好地对文章进行分类并提高评分机制的准确性，然后编写新的组件来提取标题，而是决定尝试将这些任务封装到一个机械的土耳其任务中，并让人类作为最终的看门人和标题生成器。我可以从这些土耳其人的机械任务中获取结果，并利用这些结果通过Reddit API将文章提交给Reddit。</p><p>Mechanical Turk是一项利用人类为您的应用程序完成小任务的服务。它对于增强AI应用程序和通过为它们标记任务来收集数据非常有用。但有效地使用它并不是没有困难的。关于机械土耳其人，需要了解的重要一点是，平台上的许多工人都在(明智地)优化任务完成数量。在使用任务的自定义限定符时，请确保您正在寻找的资格从问题中看不出来。同样，糟糕的命中(人工智能任务)是要求用户阅读一篇文章，如果他们认为该文章属于某个类别，则选中某个复选框。例如，我对/r/WorldNews候选人这样做是为了确保其中不涉及美国新闻，但是我向/r/WorldNews提交的第一个全自动提交是“强生公司停止在美国销售婴儿爽身粉”，由于美国内部新闻在/r/Worldnews上被禁止，因此在获得42个赞成票后被删除。确保您分配的工作至少看起来像是您将查看单个结果(例如，至少使用一次文本输入框)。对你的要求要小心和清楚，减少人为错误的机会。要求用户提供文章标题，而好意会导致一些用户写出糟糕的文章标题，而不是复制文章标题(如果他们想不出一个好的标题)。更好的任务是要求用户识别并复制文章中出现的文章标题，因为这具有更可靠的质量。将机械土耳其人的任务与我的机器人连接起来后，它就能够完全自动运行了。</p><p>您可能会注意到，我们每天最多只邮寄几件东西。事实上，我们的机器人可能正在发帖。我们在这里可以采取的一个策略是，随着时间的推移，降低门槛，以鼓励发布更多的内容，因为每个帖子都有相对有限的负面影响(一些负面影响，然后变得默默无闻)和非常高的上行潜力。惠尔</p><p>用fast.ai构建一个reddit post bot是一个有趣的项目，然而一点手工工作就击败了我几个月的网络爬行和计算时间。毫无疑问，如果我有足够的时间运行我的post bot，并将其扩展到更多的subreddits，我会很容易地越过10k大关。当然，POST机器人是衡量我努力程度的更好方式，在这个过程中，我了解了在更大的数据集上进行比对、人类标签和培训的斗争。希望作为读者的您能够从我分享的内容中了解到这一点。如果您对如何改进文本分类器或解决此问题有建议，请随时在下面给我留言！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.a8b.io/posts/10k-karma-reddit-bot/">https://www.a8b.io/posts/10k-karma-reddit-bot/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/上有/">#上有</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/karma/">#karma</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/文章/">#文章</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>