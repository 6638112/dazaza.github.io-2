<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>SSB驱动器–基于Secure Scuttlebutt的分散式文件系统 SSB Drive – a decentralized file system over Secure Scuttlebutt</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">SSB Drive – a decentralized file system over Secure Scuttlebutt<br/>SSB驱动器–基于Secure Scuttlebutt的分散式文件系统 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-19 12:58:25</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/1/6e084c92250dcb5700c4325aaa2e1a0f.png"><img src="http://img2.diglog.com/img/2021/1/6e084c92250dcb5700c4325aaa2e1a0f.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>This is a proof of concept for a  decentralized file system for SecureScuttlebutt (see  SSB). It includes apartial but interoperable implementation of the SSB peer protocol writtenin Python.</p><p>这是SecureScuttlebutt分散文件系统的概念证明（请参阅SSB）。它包括用Python编写的SSB对等协议的部分但可互操作的实现。</p><p> With  SBB Drive you can create as many file systems (&#34;drives&#34;) as youlike, share and organize files with your friends without requiring acentral repository or server. When you work on your files whileoffline, the  SSB Drive file system will merge automatically with therest of the world once you rejoin the grid. Name conflicts are handledwith &#34;Observed Removed Sets&#34; (OR-Sets) from CRDT.</p><p> 使用SBB Drive，您可以根据需要创建任意数量的文件系统（＆amp; 34; drives＆＃34;），与您的朋友共享和组织文件，而无需中央存储库或服务器。在离线时处理文件时，一旦重新加入网格，SSB驱动器文件系统将自动与世界其他地方合并。名称冲突由＆＃34; Observed Removes Sets＆＃34;处理。 （或集）来自CRDT。</p><p>   where UUID identifies the drive to work on. Use  -l to list allavailable drives. The  -peer option selects a specific SSB pub (peernode); the default behavior is to connect to the locally running SSBprogram at port 8008 (e.g. patchwork or sbot).</p><p>   UUID标识要使用的驱动器。使用-l列出所有可用的驱动器。 -peer选项选择特定的SSB pub（对等节点）；默认行为是通过端口8008连接到本地运行的SSBprogram（例如，patchwork或sbot）。</p><p> Code status: This is a proof-of-concept and is not a well-curatedPython package, it also lacks testing routines.  DON&#39;T RUN THIS CODEON YOUR LOG: It&#39;s very hard --and often impossible-- to correct acorrupted hash chain especially if it has leaked into the global SSBsystem. Please read the section &#34;Experimenting with SSB Drive&#34; forsafe ways to work locally - you have been warned.</p><p> 代码状态：这是一个概念证明，并且不是经过精心设计的Python包，它也缺少测试例程。不要在您的日志上运行此编码：很难（而且通常是不可能）纠正损坏的哈希链，尤其是当它已泄漏到全局SSB系统中时。请阅读“＆＃34;使用SSB驱动器进行实验”部分。安全的本地工作方式-您已被警告。</p><p> Best is to unpack this Git repo and just run from the  ssbdrvdirectory after installing the dependencies (see requirements.txt). In the future, when the internal interfaces of ssbdrv have stabilized, a full Python package will be provided,probably also factoring out the SSB peer-to-peer component as anindependent package. We acknowledge the import of pferreir&#39;s  pyssb package which had to bemade more complete: The modified  pyssb code is included forconvenience, making this  ssbdrv repo self-contained.</p><p> 最好的方法是解压缩此Git存储库，并在安装依赖项后从ssbdrv目录运行（请参阅requirements.txt）。将来，当ssbdrv的内部接口稳定时，将提供完整的Python程序包，可能还会将SSB对等组件作为独立程序包排除在外。我们承认必须更完整地导入pferreir的pyssb软件包：为了方便起见，其中包含了经过修改的pyssb代码，使该ssbdrv回购自成一体。</p><p> Doc status: Read the source, Luke. Moreover, there is a draft documenton tangles for SSB in this Git repo, see &#39;The Tangle data structure and its use in SSB Drive&#39;</p><p> 文件状态：请参阅资料来源Luke。此外，在此Git仓库中有一份有关SSB缠结的文档草案，请参见“ Tangle数据结构及其在SSB Drive中的使用”。</p><p>  SSB Drive behaves like a classic FTP client except that you don&#39;t haveto connect to a server. The following demo shows the terminal-based userinterface of this PoC.</p><p>  SSB驱动器的行为类似于传统的FTP客户端，除了您不必连接到服务器。以下演示显示了此PoC的基于终端的用户界面。 </p><p>   Alice: help // list available commandsAlice: ls -l // show dir contentBob: ls -l // Bob sees same contentBob: put b.txt // Bob uploads a fileAlice: ls -l // Alice finds it in her directoryAlice: cat b.txt // and views itAlice: put x.txt first.txt // Alice races to upload firstBob: put y.txt first.txt // Bob races to upload firstBob: ls -l // surprise: no race condition, but two filesBob: tree // just another viewBob: ls -li // UNIX -i option: show inode (cypherlink in our case) // i.e., the two files differ, can be removed individually</p><p>爱丽丝：帮助//列出可用命令爱丽丝：ls -l //显示目录contentBob：ls -l // Bob看到相同的contentBob：put b.txt // Bob上载文件Alice：ls -l //爱丽丝在她的目录中找到它：cat b.txt //并查看它爱丽丝：放x.txt first.txt //爱丽丝竞赛上传firstBob：放y.txt first.txt //鲍勃竞赛上传firstBob：ls -l //惊喜：没有竞赛条件，但有两个filesBob：树//仅另一个viewBob：ls -li // UNIX -i选项：show inode（在我们的情况下为cypherlink）// //这两个文件不同，可以分别删除</p><p>  Without UUID argument, the app first scans your SSB log and uses themost recent &#34;root entry&#34; it can find as the work drive -- beware thatthis drive could have been created by a friend. If you know the drivethat you want to use (e.g. if you created several drives and/or wantto be sure to work on a specific one), you should pass that drive&#39;sUUID as an argument.</p><p>  如果不使用UUID参数，则应用程序首先扫描您的SSB日志，并使用最新的＆root条目。它可以作为工作驱动器-请注意，该驱动器可能是由朋友创建的。如果您知道要使用的驱动器（例如，如果您创建了多个驱动器和/或希望确保在特定驱动器上工作），则应将该驱动器的UUID作为参数传递。</p><p> You can request the creation of a new drive with the  -n option and listall available drives with  -l.</p><p> 您可以使用-n选项请求创建新驱动器，并使用-l列出所有可用的驱动器。</p><p> Because SSB is based on append-only logs, all changes ever made to adrive are preserved for as long as the log or copies of it exist.If one of your friends deletes a file from a drive that you shared,the file is still there and can be recovered:  SSB Drive is &#34;timemachine-ready&#34; in the sense that all information is available, justthat this PoC does not yet implement a method to browse a drive&#39;shistory (and a method to resurrect old entries).</p><p> 由于SSB基于仅追加日志，因此只要对该驱动器进行了任何日志或副本复制，对驱动器的所有更改都将保留。如果您的一个朋友从共享驱动器中删除了文件，则该文件仍然存在并可以恢复：SSB驱动器已＆times-ready-ready＆＃34;从所有信息都可用的意义上说，此PoC尚未实现浏览驱动器历史记录的方法（以及恢复旧条目的方法）。</p><p>      $ ./ssb-drive.py [options] [UUID]where options are: -h, --help show this help message and exit -del delete the given drive -list list all active drives -new create new drive -peer IP:PORT:ID remote&#39;s ip:port:id (default is localhost:8008:default_id -port PORT local port (i.e. become a server) -tty run in line mode (instead of fullscreen terminal) -user USERNAME username (default is ~/.ssb user, or ~/.ssb/user.USERNAME) -udel undelete the given driveUUID ssb-drive&#39;s uuid (default is youngest drive)</p><p>      $ ./ssb-drive.py [选项] [UUID]其中选项为：-h，--help显示此帮助消息并退出-del删除给定的驱动器-列出所有活动的驱动器-new创建新的驱动器-peer IP ：PORT：ID远程ip：port：id（默认为localhost：8008：default_id -port PORT本地端口（即成为服务器）-tty在行模式下运行（而不是全屏终端）-user USERNAME用户名（默认为〜/ .ssb用户或〜/ .ssb / user.USERNAME）-udel取消删除给定的驱动器UUID ssb-drive的uuid（默认为最小的驱动器）</p><p>  In order to perform local experiments with the SSB Drive Protocol, itis possible  and advised to run with local SSB users rather thanyour own ID. To this end, for each user USERNAME, we keep asubdirectory with the following format:</p><p>  为了使用SSB驱动器协议执行本地实验，请尽可能与本地SSB用户（而不是您自己的ID）一起运行。为此，对于每个用户USERNAME，我们使用以下格式保留一个子目录：</p><p>  and populate it with the standard SSB data. The  SSB Drive softwareoffers an easy way to create new users as follows:</p><p>  并使用标准SSB数据进行填充。 SSB Drive软件提供了一种创建新用户的简便方法，如下所示： </p><p> # LOCAL DEMO STEPS 1$ ./ssb/local/config.py -listdefault user: @AiBJDta+4boyh2USNGwIagH/wKjeruTcDX2Aj1r/haM=.ed25519local users:$ ./ssb/local/config.py -new Alice** new user Alice (@C8pPydEHuGxCjFUYBLmBOGTIPkYQeZ3FnKvQTvT0MDk=.ed25519)$ ./ssb/local/config.py -new Bob** new user Bob (@ihS4TZa55eMjjWOC5oN+oF9GTvc23GQcGyt0xqJ1XD0=.ed25519)$ ./ssb/local/config.py -listdefault user: @AiBJDta+4boyh2USNGwIagH/wKjeruTcDX2Aj1r/haM=.ed25519local users: @C8pPydEHuGxCjFUYBLmBOGTIPkYQeZ3FnKvQTvT0MDk=.ed25519 Alice @ihS4TZa55eMjjWOC5oN+oF9GTvc23GQcGyt0xqJ1XD0=.ed25519 Bob</p><p>＃本地演示步骤1 $ ./ssb/local/config.py -listdefault用户：@ AiBJDta + 4boyh2USNGwIagH / wKjeruTcDX2Aj1r / haM = .ed25519本地用户：$ ./ssb/local/config.py -new Alice **新用户Alice ** （@ C8pPydEHuGxCjFUYBLmBOGTIPkYQeZ3FnKvQTvT0MDk = .ed25519）$ ./ssb/local/config.py -new Bob **新用户Bob（@ ihS4TZa55eMjjWOC5oN + oF9GTvc23GQJyed0ta + 4boyh2USNGwIagH / wKjeruTcDX2Aj1r / haM = .ed25519本地用户：@ C8pPydEHuGxCjFUYBLmBOGTIPkYQeZ3FnKvQTvT0MDk = .ed25519 Alice @ ihS4TZa55eMjjWOCGT9C0B1C</p><p> Because peers only retrieve each other&#39;s logs if they follow eachother, we have to populate the  friends.json file for both, see belowhow this is done. Once this is established, we will (i) create adrive on Alice&#39;s side, (ii) let Bob sync with Alice&#39;s content, and(iii) start also Bob&#39;s  SSB Drive client:</p><p> 由于对等方仅在彼此遵循彼此的情况下才检索彼此的日志，因此我们必须为两者都填充friends.json文件，请参见下面的操作。一旦建立，我们将（i）在Alice的那一侧创建一个驱动器，（ii）让Bob与Alice的内容同步，并且（iii）也启动Bob的SSB Drive客户端：</p><p> # LOCAL DEMO STEPS 2$ ./ssb/local/config.py -friends Alice Bob** friend records updated$ ./ssb-drive.py -user Alice -new** new drive created, uuid=9dfc8124-6a6b-5730-9c04-5eed67ac770e# start Alice&#39;s client in one terminal window:$ ./ssb-drive.py -user Alice -port 7007...# in another terminal window, let Bob sync up:$ ./ssb-drive.py -user Bob -sync -peer localhost:7007:ID_OF_ALICE...# and start his SSB Drive client:$ ./ssb-drive.py -user Bob -peer localhost:7007:ID_OF_ALICE</p><p> ＃本地演示步骤2 $ ./ssb/local/config.py -friends Alice Bob **朋友记录已更新$ ./ssb-drive.py -user Alice -new **已创建新驱动器，uuid = 9dfc8124-6a6b-5730 -9c04-5eed67ac770e＃在一个终端窗口中启动Alice的客户端：$ ./ssb-drive.py -user Alice -port 7007 ...＃在另一个终端窗口中，让Bob同步：$ ./ssb- drive.py-用户Bob -sync -peer localhost：7007：ID_OF_ALICE ...＃并启动他的SSB Drive客户端：$ ./ssb-drive.py -user Bob -peer localhost：7007：ID_OF_ALICE</p><p> It is also possible to run the  SSB Drive app in line mode byselecting the  -tty option. Note however that this mode does notyet support peer connections i.e., you will work on the givenuser&#39;s log  as if offline:</p><p> 通过选择-tty选项，也可以在线路模式下运行SSB Drive应用程序。但是请注意，此模式尚不支持对等连接，即您将在给定用户的日志上工作，就像脱机一样：</p><p> $ ./ssb-drive.py -user Alice -ttySecure Scuttlebutt Drive client (v2018-08-21). Type ? for help.running in unencrypted modedrv=9dfc8124-6a6b-5730-9c04-5eed67ac770e (2018-08-22 21:44:21)cwd=/ssb_drv&gt; helpDocumented commands (type help &lt;topic&gt;):========================================cat cd exit get help ls mkdir put pwd rm rmdir stat sync treessb_drv&gt; tree.&#39;-- dir1/ |-- README.md &#39;-- dir2/ssb_drv&gt; exit</p><p> $ ./ssb-drive.py-用户Alice -ttySecure Scuttlebutt驱动器客户端（v2018-08-21）。类型？寻求帮助。以未加密模式运行drv = 9dfc8124-6a6b-5730-9c04-5eed67ac770e（2018-08-22 21:44:21）cwd = / ssb_drv＆gt; help记录在案的命令（类型为help＆lt; topic＆gt;）：====================================== = cat cd exit获得帮助ls mkdir放入pwd rm rmdir统计信息同步treesb_drv＆gt; ＆＃39;-dir1 / |-README.md＆＃39;-dir2 / ssb_drv＆gt;出口 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/cn-uofbasel/ssbdrv">https://github.com/cn-uofbasel/ssbdrv</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/drive/">#drive</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/ssb/">#ssb</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>