<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>新的7级散列函数：Prvhash</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">新的7级散列函数：Prvhash</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-08-18 14:01:55</div><div class="story_img_container"><a href="http://img.diglog.com/img/2020/8/1e17a42d3aea60901c99a8b81432bec4.jpeg"><img src="http://img.diglog.com/img/2020/8/1e17a42d3aea60901c99a8b81432bec4.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>PRVHASH是生成从消息导出的伪随机数序列的散列函数。产生的散列非常接近于位频率的正态分布。PRVHASH在概念上类似于Keccak方案，但完全不同于该概念的实现。</p><p>PRVHASH可以生成32位到无限位的散列，从而产生与所选散列长度无关的粗略质量的散列。PRVHASH基于64位数学运算。超过256位的散列仍然需要广泛的测试，但是，例如，从512位或2048位产生的散列中提取的任何32位元素都与32位散列一样具有抗冲突能力。可以很容易地使用超过512位散列的函数，但必须进行统计测试。将哈希函数扩展到128位数学也很有效：这会以指数级增加属性。</p><p>PRVHASH完全基于蝴蝶效应，受到LCG伪随机数生成器的强烈启发。生成的散列具有良好的雪崩特性。为获得最佳结果，在创建HMAC时，应向散列函数提供随机种子，但这不是必需的。当集合中的每条消息都是随机种子时，这允许这样的集合的散列近似遵循正态分布。在没有种子的情况下，正态分布是以二阶效应实现的，内部随机数生成器(种子)具有强烈的向对数分布倾斜的分布。在实践中，InitLCG、InitSeed(而不是SeedXOR)和初始散列都可以是随机种子(参见prvhash42.h中的建议)，添加有用的初始熵(LCG+种子+总熵的散列位)。</p><p>32位、64位、128位和256位PRVHASH散列通过所有SMHasher测试。其他散列长度没有完全测试，但可以进行推断。PRVHASH可能具有加密特性，但这一点还有待证明。此函数最适用于预压缩的最大熵数据。为了处理稀疏熵的情况，PRVHASH以不可能的字节尾部作为伪熵注入来结束消息的散列。在作者看来，此散列函数几乎肯定是不可逆的，因为它不使用固定素数，并且由于位截断引入的非线性。</p><p>通过创建一个简单的上下文结构，并将其初始化移到一个单独的函数中，可以很容易地将PRVHASH转换为流散列。它是一个固定时间的散列函数，仅依赖于消息长度。</p><p>有关实现的详细信息，请参阅prvhash42.h文件(prvhash.h和prvhash4.h是过时的版本)。Prvhash82.h文件实现相同的功能，但扩展到128位数学：使用某些编译器比prvhash42.h更快。</p><p>在大端体系结构(ARM)上，当在系统之间传输散列时，生成的散列的每个散列元素都应该进行字符顺序校正(字节交换)。</p><p>PRVHASH还可以用作一个非常有效的通用PRNG，带有外部熵源注入(就像/dev/urandom在Unix上的工作方式)：64位散列值可以用作伪随机数，每轮拼接成8个输出字节：当8位真熵注入在8到2048个生成的随机字节之间(延迟也是通过熵源获得)时，这被测试得很好。Prvrng.h文件中实现了一个示例生成器：只需调用prvrng_test64()函数。Prvrng_test32()实现了相同的技术，但出于比较目的使用了32位散列。</p><p>另外，PRVHASH PRNG使用32位散列，没有外部熵注入：经过1.1万亿次迭代后，内部伪熵没有丢失。</p><p>下面是作者对核心散列函数如何工作的看法(实际上，提出这个解决方案需要大量的试验和错误)。</p><p>SEED*=lcg；//随机乘以随机。截断导致的非线性。uint32_t*const hc=(uint32_t*)&amp；Hash[hpos]；//获取哈希字的地址。const uint64_t ph=*hc；//保存当前哈希字。*hc^=(Uint32_T)(seed&gt；&gt；32)；//将内部熵添加到哈希字。seed^=ph^msg；//add。//将内部熵与&#34；lcg&#34；变量相加(均为随机变量)。截断是可能的。</p><p>在没有外部熵(消息)注入的情况下，函数可以长时间运行，生成伪熵而不需要太多重复。当引入外部熵(消息)时，函数不可预测地转变为无关状态。因此，可以说该函数在大量伪随机数生成器的空间内跳跃。Hashlength会影响这个生成器空间的大小，从而允许函数为任何所需的散列长度生成高质量的散列。</p><p>可以通过向INTC=(在PrvHash42中)和HL84(在PrvHash82中)添加额外的H142Term来最小化比特偏差。然而，这将增加较短消息的开销。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/avaneev/prvhash">https://github.com/avaneev/prvhash</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/函数/">#函数</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/hash/">#hash</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/散列/">#散列</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1018802.html"><img src="http://img.diglog.com/img/2020/8/thumb_91e83c9116961df7280a0330b2e9964e.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1018802.html">如何掷半个骰子</a></div><span class="my_story_list_date">2020-8-18 9:12</span></div><div class="col-sm"><div><a target="_blank" href="/story/1016363.html"><img src="http://img.diglog.com/img/2020/8/thumb_0afc9342391b9d827689e5397b6df638.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1016363.html">去功能化与弗莱德定理</a></div><span class="my_story_list_date">2020-8-5 17:27</span></div><div class="col-sm"><div><a target="_blank" href="/story/1008208.html"><img src="http://img.diglog.com/img/2020/6/thumb_702786ea2e3cc8793adf6f331fcd8768.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1008208.html">Logistic回归从头开始</a></div><span class="my_story_list_date">2020-6-25 23:27</span></div><div class="col-sm"><div><a target="_blank" href="/story/1006807.html"><img src="http://img.diglog.com/img/2020/6/thumb_f6ca0df7d33dfed07f101223c77772b0.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1006807.html">NETGEAR 79台设备的0天漏洞分析和利用</a></div><span class="my_story_list_date">2020-6-16 21:4</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>