<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>打字很难</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">打字很难</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-08-09 05:34:27</div><div class="page_narrow text-break page_content"><p>类型检查是在某种编程语言中使用给定程序并计算出所有变量和表达式是否都具有正确类型的过程，即将字符串分配给字符串，算术表达式只涉及数字等。一些语言还提供类型推理，任务是编译器自己找出正确的类型。根据语言的特点，类型检查和类型推断问题的范围从微不足道到无法确定。</p><p>一个决策问题是可判定的，如果对于任何输入，我们可以计算该输入是否在有限时间内满足该问题。可判定问题的例子包括素性测试和布尔可满足性。例如，暂停问题是不可判定的：我们不能检查程序是否在有限时间内无限长地运行。我们对编程语言的类型检查和类型推理问题很感兴趣：给定一些输入程序，它会进行类型检查吗？在给定一些程序的情况下，我们应该为表达式分配哪些类型，以便它可以进行类型检查？</p><p>Hindley-Milner(HM)类型系统是具有参数多态性的简单类型λ演算的类型系统，是许多函数式语言的基础。HM的类型检查是可判定和有效的，其复杂度与程序大小呈线性关系。类型推断比类型检查更困难，因为编译器必须解决程序中表达式产生的类型约束。这对于HM类型的系统是可判定的，但是问题本身是PSPACE-HARD和EXPTIME-COMPLETE，这意味着在最坏的情况下，它至少需要相对于输入大小的多项式量的额外空间和指数时间。幸运的是，当多态变量的嵌套深度有界时，类型推断算法是线性的，这是大多数应用程序的情况。有许多类型推理算法，其中最著名的是所谓的算法W。Hindley-Milner类型系统是因为许多函数式程序设计语言都是基于它的(变体)。</p><p>下面我已经编译了一个语言列表，以及这些语言中的类型检查/类型推断有多难。如果您发现错误或缺少一种语言，请提交有关您的语言、其类型检查复杂性以及支持您的声明的最佳资源的问题。我并不认为这里显示的属性是完整的，也不是正确的，它主要是我一直在收集的博客帖子的合并。</p><p>不可靠，无法决定，埃里克·利伯特(Eric Lippert)在这个问题上给出了一个很好的答案。其他有趣的事情包括使用C#类型检查器的SAT解算器。</p><p>可判定的，使用Hindley-Milner，但由于有趣的编译器错误：(String.length&#34；&#34；)^(-1)：int。</p><p>具有足够的1扩展：不可判定，因为系统F中的类型检查是不可判定的。存在哈斯克尔类型的图灵机。一个更简单的变体是实现滑雪演算。</p><p>无法决定，因为Java泛型是图灵完成的。Java 8或更高版本不健全，如Amin和Tate(2015)所示</p><p>不可判定，类型推断和类型检查都是如此，因为它允许等级为3的类型。在特征中还实现了一个Small妈的解释器。</p><p>无法决定，因为它承认一个类型级别的滑雪演算，不健全，如Amin和Tate(2015)所示。Scala2.13.3(撰写本文时的最新版本)也出现了同样的问题。</p><p>无法决定。TypeScript的类型系统被证明是图灵完整的，直到他们不允许使用自引用类型。然而，Robbie Ostrow写了一个检验Collatz猜想的程序，而且由于Collatz猜想的推广形式是不可判定的3，打字稿类型系统也是不可判定的。</p><p>不可决定，因为可以在编译时计算递归函数，因此需要编译器解决暂停问题。</p><p>类型检查和类型推断主要用于静态类型语言。虽然存在一些动态语言的扩展，为它们注入了静态类型检查，但这些扩展不是语言的一部分，其复杂性不取决于语言，而取决于扩展。</p><p>某些语言提供显式的未检查强制转换，类型检查器接受这些类型转换，并可能在运行时失败。例如，在C#和Java中从对象强制转换到某个子类，在Go中强制转换类型interface{}的值，或者在Haskell中使用unsafeCoells。我选择不考虑这种强制转换/强制转换，因为未经检查的向下转换是一种本质上不安全的操作，类型检查器保证不会涵盖它。</p><p>干得好！请在官方问题跟踪器上报告，详细说明哪里出了问题，我会尽快修复它。</p><p>仅使用RankNTypes就足以进行树桩推断。足够有趣的是，只有当N&gt；=3时，这才是不可决定的。↩</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://typing-is-hard.ch/">https://typing-is-hard.ch/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/打字/">#打字</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/typing/">#typing</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/类型/">#类型</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1016402.html"><img src="http://img.diglog.com/img/2020/8/thumb_580df394c6a74836a84fba1e83a3aa1f.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1016402.html">宣布新的打字网站</a></div><span class="my_story_list_date">2020-8-5 23:9</span></div><div class="col-sm"><div><a target="_blank" href="/story/1007438.html"><img src="http://img.diglog.com/img/2020/6/thumb_794420d313664ce917a4545ca0f305a7.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1007438.html">堆栈溢出探索为什么开发人员更喜欢打字脚本而不是Python</a></div><span class="my_story_list_date">2020-6-21 2:13</span></div><div class="col-sm"><div><a target="_blank" href="/story/1004296.html"><img src="http://img.diglog.com/img/2020/5/thumb_4c5ceba4c7b9404a17c76a168ea70ebb.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1004296.html">Tyescript Deep Dive：从基础到编译器内部的通俗易懂的手册</a></div><span class="my_story_list_date">2020-5-30 2:35</span></div><div class="col-sm"><div><a target="_blank" href="/story/1002299.html"><img src="http://img.diglog.com/img/2020/5/thumb_6d894093780e6c33a9f5de20daa4fe05.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1002299.html">2017年伟大的CoffeeScript到打字脚本迁移</a></div><span class="my_story_list_date">2020-5-16 4:54</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>