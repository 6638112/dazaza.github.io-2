<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>在这篇文章中，我同意联邦政府和bash VPN的观点，以获得乐趣和利润In which I agree with the federal government and bash VPNs for fun and profit</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">In which I agree with the federal government and bash VPNs for fun and profit<br/>在这篇文章中，我同意联邦政府和bash VPN的观点，以获得乐趣和利润</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2022-02-17 13:44:34</div><div class="page_narrow text-break page_content"><p>When I first read the  federal government’s memo on it’s “transition zero trust”, I was jumping out of my skin with excitement.  There’s lots of great stuff in that memo (see my  earlier blog post) but what excited me most was the memo’s stance on VPNs.</p><p>当我第一次读到联邦政府关于“零信任过渡”的备忘录时，我激动得跳了出来。备忘录中有很多很棒的东西（见我之前的博客帖子），但最让我兴奋的是备忘录在VPN上的立场。</p><p>    You would expect the memo to say “VPNs are not enough”, because they really aren’t.  The memo says:</p><p>你可能希望备忘录会说“VPN还不够”，因为它们真的不够。备忘录说：</p><p>    The old-fashioned perimeter VPNs are highly problematic, if they are used in the absence of other defenses. Having just one perimeter VPN to protect your assets, but no other defense, is akin to basing your corporate security posture around giving keys to office  buildings but not to individual offices.  Once the attacker enters the building, they can get into any office and no one can stop them from doing whatever they want.</p><p>如果在没有其他防御措施的情况下使用老式的周边VPN，则问题非常严重。只有一个外围VPN来保护你的资产，但没有其他防御，这类似于你的公司安全态势是围绕着给办公楼钥匙，而不是给个别办公室钥匙。一旦攻击者进入大楼，他们可以进入任何办公室，没有人能阻止他们做任何他们想做的事。</p><p>  We already know that this memo is, in part, a reaction to the Colonial Pipeline ransomware incident of 2021, where a  single inactive VPN account allowed the attackers to breach Colonial Pipeline’s entire infrastructure.  So we’d expect perimeter VPNs to be deprecated.</p><p>我们已经知道，这备忘录部分是对殖民地管道勒索事件2021的反应，其中一个不活跃的VPN帐户允许攻击者违反殖民地管道的整个基础设施。因此，我们预计周边VPN将被弃用。</p><p>    So what I would have expected next would be for the memo to say “segment your network using VPNs”.  This would be like giving individuals keys to individual offices, rather than the entire building.  And this is what many of today’s modern VPNs do -- they use policy or role-based access control (RBAC) to control which part of a corporate network a given user has access to. But actually the memo didn’t say that.  It said:</p><p>因此，我希望接下来的备忘录会说“使用VPN划分网络”。这就像是给个人钥匙，而不是整栋楼的钥匙。这就是今天许多现代VPN的功能——它们使用策略或基于角色的访问控制（RBAC）来控制给定用户可以访问公司网络的哪个部分。但实际上备忘录上没有这么说。上面说：</p><p>    So, that sounds kind of reasonable.  You could imagine having users log into applications behind a VPN.   So first you would VPN into the network, and then you would use another set of credentials to log into your application.</p><p>所以，这听起来有点合理。你可以想象让用户登录到VPN背后的应用程序。因此，首先，您将VPN接入网络，然后使用另一组凭据登录到您的应用程序。</p><p>        In other words, it actually advises  against using VPNs at all!  Enterprise applications must be secure enough to be used without a VPN. This is the  beyondcorp approach that Google promulgated back in 2013.  The memo later spells out it’s stance even more starkly by saying</p><p>换句话说，它实际上建议不要使用VPN！企业应用程序必须足够安全，才能在没有VPN的情况下使用。这是谷歌在2013年发布的beyondcorp方法。备忘录后来更明确地阐明了自己的立场，称：</p><p>  Making applications internet-accessible in a safe manner, without relying on a virtual private network (VPN) or other network tunnel, is a major shift for most agencies that will take significant effort to achieve.</p><p>对于大多数机构来说，在不依赖虚拟专用网络（VPN）或其他网络隧道的情况下，以安全的方式访问互联网应用程序是一个重大转变，需要付出巨大努力才能实现。</p><p>      One way to think about this is that VPNs are a crutch.  If teams believe that their applications are “behind a VPN” and therefore “inaccessible to adversaries”, then they’ll be lazy about locking down the application and therefore increase the risk that the application will be breached.</p><p>考虑这一点的一种方式是VPN是一根拐杖。如果团队认为他们的应用程序“在VPN后面”，因此“对手无法访问”，那么他们就会懒得锁定应用程序，从而增加应用程序被破坏的风险。</p><p>  In other words, it’s more difficult to lock down individual applications by inserting authentication systems, MFA and RBAC ( as suggested by the memo), and it’s much easier to stick things “behind a VPN”.  The memo encourages a change in mindset by stating “every application should be treated as internet accessible from a security perspective”.   This is a shift. It will take time for the government and even private companies to get used to this.</p><p>换句话说，通过插入身份验证系统、MFA和RBAC（正如备忘录所建议的那样）来锁定单个应用程序更为困难，而且更容易将东西“固定在VPN后面”。备忘录鼓励人们改变思维方式，声明“从安全角度来看，每个应用程序都应该被视为可以通过互联网访问”。这是一种转变。政府甚至私营企业需要时间来适应这一点。</p><p>    Here’s another reason you want to control access to a specific application --- doing this reduces the risk that an attacker will move laterally from one target hosted in a network segment to another target in the same network segment.</p><p>下面是您想要控制对特定应用程序的访问的另一个原因——这样做可以降低攻击者从网段中托管的一个目标横向移动到同一网段中另一个目标的风险。</p><p>  We know that lateral movement via remote access protocols is a common strategy for attackers.  This happened, for instance, in the  2009 Operation Aurora (when attackers used compromised admin credentials to jump from one target to another while behind a VPN).</p><p>我们知道，通过远程访问协议进行横向移动是攻击者的常见策略。例如，在2009年的Aurora行动中就发生了这种情况（攻击者在VPN后面使用泄露的管理员凭据从一个目标跳到另一个目标）。</p><p>        (To be fair, there are other things one needs to do to restrict lateral movement, like close open ports and properly architect the network layer, but it is undeniable that lateral movement via remote access tools is a technique attackers love to use. )</p><p>（公平地说，我们还需要做其他事情来限制横向移动，比如关闭开放的端口并正确构建网络层，但不可否认的是，通过远程访问工具进行横向移动是攻击者喜欢使用的技术。）</p><p>      Segmented VPNs also provide mediocre access control -- they can control which private networks a user Alice is allowed to access, but not which targets or applications or roles she’s able to access while she’s inside that network.  Network segmentation almost always occurs at a level of granularity greater than the application creating clusters of access. You always want your compartment to contain one application. The best way to do that is control access to applications</p><p>分段VPN还提供了一般的访问控制——它们可以控制用户Alice可以访问哪些专用网络，但不能控制用户在该网络内时可以访问哪些目标、应用程序或角色。网络分割几乎总是以比创建访问集群的应用程序更大的粒度级别发生。您总是希望您的隔间包含一个应用程序。最好的方法是控制对应用程序的访问</p><p>  Let’s go back to my office building analogy. Even if Alice is allowed to access only a specific set of offices, once she’s inside an office she can access any of the devices, paperwork or materials that are lying around in the office. So if Alice is in HR, you better make sure that all the HR paperwork is available in Alice’s office. (OK I am struggling with this physical analogy, I haven’t been in a real office for a while, but you get where I am saying!)</p><p>让我们回到我的办公楼类比。即使Alice只被允许访问特定的一组办公室，但一旦她进入办公室，她就可以访问办公室里的任何设备、文件或材料。所以如果爱丽丝在人力资源部，你最好确保所有的人力资源文件都在爱丽丝的办公室里。（好吧，我正在努力进行这个物理类比，我已经有一段时间没有在真正的办公室了，但你明白我的意思了！）</p><p>  We can do better than indirectly gating access using keys offices (i.e. segmented VPNs). A far better approach would be to enforce specific organizational roles and responsibilities on Alice. If she’s an HR person, she gets access to HR information. If she’s an accountant, she gets access to accounting information.</p><p>我们可以做得比使用密钥办公室（即分段VPN）间接屏蔽访问更好。更好的方法是对Alice实施特定的组织角色和责任。如果她是人力资源人员，她可以访问人力资源信息。如果她是一名会计，她可以获得会计信息。</p><p>  Control access to specific roles on an application is not something that VPNs are designed to do very well.</p><p>控制对应用程序上特定角色的访问并不是VPN的设计目标。</p><p>    The memo alludes to the need to log the behavior of users while they are accessing applications, talking about “improve[d] agencies’ knowledge of user activities, thereby better detecting anomalous behavior”.</p><p>备忘录中提到，需要记录用户访问应用程序时的行为，并提到“提高机构对用户活动的了解，从而更好地检测异常行为”。</p><p>  VPNs can’t do this very well. They just track what network segment a user accessed. In other words, they stop at the front door of the office, but they lack visibility of what’s going on inside the office.   (There are a multitude of tools you could deploy and correlate to get an understanding of a user’s behavior through a VPN.   Just imagine having to correlate between my VPN, NAC, CASB, NGFW, and directory logs.  But who wants to do that!?)</p><p>VPN不能很好地做到这一点。它们只跟踪用户访问的网段。换句话说，他们停在办公室的前门，但他们看不到办公室里发生的事情。（有很多工具可以部署和关联，以便通过VPN了解用户的行为。想象一下，我的VPN、NAC、CASB、NGFW和目录日志之间需要关联。但谁想这么做呢！）</p><p>  If users authenticate into applications, agencies can track exactly who logged into the application, what role they assumed, and what commands they ran or resources they accessed. And all of this activity is tied back into their user identities, rather than into an ambiguous role or IP address.</p><p>如果用户对应用程序进行身份验证，代理机构可以准确跟踪谁登录了应用程序，他们扮演了什么角色，他们运行了什么命令或访问了什么资源。所有这些活动都与他们的用户身份有关，而不是与一个模棱两可的角色或IP地址有关。</p><p>    All of this it kind of reminded me of that moment in 2013 when I saw President Obama say the words “cyber-attack” in his  state of the union address.  It’s funny to say this now, but back then I was stunned and felt like I had bet on the right horse for my PhD.</p><p>所有这些都让我想起了2013年奥巴马总统在国情咨文中说“网络攻击”的那一刻。现在这么说很有趣，但那时候我震惊了，觉得我在博士学位上赌对了马。</p><p>    Because BastionZero is not a VPN.  BastionZero lets you log into targets, not networks. It controls what roles users access on those targets. And it logs everything that users do on those targets.</p><p>因为BastionZero不是VPN。BastionZero允许您登录目标，而不是网络。它控制用户在这些目标上访问的角色。它会记录用户在这些目标上所做的一切。</p><p> BastionZero provides infrastructure access as a service. It deploys in seconds, autodiscovers your targets, and automatically integrates with your IdP. You write policies to decide which targets someone can access and under which roles. The service logs each command, who ran it, as which role, and on which target.</p><p>BastionZero提供基础设施访问即服务。它可以在几秒钟内部署，自动发现目标，并自动与IdP集成。您可以编写策略来决定某人可以访问哪些目标以及使用哪些角色。该服务记录每个命令、运行它的人、角色和目标。</p><p> Learn more by booking a demo today.</p><p>通过今天预订演示了解更多信息。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/bash/">#bash</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/federal/">#federal</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/访问/">#访问</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>