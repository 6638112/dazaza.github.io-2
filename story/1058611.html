<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>方便的Series-Site Sextrainer </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">方便的Series-Site Sextrainer </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-04-16 05:06:15</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/4/f20572826af67682be94d2acaba9f9f9.png"><img src="http://img2.diglog.com/img/2021/4/f20572826af67682be94d2acaba9f9f9.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Samesite cookie属性旨在防御CSRF攻击，但目前不考虑该网站的方案。这最初是为了在转换到HTTPS期间帮助站点，但它会导致同一主机的安全和不安全版本被视为同一站点。因此，网络攻击者可以冒充http：//site.example，并使用它绕过https：//site.example上的samesite保护。在这种安全漏洞和HTTPS的使用之间显着增加，我们认为现在是时候改变这个定义了。</p><p> Web生态系统已经在此方向上与HTML规范一起移动，并使用相同站点的新定义和利用它的正在进行的W3C Ping隐私威胁模型进行了更新。</p><p>  以下是两个场景：第一个说明Samesite cookie属性（特别严格在此示例中）如何保护CSRF，第二个示出了如何＆＃34;方面的同一网站＆＃34;增强这种保护。</p><p>  攻击者向您发送一封电子邮件，声称您赢得了追逐戏剧。如果访问网站并单击按钮，您需要做的就是这样做。您决定此感觉合法并访问网站https：//mega-sweepstakes.example。该网站有一个很大的有吸引力的纽扣，催促你点击它，但是，Unbeknst给你，按钮并在＆＃39; t声称你的奖品。相反，它与您的银行联系在一起，以及询问银行将您的资金转移到攻击者的查询参数：https：//bank.example/transfer/custom？from = check-conc-slush -Fund＆amp; AMT = 1000。哦，您最近登录了您的银行帐户，以便您的登录cookie仍然有效。</p><p> 如果您的银行＆＃39; s cookie don＆＃39; t有samesite = strict属性，然后单击该链接将导致浏览器导航到您的银行和＃39; s站点，沿着您的登录饼干发送，导致您为1000美元穷人。</p><p> 如果您的银行＆＃39; s cookie有samesite = strict属性，那么单击该链接不会导致浏览器沿着您的登录cookie发送，因为Mega-Sweepstakes.example isn＆＃39; t与bank.example相同的网站，您的支票账户是安全的。</p><p>  但是，如果攻击者是人的联系，那么怎么办？如果您决定访问http：//bank.example，则攻击者可以修改页面上的每个链接以指向https：//bank.example/transfer/custom？from = check＆amp; =邪恶 -  inc-slush-fund＆amp; AMT = 1000。甚至samesite =严格的worln＆＃39; t保护你是bank.example和bank.example是同一个网站。 </p><p>Enter＆＃34;方案同一站点＆＃34;通过考虑方案和注册域，我们可以看到http：//bank.example和https：//bank.example不一样，因此不一样-地点。这意味着浏览器不会发送Samesite =严格的cookie，因此不会登录，传输尝试失败。</p><p>  在用户代理中修改同一站点和＃39;在用户代理中考虑以不同的方案作为跨站点的起源。因此，https：//site.example和http：//site.example现在将被视为跨站点。</p><p>   保护用户免受CSRF攻击的安全起源，这些攻击由不安全的起源与同一领域进行的。</p><p>  该提案没有解决薄弱的机密性或弱曲线完整性，特别是在方案隔离的背景下。这意味着安全和不安全的起源都将保留对同一组饼干的访问。 IE，如果用户访问http：//site.example，则使用http：//site.example/image.jpg和响应设置cookie，然后在该用户访问https：//site.example到https：// site.example / image.jpg仍将发送同一个cookie。</p><p>     在此上下文中的“交叉方案”意味着宗旨是易于同样的网站，但具有不同的方案。例如，http：//site.example和https：//site.example被视为跨方案。</p><p> samesite = lax和samesite =严格的cookie将不再以交叉方案子源请求，即http-to-https和https-to-http（混合内容），无论http请求方法如何。</p><p>     例如，用户在http：//messageboard.example上写出论坛帖子。当用户单击提交后请求将发送到https：//messageboard.example/submit，但是，论坛登录cookie，标有samesite = lax，不会发送，并且用户的帖子将失败。 </p><p>对交叉方案子资源的要求将不再发送Samesite = LAX或Samesite =严格的饼干。类似地，来自交叉方案子资源源的响应将不再能够设置这些饼干。</p><p> 例如，如果http：//site.example嵌入来自https：//site.example，samesite = lax和samesite = start cookie将不再向https：//site.example以及任何响应中的这种饼干将被忽略。</p><p>   在＆＃34之前;方案相同的站点＆＃34 ;:如果有多个嵌套的iframes，如果其中任何祖先是跨站点（到顶部 - 级别框架）。与＆＃34;方面的相同站点＆＃34;如果任何祖先iframe是跨方案（到顶级帧），现在可以发生这种情况。</p><p> 使用Sandbox属性的任何Iframe始终是跨站点（到顶级帧）。这里没有任何改变。</p><p>  获取SRC属性指定的内容的请求被视为任何其他子资源请求，并影响相同的方式。加载IFRame＆＃39; s内容，它作为跨站点或同一站点运行，具体取决于原点生成的文档（这通常是SRC属性值的原点）。</p><p> 例如，对Iframe＆＃39; s页面的以下请求不会发送Samesite = lax也不发送samesite =严格的cookie（也不会将其响应设置这些饼干）作为它和＃39; s交叉方案。在IF rame＆＃39;已加载页面后，它无法访问那些Samesite Cookie，因为它是横向网站运行的＆＃39;</p><p>   通过srcdoc属性加载到iframe中的内容继承了其父级＆＃39; s原点。因此它具有相同的＆＃34;方面的Sypenful-site＆＃34;限制（或缺乏其）作为其父文档。 </p><p>通过SRC属性获取脚本的请求被视为任何其他子资源请求，并影响相同的方式。</p><p> 例如，对脚本的以下请求不会发送Samesite = LAX和Samesite =严格的cookie（其响应也不能设置这些cookie）。</p><p>   脚本作为父文档的一部分执行，因此它们具有相同的＆＃34;方面的相同网站＆＃34;限制（或缺乏其）作为他们的母体文件。</p><p> 这可能会影响将脚本加载到跨方案iframe中的网站。由于横穿方案iframe，这样的脚本将作为跨站点运行，并且无法访问Samesite = LAX和Samesite = STRICT Cookie .Cookie。</p><p> 例如，以下都是下面的＆lt; script＆gt; s将能够访问samesite = lax和samesite =严格的饼干。但是，嵌入在iframe页面中的脚本将无法作为iframe是跨站点。</p><p> ＆lt; html gt;＆lt; body＆gt;＆lt; h1＆gt;此页面托管在http：//website.example/insecure.html& lml＆gml& ltml; // h1＆gt; //这个脚本使用document.cookie做事...... 。＆lt; / script＆gt;＆lt; script src =＆＃34; https：//website.example/script-that-accesses-samessite-cookies.js& #34;＆gt;＆gt;＆gt;＆gt;＆gt;＆gt;＆lt; / script＆gt;＆gt; ＃34; https：//website.example/iframe-with-js.html&#34;标题=＆＃34;嵌入脚本的iframe＆＃34;＆gt;＆lt; / iframe＆gt;＆lt; / body＆gt;＆lt; / html＆gt;</p><p>  ＆＃34;方面的Squide-Sides-site＆＃34;和＃34;方案结合的饼干＆＃34;既试图将cookie靠近基于原始的安全模型;这两个提议相互补充，一个不是另一个的子集。 </p><p>＆＃34;方面的相同站点＆＃34;以及当前版本的同一网站，涉及Cookie将被发送或接收的上下文，特此称为＆＃34;同一网站上下文＆＃ 34; ＆＃34;同一网站上下文＆＃34;可以被认为是问题＆＃34的答案;是请求网址与一个I＆＃39; m上的网站吗？＆＃34;更具体地说＆＃34;是请求URL＆＃39;相同的网站＆＃39;或＆＃39;横向网站＆＃39;与当前的网站I＆＃39; m上？＆＃34;＆＃34;网站I＆＃39; m＆＃34;通常是浏览器中所示的一个地址栏（当然，例外，但它们＆＃39;＆＃39; extepting the point）。</p><p> 在当前的世界里，＆＃34;同一网站上下文＆＃34;通过检查注册域来确定：http：//site1.example与http：//site2.example无法相同的站点，但http：//site1.example和https：//site1.example会是同一个站点.with＆＃34;方面的sident-site＆＃34;我们现在考虑该方案以及注册域：http：//site1.example是跨站点，与http：//site2.example，http：//site1.example也是跨网站的https：//site1.example，但https：//site1.example与https：//site1.example是相同的站点。</p><p>  ＆＃34;方案约束的饼干＆＃34;关注URL的方案，Cookie正在发送或设置。当前世界的回复来自https：//site.example/resource.jpg可以设置cookie：set-cookie：mycookie = value.that然后可以将cookie发送到与＆＃34; site.example＆＃34的任何URL;作为主机，无论方案如何：http：//site.example/otherresource.jpg，https：//site.example/somethingelse.jpg等。</p><p> 与＆＃34;方案约束的饼干＆＃34;浏览器将不再将cookie发送到不同的方案，而不是设置它的方案。在这一点上：来自https的响应：//site.example/resource.jpg设置cookie：set-cookie：mycookie =值。该cookie现在只能发送到安全的URL：https：//site.example。这包括不同的站点，http：// hott.example，嵌入来自site.example：http：//site.example/otherresource.jpg将不会发送cookie，https：//site.example/somethingelse .jpg将发送cookie。</p><p>  ＆＃34;方面的Squide-Sides-site＆＃34;影响上下文cookie将被发送/设置。＆＃34;这个网址是否与I＆＃39;我在审议方案的情况下是一个I＆＃39的网站吗？＆＃34;</p><p> “方案绑定的cookie”影响Cookie将发送到的方案类型。 ＆＃34;请求URL的方案是否符合设置此cookie的原始问题，响应，响应的url？＆＃34;</p><p>  这个例子展示了它＆＃39; s可能有一个情况，其中曲奇饼＆＃34;方面的sident-site＆＃34;和＃34;方案约束的饼干＆＃34;每次发送都可能有所不同。 </p><p>用户导航到https：//website.example，其中包含想要设置和读取cookie的一些嵌入式资源。</p><p> 然后，用户导航到http：//website.example，它与以前相同的页面，通过不安全的连接服务。</p><p> 浏览器检查它是否可以在Http：//website.example/readsacookie.jpg请求上发送cookie</p><p> 在当前的世界（没有任何一个提议）中，允许这个cookie作为＆＃34发送。同一网站上下文＆＃34;是同一个网站：只有可注册域事实和它们匹配。</p><p> “方面的同址站点”还将允许此cookie作为＆＃34发送;同型网站上下文＆＃34;考虑方案时仍然是同一个网站：用户在http：//website.example上，cookie想要发送到http：//website.example</p><p> “方案绑定的cookie”不允许将此cookie作为方案发送，如同＆＃39; t与cookie设置的同样：cookie由https设置，并尝试发送到http。</p><p> 浏览器还检查它是否可以在HTTPS的请求中发送cookie：//website.example/readsacookie2.jpg </p><p>在目前的世界中，允许Cookie作为＆＃34发送。同样的上下文＆＃34;是同一个网站：可注册域匹配。</p><p> “方面的同址站点”不会让这个cookie作为＆＃34被发送为＆＃34;同一网站上下文＆＃34;现在是横向网站：用户在http：//website.example上，并且cookie想要发送到https：//website.example。</p><p> “方案约束cookie”将允许此cookie作为方案与Cookie设置的相同：Cookie由HTTPS设置，并尝试发送到HTTPS。</p><p> 最后，用户导航到不同的网站https：//othersite.example，它嵌入https：//website.example/readsacookie2.jpg;浏览器检查它是否可以在该子资源的请求中发送cookie</p><p> 在目前的世界中，饼干不允许作为＆＃34发送。同型网站上下文＆＃34;是横向网站：注册域名Don＆＃39; t匹配</p><p> “方面的同址站点”不会让这个cookie作为＆＃34被发送为＆＃34;同一网站上下文＆＃34;是横向网站：可注册域名Don＆＃39; t匹配。</p><p> ＆＃34;方案约束的饼干＆＃34;将允许此Cookie作为方案发送，因为该方案与Cookie设置的同样：Cookie由HTTPS设置，并尝试发送到HTTPS。 （它很重要的是要注意，即使＆＃34;方案约束的cookie＆＃34;规则允许将此cookie发送它仍将被浏览器阻止由于站点规则。） </p><p>是的。 ＆＃34;方面的Sypenful Syest-site＆＃34; 是提案＆＃39; s name，＆＃34;方案samesite＆＃34; 偶尔使用。 我们鼓励＆＃34;方面的Syper-stain＆＃34; 拼写。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/sbingler/schemeful-same-site">https://github.com/sbingler/schemeful-same-site</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/site/">#site</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/cookie/">#cookie</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1044762.html"><img src="http://img2.diglog.com/img/2021/1/thumb_b26c0ef5ae658ccda3c74a48e582cf20.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1044762.html">疫苗站点使用信用记录来验证患者的身份 </a></div><span class="my_story_list_date">2021-1-18 2:54</span></div><div class="col-sm"><div><a target="_blank" href="/story/1035502.html"><img src="http://img2.diglog.com/img/2020/11/thumb_091e84993e9e843be921c6a7a5650a53.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1035502.html">聘请了一个价值5亿美元的工作网站，讨论正在逐渐消失</a></div><span class="my_story_list_date">2020-11-21 12:17</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030621.html"><img src="http://img2.diglog.com/img/2020/10/thumb_1b0e24bfa69cbf836e80ed828fae21b1.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030621.html">Firefox“站点隔离”功能进入用户测试，预计明年</a></div><span class="my_story_list_date">2020-10-23 2:9</span></div><div class="col-sm"><div><a target="_blank" href="/story/1028351.html"><img src="http://img2.diglog.com/img/2020/10/thumb_ff981a02208bdb19f39986c3c9a69c48.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1028351.html">
景观网站上线，目标是成为“风投的玻璃门”</a></div><span class="my_story_list_date">2020-10-13 19:15</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>