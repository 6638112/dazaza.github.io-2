<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>缩放熊猫：比较Dask、Ray、Modin、Vaex和Rapids</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">缩放熊猫：比较Dask、Ray、Modin、Vaex和Rapids</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-07-06 03:03:17</div><div class="story_img_container"><a href="http://img.diglog.com/img/2020/7/8a22057e3bc06f6de1eb90f1474d55fe.jpg"><img src="http://img.diglog.com/img/2020/7/8a22057e3bc06f6de1eb90f1474d55fe.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Python及其最受欢迎的数据争议库Pandas人气飙升。与Java等竞争对手相比，Python和Pandas使数据探索和转换变得简单。</p><p>Python立刻失去了一些效率，因为它是一种解释性的、动态类型的语言。但更重要的是，Python一直注重简单性和可读性，而不是原始功能。同样，Pandas专注于提供简单、高级的API，在很大程度上忽略了性能。事实上，熊猫的创造者写了“我讨厌熊猫的10件事”，总结了这些问题：</p><p>因此，许多开发人员试图以各种方式向Python和Pandas添加更多功能也就不足为奇了。一些最值得注意的项目是：</p><p>dask：一个低级调度器和一个高级部分Pandas替代程序，用于在计算集群上运行代码。</p><p>VAEX：部分Pandas的替代品，它使用惰性计算和内存映射，允许开发人员在标准机器上处理大型数据集。</p><p>Rapids：在GPU上运行的数据科学库的集合，包括部分替代熊猫的cuDF。</p><p>因此，如果您正在处理大量数据，并且需要更快的结果，那么您应该使用哪一个呢？</p><p>在您决定使用哪种工具之前，最好对他们的每种方法有更多的了解。我们将仔细比较它们，但您可能希望按以下顺序进行尝试：</p><p>Modin，以Ray作为后端。通过安装这些工具，只需更改一行(将‘import padas pd`改为`import modin.padas as pd`)，您可能会看到显著的好处。与其他工具不同，Modin的目标是与熊猫完全兼容。</p><p>Dask，这是一个更大的项目，因此也更复杂。但是Dask还提供了Dask.dataframe，这是一个更高级的类似熊猫的库，可以帮助您处理内核外的数据集。</p><p>VAEX，旨在帮助您在标准笔记本电脑上处理大量数据。它取代了Pandas，涵盖了一些Pandas API，但它更专注于探索和可视化。</p><p>我们检查的每个库都有不同的优点、缺点和扩展策略。下表提供了这些方面的广泛概述。当然，就像很多事情一样，下面的大部分分数在很大程度上取决于你的实际情况。</p><p>这些都是主观分数，根据你的具体情况，它们可能会有很大的不同。在分配这些职系时，我们考虑到：</p><p>易采性：用户预期的知识量、假定的硬件资源和安装的简易性。</p><p>扩展能力：每个工具的广泛数据集大小限制，取决于它是主要依赖于RAM、单个机器上的硬盘空间，还是可以向上扩展到机器群集。</p><p>用例：无论这些库是为提高Python软件的总体速度而设计的(“通用”)，还是专注于数据科学和机器学习(“数据科学”)，还是仅限于替换熊猫的“DataFrame”功能(“DataFrame”)。</p><p>如果数据集太大，无法在单台计算机上高效使用，则主要选择是跨…运行代码。</p><p>多线程或处理器：现代CPU有几个独立的内核，每个内核可以运行多个线程.。通过跨内核并行来确保您的程序使用所有潜在的处理能力通常是最容易的起点。</p><p>GPU内核：显卡最初的设计目的是高效地并行执行数百万像素的基本运算.。然而，开发人员很快就看到了这种能力的其他用途，“GP-GPU”(图形处理单元上的通用处理)现在是一种流行的加速严重依赖矩阵操作的代码的方法。</p><p>计算集群：一旦您达到了单台机器的极限，您就需要一个联网的机器集群，协同工作。</p><p>除了增加更多的硬件资源外，聪明的算法还可以提高效率。像VAEX这样的工具严重依赖于惰性计算(在确定需要结果之前不进行任何计算)和内存映射(将硬盘上的文件视为加载到RAM中)。</p><p>这些策略在本质上都不比其他策略好，您应该选择适合您特定问题的策略。</p><p>并行编程(无论您使用的是线程、CPU核心、GPU还是集群)提供了许多好处，但它也相当复杂，并且使调试等任务变得更加困难。</p><p>现代图书馆可以隐藏部分(但不是全部)这种增加的复杂性。无论您使用哪种工具，您都会冒着期望一切都能顺利解决的风险(左下)，但结果却是混乱(右下)。</p><p>虽然不是所有这些库都是彼此的直接替代品，但在决定项目使用哪个库时，逐个比较它们是很有用的。</p><p>急流是一个图书馆的集合。为了进行此比较，我们只考虑了cuDF组件，它相当于Pandas的Rapids。</p><p>Dask更好地被认为是两个项目：一个低级Python调度器(在某些方面类似于Ray)和一个高级Dataframe模块(在许多方面类似于Pandas)。</p><p>Dask(作为一个较低级别的调度器)和Ray在使跨机器集群并行执行Python代码变得更容易的目标上有很多重叠之处。Dask更专注于数据科学领域，除了一个低级调度和集群管理框架之外，它还提供了更高级别的API，这些API反过来又为Pandas、NumPy和SCRICKIT-LEARN提供了部分替代。</p><p>Dask和Ray的创建者讨论了这两个库在这个GitHub线程中的比较情况，他们得出结论，调度策略是关键的区别之一。Dask使用集中式调度器在多个内核之间共享工作，而Ray使用分布式自下而上调度。</p><p>Dask(更高级别的Dataframe)承认Pandas API的局限性，虽然它为了熟悉而部分模拟了这一点，但它的目标并不是完全兼容Pandas。如果您有复杂的现有Pandas代码，您不太可能简单地将Pandas替换为Dask.Dataframe并让一切按预期工作。相比之下，这正是莫丁努力实现的目标：100%的熊猫覆盖率。Modin可以在Dask之上运行，但最初是为与Ray一起工作而构建的，而且这种集成仍然比较成熟。</p><p>Dask(Dataframe)与Pandas不完全兼容，但非常接近。这些密切的关系意味着达斯克也背负着熊猫固有的一些包袱。VAEX与Pandas的差异更大(尽管对于读取数据和计算汇总统计等基本操作而言，VAEX非常相似)，因此也较少受到它的限制。</p><p>归根结底，Dask更专注于让您扩展代码以计算集群，而Vaex使在一台机器上处理大型数据集变得更容易。VAEX还提供了一些功能来帮助您轻松地可视化和绘制大型数据集，而Dask则更关注数据处理和争论。</p><p>达斯克和拉皮兹通过拉皮兹提供的整合在一起玩得很好。如果您有计算集群，则应该使用Dask。如果您有NVIDIA显卡，则应使用Rapids。如果您有NVIDIA GPU计算群集，则应同时使用两者。</p><p>将雷与莫丁、Vaex或Rapids相提并论并不那么有意义。与其他库不同，Ray没有提供高级API或Pandas等效项。取而代之的是，Ray为Modin提供动力，并以类似于Dask的方式与Rapids集成。</p><p>与Dask和Vaex的比较一样，Modin的目标是提供完整的熊猫替代品，而Vaex与熊猫的差异更大。如果您正在寻找一种快速方法来加速现有的Pandas代码，那么Modin应该是您的第一站，而Vaex更可能对新项目或特定用例感兴趣(特别是在一台机器上可视化大型数据集)。</p><p>Modin通过使用多个CPU内核(通过Ray或Dask)扩展熊猫代码。Rapids通过在GPU上运行熊猫代码来扩展它。如果你有可用的图形处理器，试试“急流”吧。但最容易的胜利可能来自莫丁，你可能只有在第一次尝试过莫丁之后才应该转向急流。</p><p>VAEX和Rapids的相似之处在于，它们都可以在一台机器上提供性能提升：VAex通过更好地利用计算机的硬盘和处理器内核，而Rapids通过使用计算机的GPU(如果它可用且兼容)。Rapids项目作为一个整体的目标是比Vaex广泛得多，让你在不离开GPU的情况下进行端到端的机器学习。VAEX更适合于原型和数据探索，让您可以在消费级机器上探索大型数据集。</p><p>玩新的、专门的工具很有趣。也就是说，许多项目都存在过度工程和过早优化的问题。如果您还没有遇到可伸缩性或效率问题，单独使用Python和Pandas没有什么错。它们被广泛使用，并且提供了成熟度和稳定性，以及简单性。</p><p>只有在达到Python和Pandas本身的限制之后，才应该开始研究这里讨论的库。否则，您可能会花费太多时间来选择和配置库，而不是在项目上取得进展。</p><p>在DataRevenue，我们已经使用这些库构建了许多项目，并且知道何时以及如何使用它们。如果您需要其他意见，请与我们联系。我们很乐意帮忙。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://datarevenue.com/en-blog/pandas-vs-dask-vs-vaex-vs-modin-vs-rapids-vs-ray">https://datarevenue.com/en-blog/pandas-vs-dask-vs-vaex-vs-modin-vs-rapids-vs-ray</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ray/">#ray</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/pandas/">#pandas</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>