[{"category": "", "categoryclass": "", "imagename": "", "infoid": 1017876, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u5047\u8bbe\u60a8\u9700\u8981\u8ba9\u5144\u5f1f\u59d0\u59b9\u3001\u5ba4\u53cb\u3001\u5b69\u5b50\uff0c\u751a\u81f3\u662f\u624b\u8d70\u795e\u7684\u670b\u53cb\u8fdc\u79bb\u67d0\u4e8b\uff0c\u4f46\u60a8\u4e0d\u80fd\u4f7f\u7528\u9501\u3002\u4e5f\u8bb8\u4f60\u62c5\u5fc3\u4ed6\u4eec\u4f1a\u627e\u5230\u94a5\u5319\uff0c\u4e5f\u8bb8\u4f60\u9700\u8981\u6ca1\u6709\u91d1\u5c5e\u90e8\u4ef6\u7684\u4e1c\u897f\uff0c\u6216\u8005\u4f60\u8fd8\u662f\u4e2a\u5b69\u5b50\uff0c\u4f60\u7684\u7236\u6bcd\u62c5\u5fc3\u4f60\u4f1a\u4e22\u5931\u94a5\u5319\u3002\n\u8fd9\u5c31\u662f\u90a3\u79cd\u6709\u7f16\u53f7\u7684\u5b89\u5168\u5370\u7ae0\u5bf9\u2026\u6709\u597d\u5904\u7684\u4e1c\u897f\u3002\u4f46\u662f\u5b83\u4eec\u5f88\u8d35\u3002(\u6211\u627e\u5230\u7684\u6700\u4fbf\u5b9c\u7684\u5927\u7ea6\u662f\u6bcf\u4ef650\u7f8e\u5206\uff0c\u6bcf\u5305100\u4ef6\u6216\u66f4\u591a)\u3002\n\u2026\u3002\u6240\u4ee5\u6211\u51b3\u5b9a\u505a\u4e00\u4e2a\u5c0f\u5c0f\u7684\u5b9e\u9a8c\uff0c\u60f3\u51fa\u4e00\u4e2a\u4fbf\u5b9c\u4f46\u53ef\u9760\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u7528\u4e8e\u81ea\u5236\u7684\u7be1\u6539\u5bc6\u5c01\u4ef6\uff0c\u5b83\u662f\u5982\u6b64\u7b80\u5355\u548c\u5b89\u5168\uff0c\u5373\u4f7f\u662f\u5b69\u5b50\u4e5f\u80fd\u505a\u5230\u3002\n\u5b89\u5168\u5c01\u6761\u6700\u91cd\u8981\u7684\u4e00\u70b9\u662f\u5b83\u662f\u72ec\u4e00\u65e0\u4e8c\u7684\uff0c\u6240\u4ee5\u5b83\u4e0d\u80fd\u66f4\u6362\uff0c\u8981\u4e48\u6253\u5f00\u540e\u5c31\u4e0d\u80fd\u91cd\u5408\uff0c\u8981\u4e48\u4f60\u4f1a\u6ce8\u610f\u5230\u5b83\u662f\u5426\u91cd\u5408\u3002\n\u4e3a\u4e86\u7528\u7eb8\u6ee1\u8db3\u8fd9\u4e9b\u8981\u6c42\uff0c\u6211\u4eec\u9700\u8981\u5728\u7eb8\u4e0a\u6253\u5370\u6216\u4e66\u5199\u4e00\u4e9b\u522b\u4eba\u65e0\u6cd5\u590d\u5236\u7684\u4e1c\u897f\uff0c\u5982\u679c\u6709\u4eba\u526a\u5207\u5e76\u91cd\u65b0\u7c98\u5408\u5c01\u6761\uff0c\u8fd9\u4e9b\u4e1c\u897f\u4f1a\u770b\u8d77\u6765\u4e0d\u5bf9\u52b2\u3002\n\u5982\u679c\u4f60\u6709\u4e00\u53f0\u6253\u5370\u673a\uff0c\u4f60\u53ef\u4ee5\u4ece\u4e92\u8054\u7f51\u4e0a\u6253\u5370\u51fa\u4e00\u5f20\u968f\u673a\u7684\u56fe\u50cf\uff0c\u5220\u9664\u6587\u4ef6\uff0c\u6e05\u7a7a\u4f60\u7684\u6d4f\u89c8\u5668\u5386\u53f2\u8bb0\u5f55\uff0c\u7136\u540e\u4ece\u4e0a\u9762\u526a\u4e0b\u6761\u5b50\u7528\u4f5c\u5c01\u6761\uff0c\u4f46\u662f\u55b7\u58a8\u58a8\u6c34\u5f80\u5f80\u8981\u82b1\u5f88\u591a\u94b1\uff0c\u800c\u4e14\u5927\u591a\u6570\u4eba\u90fd\u6ca1\u6709\u6fc0\u5149\u6253\u5370\u673a\u3002\n\u6211\u7684\u5efa\u8bae\u662f\u8fd9\u6837\u7684\uff1a\u4ece\u4e00\u5f20\u7eb8\u4e0a\u526a\u4e0b\u6761\u5b50\uff0c\u7136\u540e\u5728\u5b83\u4eec\u7684\u4e24\u8fb9\u7b7e\u540d\u5e76\u6d82\u9e26\uff0c\u8fd9\u6837\u4efb\u4f55\u5207\u5272\u6216\u5b8c\u5168\u66f4\u6362\u90fd\u4f1a\u5f88\u660e\u663e\u3002(\u60a8\u53ef\u4ee5\u5728\u4e24\u9762\u90fd\u8fd9\u6837\u505a\uff0c\u8fd9\u6837\u60a8\u5c31\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u770b\u5230\u662f\u5426\u6709\u4eba\u901a\u8fc7\u5c06\u53e6\u4e00\u5f20\u7eb8\u7c98\u5230\u73af\u7684\u5185\u4fa7\u6765\u4fee\u8865\u4f24\u53e3\u3002)\u3002\n\u522b\u5fd8\u4e86\u7528\u4f60\u7684\u526a\u5200\u628a\u5e26\u5b50\u7684\u4e24\u7aef\u505a\u6210\u5706\u5f62\uff0c\u800c\u4e0d\u662f\u65b9\u5f62\u7684\uff0c\u6240\u4ee5\u5982\u679c\u6709\u4eba\u60f3\u8981\u628a\u5b83\u5265\u5f00\uff0c\u5c31\u66f4\u96be\u8bd5\u56fe\u6311\u51fa\u63a5\u5408\u5904\u4e86\u3002\n\u8981\u8d34\u4e0a\u5c01\u6761\uff0c\u4f60\u53ea\u9700\u8981\u628a\u5b83\u7a7f\u8fc7\u6216\u7ed5\u8fc7\u4f60\u60f3\u5c01\u4f4f\u7684\u4efb\u4f55\u4e1c\u897f\u3002\u6a71\u67dc\u624b\u67c4)\uff0c\u7136\u540e\u5c06\u5176\u7c98\u5408\u6210\u4e00\u4e2a\u73af\u3002(\u5982\u679c\u4f60\u56fa\u5b9a\u7684\u662f\u65cb\u94ae\u5f62\u72b6\u7684\u6a71\u67dc\u628a\u624b\uff0c\u90a3\u5c31\u662f\u4e00\u4e2a\u7d27\u5708\uff0c\u6240\u4ee5\u5982\u679c\u4e0d\u6298\u65ad\u5b83\u5c31\u4e0d\u80fd\u628a\u5b83\u53d6\u4e0b\u6765\u3002)\u3002\n\u5982\u679c\u4f60\u60f3\u5bc6\u5c01\u4e00\u4e2a\u76d2\u5b50\uff0c\u8bd5\u7740\u628a\u51e0\u6761\u80f6\u6761\u7c98\u5728\u4e00\u8d77\uff0c\u505a\u6210\u7c7b\u4f3c\u5723\u8bde\u793c\u7269\u4e0a\u7684\u4e1d\u5e26\u7684\u5f62\u72b6\u3002\n\u5728\u80f6\u6761\u7684\u4e00\u7aef\u6d82\u4e0a\u8db3\u591f\u7684\u80f6\u6c34\uff0c\u8fd9\u6837\u5f53\u6324\u538b\u65f6\uff0c\u5c31\u4e0d\u4f1a\u7559\u4e0b\u6ca1\u6709\u80f6\u6c34\u7684\u89d2\u843d\u3002\n\u5408\u4e0a\u73af\uff0c\u628a\u4e24\u7aef\u6324\u5728\u4e00\u8d77\u81f3\u5c115\u79d2\u949f\uff0c\u5c3d\u4f60\u6240\u80fd\u3002\n\u5047\u8bbe\u4f60\u6b63\u8bd5\u56fe\u963b\u6b62\u771f\u6b63\u806a\u660e\u7684\u4eba\u5077\u5077\u8fdb\u5165\uff0c\u4f60\u8fd8\u9700\u8981\u627e\u4e00\u4e2a\u6210\u5e74\u4eba\u6765\u505a\u4e24\u4e2a\u5c0f\u628a\u620f\uff1a\n\u7528\u900f\u660e\u7684\u6307\u7532\u6cb9\u6d82\u62b9\u7c98\u5408\u7684\u90e8\u5206\u4ee5\u9632\u6c34\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u6709\u4eba\u8bd5\u56fe\u901a\u8fc7\u84b8\u80f6\u6c34\u6765\u770b\u4e0d\u89c1\u5730\u6253\u5f00\u5bc6\u5c01\u4ef6\u3002(\u8fd9\u4e5f\u4f7f\u5f97\u8bd5\u56fe\u62c6\u89e3\u53d8\u5f97\u66f4\u52a0\u56f0\u96be\u3002)\u3002\n\u7528\u4e00\u628a\u591a\u529f\u80fd\u5200\u5728\u7c98\u5408\u7684\u5730\u65b9\u526a\u4e0b\u4e00\u4e9b\u659c\u7eb9\uff0c\u7edd\u5bf9\u4fdd\u8bc1\u4efb\u4f55\u8bd5\u56fe\u5265\u79bb\u80f6\u6c34\u7684\u884c\u4e3a\u90fd\u4f1a\u5bfc\u81f4\u660e\u663e\u7684\u6495\u88c2\u3002\n\u6211\u5728\u6211\u7684\u6307\u793a\u4e2d\u975e\u5e38\u5177\u4f53\uff0c\u56e0\u4e3a\u6211\u5b9e\u9645\u4e0a\u505a\u4e86\u5f88\u591a\u6d4b\u8bd5\u3002\u5982\u679c\u4f60\u60f3\u81ea\u5df1\u91cd\u590d\u6211\u7684\u6d4b\u8bd5\uff0c\u6211\u662f\u8fd9\u4e48\u505a\u7684\uff1a\n\u6210\u529f\u7684\u5bc6\u5c01\u4ef6\u5728\u62c9\u52a8\u80f6\u5408\u63a5\u5934\u7684\u4e24\u7aef\u65f6\u4e0d\u80fd\u4f7f\u80f6\u6c34\u8131\u843d\u3002\n\u4e00\u4e2a\u6210\u529f\u7684\u5bc6\u5c01\u5fc5\u987b\u5728\u6709\u4eba\u8bd5\u56fe\u5728\u7c98\u5408\u7684\u63a5\u5408\u5904\u6311\u8d77\u548c\u5265\u79bb\u65f6\u663e\u793a\u51fa\u660e\u663e\u7684\u635f\u574f\u3002\n\u5982\u679c\u5c06\u6eb6\u5242\u5e94\u7528\u4e8e\u80f6\u5408\u63a5\u5934\uff0c\u5219\u6210\u529f\u7684\u5bc6\u5c01\u5fc5\u987b\u4f7f\u7eb8\u5f20\u5728\u80f6\u6c34\u4e4b\u524d\u660e\u663e\u5931\u6548\u3002\n\u5728\u6bcf\u6761\u80f6\u6761\u4e0a\u5199\u4e0a\u5de5\u827a\u5b8c\u6210\u7684\u65f6\u95f4\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u8003\u8651\u70d8\u5e72\u65f6\u95f4\u4e86\u3002\n\u5bf9\u4e8e\u6bcf\u4e2a\u6d4b\u8bd5\u7684\u5e72\u71e5\u65f6\u95f4\uff0c\u6293\u4f4f\u8bd5\u7eb8\u7684\u672b\u7aef\uff0c\u50cf\u4f7f\u7528\u5723\u8bde\u997c\u5e72\u4e00\u6837\u5747\u5300\u5730\u5411\u5916\u62c9\u3002\u5982\u679c\u7eb8\u5f20\u5728\u7c98\u5408\u7684\u8865\u4e01\u4e4b\u5916\u7834\u88c2\uff0c\u5219\u6d4b\u8bd5\u6210\u529f\u3002(\u5982\u679c\u5b83\u5728\u8ddd\u79bb\u8fde\u63a5\u8db3\u591f\u8fdc\u7684\u5730\u65b9\u5931\u8d25\uff0c\u8bf7\u91cd\u590d\u64cd\u4f5c\uff0c\u76f4\u5230\u6ca1\u6709\u4efb\u4f55\u4e1c\u897f\u53ef\u6293\u53d6)\u3002\n\u5bf9\u4e8e\u6bcf\u4e2a\u6d4b\u8bd5\u7684\u5e72\u71e5\u65f6\u95f4\uff0c\u5c1d\u8bd5\u5c06\u4e24\u6761\u7eb8\u5206\u5f00\u3002\u5982\u679c\u7eb8\u5f20\u660e\u663e\u635f\u574f\uff0c\u5e76\u4e14\u4e0d\u4f1a\u901a\u8fc7\u5c06\u63a5\u5934\u7c98\u5408\u5728\u4e00\u8d77\u800c\u9690\u85cf\u8d77\u6765\uff0c\u90a3\u4e48\u6d4b\u8bd5\u5c31\u662f\u6210\u529f\u7684\u3002\n\u51c6\u5907\u53e6\u4e00\u5957\u8bd5\u7eb8\uff0c\u8ba9\u7c98\u5408\u7684\u5730\u65b9\u5728\u4e00\u6ef4\u77ff\u7269\u6cb9\u6216\u690d\u7269\u6cb9\u4e2d\u6d78\u6ce130\u5206\u949f\u3002\u91cd\u590d\u6d4b\u8bd5\u3002\u5982\u679c\u80f6\u6c34\u6ca1\u6709\u88ab\u6cb9\u524a\u5f31\uff0c\u5b83\u5c31\u4f1a\u901a\u8fc7\u3002(\u5728\u6211\u7684\u6d4b\u8bd5\u4e2d\uff0c\u7eb8\u5f20\u7684\u5e72\u71e5\u90e8\u5206\u4ecd\u7136\u6301\u7eed\u51fa\u73b0\u7834\u635f\uff0c\u8fd9\u8868\u660e\u673a\u6cb9\u5e76\u6ca1\u6709\u663e\u8457\u524a\u5f31\u5b83\u3002)\u3002\n\u51c6\u5907\u53e6\u4e00\u5957\u8bd5\u7eb8\uff0c\u5e76\u7528\u900f\u660e\u6307\u7532\u6cb9\u5f7b\u5e95\u6d82\u62b9\u7c98\u5408\u7684\u8865\u4e01\u3002\u91cd\u590d\u6d4b\u8bd5\u3002\u5982\u679c\u6307\u7532\u6cb9\u4e2d\u7684\u6eb6\u5242\u6ca1\u6709\u4f7f\u80f6\u6c34\u53d8\u5f31\uff0c\u80f6\u6c34\u5c31\u4f1a\u901a\u8fc7\u3002(\u6211\u5728\u4ee5\u524d\u7684\u5b9e\u9a8c\u4e2d\u5df2\u7ecf\u8bc1\u5b9e\uff0c\u6307\u7532\u6cb9\u53ef\u4ee5\u5728\u4e0d\u524a\u5f31\u7eb8\u5f20\u7684\u60c5\u51b5\u4e0b\u9632\u6c34\uff0c\u5728\u8fd9\u4e9b\u6d4b\u8bd5\u4e2d\uff0c\u7eb8\u5f20\u672a\u6d82\u6f06\u7684\u90e8\u5206\u4ecd\u7136\u4f1a\u6301\u7eed\u53d1\u751f\u7834\u635f\u3002)\n\u6211\u6d4b\u8bd5\u4e86\u4e24\u79cd\u4e0d\u540c\u7684\u65e0\u6ce1\u53cc\u9762\u80f6\u5e26\u3002\u8fd9\u4e24\u4e2a\u90fd\u592a\u5f31\u4e86\uff0c\u4e0d\u9002\u5408\u4f7f\u7528\uff0c\u5728\u62c9\u529b\u6d4b\u8bd5\u4e2d\u5931\u53bb\u4e86\u5bf9\u7eb8\u5f20\u7684\u6293\u53d6\uff0c\u51e0\u4e4e\u6ca1\u6709\u4efb\u4f55\u660e\u663e\u7684\u6548\u679c\u3002\n\u8fd9\u79cd\u63a5\u89e6\u80f6\u7c98\u5242\u901a\u8fc7\u4e86\u62c9\u529b\u6d4b\u8bd5\uff0c\u4f46\u5728\u63a5\u5408\u5904\u7684\u6293\u53d6\u548c\u5265\u79bb\u9762\u524d\u5e76\u4e0d\u660e\u663e\u7be1\u6539\uff0c\u800c\u4e14\u88ab\u6cb9\u6c61\u6d4b\u8bd5\u5f7b\u5e95\u524a\u5f31\u4e86\uff0c\u4ee5\u81f3\u4e8e\u5728\u4e0d\u635f\u5bb3\u7eb8\u5f20\u7684\u60c5\u51b5\u4e0b\u62c9\u5f00\u662f\u5fae\u4e0d\u8db3\u9053\u7684\u3002\n\u4ece\u6211\u4e2a\u4eba\u7684\u7ecf\u9a8c\u6765\u770b\uff0c\u6211\u77e5\u9053\u5982\u679c\u4f60\u5c0f\u5fc3\u7684\u8bdd\uff0c\u78e8\u7802\u7684\u54c1\u79cd\u662f\u53ef\u4ee5\u6beb\u53d1\u65e0\u635f\u5730\u5265\u79bb\u7684\u3002\u6211\u6d4b\u8bd5\u4e86\u6ca1\u6709\u78e8\u7802\u7684\u90a3\u79cd\uff0c\u867d\u7136\u5b83\u52c9\u5f3a\u901a\u8fc7\u4e86\u62c9\u529b\u6d4b\u8bd5\uff0c\u4f46\u5728\u6ca1\u6709\u8bc1\u636e\u7684\u60c5\u51b5\u4e0b\u592a\u5bb9\u6613\u5265\u79bb\u4e86\u3002\u6b64\u5916\uff0c\u66b4\u9732\u5728\u77f3\u6cb9\u4e2d\u4f1a\u4e25\u91cd\u524a\u5f31\u5b83\uff0c\u6211\u6000\u7591\u8fd9\u662f\u6240\u6709\u73b0\u6210\u7684\u63a5\u89e6\u5f0f\u7c98\u5408\u5242\u7684\u5171\u540c\u7279\u70b9\u3002\n\u901a\u8fc7\u4e86\u5e72\u6027\u548c\u6cb9\u6027\u6d4b\u8bd5\uff0c\u4f46\u5b83\u662f\u5426\u901a\u8fc7\u8131\u76ae\u6d4b\u8bd5\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u53d6\u51b3\u4e8e\u6211\u662f\u5982\u4f55\u4f7f\u7528\u5b83\u7684\uff0c\u6240\u4ee5\u6211\u4e0d\u80fd\u63a8\u8350\u5b83\u3002\u5b83\u4e5f\u88ab\u900f\u660e\u6307\u7532\u6cb9\u4e2d\u7684\u6eb6\u5242\u4e25\u91cd\u964d\u89e3\u3002\n\u6211\u5f88\u60ca\u8bb6\u8fd9\u4e2a\u2026\u7684\u8868\u73b0\u5982\u6b64\u51fa\u8272\u3002\u4e0d\u8fc7\uff0c\u8003\u8651\u5230\u5b83\u662f\u7528\u6765\u88c5\u8ba2\u4e66\u672c\u7684\u80f6\u6c34\uff0c\u6211\u53ef\u80fd\u4e0d\u5e94\u8be5\u8fd9\u4e48\u505a\u3002PVA\u7684\u5e72\u71e5\u901f\u5ea6\u8db3\u591f\u5feb\uff0c5\u5206\u949f\u540e\uff0c\u63a5\u7f1d\u65c1\u8fb9\u4ecd\u7136\u6f6e\u6e7f\u7684\u7eb8\u5f20\u5728\u6d4b\u8bd5\u4e2d\u7834\u88c2\uff0c10\u5206\u949f\u540e\uff0c\u7eb8\u5f20\u6062\u590d\u6b63\u5e38\u3002\u5b83\u7684\u6297\u5265\u6027\u5982\u6b64\u4e4b\u5f3a\uff0c\u4ee5\u81f3\u4e8e\u7eb8\u5f20\u5f80\u5f80\u4f1a\u6495\u88c2\uff0c\u800c\u4e14\u65e0\u8bba\u662f\u6cb9\u8fd8\u662f\u6307\u7532\u6cb9\u6eb6\u5242\u5bf9\u63a5\u5934\u7684\u5f3a\u5ea6\u90fd\u6ca1\u6709\u660e\u663e\u7684\u5f71\u54cd\u3002\n\u7136\u800c\uff0c\u6211\u786e\u5b9e\u6ce8\u610f\u5230\uff0c\u5728\u89d2\u843d\u5265\u76ae\u9020\u6210\u7684\u635f\u5bb3\u66f4\u5bb9\u6613\u5ffd\u89c6\u2026\u3002\u56e0\u6b64\uff0c\u6211\u5efa\u8bae\u5728\u4e0a\u80f6\u4e4b\u524d\u5148\u628a\u6761\u5b50\u7684\u4e24\u7aef\u4fee\u6574\u4e00\u4e0b\u3002\n\u6211\u4f1a\u8f6c\u800c\u6d4b\u8bd5\u5176\u4ed6\u65b9\u6cd5\uff0c\u6bd4\u5982\u70ed\u80f6\u3001\u8d85\u5f3a\u80f6\u3001\u63a5\u89e6\u5f0f\u6c34\u6ce5\u7b49\u7b49\uff0c\u4f46\u6211\u4e0d\u9700\u8981\u6d4b\u8bd5\u5b83\u4eec\u5c31\u80fd\u77e5\u9053\uff0c\u5b83\u4eec\u5145\u5176\u91cf\u4e5f\u5c31\u662f\u8fd9\u79cd\u5e94\u7528\u4e2d\u767d\u80f6\u7684\u6027\u80fd\u3002(\u5b83\u4eec\u66f4\u96be\u64cd\u4f5c\uff0c\u66f4\u6602\u8d35\uff0c\u5e72\u71e5\u901f\u5ea6\u4e5f\u4e0d\u4f1a\u66f4\u5feb\uff0c\u800c\u4e14PVA\u5df2\u7ecf\u4ea7\u751f\u4e86\u6bd4\u5b83\u5468\u56f4\u7684\u7eb8\u66f4\u5f3a\u7684\u7c98\u5408\u529b\uff0c\u5e76\u4e14\u548c\u5b83\u5468\u56f4\u7684\u7eb8\u4e00\u6837\u8010\u6c34\u3002)(\u5b83\u4eec\u66f4\u96be\u64cd\u4f5c\uff0c\u66f4\u6602\u8d35\uff0c\u5e72\u71e5\u901f\u5ea6\u4e5f\u4e0d\u4f1a\u66f4\u5feb\uff0c\u800c\u4e14PVA\u5df2\u7ecf\u4ea7\u751f\u4e86\u6bd4\u5b83\u5468\u56f4\u7684\u7eb8\u66f4\u5f3a\u7684\u7c98\u5408\u529b\uff0c\u800c\u4e14\u548c\u5b83\u5468\u56f4\u7684\u7eb8\u4e00\u6837\u9632\u6c34\u3002)\u3002\n(\u7136\u800c\uff0c\u6211\u786e\u5b9e\u5728\u4e00\u4e9b\u9ed1\u767d\u590d\u5370\u673a\u7528\u7684\u6295\u5f71\u4eea\u900f\u660e\u80f6\u7247\u4e0a\u6d4b\u8bd5\u4e86\u5f3a\u529b\u80f6\u3002\u5b83\u901a\u8fc7\u4e86\u62c9\u529b\u6d4b\u8bd5\uff0c\u4f46\u8981\u5265\u79bb\u800c\u4e0d\u7559\u4e0b\u7be1\u6539\u7684\u8bc1\u636e\u662f\u5fae\u4e0d\u8db3\u9053\u7684\u3002)\n\u66f4\u65b02018-08-15\uff1a\u5728\u6211\u610f\u8bc6\u5230\u6253\u706b\u673a\u6db2\u4f53\u5bf9\u4e8e\u5b89\u5168\u5730\u5c06\u80f6\u5e26\u548c\u5176\u4ed6\u7c98\u5408\u5242\u4ece\u4e66\u7c4d\u548c\u76d2\u5b50\u4e0a\u53d6\u51fa\u800c\u4e0d\u4f1a\u635f\u574f\u5b83\u4eec\u662f\u591a\u4e48\u6709\u6548\u540e\uff0c\u6211\u8fdb\u884c\u4e86\u53e6\u4e00\u8f6e\u6d4b\u8bd5\u3002\n\u6253\u706b\u673a\u6db2\u4f53\u4f3c\u4e4e\u4e0d\u4f1a\u660e\u663e\u524a\u5f31\u767d\u8272\u80f6\u6c34\u3002\u7136\u800c\uff0c\u81ea\u4ece\u6211\u6700\u521d\u7684\u6d4b\u8bd5\u4ee5\u6765\uff0c\u6211\u5df2\u7ecf\u6362\u4e86\u4e00\u74f6\u65b0\u7684\u80f6\u6c34\uff0c\u4f3c\u4e4e\u805a\u4e59\u70ef\u9187\u918b\u9178\u916f(PVA)\u80f6\u6c34\u7684\u8010\u5265\u6027\u4f1a\u6709\u6240\u4e0d\u540c\u3002(\u6211\u4e0d\u786e\u5b9a\u5b83\u662f\u5728\u4e0d\u540c\u6279\u6b21\u4e4b\u95f4\u6709\u6240\u4e0d\u540c\uff0c\u8fd8\u662f\u4ec5\u4ec5\u5728\u4e0d\u540c\u54c1\u724c\u4e4b\u95f4\u6709\u6240\u4e0d\u540c\u3002)\u3002\n\u56e0\u6b64\uff0c\u65e2\u7136\u4f60\u7684\u767d\u8272\u80f6\u6c34\u7684\u8d28\u91cf\u65e0\u6cd5\u4fdd\u8bc1\uff0c\u6211\u73b0\u5728\u5f3a\u70c8\u5efa\u8bae\u59cb\u7ec8\u4f7f\u7528\u201c\u4f7f\u5c01\u53e3\u66f4\u575a\u97e7\u201d\u7684\u6b65\u9aa4(\u6d82\u4e0a\u4e00\u5c42\u900f\u660e\u7684\u6307\u7532\u6cb9\u6765\u5bc6\u5c01\u63a5\u7f1d\uff0c\u5e76\u5728\u8bd5\u56fe\u5265\u79bb\u63a5\u7f1d\u65f6\u4f7f\u7528\u4e00\u4e9b\u5207\u53e3\uff0c\u4ee5\u63d0\u9ad8\u6495\u88c2\u7684\u51e0\u7387)\uff0c\u5e76\u4f7f\u7528\u4eba\u5b57\u5f62(&lt\uff1b\u548c&gt\uff1b)\u88c1\u526a\uff0c\u4ee5\u786e\u4fdd\u6ca1\u6709\u4eba\u53ef\u4ee5\u5c1d\u8bd5\u5265\u79bb\u7684\u89d2\u5ea6\uff0c\u8fd9\u5c06\u4e0e\u6bcf\u4e00\u6b21\u88c1\u526a\u5b8c\u5168\u5e73\u884c\u3002", "note_en": "Suppose you need to keep siblings, roommates, children, or even friends with wandering hands out of something, but you can\u2019t use a lock. Maybe you\u2019re worried they\u2019ll find the key, maybe you need something that has no metallic parts, or maybe you\u2019re a kid and your parents are worried you will lose the key.\n This is the kind of thing numbered security seals are good for\u2026 but they\u2019re expensive. (The cheapest I\u2019ve found are roughly 50\u00a2 each in packs of 100 or more)\n \u2026so I decided to do a little experimentation and came up with a cheap-but-reliable solution for homemade tamper seals that\u2019s so simple and safe that even children can do it.\n   The most important thing about a security seal is that it\u2019s unique, so it can\u2019t be replaced, and either can\u2019t be reclosed after being opened or you\u2019ll notice if it is.\n To satisfy these requirements with paper, we need to print or write something on the paper which other people can\u2019t reproduce and which will look wrong if someone cuts and re-glues the seal.\n If you\u2019ve got a printer, you could print out a random image from the Internet, delete the file and empty your browser history, then cut strips from it to use as seals, but Inkjet ink tends to cost a fortune and most people don\u2019t have laser printers.\n What I recommend is this: Cut strips from a piece of paper, then sign and doodle all over both sides of them so any cuts or complete replacement will be obvious. (You do it on both sides, so that you can easily see if someone mends a cut by glueing another piece of paper to the inside of the loop.)\n Don\u2019t forget to use your scissors to make the ends of the strip round, rather than square, so it\u2019s harder for someone to attempt to pick at the joint\u00a0if they want to try to peel it apart.\n  To apply the seal, you just need to pass it through or around whatever you want to seal (eg. cabinet handles) and then glue it into a loop. (a tight loop, if you\u2019re securing knob-shaped cabinet handles, so it can\u2019t be lifted off without breaking it.)\n If you want to seal a box, try gluing several strips together into a shape similar to the ribbon on a Christmas present.\n  Apply a enough glue to one end of the strip that, when squeezed, it won\u2019t leave unglued corners.\n Close the loop and squeeze the ends together for at least five seconds, as hard as you can.\n  Supposing you\u2019re trying to keep really clever people from sneaking access, there are two more tricks you should get an adult to do:\n Paint the glued part with clear nail polish to waterproof it, so nobody can try to invisibly open the seal by steaming the glue. (This also makes it harder to try to pick apart.)\n Cut some diagonal stripes into the glued spot using a utility knife to absolutely guarantee that any attempt to peel apart the glue will result in obvious tearing.\n  I was very specific in my instructions, because I actually did a lot of testing. If you want to repeat my tests yourself, here\u2019s what I did:\n  A successful seal must not have the glue fail when pulling on both ends of the glued joint.\n A successful seal must show obvious damage when someone tries to pick and peel at the glued joint.\n A successful seal must have the paper visibly fail before the glue if a solvent is applied to the glued joint.\n  On each glued strip, write the time the process was finished, so drying time can be considered.\n For each drying time tested, grip the ends of a test strip and pull evenly outward as with a  Christmas cracker. The test is a success if the paper breaks outside the glued patch. (If it fails far enough from the join, repeat until there\u2019s nothing left to grip)\n For each drying time tested, attempt to peel apart the two strips of paper. The test is a success if the paper is visibly damaged in a manner that wouldn\u2019t be hidden by glueing the joint back together.\n  Prepare another set of test strips and allow the glued spot to soak in a drop of mineral or vegetable oil for 30 minutes. Repeat the tests. The glue passes if it wasn\u2019t weakened by the oil. (In my tests, the breakage still consistently occurred in the dry portions of the paper, indicating that the oil had not weakened it significantly.)\n Prepare another set of test strips and paint the glued patch thoroughly with clear nail polish. Repeat the tests. The glue passes if the solvent in the nail polish didn\u2019t weaken it. (I have already confirmed in previous experiments that nail polish will waterproof paper without weakening it and, in these tests, the breakage still consistently occurred in the un-painted portions of the paper.)\n   I tested two different kinds of foamless double-sided tape. Both were too weak to be suitable, losing their grip on the paper during the pull test with barely any visible effect.\n  This contact adhesive passed the pull test, but was not tamper-evident in the face of picking and peeling at the joint and was so thoroughly weakened by the oil test that it was trivial to pull open without harming the paper.\n  From personal experience, I know that the frosted variety is meant to be possible to peel off without harm if you\u2019re careful. I tested the un-frosted kind and, while it just barely passed the pull test, it was too easy to peel off without evidence. Also, it was severely weakened by exposure to oil and I suspect this to be a trait common to all readily available contact adhesives.\n    Passed the dry and oil tests, but whether it passed the peel test depended very heavily on exactly how I applied it, so I can\u2019t recommend it. It also got severely degraded by the solvent in the clear nail polish.\n  I was surprised how well this performed\u2026 though I probably shouldn\u2019t have been, given that it\u2019s used as a bookbinding glue. PVA dries quickly enough that, after 5 minutes, the still-damp paper next to the joint breaks under test and, after 10 minutes, the paper is back to normal. It is so resistant to peeling that the paper tends to tear, and neither the oil nor the nail polish solvent had a measurable effect on the joint\u2019s strength.\n I did, however, notice that peeling at a corner produced damage that was easier to overlook\u2026 thus my recommendation to round off the ends of the strip before gluing.\n I would have moved on to testing other avenues, such as hot glue, super glue, contact cement, and so on, but I don\u2019t need to test them to know that, at best, they\u2019d match the performance of white glue for this application.\u00a0 (They\u2019re harder to work with, more expensive,\u00a0no faster to dry, and PVA already produces a bond stronger than and just as water-resistant as the paper around it.)\n (I did, however, test super glue on some scraps of projector transparencies meant for black-and-white photocopiers. It passed the pull test but was trivial to peel apart without leaving evidence of tampering.)\n UPDATE 2018-08-15: After I realized how effective lighter fluid is for safely getting tape and other adhesives off books and boxes without damaging them, I ran another round of tests.\n Lighter fluid does not appear to significantly weaken white glue. However, since my initial tests, I\u2019ve switched to a new bottle of glue and it seems that the resistance of Polyvinyl Acetate (PVA) glues to being peeled off will vary. (I\u2019m not sure whether it varies between batches or just between brands.)\n As such, since the quality of your white glue cannot be guaranteed, I now strongly recommend the \u201cmaking the seals tougher\u201d steps be always used (a coating of clear nail polish to seal the seam and some cuts to improve the chances of tearing when trying to peel it apart), with the use of chevron-shaped ( &lt; and  &gt;) cuts to ensure there\u2019s no angle one can try to peel at which will be completely parallel to every cut.", "posttime": "2020-08-13 10:28:50", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u513f\u7ae5,tamper,\u6d4b\u8bd5", "title": "\u81ea\u5236\u9632\u7be1\u6539\u5b89\u5168\u5c01\u6761\uff0c\u9002\u7528\u4e8e\u513f\u7ae5\u548c\u6210\u4eba(2017)", "title_en": "Homemade tamper-evident security seals for kids and adults alike (2017)", "transed": 1, "url": "http://blog.ssokolow.com/archives/2017/04/08/home-made-tamper-evident-security-seals-for-kids-and-adults-alike/", "via": "", "real_tags": ["\u513f\u7ae5", "tamper", "\u6d4b\u8bd5"]}, {"category": "", "categoryclass": "", "imagename": "529409a7ec5f76296660df6888090713.jpeg", "infoid": 1017875, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u4e0eDMV\u975e\u5e38\u76f8\u4f3c\uff0cPostgreSQL\u67e5\u8be2\u89c4\u5212\u5668\u662f\u4e00\u4e2a\u5f3a\u5927\u800c\u795e\u79d8\u7684\u5b9e\u4f53\uff0c\u6211\u4eec\u534a\u76f2\u76ee\u5730\u5c06\u81ea\u5df1\u7684\u798f\u7949\u6258\u4ed8\u7ed9\u5b83\u3002\u5b83\u80a9\u8d1f\u7740\u4e3a\u6bcf\u4e2a\u67e5\u8be2\u6311\u9009\u6700\u6709\u6548\u7684\u6267\u884c\u8ba1\u5212\u7684\u91cd\u8981\u8d23\u4efb\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5c06\u63a2\u7d22\u5728\u521b\u5efa\u67e5\u8be2\u8ba1\u5212\u65f6\u8981\u8003\u8651\u54ea\u4e9bdata Postgres\uff0c\u4ee5\u53ca\u6211\u4eec\u5982\u4f55\u4f7f\u7528\u8be5\u4e0a\u4e0b\u6587\u6765\u5e2e\u52a9\u67e5\u8be2\u89c4\u5212\u8005\u4e3a\u6211\u4eec\u7684\u4e00\u4e9b\u6700\u91cd\u8981\u7684\u67e5\u8be2\u6a21\u5f0f\u5236\u5b9a\u66f4\u6709\u6548\u7684\u8ba1\u5212\u3002\n\u4e0b\u9762\u662f\u4ece\u6211\u4eec\u7684Web\u670d\u52a1\u5668\u53d1\u51fa\u7684\u4e00\u4e2a\u6162\u67e5\u8be2\u793a\u4f8b\uff0c\u4ee5\u53caPostgres\u9009\u62e9\u7684\u4f4e\u6548\u67e5\u8be2\u8ba1\u5212\u3002\u4f60\u80fd\u627e\u51fa\u67e5\u8be2\u8ba1\u5212\u5458\u72af\u4e0b\u7684\u5173\u952e\u9519\u8bef\u5417\uff1f\nPostgres\u4f30\u8ba1\u8fd9\u4e00\u6b65\u5c06\u8fd4\u56de\u5927\u7ea61\u884c\uff0c\u8fd9\u662f\u4e00\u4e2a\u75af\u72c2\u7684\u4f4e\u4f30-\u5b83\u5b9e\u9645\u4e0a\u8fd4\u56de\u4e861958\u884c\uff0c\u82b1\u8d39\u4e86\u5927\u7ea6122\u79d2\u3002(\u6709\u5173\u5982\u4f55\u89e3\u91caPostgres\u67e5\u8be2\u8ba1\u5212\u7684\u66f4\u591a\u80cc\u666f\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u6b64\u5904\u3002)\u3002\n\u901a\u8fc7\u660e\u667a\u5730\u4f7f\u7528Postgres\u7edf\u8ba1\u6570\u636e\uff0c\u6211\u4eec\u5c06\u6b64\u67e5\u8be2\u7684\u65f6\u95f4\u4ece2\u5206\u949f\u7f29\u77ed\u523042\u6beb\u79d2-\u51e0\u4e4e\u52a0\u901f\u4e863000\u500d\uff01\u5728\u6211\u4eec\u6df1\u5165\u7814\u7a76\u6240\u505a\u7684\u7edf\u8ba1\u8c03\u6574\u4e4b\u524d\uff0c\u8ba9\u6211\u4eec\u786e\u4fdd\u4e86\u89e3Postgres\u8ba1\u5212\u5668\u662f\u5982\u4f55\u5de5\u4f5c\u7684\u3002\n\u7edf\u8ba1\u6570\u636e\u662fPostgres\u6536\u96c6\u7684\u6570\u636e\uff0c\u7528\u4e8e\u901a\u77e5\u5176\u67e5\u8be2\u8ba1\u5212\u7684\u9009\u62e9\u3002Postgres\u73b0\u6210\u5730\u5bf9\u6bcf\u4e2a\u8868\u7684\u6bcf\u4e00\u5217\u7684\u53ef\u80fd\u503c\u8fdb\u884c\u91c7\u6837\uff0c\u4ee5\u521b\u5efa\u76f4\u65b9\u56fe\u548c\u6700\u5e38\u89c1\u503c\u7684\u5217\u8868(\u4ee5\u53ca\u5176\u4ed6\u5185\u5bb9)\u3002\u8fd9\u4e9b\u7528\u4e8e\u4f30\u8ba1\u5c06\u67d0\u7ec4\u7b5b\u9009\u5668\u5e94\u7528\u4e8e\u8868\u5c06\u4ea7\u751f\u591a\u5c11\u884c\u3002\n\u5bf9\u4e8e\u8f83\u5927\u7684\u8868\uff0c\u8ba1\u5212\u5668\u65e0\u6cd5\u8ddf\u8e2a\u5217\u5305\u542b\u7684\u6bcf\u4e2a\u503c\u3002\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\uff0c\u5b83\u5bf9\u6bcf\u5217\u7684\u503c\u8fdb\u884c\u91c7\u6837\uff0c\u5e76\u4f7f\u7528\u8fd9\u4e9b\u503c\u8fdb\u884c\u4f30\u8ba1\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8c03\u6574Postgres\u5bf9\u6bcf\u4e2a\u8868\u4e0a\u7684\u6bcf\u5217\u6267\u884c\u7684\u91c7\u6837\u6570\u91cf\u3002\n\u5176\u4e2d-1\u5c06\u5176\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u503c100(Docs)\u3002\u6b64\u6570\u5b57\u8bbe\u7f6e\u76f4\u65b9\u56fe\u4e2d\u4f7f\u7528\u4e86\u591a\u5c11\u4e2a\u5b58\u50a8\u6876\uff0c\u4ee5\u53ca\u5b58\u50a8\u4e86\u591a\u5c11\u4e2a\u6700\u5e38\u7528\u7684\u503c\u3002\n\u589e\u52a0\u5217\u7684\u7edf\u8ba1\u6570\u636e\u7684\u7f3a\u70b9\u662f\u5fc5\u987b\u5728pg_statistic\u4e2d\u5b58\u50a8\u66f4\u591a\u7684\u6570\u636e\uff0c\u5e76\u4e14\u5728\u5217\u7684\u8868\u4e0a\u8fd0\u884c\u5206\u6790\u6240\u9700\u7684\u65f6\u95f4\u66f4\u957f\u3002\n\u6269\u5c55\u7edf\u8ba1\u4fe1\u606f\u662f\u7528\u6237\u5b9a\u4e49\u7684\u5bf9\u8c61\uff0c\u5b83\u544a\u8bc9Postgres\u4e3a\u591a\u7ec4\u5217\u6536\u96c6\u7279\u5b9a\u7c7b\u578b\u7684\u6570\u636e\uff0c\u800c\u4e0d\u662f\u6536\u96c6\u5355\u4e2a\u5217\u7684\u6570\u636e\u3002\n\u5728\u6ca1\u6709\u6269\u5c55\u7edf\u8ba1\u4fe1\u606f\u7684\u60c5\u51b5\u4e0b\uff0cPostgres\u901a\u8fc7\u72ec\u7acb\u8003\u8651\u6bcf\u4e2a\u7b5b\u9009\u5668\u6765\u4f30\u8ba1\u7b5b\u9009\u5668\u5bf9\u8868\u7684\u5f71\u54cd\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u4e00\u4e2a\u6570\u636e\u5e93\u5305\u542b10\u4e2aArtist\u8bb0\u5f55\uff0c\u6bcf\u4e2a\u8bb0\u5f55\u90fd\u670910\u4e2a\u4e13\u8f91\u8bb0\u5f55\u5f15\u7528\u5b83\uff0c\u6bcf\u4e2a\u8bb0\u5f55\u90fd\u670910\u9996\u6b4c\u66f2\u5f15\u7528\u5b83\u3002\u603b\u5171\u670910\u4f4d\u827a\u672f\u5bb6\uff0c100\u5f20\u4e13\u8f91\u548c1000\u9996\u6b4c\u66f2\u3002\u73b0\u5728\uff0c\u8003\u8651\u8fd0\u884c\u4ee5\u4e0b\u67e5\u8be2\uff1a\n\u5bf9\u6b4c\u66f2(\u6210\u672c=0.28..6.05\u884c=1Wid159)(\u5b9e\u9645\u65f6\u95f4=5.555..5.562\u884c=10\u4e2a\u5faa\u73af=1)\u7d22\u5f15\u6761\u4ef6\uff1a((Artists_id=1)AND(ALLUAL_ID=1))\u7d22\u5f15\u626b\u63cf(\u6210\u672c=0.28..6.05\u884c=1Wid159)\u7d22\u5f15\u6761\u4ef6\uff1a((Artists_id=1)AND(ALLUAL_ID=1))\u89c4\u5212\u65f6\u95f4\uff1a311.482\u6beb\u79d2\u6267\u884c\u65f6\u95f4\uff1a9.266\u6beb\u79d2(4\u884c)\u3002\n(\u6210\u672c=0.28..6.05\u884c=1\u5bbd\u5ea6=159\u65f6)\u662f\u6307\u8ba1\u5212\u5458\u7684\u4f30\u7b97\uff0c\u800c(\u5b9e\u9645\u65f6\u95f4=5.555..5.562\u884c=10\u5faa\u73af=1)\u662f\u6307\u6267\u884c\u8ba1\u5212\u7684\u5b9e\u9645\u7ed3\u679c\u3002\u89c4\u5212\u8005\u4f30\u8ba1\u5c06\u8fd4\u56de1\u884c\uff0c\u4f46\u5b9e\u9645\u4e0a\u8fd4\u56de\u4e8610\u884c\u3002\n\u89c4\u5212\u5668\u901a\u8fc7\u9996\u5148\u83b7\u53d6\u6b4c\u66f2\u603b\u6570(1000)\uff0c\u7136\u540e\u8003\u8651Artists_id\u8fc7\u6ee4\u5668\u6765\u8ba1\u7b97\u5176\u884c\u4f30\u8ba1\u300210%\u7684\u6b4c\u66f2\u7684Artists_id=1\uff0c\u56e0\u6b64\u5269\u4e0b100\u9996\u6b4c\u66f2\u3002\u63a5\u4e0b\u6765\uff0c\u5b83\u8003\u8651alicalid\u8fc7\u6ee4\u5668\u30021%\u7684\u6b4c\u66f2\u7684Alignment_id=1\uff0c\u6240\u4ee5\u53ea\u5269\u4e0b1\u9996\u6b4c\u4e86\u3002\nPostgres\u9057\u6f0f\u7684\u5173\u952e\u4fe1\u606f\u662f\u827a\u672f\u5bb6id\u548c\u76f8\u518cid\u662f\u5f3a\u76f8\u5173\u7684\u3002\u4e8b\u5b9e\u4e0a\uff0c\u77e5\u9053\u76f8\u518c_id\u5c31\u53ef\u4ee5\u552f\u4e00\u5730\u786e\u5b9a\u827a\u672f\u5bb6_id\u3002\u5982\u679cPostgres\u77e5\u9053\u8fd9\u4e00\u70b9\uff0c\u5b83\u5728\u4f30\u8ba1\u65f6\u53ef\u80fd\u53ea\u4f7f\u7528alical_id=1\u8fc7\u6ee4\u5668\uff0c\u5e76\u5f97\u51fa10\u9996\u6b4c\u66f2\u7684\u6b63\u786e\u7ed3\u679c\u3002\n\u8fd9\u79cd\u76f8\u5173\u6027\u53ef\u4ee5\u4f7f\u7528\u4f9d\u8d56\u7edf\u8ba1\u4fe1\u606f\u6307\u793a\u7ed9Postgres\u3002\u6b64\u7edf\u8ba1\u4fe1\u606f\u5b58\u50a8\u6bcf\u5217\u552f\u4e00\u786e\u5b9a\u53e6\u4e00\u5217\u7684\u9891\u7387\u3002(Artist_id\uff0cAlignment_id)\u7684\u4f9d\u8d56\u9879\u7edf\u8ba1\u4fe1\u606f\u53ef\u80fd\u4f1a\u4ea7\u751f\u4ee5\u4e0b\u7ed3\u679c\uff1a\n\u4ece\u6b4c\u66f2\u4e2d\u521b\u5efa\u7edf\u8ba1\u6570\u636eAlignment_id_Artist_id_dep_stt(\u4f9d\u8d56\u9879)\uff1b\u5206\u6790\u6b4c\u66f2\uff1b\u4ecePG_STATISTICS_EXT\u9009\u62e9stxname\u3001stxkey\u3001stxd\u4f9d\u8d56\u9879\u52a0\u5165PG_STATISTICAL_EXT_DATA on(oid=stxoid)where stxname=&#39\uff1bSTTS&#39\uff1bStxName|stxKey|stxd\u4f9d\u8d56-+-+--STT|1 5|{&#34\uff1b1=&gt\uff1b5&#34\uff1b\uff1a0.1\uff0c&#34\uff1b5=&gt\uff1b1&#34\uff1b\uff1a1}(1\u884c)\nStxkey\u548cstxd\u4f9d\u8d56\u9879\u4e0b\u76841\u548c5\u5206\u522b\u6307\u7684\u662f\u6b4c\u66f2\u8868\u4e0a\u7684\u7b2c1\u5217\u548c\u7b2c5\u5217\uff0c\u5b83\u4eec\u5206\u522b\u662f\u827a\u672f\u5bb6id\u548c\u4e13\u8f91id\u3002&#34\uff1b1=&gt\uff1b5&#34\uff1b\u7684\u503c\u4e3a0.1\uff0c\u56e0\u4e3a\u827a\u672f\u5bb6id\u572810%\u7684\u65f6\u95f4\u5185\u51b3\u5b9aalicel_id\u3002&#34\uff1b5=&gt\uff1b1&#34\uff1b\u7684\u503c\u4e3a1.0\uff0c\u56e0\u4e3aalog_id\u59cb\u7ec8\u51b3\u5b9a\u827a\u672f\u5bb6id\u3002\u5f53Postgres\u6309\u5177\u6709\u5339\u914d\u7684\u4f9d\u8d56\u5173\u7cfb\u7edf\u8ba1\u4fe1\u606f\u7684\u5217\u8fdb\u884c\u8fc7\u6ee4\u65f6\uff0c\u5b83\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u8fdb\u884c\u66f4\u51c6\u786e\u7684\u4f30\u8ba1\u3002\n\u5f53\u7136\uff0c\u8fd8\u6709\u5176\u4ed6\u7c7b\u578b\u7684\u6269\u5c55\u7edf\u8ba1\u4fe1\u606f\uff0c\u4f46\u662f\u4f9d\u8d56\u5173\u7cfb\u7edf\u8ba1\u4fe1\u606f\u5bf9\u4e8e\u8fd9\u79cd\u6570\u636e\u5206\u5e03\u6700\u6709\u610f\u4e49\u3002\n\u6269\u5c55\u7edf\u8ba1\u4fe1\u606f\u7684\u4e00\u4e2a\u8b66\u544a\u662f\uff0cPostgres\u53ea\u77e5\u9053\u5728\u8fc7\u6ee4\u7edf\u8ba1\u4fe1\u606f\u4e2d\u5f15\u7528\u7684\u5217\u4ee5\u53ca\u4f7f\u7528\u7b80\u5355\u7684\u76f8\u7b49\u6761\u4ef6\u8fdb\u884c\u8fc7\u6ee4\u65f6\u624d\u4f7f\u7528\u5b83\u4eec\uff0c\u4f8b\u5982Artist_id=5\uff0c\u800c\u4e0d\u662fArtist_id IN(5\uff0c6)\u6216Artist_id&lt\uff1b10\u3002\n\u4f7f\u7528\u6269\u5c55\u7edf\u8ba1\u4fe1\u606f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u975e\u76f4\u89c2\u7684\u7d22\u5f15\u9009\u62e9\u3002\u5982\u679c\u4f9d\u8d56\u9879\u7edf\u8ba1\u4fe1\u606f\u5411postgres\u8868\u660e\u5217\u8fc7\u6ee4\u5668\u662f\u5197\u4f59\u7684\uff0c\u5c31\u50cf\u827a\u672f\u5bb6_id\u548c\u4e13\u8f91_id\u7684\u60c5\u51b5\u4e00\u6837\uff0c\u5b83\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528\u4ec5\u5f15\u7528\u5176\u4e2d\u4e00\u5217\u7684\u7d22\u5f15\u3002\u5728\u6b4c\u66f2\u7684\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u4e24\u8005\u90fd\u5b58\u5728\uff0c\u5219\u5b83\u53ef\u4ee5\u4ec5\u4f7f\u7528\u7d22\u5f15(Alical_Id)\uff0c\u800c\u4e0d\u662f\u7d22\u5f15(Artist_id\uff0calical_id)\u3002\n\u5d4c\u5957\u5faa\u73af\u8054\u63a5\u3002\u4f7f\u7528\u6b64\u8fde\u63a5\u7b56\u7565\uff0cPostgres\u5faa\u73af\u8bbf\u95ee\u5de6\u5173\u7cfb\u4e2d\u7684\u6bcf\u4e00\u884c\uff0c\u5e76\u626b\u63cf\u53f3\u5173\u7cfb\u4ee5\u67e5\u627e\u6ee1\u8db3\u8fde\u63a5\u6761\u4ef6\u7684\u884c\uff0c\u7406\u60f3\u60c5\u51b5\u4e0b\u4f7f\u7528\u7d22\u5f15\u3002\u5f53\u5de6\u5173\u7cfb\u4e2d\u53ea\u6709\u5f88\u5c11\u7684\u884c\u65f6\uff0c\u8fd9\u662f\u4e00\u79cd\u6709\u6548\u7684\u7b56\u7565\u3002\n\u5408\u5e76\u8054\u63a5\u3002\u4ece\u6587\u6863\u4e2d\u53ef\u4ee5\u770b\u5230\uff1a\u201c\u5728\u8fde\u63a5\u5f00\u59cb\u4e4b\u524d\uff0c\u6839\u636e\u8fde\u63a5\u5c5e\u6027\u5bf9\u6bcf\u4e2a\u5173\u7cfb\u8fdb\u884c\u6392\u5e8f\u3002\u7136\u540e\u5e76\u884c\u626b\u63cf\u8fd9\u4e24\u4e2a\u5173\u7cfb\uff0c\u5e76\u7ec4\u5408\u5339\u914d\u7684\u884c\u4ee5\u5f62\u6210\u8054\u63a5\u884c\u3002\u8fd9\u79cd\u8054\u63a5\u66f4\u6709\u5438\u5f15\u529b\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u5173\u7cfb\u53ea\u9700\u626b\u63cf\u4e00\u6b21\u3002\u6240\u9700\u7684\u6392\u5e8f\u53ef\u4ee5\u901a\u8fc7\u663e\u5f0f\u6392\u5e8f\u6b65\u9aa4\u6765\u5b9e\u73b0\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u8fde\u63a5\u952e\u4e0a\u7684\u7d22\u5f15\u4ee5\u6b63\u786e\u7684\u987a\u5e8f\u626b\u63cf\u5173\u7cfb\u6765\u5b9e\u73b0\u3002\u201c\u3002\n\u6563\u5217\u8054\u63a5\u3002\u6587\u6863\u4e2d\u5199\u9053\uff1a\u201c\u9996\u5148\u626b\u63cf\u6b63\u786e\u7684\u5173\u7cfb\u5e76\u5c06\u5176\u8fde\u63a5\u5c5e\u6027\u4f5c\u4e3a\u6563\u5217\u952e\u52a0\u8f7d\u5230\u6563\u5217\u8868\u4e2d\u3002\u63a5\u4e0b\u6765\uff0c\u626b\u63cfLEFT\u5173\u7cfb\uff0c\u5e76\u5c06\u627e\u5230\u7684\u6bcf\u4e00\u884c\u7684\u9002\u5f53\u503c\u7528\u4f5c\u6563\u5217\u952e\uff0c\u4ee5\u5b9a\u4f4d\u8868\u4e2d\u5339\u914d\u7684\u884c\u3002\u201c\u3002\n\u5c31\u6211\u4eec\u7684\u76ee\u7684\u800c\u8a00\uff0c\u8fd9\u91cc\u8981\u6ce8\u610f\u7684\u4e3b\u8981\u4e8b\u60c5\u662f\uff0c\u4e0e\u5176\u4ed6\u8fde\u63a5\u7b56\u7565\u76f8\u6bd4\uff0c\u5d4c\u5957\u5faa\u73af\u8fde\u63a5\u7684\u4f18\u52bf\u662f\u5f00\u9500\u975e\u5e38\u5c0f\u3002\u4f46\u662f\uff0c\u5982\u679c\u5de6\u5173\u7cfb\u4e2d\u6709\u5f88\u591a\u884c\uff0c\u5219\u6b64\u8054\u63a5\u53ef\u80fd\u4f1a\u51fa\u9519\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u5de6\u5173\u7cfb\u4e2d\u67091,000\u884c\uff0c\u5e76\u4e14Postgres\u4f7f\u7528\u7d22\u5f15\u6765\u8bbf\u95ee\u53f3\u5173\u7cfb\u3002\u5982\u679c\u6bcf\u4e2a\u7d22\u5f15\u8bbf\u95ee\u8017\u65f64ms\uff0c\u5219\u6574\u4e2a\u8fde\u63a5\u5c06\u8017\u65f64s\uff0c\u8fd9\u5728\u54cd\u5e94\u7528\u6237\u8bf7\u6c42\u7684\u4e0a\u4e0b\u6587\u4e2d\u592a\u6162\u4e86\u3002\n\u73b0\u5728\u6211\u4eec\u4e86\u89e3\u4e86\u4e0d\u540c\u7c7b\u578b\u7684\u8054\u63a5\uff0c\u8ba9\u6211\u4eec\u518d\u6765\u770b\u770b\u6211\u4eec\u8ba4\u4e3a\u6709\u95ee\u9898\u7684\u5d4c\u5957\u5faa\u73af\u8054\u63a5\u3002\u4e0d\u8be6\u7ec6\u4ecb\u7ecdAffinity\u7684\u6570\u636e\u6a21\u578b\uff0c\u60a8\u53ea\u9700\u8981\u77e5\u9053\u5728\u8868Entity_Values\u548cList_Entries\u4e0a\uff0c\u5217org_id\u7531list_id\u6216entity_attribute_id\u552f\u4e00\u786e\u5b9a\uff0c\u8fd9\u610f\u5473\u7740\u4e3a\u4e86\u4f30\u8ba1\u4e00\u7ec4\u7b5b\u9009\u5668\u5bf9\u8fd9\u4e9b\u5217\u7684\u9009\u62e9\u6027\uff0c\u4e0d\u5e94\u8be5\u5355\u72ec\u8003\u8651\u7b5b\u9009\u5668\u3002\u6211\u4eec\u7684\u7f13\u6162\u67e5\u8be2\u662f\u7531\u4e8ePostgres\u4f4e\u4f30\u4e86\u5e94\u7528\u8fc7\u6ee4\u6761\u4ef6\u800c\u5bfc\u81f4\u7684\u884c\u6570\uff0c\u5e76\u4e14\u7531\u4e8e\u4f4e\u4f30\u800c\u9009\u62e9\u4f7f\u7528\u5d4c\u5957\u5faa\u73af\u8fde\u63a5\u7684\u7ed3\u679c\u3002\n\u8ba9\u6211\u4eec\u56de\u987e\u4e00\u4e0b\u6700\u521d\u7684\u95ee\u9898\u67e5\u8be2\u3002\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u6700\u6602\u8d35\u7684\u6b65\u9aa4\u662f\u5bf9entity_values_org_id_entity_attribute_id_company_id_index\u7684\u7d22\u5f15\u8bbf\u95ee\u5faa\u73af\u9ad8\u8fbe13,769\u6b21\u3002\n\u4e3a\u4e86\u9f13\u52b1\u89c4\u5212\u8005\u4f7f\u7528\u4e0d\u540c\u7684\u8054\u63a5\u7b56\u7565\uff0c\u6211\u4eec\u9700\u8981\u6539\u8fdb\u5176\u5bf9LISTS_ENTRIES\u548cENTITY_VALUES\u8fc7\u6ee4\u5668\u7684\u4f30\u8ba1\u3002\u6839\u636e\u5e94\u7528\u7684\u7b5b\u9009\u5668\uff0c\u6211\u4eec\u6700\u5927\u9650\u5ea6\u5730\u589e\u52a0\u4e86\u4ee5\u4e0b\u5404\u9879\u7684\u6bcf\u5217\u7edf\u8ba1\u4fe1\u606f\uff1a\n\u5728\u5176\u4ed6\u8868\u548c\u5217\u7684\u5176\u4ed6\u4f9d\u8d56\u9879\u7edf\u8ba1\u4fe1\u606f\u4e2d\uff0c\u56e0\u4e3alist_id\u548centity_attribute_id\u90fd\u552f\u4e00\u5730\u786e\u5b9aorg_id\u3002\n\u5728\u6211\u4eec\u8fdb\u884c\u8fd9\u4e9b\u8c03\u6574\u4e4b\u540e\uff0cPostgres\u4e3a\u6211\u4eec\u7684\u539f\u59cb\u67e5\u8be2\u9009\u62e9\u4e86\u4ee5\u4e0b\u67e5\u8be2\u8ba1\u5212\uff1a\n\u5728\u8fd9\u91cc\uff0c\u4f30\u8ba1\u8981\u51c6\u786e\u5f97\u591a\uff0c\u89c4\u5212\u8005\u4e3a\u5185\u90e8\u8fde\u63a5\u9009\u62e9\u4e86\u6563\u5217\u8fde\u63a5-\u67e5\u8be2\u82b1\u8d39\u4e8642\u6beb\u79d2\uff0c\u800c\u4e0d\u662f\u539f\u6765\u76842\u5206\u949f\u3002\n\u589e\u52a0\u6bcf\u5217\u7edf\u8ba1\u4fe1\u606f\u548c\u6dfb\u52a0\u4f9d\u8d56\u9879\u7edf\u8ba1\u4fe1\u606f\u6709\u5f88\u5927\u5e2e\u52a9\uff0c\u4f46\u4ecd\u6709\u9700\u8981\u6539\u8fdb\u7684\u5730\u65b9\u3002\u6b63\u5982\u60a8\u5728\u6539\u8fdb\u7684\u67e5\u8be2\u8ba1\u5212\u4e2d\u53ef\u80fd\u5df2\u7ecf\u6ce8\u610f\u5230\u7684\u90a3\u6837\uff0c\u89c4\u5212\u5668\u4f4e\u4f30\u4e86\u5185\u8fde\u63a5\u4ea7\u751f\u7684\u884c\u6570\u3002\u867d\u7136\u8fd9\u6b21\u5916\u90e8\u5d4c\u5957\u5faa\u73af\u8fde\u63a5\u82b1\u8d39\u7684\u65f6\u95f4\u4e0d\u957f\uff0c\u4f46\u662f\u4e0d\u96be\u60f3\u8c61\u8fd9\u6837\u4e00\u4e2a\u67e5\u8be2\uff1a\u5185\u90e8\u8fde\u63a5\u5bfc\u81f4\u8bb8\u591a\u884c\uff0c\u800c\u5916\u90e8\u8fde\u63a5\u6210\u4e3a\u74f6\u9888\u3002\n\u6211\u4eec\u5e0c\u671b\u8fd9\u7bc7\u6587\u7ae0\u7ed9\u4e86\u4f60\u4e00\u4e9b\u5173\u4e8e\u5982\u4f55\u6539\u8fdb\u4f60\u7684\u67e5\u8be2\u8ba1\u5212\u7684\u60f3\u6cd5\uff0c\u6216\u8005\u81f3\u5c11\u6559\u4f1a\u4e86\u4f60\u4e00\u4e9bPostgres\u7684\u9b54\u529b\uff01", "note_en": "Much like the DMV, the PostgreSQL query planner is a powerful, mysterious entity to whom we semi-blindly entrust our well-being. It has the crucial responsibility of picking the most efficient execution plan for every query. Here we\u2019ll explore what data Postgres takes into account when creating query plans, and how we used that context to help the query planner come up with more efficient plans for some of our most important query patterns.\n Here\u2019s an example slow query issued from our web server, along with the inefficient query plan that Postgres chose. Can you spot the key mistake the query planner made?\n    Postgres estimated that this step would return about 1 row, which was a wild underestimate \u2014 it actually returned 1958 rows and took about 122 seconds. (See  here for more background on how to interpret Postgres query plans.)\n Through informed use of Postgres statistics, we brought the time for this query down  from 2 minutes to 42 milliseconds \u2014 almost a 3000x speedup! Before we dive into the stats adjustments that we made, let\u2019s make sure we understand how the Postgres planner works.\n   Statistics are data collected by Postgres used to inform its selection of query plans. Out of the box, Postgres samples the possible values for each column of each table to create histograms and a list of the most common values (among other things). These are used to estimate how many rows will result from applying some set of filters to a table.\n For larger tables, the planner can\u2019t keep track of every single value a column holds. Instead, it samples the values of each column and uses those to make estimations. We can tweak how much sampling Postgres does for each column on each table with\n  where -1 sets it to the default value of 100 ( docs). This number sets how many buckets are used in the histogram and how many of the most common values are stored.\n The downsides to increasing the statistics for a column are that more data must be stored in  pg_statistic and running  ANALYZE on the column&#39;s table takes longer.\n   Extended statistics are user-defined objects that tell Postgres to collect certain kinds of data for sets of columns, rather than individual columns.\n Without extended statistics, Postgres estimates the impact of filters on a table by considering each filter independently. For example, consider a database containing 10 Artist records, each of which has 10 Album records referencing it, each of which has 10 Songs referencing that. This totals to 10 Artists, 100 Albums, and 1,000 Songs. Now, consider running the following query:\n   Index Scan using songs_artists_id_album_id_index on songs (cost=0.28..6.05 rows=1 width=159) (actual time=5.555..5.562 rows=10 loops=1)  Index Cond: ((artists_id = 1) AND (album_id = 1))  Planning Time: 311.482 ms  Execution Time: 9.266 ms (4 rows)\n (cost=0.28..6.05 rows=1 width=159) refers to the planner&#39;s estimations while  (actual time=5.555..5.562 rows=10 loops=1) refers to the actual results of the executing the plan. The planner estimated 1 row would be returned, but there were actually 10.\n The planner calculated its row estimate by first taking the total number of Songs (1000), then considering the  artists_id filter. 10% of Songs have  artists_id = 1 so that leaves 100 Songs. Next it considers the  album_id filter. 1% of Songs have  album_id = 1, so it&#39;s left with 1 Song.\n The key piece of information Postgres is missing is that  artist_id and  album_id are strongly correlated. In fact, knowing the  album_iduniquely determines the  artist_id. Had Postgres known about this, it could have used only the  album_id = 1 filter in its estimation and come up with the correct result of 10 Songs.\n This kind of correlation can be indicated to Postgres using a dependency statistic. This statistic stores the frequency with which each column uniquely determines the other column. A dependency statistic on  (artist_id, album_id) might yield the following:\n CREATE STATISTICS album_id_artist_id_dep_stt (dependencies) ON album_id, artist_id FROM songs; ANALYZE songs; SELECT stxname, stxkeys, stxddependencies  FROM pg_statistic_ext join pg_statistic_ext_data on (oid = stxoid)  WHERE stxname = &#39;stts&#39;;  stxname | stxkeys | stxddependencies  ---------+---------+------------------------------------------  stts | 1 5 | {&#34;1 =&gt; 5&#34;: 0.1, &#34;5 =&gt; 1&#34;: 1.0} (1 row)\n The 1 and 5 under  stxkeys and  stxddependencies refer to the 1st and 5th columns on the  songs table, which are  artist_id and  album_id, respectively. The value for &#34;1 =&gt; 5&#34; is 0.1 since  artist_id determines  album_id 10% of the time. The value for &#34;5 =&gt; 1&#34; is 1.0 since  album_id always determines  artist_id. When Postgres is filtering by columns with a matching dependency statistic, it\u2019s able to use that to make a more accurate estimation.\n There are, of course,  other kinds of extended statistics but a dependency statistic makes the most sense for this kind of data distribution.\n One caveat of extended statistics is that Postgres only knows to use them when filtering on exactly the columns referenced in the statistic and when filtering using simple equality conditions, e.g.  artist_id = 5 and not  artist_id IN (5, 6) or  artist_id &lt; 10.\n Use of extended statistics can lead to non-intuitive index choices. If a dependency statistic indicates to Postgres that a column filter is redundant, as in the case of  artist_idand  album_id, it may opt to use an index that only references one of the columns. In the case of  songs, it may use an index on only  (album_id) instead of an index on  (artist_id, album_id) if both are present.\n   Nested Loop Join. Using this join strategy, Postgres loops through each row in the left relation and scans through the right relation for rows that satisfy the join condition, ideally using an index. This is an effective strategy for when there are very few rows in the left relation.\n Merge Join. From  the docs: \u201ceach relation is sorted on the join attributes before the join starts. Then the two relations are scanned in parallel, and matching rows are combined to form join rows. This kind of join is more attractive because each relation has to be scanned only once. The required sorting might be achieved either by an explicit sort step, or by scanning the relation in the proper order using an index on the join key.\u201d\n Hash Join. From  the docs: \u201cthe right relation is first scanned and loaded into a hash table, using its join attributes as hash keys. Next the left relation is scanned and the appropriate values of every row found are used as hash keys to locate the matching rows in the table.\u201d\n For our purposes, the main thing to note here is that the advantage of a Nested Loop Join is that there\u2019s very little overhead compared to the other join strategies. However, this join can go wrong if there are many rows in the left relation. For example, suppose there are 1,000 rows in the left relation and Postgres is using an index to access the right relation. If each index access takes 4ms, the entire join will take 4s, which is too slow in the context of responding to a user request.\n  Now that we understand the different type of joins, let\u2019s revisit the Nested Loop Join that struck us as problematic. Without going into too much detail about our data model at Affinity, all you need to know is that on our tables  entity_values and  lists_entries, the column  org_id is uniquely determined by  list_id or  entity_attribute_id, meaning that in order to estimate the selectivity of a set of filters on these columns, the filters should not be considered individually.  Our slow queries were the result of Postgres underestimating the number of rows that would result from applying a filter condition and opting to use a nested loop join because of that underestimation.\n  Let\u2019s look back at our original problem query. By far, the most costly step was looping over the index access to  entity_values_org_id_entity_attribute_id_company_id_index a whopping 13,769 times.\n To encourage the planner to use a different join strategy, we needed to improve its estimates for filters on  lists_entries and  entity_values. Based on the filters applied, we maxed out the per-column statistics for:\n     among other dependency statistics for other tables and columns, since both  list_id and  entity_attribute_id uniquely determine the  org_id.\n After we made these adjustments, Postgres chose the following query plan for our original query:\n  Here, the estimates are much more accurate and the planner opted for a hash join for the inner join \u2014 and the query took 42 milliseconds instead of the original 2 minutes.\n  Increasing the per-column statistics and adding dependency statistics have helped tremendously, but there is still progress to be made. As you may have noticed in the improved query plan, the planner underestimates the number of rows resulting from the inner join. While the outer nested loop join didn\u2019t take long this time, it\u2019s not hard to imagine a query where the inner join results in many rows and the outer join becomes a bottleneck.\n We hope this post has given you some ideas about how to improve your query plans, or at the very least taught you something about the magic of Postgres!", "posttime": "2020-08-13 10:28:27", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "postgres,extended", "title": "\u6211\u4eec\u5982\u4f55\u4f7f\u7528Postgres\u6269\u5c55\u7edf\u8ba1\u6570\u636e\u5b9e\u73b03000\u500d\u7684\u52a0\u901f", "title_en": "How we used Postgres extended statistics to achieve a 3000x speedup", "transed": 1, "url": "https://build.affinity.co/how-we-used-postgres-extended-statistics-to-achieve-a-3000x-speedup-ea93d3dcdc61", "via": "", "real_tags": ["postgres", "extended"]}, {"category": "", "categoryclass": "", "imagename": "", "infoid": 1017874, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u6211\u4e00\u76f4\u662f\u7eb3\u897f\u59c6\u00b7\u5854\u52d2\u5e03\u7684\u201c\u5e7b\u5883\u201d\u7684\u94c1\u6746\u7c89\u4e1d\u3002\u4ed6\u5199\u4e86\u4e00\u7cfb\u5217\u5173\u4e8e\u751f\u6d3b\u7684\u6587\u7ae0\uff0c\u6240\u6709\u7684\u4e3b\u9898\u90fd\u56f4\u7ed5\u7740\u5728\u4e0d\u786e\u5b9a\u7684\u60c5\u51b5\u4e0b\u505a\u51fa\u51b3\u5b9a\u3002\u6211\u4e5f\u60f3\u66f4\u6df1\u5165\u5730\u6316\u6398\u4ed6\u6697\u793a\u7684\u4e00\u4e9b\u66f4\u6280\u672f\u6027\u7684\u6982\u5ff5\uff0c\u6240\u4ee5\u53bb\u5e74\u6211\u7814\u7a76\u4e86\u51e0\u672c\u6982\u7387\u8bba\u6559\u79d1\u4e66\u3002\n\u6211\u5bf9\u7530\u91ce\u7684\u4f18\u96c5\u611f\u5230\u60ca\u8bb6\u3002\u5bf9\u6211\u6765\u8bf4\u6700\u9f13\u821e\u4eba\u5fc3\u7684\u60f3\u6cd5\u662f\u53d1\u660e\u8005\u5982\u4f55\u901a\u8fc7\u96c6\u5408\u8bba\u6765\u89e3\u91ca\u6982\u7387\u3002\u8fd9\u4e0d\u4ec5\u662f\u4e00\u79cd\u770b\u5f85\u4e8b\u7269\u7684\u7f8e\u597d\u65b9\u5f0f\uff0c\u800c\u4e14\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4ed6\u4eec\u53ef\u4ee5\u5e94\u7528\u5f88\u5c11\u7684\u516c\u7406\u3001\u6760\u6746\u96c6\u5408\u8bba\u548c\u5df4\u8fbe\u5bbe\u5df4\u8fbe\u535a\uff0c\u4ed6\u4eec\u6709\u6574\u4e2a\u9886\u57df\u7684\u53d1\u73b0\u4ef7\u503c\u3002\n\u6211\u60f3\u4e0e\u5927\u5bb6\u5206\u4eab\u4e00\u672c\u6559\u79d1\u4e66\u4e2d\u7684\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5b83\u5c55\u793a\u4e86\u901a\u8fc7\u8fd9\u4e2a\u955c\u5934\u770b\u5230\u6982\u7387\u7684\u529b\u91cf\uff0c\u5e76\u6f14\u793a\u4e86\u5982\u4f55\u4ece\u6700\u7b80\u5355\u7684\u5185\u6838\u5f00\u59cb\u63a8\u5bfc\u51fa\u590d\u6742\u7684\u60f3\u6cd5\u3002\n\u5047\u8bbe\u4f60\u6709\u4e24\u4e2a\u76d2\u5b50\u3002\u5728\u65b9\u68461\u4e2d\uff0c\u60a8\u670999\u4e2a\u7ea2\u7403\u548c1\u4e2a\u767d\u7403\u3002\u5728\u65b9\u68462\u4e2d\uff0c\u60a8\u670999\u4e2a\u767d\u7403\u548c1\u4e2a\u7ea2\u7403\u3002\n\u8fd9\u53ef\u80fd\u4f1a\u53d8\u5f97\u6709\u70b9\u96be\u4ee5\u63a8\u7406\u3002\u4f60\u670950%\u7684\u673a\u4f1a\u9009\u62e9\u7b2c\u4e00\u4e2a\u76d2\u5b50\u3002\u5728\u7b2c\u4e00\u4e2a\u76d2\u5b50\u91cc\uff0c\u4f60\u670999%\u7684\u673a\u4f1a\u3002\u5982\u679c\u4f60\u9009\u62e9\u4e86\u76d2\u5b502\uff0c\u4f60\u67091%\u7684\u673a\u4f1a\u3002\u6211\u4eec\u5982\u4f55\u5c06\u8fd9\u4e9b\u6982\u7387\u7ed3\u5408\u5728\u4e00\u8d77\u5462\uff1f\n\u5982\u679c\u4f60\u6309\u7167\u9ad8\u4e2d\u65f6\u6240\u5b66\u7684\u65b9\u5f0f\u63a8\u7406\uff0c\u4f60\u53ef\u80fd\u662f\u8fd9\u6837\u60f3\u7684\uff1a\n\u55ef\uff0c\u6211\u670950%\u7684\u673a\u4f1a\u9009\u62e9\u7b2c\u4e00\u4e2a\u6846\uff0c\u7136\u540e\u670999%\u7684\u673a\u4f1a\u9009\u62e9\u4e00\u4e2a\u7ea2\u8272\u7684\u82ad\u857e\u821e\uff0c\u670950%\u7684\u673a\u4f1a\u9009\u62e9\u7b2c\u4e8c\u4e2a\u6846\uff0c\u5728\u90a3\u4e4b\u540e\u67091%\u7684\u673a\u4f1a\u9009\u62e9\u4e00\u4e2a\u767d\u8272\u7684\u7403\u3002\n\u73b0\u5728\u8fd9\u662f\u53ef\u884c\u7684\uff0c\u4f46\u8bf7\u6ce8\u610f\u6982\u7387\u662f50%-\u4f60\u771f\u7684\u9700\u8981\u505a\u6240\u6709\u7684\u5de5\u4f5c\u624d\u80fd\u5f04\u6e05\u695a\u8fd9\u4e00\u70b9\u5417\uff1f(1)\n\u8ba9\u6211\u4eec\u91cd\u65b0\u60f3\u8c61\u4e00\u4e0b\u6982\u7387\u5728\u8fd9\u91cc\u610f\u5473\u7740\u4ec0\u4e48\u3002\u9996\u5148\uff0c\u8ba9\u6211\u4eec\u6765\u8003\u8651\u4e00\u4e0b\uff1a\u6240\u6709\u53ef\u80fd\u7684\u7ed3\u679c\u90fd\u662f\u4ec0\u4e48\uff1f\n\u5bf9\u4e8eOUT\u5b9e\u9a8c\uff0c\u7ed3\u679c\u5fc5\u987b\u5305\u542b\u4e24\u4e2a\u9009\u9879\uff1a\u6211\u4eec\u9009\u62e9\u7684\u65b9\u6846\uff0c\u4ee5\u53ca\u4e4b\u540e\u6211\u4eec\u9009\u62e9\u7684\u7403\u3002\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u8868\u793a\u5b83\uff1a\n\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u5217\u51fa\u6765\uff1a\u6211\u4eec\u9009\u62e9\u76d2\u5b501\uff0c\u7ea2\u74031\uff0c\u76d2\u5b501\u2026\u3002\u7ea2\u740399\uff0c\u7b49\u7b49\u3002\u6211\u4eec\u603b\u5171\u6709200\u79cd\u53ef\u80fd\u7684\u7ed3\u679c\u3002\n\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u4e86\u6240\u6709\u7684\u7ed3\u679c\uff0c\u6211\u4eec\u53ef\u4ee5\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\uff1a\u6211\u4eec\u9009\u62e9\u4e00\u4e2a\u7ea2\u8272\u7403\u7684\u6982\u7387\u662f\u591a\u5c11\uff1f\n\u770b\u8d77\u6765\u6709100\u4e2a\u3002\u8fd9\u610f\u5473\u7740200\u4e2a\u7ed3\u679c\u4e2d\u7684100\u4e2a\u4f1a\u7ed9\u51fa\u201c\u6211\u4eec\u5f97\u5230\u4e00\u4e2a\u7ea2\u7403\u201d\u7684\u7ed3\u679c--100/200\u7b49\u4e8e50%\u3002\n\u8bf7\u6ce8\u610f\uff0c\u8fd9\u662f\u5982\u4f55\u5f52\u7ed3\u4e3a\u201c\u8ba1\u7b97\u201d\u6211\u4eec\u5173\u5fc3\u7684\u7ed3\u679c\u7684\u3002\u771f\u7684\u90a3\u4e48\u7b80\u5355\u5417\uff1f\u8ba9\u6211\u4eec\u7528\u4e00\u4e2a\u66f4\u96be\u7684\u4f8b\u5b50\u6765\u8bd5\u4e00\u8bd5\u3002\n\u95ee\u98982\uff1a\u4f60\u9009\u4e86\u4e00\u4e2a\u7ea2\u8272\u7684\u7403\uff0c\u5b83\u6765\u81ea\u7b2c\u4e00\u4e2a\u76d2\u5b50\u7684\u6982\u7387\u662f\u591a\u5c11\uff1f\n\u6839\u636e\u6211\u4eec\u5728\u9ad8\u4e2d\u5b66\u5230\u7684\u77e5\u8bc6\uff0c\u8fd9\u4e2a\u95ee\u9898\u5f88\u96be\u56de\u7b54\u3002\u8003\u8651\u5230\u6211\u4eec\u9009\u62e9\u4e86\u4e00\u4e2a\u7ea2\u8272\u7684\u7403\uff0c\u5b83\u662f1\u53f7\u76d2\u5b50\u7684\u53ef\u80fd\u6027\u6709\u591a\u5927\uff1f\u55ef\uff0c\u76d2\u5b501\u91cc\u670999\u4e2a\u7ea2\u7403\uff0c\u76d2\u5b502\u91cc\u53ea\u67091\u4e2a\u7ea2\u7403\uff0c\u6240\u4ee5\u5b83\u6765\u81ea\u76d2\u5b501\u7684\u53ef\u80fd\u6027\u5f88\u9ad8\u3002\u4f46\u662f\u6709\u591a\u9ad8\u5462\uff1f\n\u7136\u800c\uff0c\u5982\u679c\u6211\u4eec\u5728\u96c6\u5408\u4e2d\u601d\u8003\uff0c\u6211\u4eec\u53ef\u4ee5\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u63a8\u5bfc\u51fa\u8d1d\u53f6\u65af\u5b9a\u7406\u3002\u8ba9\u6211\u4eec\u518d\u6765\u770b\u770b\u6211\u4eec\u7684\u7ed3\u679c\uff1a\n\u662f\u7684\uff0c\u603b\u5171100\u7f8e\u5143\u3002\u56e0\u4e3a\u6211\u4eec\u77e5\u9053\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u7ea2\u8272\u7684\u7403\uff0c\u8fd9\u610f\u5473\u7740\u6211\u4eec\u53ea\u80fd\u5f97\u5230\u8fd9100\u4e2a\u7ed3\u679c\u4e2d\u7684\u4e00\u4e2a\u3002\n\u8fd9\u5c31\u662f99\u4e2a\u7ed3\u679c\u3002\u6240\u4ee5\u5728100\u4e2a\u53ef\u80fd\u53d1\u751f\u7684\u7ed3\u679c\u4e2d\uff0c\u670999\u4e2a\u6765\u81ea\u65b9\u68461.99/100\uff0c\u4f60\u670999%\u7684\u673a\u4f1a\u7ed9\u51fa\u4e00\u4e2a\u7ea2\u8272\u7684\u7403\uff0c\u5b83\u6765\u81ea\u65b9\u68461\u3002\n\u8fd9\u4e5f\u53ea\u662f\u5f52\u7ed3\u4e3a\u8ba1\u7b97\u7ed3\u679c\u7684\u6570\u91cf\u3002\u73b0\u5728\uff0c\u5b83\u53ef\u80fd\u4f1a\u53d8\u5f97\u66f4\u52a0\u56f0\u96be--\u5982\u679c\u4f60\u4e0d\u53ef\u80fd\u8ba1\u7b97\u51fa\u7ed3\u679c\u7684\u6570\u91cf\u600e\u4e48\u529e\uff1f\u5982\u679c\u6bcf\u4e2a\u7ed3\u679c\u90fd\u6709\u4e0d\u540c\u7684\u6982\u7387\u600e\u4e48\u529e\uff1f\u4f46\u662f\uff0c\u4ec5\u4ec5\u4ece\u8fd9\u4e2a\u5f62\u6210\u4e00\u7cfb\u5217\u53ef\u80fd\u7ed3\u679c\u7684\u4e8b\u4ef6\u7684\u6982\u5ff5\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6162\u541e\u541e\u5730\u524d\u8fdb\uff0c\u5f97\u51fa\u76f8\u5f53\u591a\u7684\u7ed3\u8bba\u3002\n(1)\u4e9a\u5386\u5c71\u5927\u5bf9\u95ee\u98981\u63d0\u51fa\u4e86\u4e00\u4e2a\u76f8\u5f53\u6f02\u4eae\u7684\u76f4\u89c2\u89e3\u51b3\u65b9\u6848\uff1a\u8003\u8651\u5bf9\u79f0\u6027--\u56e0\u4e3a\u95ee\u9898\u662f\u5bf9\u79f0\u7684(\u4f60\u53ef\u4ee5\u98a0\u5012\u767d\u8272\u548c\u7ea2\u8272)\uff0c\u8fd9\u610f\u5473\u7740\u552f\u4e00\u7684\u89e3\u51b3\u65b9\u6848\u53ef\u80fd\u662f50%\u3002\n\u611f\u8c22Daniel Woelfel\uff0cAlexandre Lebrun\uff0cBipin Suresh\uff0cMark Shlick\uff0cDavit Magaltadze\u5ba1\u9605\u672c\u6587\u8349\u7a3f", "note_en": "I\u2019ve been a big fan of Nassim Taleb\u2019s Incerto. He wrote a series of essays on life, where all the topics revolve around decision making under uncertainty. I wanted to dig deeper on some of the more technical concepts he alluded too, so last year I explored a few textbooks on probability theory.\n I was surprised with how elegant the field was. The most inspiring idea to me was how the originators interpreted probability through set theory. Not only is it a beautiful way to look at things, but by seeing it this way, they could apply few axioms, leverage set theory, and badabing badaboom they had a whole field\u2019s worth of discoveries.\n I wanted to share with you an example from one of the textbooks, that illustrated the power of seeing probability through this lens, and demonstrated how you could begin deriving complex ideas from the simplest kernel.\n   Let\u2019s say you have 2 boxes. In Box 1, you have 99 red balls, and 1 white ball. In Box 2, you have 99 white balls, and 1 red ball.\n    This can get a bit tough to reason about. There\u2019s a 50% chance you pick Box 1. In Box 1, you have a 99% chance. If you picked Box 2, you have a 1% chance. How do we combine these probabilities together?\n If you reason the way you were taught in high school, you may think like this:\n Well, there\u2019s a 50% chance I pick Box 1, and a 99% chance after that to pick a red ballAnd, there\u2019s a 50% chance I pick Box 2, and a 1% chance after that to pick a white ball.\n   Now this will work, but notice how the probability was 50% \u2014 Did you really need to do all that work to figure this out? (1)\n  Let\u2019s reimagine what  probability here means. First, let\u2019s consider: what are  all  the possible outcomes?\n For out experiment, an outcome must contain two choices: The box we chose, and the ball we chose after that. We could represent it like this:\n     We can list it out: we pick Box 1, Red Ball 1, Box 1\u2026Red Ball 99, etc. In total, we would have 200 possible outcomes.\n Now that we have all the outcomes in mind, we can answer the question:  what\u2019s the probability that we pick a red ball?\n   Looks like 100. This means that 100 of 200 outcomes would give us the result \u201cwe got a red ball\u201d \u2014 100/200 makes 50%\n Note how this boiled down to just \u201ccounting\u201d the outcomes we cared about. Is it really that easy? Let\u2019s try with a harder example.\n Question 2: You picked a red ball, what\u2019s the probability that it came  from Box 1?\n  This question can get pretty hairy to answer from what we learned in high school.  Given that we chose a red ball, what\u2019s the chance that it was Box 1? Well, there are 99 red balls in Box 1, and only 1 red ball in Box 2, so the chance that it came from Box 1 is  very high. But how high?\n   However, if we think in sets, we can  kind of derive Bayes Theorem. Let\u2019s look at our outcomes again:\n    Yup, 100 total. Since we  know we got a red ball, this means that we could have  only gotten one of these 100 outcomes.\n   That&#39;s 99 outcomes. So out of 100 outcomes that could have happened, 99 of those came from Box 1. 99/100 and you have a 99% chance that given a red ball, it came from Box 1.\n This too, just came down to counting the number of outcomes. Now, it can get a lot more difficult \u2014 what if you can\u2019t possibly count the number of outcomes? what if each outcome has a different probability? But, just from this notion of events forming a set of possible outcomes, we can chug along and derive out quite a bit.\n (1) Alexandre came up with a pretty beautiful intuitive solution to question 1: consider symmetry \u2014 since the problem is symmetric (you can reverse white and red), it implies the only solution could be 50%\n Thanks to Daniel Woelfel, Alexandre Lebrun, Bipin Suresh, Mark Shlick, Davit Magaltadze for reviewing drafts of this essay", "posttime": "2020-08-13 10:28:01", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u96c6\u5408,sets", "title": "\u96c6\u5408\u4e0e\u6982\u7387", "title_en": "Sets and Probability", "transed": 1, "url": "https://stopa.io/post/243", "via": "", "real_tags": ["\u96c6\u5408", "sets"]}, {"category": "", "categoryclass": "", "imagename": "a1543b877df424044c110fe2a40de639.png", "infoid": 1017873, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u5728\u5927\u6d41\u884c\u671f\u95f4\u5728\u5bb6\u5de5\u4f5c\u4e0e\u4f20\u7edf\u610f\u4e49\u4e0a\u7684\u8fdc\u7a0b\u5de5\u4f5c\u76f8\u53bb\u751a\u8fdc\u3002\u5f53\u6ca1\u6709\u9009\u62e9\u7684\u65f6\u5019\uff0c\u81ea\u7136\u7684\u503e\u5411\u662f\u611f\u5230\u88ab\u56f0\u548c\u4e0d\u6ee1\u3002\u4ece\u90a3\u65f6\u8d77\uff0c\u53ef\u80fd\u4f1a\u5f15\u53d1\u4e00\u79cd\u5411\u4e0b\u7684\u60c5\u7eea\u87ba\u65cb\uff0c\u5982\u679c\u6ca1\u6709\u540c\u4e8b\u6216\u4eba\u529b\u8d44\u6e90\u90e8\u7684\u8fc5\u901f\u5173\u6ce8\uff0c\u5b83\u53ef\u80fd\u4f1a\u8ba9\u5458\u5de5\u611f\u5230\u4e0d\u53d7\u8d4f\u8bc6\u3001\u88ab\u5ffd\u89c6\u548c\u7cbe\u75b2\u529b\u7aed\u3002\n\u5728\u8fd9\u4e2a\u53d8\u5316\u548c\u4e0d\u786e\u5b9a\u7684\u65f6\u671f\uff0c\u7167\u987e\u597d\u5458\u5de5\u7684\u60c5\u7eea\u5065\u5eb7\u6bd4\u4ee5\u5f80\u4efb\u4f55\u65f6\u5019\u90fd\u66f4\u52a0\u91cd\u8981\u3002\n\u65e0\u8bba\u662f\u4e00\u987f\u7f8e\u98df\uff0c\u8fd8\u662f\u50cf\u6ce1\u6ce1\u8336\u6216\u51b0\u6dc7\u6dcb\u8fd9\u6837\u7684\u5348\u540e\u5feb\u9910\uff0c\u6bcf\u4e2a\u9884\u7b97\u90fd\u6709\u65e0\u6570\u7684\u9001\u8d27\u9009\u62e9\u3002\u91cd\u8981\u7684\u662f\u601d\u60f3\u3002\n\u7981\u95ed\u5e76\u4e0d\u610f\u5473\u7740\u5931\u53bb\u4e50\u8da3\u3002\u4e8b\u5b9e\u4e0a\uff0c\u805a\u4f1a\u73b0\u5728\u53ef\u4ee5\u6709\u5c3d\u53ef\u80fd\u591a\u7684\u53c2\u4e0e\u8005\uff0c\u53ea\u8981\u60a8\u7684\u4f1a\u8bae\u5de5\u5177\u5141\u8bb8(\u800c\u4e14\u901a\u5e38\u66f4\u4fbf\u5b9c\uff0c\u56e0\u4e3a\u51cf\u5c11\u4e86\u9910\u996e\u652f\u51fa)\u3002\u9664\u4e86\u751f\u65e5\u5e86\u795d\u5916\uff0c\u8ba9\u4f60\u7684\u56e2\u961f\u4e00\u8d77\u4eab\u53d7\u865a\u62df\u7684\u6b22\u4e50\u65f6\u5149\uff0c\u54c1\u9152\uff0c\u8bfb\u4e66\u4ff1\u4e50\u90e8\uff0c\u91ce\u9910\uff0c\u6e38\u620f\u4e4b\u591c\uff0c\u745c\u4f3d\u7b49\u7b49\uff01\u8fd9\u662f\u56e2\u961f\u5408\u4f5c\u7684\u7edd\u4f73\u673a\u4f1a-\u4efb\u4f55\u4eba\u90fd\u4e0d\u80fd\u56e0\u4e3a\u4ea4\u901a\u6216\u4f4d\u7f6e\u592a\u8fdc\u800c\u539f\u8c05\u81ea\u5df1\u3002\n\u5728\u4e0b\u4e00\u6b21\u7535\u8bdd\u4f1a\u8bae\u4e0a\uff0c\u6765\u4e00\u573a\u5173\u4e8e\u8c01\u7684\u7740\u88c5\u6216\u80cc\u666f\u6700\u597d\u7684\u5c0f\u6bd4\u8d5b\u600e\u4e48\u6837\uff1f\u6b63\u5982\u4eba\u4eec\u9700\u8981\u4e3a\u6d6a\u6f2b\u4e4b\u706b\u589e\u6dfb\u60c5\u8da3\u4e00\u6837\uff0c\u6211\u4eec\u4e5f\u9700\u8981\u4ed8\u51fa\u989d\u5916\u7684\u52aa\u529b\u6765\u4fdd\u6301\u540c\u5fd7\u60c5\u8c0a\u7684\u7cbe\u795e\u3002\n\u5458\u5de5\u8bc6\u522b\u5728\u8fdc\u7a0b\u5de5\u4f5c\u73af\u5883\u4e2d\u5c24\u4e3a\u91cd\u8981\u3002\u56e0\u4e3a\u4f60\u7684\u4e0a\u53f8\u770b\u4e0d\u5230\u4f60\u7684\u5de5\u4f5c\uff0c\u6240\u4ee5\u4f60\u771f\u7684\u5bb3\u6015\u201c\u8f93\u6389\u201d\u3002\u9664\u4e86\u8fdb\u884c\u5e38\u89c4\u7684\u4e00\u5bf9\u4e00\u4f1a\u8c08\u5916\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u7ed9\u5458\u5de5\u5c55\u793a\u673a\u4f1a\u6765\u589e\u5f3a\u4ed6\u4eec\u7684\u80fd\u529b\u3002\u4f60\u4f1a\u5bf9\u516c\u53f8\u5185\u9690\u85cf\u7684\u624d\u534e\u548c\u80fd\u8a00\u5584\u8fa9\u7684\u6f14\u8bb2\u8005\u611f\u5230\u60ca\u559c\u3002\n\u7814\u7a76\u8868\u660e\uff0c\u95f2\u804a\u5bf9\u6211\u4eec\u7684\u60c5\u7eea\u5065\u5eb7\u6709\u79ef\u6781\u7684\u5f71\u54cd\u3002\u7ecf\u7406\u4eec\u53ef\u4ee5\u901a\u8fc7\u63d0\u65e9\u5f00\u59cb\u4f1a\u8bae\uff0c\u5141\u8bb8\u968f\u610f\u5f00\u73a9\u7b11\uff0c\u6216\u8005\u4f7f\u7528Snack&amp\uff1bDonut\u7b49\u5de5\u5177\u5b89\u6392\u968f\u673a\u7684\u89c6\u9891\u901a\u8bdd\uff0c\u4ece\u800c\u4fc3\u8fdb\u5fae\u89c2\u4e92\u52a8\u3002\u793e\u4f1a\u5076\u7136\u589e\u5f3a\u4e86\u521b\u65b0\u548c\u534f\u4f5c\uff0c\u5e76\u6709\u52a9\u4e8e\u704c\u8f93\u5305\u5bb9\u7684\u5de5\u4f5c\u6587\u5316\u3002\u867d\u7136\u6ca1\u6709\u4eba\u4f1a\u9519\u8fc7\u529e\u516c\u5ba4\u516b\u5366\u548c\u5176\u4ed6\u8ba9\u4eba\u5206\u5fc3\u7684\u4e8b\u60c5\uff0c\u4f46\u4f5c\u4e3a\u793e\u4ea4\u52a8\u7269\uff0c\u6211\u4eec\u9700\u8981\u8fd9\u4e9b\u81ea\u53d1\u7684\u76f8\u9047-\u53ef\u80fd\u662f\u5728\u6211\u4eec\u7684\u529e\u516c\u684c\u4e0a\uff0c\u5728\u98df\u54c1\u50a8\u85cf\u5ba4\u91cc\uff0c\u6cbf\u7740\u8d70\u5eca\uff0c\u6216\u8005\u662f\u865a\u62df\u7684\u3002", "note_en": "Working from home during the pandemic is far from the traditional sense of remote working. When not given a choice, the natural tendency is to feel trapped and disgruntled. From there, a downward emotional spiral could be triggered, and without prompt attention from coworkers or HR, it can leave employees feeling unappreciated, neglected and burned out.\n During this period of change and uncertainty, taking good care of the emotional wellbeing of your employees is more important than ever.\n   May it be a gourmet meal, or an afternoon delight like bubble tea or ice cream, there are a myriad of delivery options for every budget. It is the thought that counts.\n    Lockdown does not mean doing away with fun. In fact, parties can now have as many participants as your conferencing tool permits (and often less expensive with reduced spending on catering). Apart from birthday celebrations, get your team together for a virtual happy hour, wine tasting, book club,  pictionary, game night, yoga and more! This is the perfect opportunity for team bonding \u2014 no one can excuse themselves because of traffic or the location being too far away.\n    For the next conference call, how about a little competition on who has the best outfit or background? Just as one needs to spice things up to keep the flame of romance alive, we also need to put in extra effort to maintain the spirit of camaraderie.\n  Employee recognition is particularly crucial at remote work settings. There is a genuine fear of \u201closing out\u201d because your supervisor does not see you working. On top of conducting regular 1-on-1s, empower your employees by giving them showcase opportunities. You will be pleasantly surprised by the hidden talents and eloquent presenters within the company.\n  Research shows that small talk has a positive impact on our emotional wellbeing. Managers can facilitate micro-interactions by starting the meeting early to allow for casual bantering, or schedule randomised video calls with tools like  Snack &amp; Donut.  Social serendipity enhances innovation &amp; collaboration, and helps to instil an inclusive work culture. While nobody misses office gossip and other distractions, as social creatures we need these spontaneous encounters \u2014 may it be at our desks, in the pantry, along the corridor, or virtually.", "posttime": "2020-08-13 10:27:46", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u773c\u4e0d\u89c1,sight", "title": "\u773c\u4e0d\u89c1\u5fc3\u4e0d\u70e6\u2260", "title_en": "Out of Sight \u2260 Out of Mind", "transed": 1, "url": "https://aboutsnack.com/blog/5-easy-ways-to-boost-employee-wellness", "via": "", "real_tags": ["\u773c\u4e0d\u89c1", "sight"]}, {"category": "", "categoryclass": "", "imagename": "ca34e37899683bb1f704295b49aa1056.png", "infoid": 1017872, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "CloudKeeper\u662f\u4e00\u4e2a\u72ec\u7acb\u7684CLI\u5de5\u5177\uff0c\u5b83\u5b9a\u671f\u6536\u96c6\u4e91\u8d26\u6237\u4e2d\u7684\u8d44\u6e90\u5217\u8868\uff0c\u63d0\u4f9b\u6709\u5173\u5b83\u4eec\u7684\u6307\u6807\uff0c\u5e76\u53ef\u4ee5\u6e05\u7406\u5b83\u4eec\u3002\n\u5bf9\u4e8e\u6bcf\u4e2a\u6fc0\u6d3b\u7684\u6536\u96c6\u5668\u63d2\u4ef6(--Collector)\uff0c\u8d44\u6e90\u6536\u96c6\u6309\u65f6\u95f4\u95f4\u9694(--Interval)\u6267\u884c\u3002\u8d44\u6e90\u6536\u96c6\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u6267\u884c\u8d44\u6e90\u6e05\u7406(--Cleanup)\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u8fdb\u884c\u4efb\u4f55\u6e05\u7406\uff01\u5fc5\u987b\u5b89\u88c5\u548c\u914d\u7f6e\u6e05\u7406\u63d2\u4ef6\uff0c\u6216\u8005\u4f7f\u7528\u5185\u7f6eCLI\u624b\u52a8\u6807\u8bb0\u8981\u6e05\u7406\u7684\u8d44\u6e90\u3002\u5728\u4e0b\u9762\u7684\u63d2\u4ef6\u90e8\u5206\u4e2d\u9605\u8bfb\u6709\u5173\u6536\u96c6\u5668\u548c\u6e05\u7406\u63d2\u4ef6\u7684\u66f4\u591a\u4fe1\u606f\u3002\nCloudKeeper\u662f\u4e3a\u5bf9\u5176\u7ec4\u7ec7\u7684\u4e91\u5e10\u6237\u4f7f\u7528\u548c\u652f\u51fa\u8d1f\u8d23\u7684\u4eba\u5458\u800c\u8bbe\u8ba1\u7684\uff0c\u4ed6\u4eec\u5bf9Linux shell\u611f\u5230\u6ee1\u610f\u3002\u5047\u8bbe\u7528\u6237\u5e0c\u671b\u521b\u5efa\u9002\u5408\u5176\u7279\u5b9a\u7528\u4f8b\u548c\u7ec4\u7ec7\u9700\u6c42\u7684\u81ea\u5df1\u7684\u63d2\u4ef6\u3002\u4e0d\u8fc7\uff0c\u5b83\u53ef\u4ee5\u5728\u6ca1\u6709\u4efb\u4f55\u7f16\u7a0b\u7ecf\u9a8c\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\uff0c\u53ea\u9700\u4f7f\u7528\u9644\u5e26\u7684CLI\u548c\u63d2\u4ef6\u5373\u53ef\u3002\n$docker run-it\u4e2d\u95f4\u5c42/CloudKeeper--\u8be6\u7ec6\\--\u6e05\u7406--no-cli--one-shot--\u95f4\u96940\\--\u6536\u96c6\u5668aws\\-aws-access-key-id AKIAIO5FODNN7EXAMPLE\\--aws-Secure-access-key&#39\uff1bABCDEF+c2L7yXeGvUyrPgYsDnWRRC1AYEXAMPLE&#39\uff1b\\--\u6ce8\u518cCLI-ACTION&#34\uff1b\\CLEANUP_PLAN\uff1a\\MATCH RESOURCE_TYPE=AWS_EC2_VOLUME\\|MATCH VOLUME_STATUS=Available\\\u30027d\\|\u5339\u914dLAST_UPDATE&gt\uff1b7d\\|\u6e05\u7406&#34\uff1b\\--\u6e05\u7406-\u5e72\u8fd0\u884c\u3002\n\u8fd9\u5c06\u6536\u96c6AWS\u5e10\u6237\u4e2d\u6240\u6709\u5730\u533a\u7684\u6240\u6709\u5df2\u77e5\u8d44\u6e90\u3002\u4e00\u65e6\u6536\u96c6\u9636\u6bb5\u5b8c\u6210\uff0c\u6e05\u7406\u9636\u6bb5\u5f00\u59cb\uff0c\u5b83\u5c06\u8fd0\u884c\u6ce8\u518c\u7684CLI\u64cd\u4f5c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b83\u4f1a\u9009\u62e9\u6240\u6709\u672a\u4f7f\u7528\u3001\u8d85\u8fc77\u5929\u4e14\u5728\u8fc7\u53bb\u4e00\u5468\u5185\u6ca1\u6709\u4efb\u4f55\u8bfb\u5199IOPS\u7684AWS EBS\u5377\uff0c\u5e76\u5c06\u5176\u6807\u8bb0\u4e3a\u8981\u6e05\u7406\u3002\u5728\u4e0b\u4e00\u6b65\u4e2d\uff0c\u5982\u679c\u6ca1\u6709--Cleanup-Dry-Run\u6807\u5fd7\uff0cCloudKeeper\u5c06\u5220\u9664\u6240\u6709\u6807\u8bb0\u4e3a\u8981\u6e05\u7406\u7684\u8d44\u6e90\u3002\n\u5982\u679c\u60a8\u53ea\u60f3\u6536\u96c6\u7279\u5b9a\u7684\u533a\u57df\uff0c\u4f8b\u5982\u3002US-EAST-1\u548cUS-WEST-2\u60a8\u53ef\u4ee5\u6307\u5b9a--AWS-REGION US-EAST-1US-WEST-2\u3002\n\u5982\u679c\u60a8\u5e0c\u671bCloudKeeper\u5728\u7ec4\u7ec7\u8303\u56f4\u5185\u6267\u884c\u76f8\u540c\u7684\u64cd\u4f5c\uff0c\u8bf7\u4f7f\u7528\u60a8\u7684root\u5e10\u6237\u7684\u51ed\u636e\uff0c\u6216\u8005\u4e0d\u8981\u5c06\u5176\u6307\u5b9a\u4e3aCLI\u53c2\u6570\u5bfc\u51faAWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY\u6216AWS_PROFILE\u3002\u5982\u679c\u60a8\u5728EC2\u5185\u90e8\u8fd0\u884c\uff0c\u8fd8\u53ef\u4ee5\u5206\u914d\u5b9e\u4f8b\u914d\u7f6e\u6587\u4ef6\u5e76\u5bfc\u51faAWS_CONFIG_FILE\u3002\u7136\u540e\u63d0\u4f9b--AWS-Role\u548c--aws-sccup-org\u53c2\u6570\uff0c\u8fd9\u6837CloudKeeper\u5c31\u4f1a\u53d1\u73b0\u60a8\u7ec4\u7ec7\u7684\u6240\u6709AWS\u5b50\u5e10\u6237\u5e76\u627f\u62c5\u5176\u4e2d\u7684\u89d2\u8272\u3002\n\u6700\u540e\uff0cargs--leanup--no-cli--one-shot--interval 0\u6253\u5f00\u6e05\u7406\u4ee3\u7801(\u800c\u4e0d\u4ec5\u4ec5\u662f\u6536\u96c6\u8d44\u6e90\u548c\u751f\u6210\u6307\u6807)\uff0c\u5173\u95ed\u5185\u7f6e\u7684CLI\uff0c\u544a\u8bc9cloudKeeper\u8fd0\u884c\u4e00\u4e2a\u8d44\u6e90\u6536\u96c6\u5faa\u73af\uff0c\u7136\u540e\u9000\u51fa(\u800c\u4e0d\u662f\u6c38\u8fdc\u8fd0\u884c)\uff0c\u5e76\u5c06\u5faa\u73af\u95f4\u9694\u8bbe\u7f6e\u4e3a0\u79d2(\u800c\u4e0d\u662f\u9ed8\u8ba4\u76841\u5c0f\u65f6)\uff0c\u8fd9\u6837\u4e00\u65e6\u6536\u96c6\u5faa\u73af\u5b8c\u6210\uff0cCloudKeeper\u7acb\u5373\u9000\u51fa\uff0c\u800c\u4e0d\u662f\u7b49\u5f85\u95f4\u9694\u7ed3\u675f\u3002\nCloudKeeper\u662fD2iQ\u5f00\u53d1\u7684\u5185\u90e8\u5de5\u5177\uff0c\u7528\u4e8e\u6536\u96c6\u548c\u6e05\u7406\u6700\u6602\u8d35\u7684AWS\u8d44\u6e90\u3002\u6211\u4eec\u5728\u76ee\u524d\u7684\u72b6\u6001\u4e0b\u5c06\u5176\u5f00\u6e90\uff0c\u56e0\u4e3a\u5728\u8fc7\u53bb\u7684\u51e0\u4e2a\u6708\u91cc\uff0c\u5b83\u5bf9\u6211\u4eec\u5927\u5e45\u51cf\u5c11\u4e91\u652f\u51fa\u975e\u5e38\u6709\u5e2e\u52a9\uff0c\u6211\u4eec\u8ba4\u4e3a\u7279\u522b\u662f\u5728\u65b0\u51a0\u80ba\u708e\u75ab\u60c5\u671f\u95f4\uff0c\u5b83\u53ef\u80fd\u5bf9\u5176\u4ed6\u4eba\u4e5f\u5f88\u6709\u7528\u3002\n\u6b63\u5982\u524d\u9762\u63d0\u5230\u7684\uff0cCloudKeeper\u76ee\u524d\u7684\u4e3b\u8981\u5173\u6ce8\u70b9\u662f\u6536\u96c6\u548c\u6e05\u7406AWS\u8d44\u6e90\uff0c\u56e0\u4e3a\u8fd9\u662f\u6211\u4eec\u82b1\u8d39\u6700\u591a\u7684\u4e91\u3002\u7136\u800c\uff0c\u57fa\u7840\u8bbe\u65bd\u662f\u7528\u6765\u5b9e\u73b0\u5176\u4ed6\u4e91\u6536\u96c6\u5668\u7684\u3002\u5728plugins/exampleCollector/\u4e2d\u6709\u4e00\u4e2a\u793a\u4f8b\uff0c\u8fd8\u6709\u53e6\u5916\u4e24\u4e2a\u793a\u4f8b\uff0c\u5373plugins/OneLogin/\u548cplugins/slack/\uff0c\u6211\u4eec\u5c06\u5b83\u4eec\u7528\u4e8e\u901a\u77e5\u76ee\u7684\u3002\n\u6b64\u5916\uff0cCloudKeeper\u53ef\u4ee5\u4f7f\u7528\u8fdc\u7a0b\u63d2\u4ef6\u5206\u5e03\u5f0f\u8fd0\u884c\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4e3a\u6bcf\u4e2aAWS\u5e10\u6237\u8fd0\u884c\u4e00\u4e2aCloudKeeper\uff0c\u7136\u540e\u5c06\u8fd9\u4e9b\u5355\u72ec\u6536\u96c6\u7684\u8d44\u6e90\u5408\u5e76\u5230\u4e00\u4e2a\u4e2d\u5fc3\u4f4d\u7f6e\u3002\u6216\u8005\u8fd0\u884c\u4e00\u4e2aCloudKeeper\u8fdb\u884c\u6536\u96c6\uff0c\u53e6\u4e00\u4e2a\u8fd0\u884cCloudKeeper\u8fdb\u884c\u6e05\u7406\u3002\u6536\u96c6\u5b9e\u4f8b\u5c06\u53ea\u9700\u8981\u5bf9\u60a8\u7684\u4e91\u5e10\u6237\u7684\u8bfb\u53d6\u8bbf\u95ee\u6743\u9650\uff0c\u5e76\u4e14\u6e05\u7406\u5b9e\u4f8b\u53ef\u4ee5\u4ece\u6536\u96c6\u5b9e\u4f8b\u68c0\u7d22\u6536\u96c6\u7684\u6570\u636e\u5e76\u5220\u9664\u672a\u4f7f\u7528\u7684\u8d44\u6e90\u3002\n\u5728plugins/\u6587\u4ef6\u5939\u4e2d\u8fd8\u53ef\u4ee5\u627e\u5230\u8bb8\u591a\u6e05\u7406\u63d2\u4ef6\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cDocker\u6620\u50cf\u5305\u542b\u8be5\u6587\u4ef6\u5939\u4e2d\u7684\u6240\u6709\u63d2\u4ef6\u3002\n\u5728\u4e0b\u9762\u7684TODO\u90e8\u5206\u4e2d\uff0c\u60a8\u5c06\u627e\u5230\u6700\u76f4\u63a5\u6253\u5f00\u7684\u4efb\u52a1\u5217\u8868\u3002\u8fd9\u4e9b\u5305\u62ec\u5b9e\u73b0\u66f4\u591a\u7684\u4e91\u63d0\u4f9b\u5546\uff0c\u4e3a\u73b0\u6709\u7684\u4e91\u63d0\u4f9b\u5546\u63d0\u4f9b\u66f4\u591a\u7684\u8d44\u6e90\u7c7b\u578b\uff0c\u7f16\u5199\u66f4\u597d\u7684\u6d4b\u8bd5\u548c\u66f4\u5e7f\u6cdb\u7684\u63d2\u4ef6\u6587\u6863\u3002\n\u4f5c\u4e3a\u6211\u4eec\u8d44\u6e90\u6536\u96c6\u7684\u526f\u4ea7\u54c1\uff0c\u6211\u4eec\u80fd\u591f\u5728/metrics\u7aef\u70b9\u5bfc\u51fa\u666e\u7f57\u7c73\u4fee\u65af\u6307\u6807\u3002\u9ed8\u8ba4\u4fa6\u542c\u7aef\u53e3(--web-port)\u4e3a8000\u3002\u53ef\u4ee5\u4f7f\u7528--tag-as-metrics-label\u53c2\u6570\u5b9a\u4e49\u57fa\u4e8e\u8d44\u6e90\u6807\u7b7e\u7684\u81ea\u5b9a\u4e49\u6307\u6807\u6807\u7b7e\u3002\u793a\u4f8b\uff1a--Tag-as-Metrics-Label\u9879\u76ee\u5b50\u9879\u76ee\u5c06\u6839\u636e\u8d44\u6e90\u9879\u76ee\u548c\u5b50\u9879\u76ee\u7684\u5185\u5bb9\u786e\u4fdd\u6bcf\u4e2a\u6307\u6807\u90fd\u6709\u4e24\u4e2a\u989d\u5916\u7684\u6807\u7b7e\uff0c\u4ece\u800c\u4ea7\u751f\u5982\u4e0b\u6307\u6807\u8f93\u51fa\uff1a\n\u7531\u4e8e\u6536\u96c6\u6307\u6807\u7684\u65b9\u5f0f\uff0c\u8d44\u6e90\u76ee\u524d\u53ea\u516c\u5f00\u6307\u6807\u3002\u5355\u4e2a\u8d44\u6e90\u53ef\u4ee5\u589e\u52a0\u6216\u51cf\u5c11\u91cf\u89c4\u3002\u5728\u63d2\u4ef6\u4e2d\uff0c\u53ef\u4ee5\u5b9a\u4e49\u4efb\u4f55\u7c7b\u578b\u7684\u6307\u6807\u3002CloudKeeper\u672c\u8eab\u5927\u91cf\u4f7f\u7528\u6458\u8981\u548c\u8ba1\u6570\u5668\u6307\u6807\u6765\u5bf9\u81ea\u5df1\u7684\u6027\u80fd\u8fdb\u884c\u57fa\u51c6\u6d4b\u8bd5\u3002\n$git\u514b\u9686https://github.com/mesosphere/cloudkeeper.git$CD CloudKeeper$python3.8-m venv venv$source venv/bin/\u6fc0\u6d3b$pip\u5b89\u88c5--\u53ef\u7f16\u8f91\u7684cloudKeeper/$pip\u5b89\u88c5--\u53ef\u7f16\u8f91\u7684\u63d2\u4ef6/aws/#\u5176\u4ed6\u63d2\u4ef6\u4e4b\u4e00\u53d6\u51b3\u4e8eaws$Find\u63d2\u4ef6/-\u6700\u5927\u6df1\u5ea61\u5206\u949f\u6df1\u5ea61-\u7c7b\u578bd-exec pip\u5b89\u88c5--\u53ef\u7f16\u8f91&#34\uff1b{}&#34\uff1b\\+\n#$\u662f\u60a8\u7684shell#&&gt;\u662fCloudKeeper shell#\u5982\u679c\u60a8\u5b89\u88c5\u4e86AWS CLI($pip install awscli)\u8bbe\u7f6eAWS CLI\u51ed\u636e\u4ee5\u4fbf\u60a8#\u767b\u5f55\u5230\u5e10\u6237\uff0c\u6216\u8005\u63d0\u4f9b--aws-access-key-id/--aws-ret-access-key#\u60a8\u8fd8\u53ef\u4ee5\u5bfc\u51faAWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY\u73af\u5883\u53d8\u91cf\u6216\u5728#~/.aws/Credentials\u4e2d\u5b9a\u4e49\u5b83\u4eec\uff0c\u7136\u540e\u5bfc\u51faAWS_PROFILE\u3002$aws\u3002Count resource_type#\u6309RESOURCE_TYPE\u8ba1\u7b97\u6240\u6709\u6536\u96c6\u7684\u8d44\u6e90&&gt;MATCH RESOURCE_TYPE=AWS_EC2_INSTANCE#\u5217\u51fa\u6240\u6709\u53d1\u73b0\u7684EC2\u5b9e\u4f8b&&gt;MATCH RESOURCE_TYPE=AWS_EC2_INSTANCE|MATCH AGE&&gt;30d#\u5217\u51fa\u8d85\u8fc730\u5929\u7684\u6240\u6709EC2\u5b9e\u4f8b&&gt;MATCH RESOURCE_TYPE=AWS_EC2_VOLUME|COUNT#\u67e5\u627e\u6240\u6709EC2\u5377\u5e76\u5bf9\u5176\u8ba1\u6570&&gt;MATCH RESOURCE_TYPE~^AWS_|Match Tags[Owner]~\u3002&gt\uff1bbackup/tmp/graph#\u5c06\u5f53\u524d\u52a0\u8f7d\u7684\u56fe\u5f62\u7684\u5907\u4efd\u5b58\u50a8\u5230/tmp/graph#\u52a0\u8f7d\u4ee5\u524d\u6536\u96c6\u7684\u56fe\u5f62\uff0c\u5e76\u5728\u8bd5\u8fd0\u884c\u6a21\u5f0f\u4e0b\u6fc0\u6d3b\u6e05\u7406\u4ee3\u7801$CLOUDKeeper--\u6536\u96c6\u5668\u8fdc\u7a0b--\u8fdc\u7a0b\u7aef\u70b9file:///tmp/graph--\u6e05\u7406--\u6e05\u7406-\u6f14\u7ec3&&gt;MATCH RESOURCE_TYPE=AWS_EC2_VOLUME|HEAD-10#\u5217\u51fa\u524d\u5341\u4e2aEC2\u5377\u5339\u914d\u6807\u8bb0[\u6240\u6709\u8005]~sre|COUNT_RESOURCE_TYPE#\u67e5\u627e\u6807\u8bb0&#\u7684\u6240\u6709\u8d44\u6e90\u3002\u5e76\u6309resource_type#count by account\u8ba1\u6570\u3002\u547d\u540d\u6240\u6709\u6ca1\u6709\u6240\u6709\u8005\u7684AWS EC2\u5b9e\u4f8b\u3001ALB\u548cELB(AWS_[ae]lb\\|AWS_EC2_INSTANCE)$|\u6ca1\u6709\u6807\u8bb0[Owner]|count account\u3002name&gt\uff1bMatch resource_type=AWS_ELB|head-1|dump#\u627e\u5230\u7b2c\u4e00\u4e2a\u5f39\u6027\u8d1f\u8f7d\u5747\u8861\u5668(\u7ecf\u5178)\u5e76\u8f6c\u50a8\u5bf9\u8c61&\u3002\u5e76\u5217\u51fa\u5176\u5b50\u8d44\u6e90&gt\uff1bmatch name=sometestinstance|prepresires#\u67e5\u627e\u540d\u79f0\u4e3asometestinstance&#39\uff1b\u7684\u8d44\u6e90\uff0c\u5e76\u5217\u51fa\u5176\u7236\u8d44\u6e90\u3002\nCloudKeeper\u9644\u5e26\u4e00\u4e2a\u7b80\u5355\u7684CLI\u3002\u6700\u521d\uff0c\u5b83\u53ea\u7528\u4e8e\u8c03\u8bd5\u5185\u90e8\u6570\u636e\u7ed3\u6784\uff0c\u73b0\u5728\u8fd8\u53ef\u4ee5\u7528\u6765\u6267\u884c\u7b80\u5355\u7684\u641c\u7d22\u548c\u6807\u8bb0\u8981\u6e05\u7406\u7684\u8d44\u6e90\u3002\u8f93\u5165help\u5c06\u7ed9\u51fa\u6240\u6709\u547d\u4ee4\u7684\u5217\u8868\u3002HELP&lt\uff1bCOMMAND&&gt;\u5c06\u4e3a\u8be5\u547d\u4ee4\u63d0\u4f9b\u5176\u4ed6\u5e2e\u52a9\u3002\u53ef\u4ee5\u4f7f\u7528&#34\uff1b|&#34\uff1b\u5c06\u547d\u4ee4\u76f8\u4e92\u4f20\u9012\u3002\u53ef\u4ee5\u4f7f\u7528&#34\uff1b\uff1b&#34\uff1b\u8fde\u7eed\u8fd0\u884c\u591a\u4e2a\u547d\u4ee4\u3002\u5982\u679c\u60a8\u9700\u8981\u5728\u547d\u4ee4\u4e2d\u4f7f\u7528\u7ad6\u7ebf\u6216\u5206\u53f7\u5b57\u7b26\uff0c\u8bf7\u786e\u4fdd\u4f7f\u7528\u53cd\u659c\u6760\u5bf9\u5b83\u4eec\u8fdb\u884c\u8f6c\u4e49\u3002\u5185\u90e8\u547d\u4ee4\u63a5\u6536\u548c\u8f93\u51faIterables\uff0c\u901a\u5e38\u7531Cloud\u8d44\u6e90\u7ec4\u6210\u3002\u547d\u4ee4\u53ef\u4ee5\u5339\u914d\u8fd9\u4e9b\u8d44\u6e90\u7684\u4efb\u4f55\u5c5e\u6027\u3002\u4f8b\u5982\uff0c\u5982\u679cAWS EBS\u5377\u5177\u6709\u5c5e\u6027VOLUME_SIZE\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u8be2\u6240\u6709\u5927\u4e8e100 GB\u7684EBS\u5377\uff1aMATCH RESOURCE_TYPE=AWS_EC2_VOLUME|MATCH VOLUME_SIZE&gt\uff1b100\u3002\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u8d44\u6e90\u90fd\u6709Unix\u5c5e\u6027\uff0c\u5982\u8868\u793a\u4e3aPython DateTime\u5bf9\u8c61\u7684ctime\u3001mtime\u3001atime\u3002\u4ece\u8fd9\u4e9b\u5c5e\u6027\u6d3e\u751f\u7684\u662fage\u3001last_update\u3001last_access\u3002\u76ee\u524d\uff0c\u5927\u591a\u6570\u8d44\u6e90\u652f\u6301ctime\u5c5e\u6027\uff0c\u4f46\u652f\u6301mtime\u548catime\u7684\u8d44\u6e90\u8f83\u5c11\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u4e91API\u6ca1\u6709\u8fd4\u56de\u4fee\u6539\u65f6\u95f4\uff0c\u5219\u5c06mtime\u548catime\u7684\u503c\u8bbe\u7f6e\u4e3a\u5f53\u524d\u65f6\u95f4\u6233\u3002\u8fd9\u91cc\u7684\u63a8\u7406\u662f\uff0c\u8fd9\u4e9b\u5c5e\u6027\u7528\u4e8e\u786e\u5b9a\u8d44\u6e90\u4e0a\u6b21\u4f7f\u7528\u7684\u65f6\u95f4\u3002\u901a\u5e38\uff0c\u6211\u5e0c\u671b\u6e05\u7406\u5f88\u957f\u65f6\u95f4\u6ca1\u6709\u4f7f\u7528\u7684\u8d44\u6e90\uff0c\u800c\u4e0d\u662f\u6700\u8fd1\u4f7f\u7528\u7684\u8d44\u6e90\u3002\n\u5f53CLI\u53d1\u73b0\u67d0\u4e2a\u5c5e\u6027\u5c5e\u4e8e\u7279\u5b9a\u6570\u636e\u7c7b\u578b\u65f6\uff0c\u5b83\u4f1a\u5c1d\u8bd5\u5c06\u8f93\u5165\u503c\u8f6c\u6362\u4e3a\u8be5\u7c7b\u578b\uff0c\u4ee5\u4fbf\u8fdb\u884c\u6bd4\u8f83\u64cd\u4f5c\u3002\u5728\u4e0b\u4e00\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5c06\u5220\u9664\u6240\u6709\u57282020\u5e741\u67081\u65e5\u4e4b\u524d\u521b\u5efa\u4e14\u5728\u8fc7\u53bb7\u5929\u5185\u672a\u5199\u5165\u6216\u8bfb\u53d6\u7684\u5927\u4e8e100 GiB\u7684\u672a\u4f7f\u7528EBS\u5377\u3002\n&gt\uff1bMATCH RESOURCE_TYPE=AWS_EC2_VOLUME|MATCH VOLUME_SIZE&gt\uff1b100|MATCH VOLUME_STATUS=Available|Match ctime&lt\uff1b2020-01-01|Match Last_Access&gt\uff1b7d|Match Last_UPDATE&gt\uff1b7d|\u6e05\u7406&&gt;\u3002\n\u73b0\u5728\uff0cCLI\u5bf9\u4e8e\u6d4f\u89c8\u6536\u96c6\u7684\u6570\u636e\u5f88\u6709\u7528\uff0c\u4f46\u662f\u5982\u679c\u60a8\u6709\u4e00\u4e2a\u91cd\u590d\u7684\u6e05\u7406\u67e5\u8be2\uff0c\u90a3\u4e48\u5b9a\u671f\u624b\u52a8\u8fd0\u884c\u5b83\u5c06\u662f\u4e4f\u5473\u7684\u3002\u4e3a\u6b64\uff0cCloudKeeper\u652f\u6301\u4e00\u4e2a\u53c2\u6570--register-cli-action\uff0c\u5b83\u63a5\u53d7\u4e00\u4e2a\u5c0f\u5199\u7684\u4e8b\u4ef6\u540d\u79f0(\u8bf7\u53c2\u89c1\u4e0b\u9762\u7684\u4e8b\u4ef6)\uff0c\u540e\u9762\u8ddf\u4e00\u4e2a\u5192\u53f7\uff1a\u548c\u5728\u8be5\u4e8b\u4ef6\u88ab\u5206\u6d3e\u65f6\u5e94\u8be5\u6267\u884c\u7684CLI\u547d\u4ee4\u3002\u5982\u679c\u6211\u4eec\u5e0c\u671b\u5728\u6bcf\u6b21CloudKeeper\u5b8c\u6210\u8d44\u6e90\u6536\u96c6\u65f6\u90fd\u4ece\u524d\u9762\u8fd0\u884c\u5377\u6e05\u7406\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u8c03\u7528\u5b83\uff1a\n$cloudKeeper--\u6536\u96c6\u5668AWS--CLEANUP--\u6ce8\u518c-CLI-ACTION&#34\uff1bCLEANUP_PLAN\uff1aMATCH RESOURCE_TYPE=AWS_EC2_VOLUME|MATCH VOLUME_SIZE&gt\uff1b100|MATCH VOLUME_STATUS=Available|Match Ctime&lt\uff1b2020-01-01|Match Last_Access&gt\uff1b7d|Match Last_UPDATE&gt\uff1b7d|CLEAN&34\uff1b\n\u987a\u4fbf\u8bf4\u4e00\u53e5\uff0c\u6709\u4e00\u4e2a\u63d2\u4ef6\u63d2\u4ef6/CLEANUP_VOLUES/\u5c31\u53ef\u4ee5\u505a\u5230\u8fd9\u4e00\u70b9\u3002\u5b83\u662f\u5728Cloudk\u4e4b\u524d\u5199\u7684\nCloudKeeper\u65e8\u5728\u6e05\u7406\u8d44\u6e90\u3002\u56e0\u6b64\uff0c\u5728\u9009\u62e9\u548c\u7b5b\u9009\u8981\u6e05\u7406\u7684\u8d44\u6e90\u65f6\u8981\u8c28\u614e\u884c\u4e8b\u3002\u4efb\u4f55CLI\u547d\u4ee4\u7684\u9ed8\u8ba4\u8f93\u5165\u90fd\u662f\u6240\u6709\u4e91\u8d44\u6e90\u7684\u5217\u8868\u3002\u8fd9\u610f\u5473\u7740\u5f53\u60a8\u8fd0\u884cMATCH RESOURCE_TYPE=AWS_EC2_VOLUME\u65f6\uff0c\u5b83\u4f1a\u9488\u5bf9\u6240\u6709\u8d44\u6e90\u8fd0\u884c\u6b64\u5339\u914d\u3002\u7136\u800c\uff0c\u8fd9\u4e5f\u610f\u5473\u7740\u5982\u679c\u60a8\u8fd0\u884cDELETE--\u662f\u7684\uff0c\u524d\u9762\u6ca1\u6709\u4efb\u4f55\u5339\u914d\u6216\u5176\u4ed6\u7b5b\u9009\u5668\uff0cCloudKeeper\u5c06\u5bf9\u6240\u6709\u4e91\u8d44\u6e90\u987a\u5e8f\u8fd0\u884cDELETE\u3002\u5b83\u76f8\u5f53\u4e8e\u60a8\u7684\u4e91\u7684RM-RF/\u3002\u66f4\u6709\u6548\u7684\u7834\u574f\u6027\u547d\u4ee4\u662f\u6e05\u7406\uff1b\u6e05\u7406\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cCloudKeeper\u5c06\u9996\u5148\u6807\u8bb0\u8981\u6e05\u7406\u7684\u6240\u6709\u8d44\u6e90\uff0c\u521b\u5efa\u6e05\u7406\u8ba1\u5212\uff0c\u7136\u540e\u4ee5\u975e\u5e38\u9ad8\u6548\u548c\u5e76\u884c\u7684\u65b9\u5f0f\u5220\u9664\u5b83\u4eec\u3002\n\u5728\u7b2c\u4e00\u6b21\u8fdb\u884c\u8d44\u6e90\u6e05\u7406\u9009\u62e9\u65f6\uff0c\u6700\u597d\u5728\u53d1\u51faCleanup\u547d\u4ee4\u4e4b\u524d\u4f7f\u7528MATCH CLEAN=TRUE|COUNT\u6216MATCH CLEAN=TRUE|COUNT RESOURCE_TYPE\u7b49\u547d\u4ee4\u786e\u8ba4\u6240\u9009\u8d44\u6e90\u7684\u5217\u8868\u662f\u5426\u53ef\u4fe1\u3002\n\u5728\u5185\u90e8\uff0cCloudKeeper\u5c06\u6240\u6709\u8d44\u6e90\u5b58\u50a8\u5728\u4e00\u4e2a\u6709\u5411\u65e0\u73af\u56fe(DAG)\u4e2d\u3002\u6dfb\u52a0\u5230\u56fe\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9(\u8d44\u6e90)\u90fd\u5fc5\u987b\u7ee7\u627fBaseResource\u3002\u56fe\u4e2d\u7684\u4f9d\u8d56\u5173\u7cfb\u7528\u4e8e\u786e\u5b9a\u8d44\u6e90\u6e05\u7406\u7684\u987a\u5e8f\u3002\u8fd9\u610f\u5473\u7740\u5982\u679c\u8d44\u6e90\u5177\u6709\u5b50\u7ea7(\u7ee7\u4efb\u8005)\uff0c\u5219\u5f88\u53ef\u80fd\u65e0\u6cd5\u5220\u9664\u3002\u5728\u6536\u96c6\u8fc7\u7a0b\u4e2d\uff0c\u5c06\u521b\u5efa\u4e00\u4e2a\u4e0e\u5f53\u524d\u6d3b\u52a8\u56fe\u5e76\u884c\u7684\u65b0\u6682\u5b58\u56fe\uff0c\u5e76\u4e14\u968f\u7740\u6536\u96c6\u5668\u63d2\u4ef6\u8fd4\u56de\u5176\u81ea\u5df1\u7684\u672c\u5730\u56fe\uff0c\u5c06\u6784\u5efa\u5176\u5206\u652f\u3002\u4e00\u65e6\u6240\u6709\u6536\u96c6\u5668\u90fd\u5b8c\u6210\u4e86\u4ed6\u4eec\u7684\u5de5\u4f5c\uff0c\u65e7\u7684\u5b9e\u65f6\u56fe\u5f62\u5c31\u4f1a\u4e0e\u4e34\u65f6\u56fe\u5f62\u4ea4\u6362\uff0c\u4ece\u800c\u4f7f\u5176\u6210\u4e3a\u65b0\u7684\u5b9e\u65f6\u56fe\u5f62\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5728\u67e5\u8be2\u6307\u6807\u6216\u6267\u884cCLI\u67e5\u8be2\u65f6\uff0c\u60a8\u59cb\u7ec8\u53ef\u4ee5\u5168\u9762\u4e86\u89e3\u6240\u6709\u4e91\u8d44\u6e90\u3002\n\u4f7f\u7528\u5206\u5e03\u5f0f\u5b9e\u4f8b\u4e2d\u63d0\u5230\u7684\u63d2\u5165\u70b9\uff0c\u60a8\u8fd8\u53ef\u4ee5\u5c06\u56fe\u5f62\u5bfc\u51fa\u4e3a\u5404\u79cd\u683c\u5f0f(GraphML\u3001GEXF\u3001JSON\u7b49)\u3002\u4e86\u89e3\u5e76\u63a2\u7d22\u60a8\u7684\u4e91\u670d\u52a1\u3002\nCloudKeeper\u77e5\u9053\u4e24\u79cd\u7c7b\u578b\u7684\u63d2\u4ef6\uff0c\u6536\u96c6\u5668\u548c\u6301\u4e45\u6027\u3002\u60a8\u53ef\u4ee5\u5728plugins/Example_Collector/\u548cPlugin/Example_Persistent/\u4e2d\u627e\u5230\u6bcf\u79cd\u7c7b\u578b\u7684\u793a\u4f8b\u4ee3\u7801\u3002COLLECTOR Plugins\u6536\u96c6\u4e91\u8d44\u6e90\uff0c\u5e76\u5728\u6bcf\u6b21\u6536\u96c6\u8fd0\u884c\u65f6\u88ab\u5b9e\u4f8b\u5316\u3002\u6301\u4e45\u63d2\u4ef6\u5728\u542f\u52a8\u65f6\u5b9e\u4f8b\u5316\u4e00\u6b21\uff0c\u4e3b\u8981\u7528\u4e8e\u8d44\u6e90\u6e05\u7406\u3001\u51b3\u7b56\u6216\u901a\u77e5(\u4f8b\u5982\uff0c\u5411\u521a\u521a\u5220\u9664\u7684\u5b9e\u4f8b\u7684\u6240\u6709\u8005\u53d1\u9001\u677e\u5f1b\u6d88\u606f)\u3002\n\u6bcf\u4e2a\u6536\u96c6\u5668\u63d2\u4ef6\u90fd\u6709\u4e00\u4e2a\u672c\u5730\u56fe\u3002\u6536\u96c6\u5668\u63d2\u4ef6\u4e3a\u4e91\u63d0\u4f9b\u5546(\u4f8b\u5982AWS\u3001GCP\u3001Azure\u3001AliCloud\u7b49)\u5b9e\u65bd\u8d44\u6e90\u6536\u96c6\u3002\u5728\u6536\u96c6\u671f\u95f4\uff0c\u63d2\u4ef6\u6dfb\u52a0\u8d44\u6e90(\u4f8b\u5982\u5b9e\u4f8b\u3001\u8d1f\u8f7d\u5747\u8861\u5668\u3001\u5377\u3001\u7528\u6237\u7b49)\u3002\u5230\u90a3\u5f20\u56fe\u4e0a\u3002\u63d2\u4ef6\u56fe\u5f62\u7684\u6839\u90e8\u662f\u4e91\u672c\u8eab(\u4f8b\u5982\uff0cAWS)\u3002\u5728\u6b64\u4e0b\u65b9\u5c06\u6dfb\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u5e10\u6237\u3002\u4e0b\u9762\u7684\u5ba2\u6237CloudKeeper\u5e0c\u671b\u627e\u5230\u5730\u533a\u3002\u5728\u533a\u57df\u5185\uff0c\u63d2\u4ef6\u53ef\u4ee5\u6dfb\u52a0\u5b83\u8ba4\u4e3a\u5408\u9002\u7684\u4efb\u4f55\u8d44\u6e90\u3002\u63d2\u4ef6\u53ef\u4ee5\u5728\u8d44\u6e90\u4e4b\u95f4\u521b\u5efa\u6709\u5411\u8fb9(\u8fde\u63a5)\u6765\u6807\u8bb0\u4f9d\u8d56\u5173\u7cfb\u3002\u5f53\u6211\u4eec\u8c08\u8bba\u4f9d\u8d56\u5173\u7cfb\u65f6\uff0c\u6211\u4eec\u603b\u662f\u5728\u8c08\u8bba\u5220\u9664\u4f9d\u8d56\u5173\u7cfb\uff0c\u800c\u4e0d\u662f\u903b\u8f91\u4f9d\u8d56\u5173\u7cfb\u3002\u8fd9\u610f\u5473\u7740\u5982\u679c\u4e0d\u5148\u5220\u9664\u5b50\u9879\uff0c\u5c31\u4e0d\u80fd\u5220\u9664\u5177\u6709\u5b50\u9879\u7684\u8d44\u6e90\u3002\u8fd9\u542c\u8d77\u6765\u5408\u4e4e\u903b\u8f91\uff0c\u4f46\u53ef\u80fd\u76f8\u5f53\u4e0d\u76f4\u89c2\u3002\u4f8b\u5982\uff0cAWS EC2\u5b9e\u4f8b\u5c06\u662fEBS\u5377\u7684\u5b50\u5377\uff0c\u800c\u4e0d\u662f\u53cd\u8fc7\u6765\uff0c\u56e0\u4e3a\u60a8\u53ef\u4ee5\u5728\u4e0d\u5220\u9664\u5377\u7684\u60c5\u51b5\u4e0b\u5220\u9664\u8be5\u5b9e\u4f8b\uff0c\u4f46\u4e0d\u80fd\u5728\u8be5\u5b9e\u4f8b\u4ecd\u5728\u4f7f\u7528\u8be5\u5377\u65f6\u5c06\u5176\u5220\u9664\u3002\n\u4e00\u65e6\u6536\u96c6\u5668\u5b8c\u6210\uff0cCloudKeeper\u5c06\u83b7\u53d6\u6536\u96c6\u5668\u63d2\u4ef6\u7684\u56fe\u5f62\u5e76\u5c06\u5176\u4e0e\u81ea\u5df1\u7684\u56fe\u5f62\u5408\u5e76\u3002\u8fd9\u6837\uff0c\u6bcf\u4e2a\u63d2\u4ef6\u90fd\u53ef\u4ee5\u5728\u5176\u81ea\u5df1\u7684\u56fe\u5f62\u4e0a\u72ec\u7acb\u64cd\u4f5c\uff0c\u800c\u4e0d\u4f1a\u51fa\u73b0\u4efb\u4f55\u5e76\u53d1\u95ee\u9898\u3002\u63d2\u4ef6\u672c\u8eab\u4e5f\u53ef\u4ee5\u4f7f\u7528\u76f8\u540c\u7684\u6a21\u5f0f\u3002\u4f8b\u5982\uff0c\u5982\u679c\u63d2\u4ef6\u60f3\u8981\u5e76\u884c\u6536\u96c6\u591a\u4e2a\u5e10\u6237\u548c/\u6216\u591a\u4e2a\u533a\u57df\uff0c\u5b83\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u5e10\u6237\u548c\u533a\u57df\u521b\u5efa\u4e00\u4e2a\u56fe\u8868\uff0c\u5e76\u5728\u6536\u96c6\u5230\u533a\u57df\u65f6\u5c06\u5176\u5408\u5e76\u3002\n\u6301\u4e45\u63d2\u4ef6\u5728\u542f\u52a8\u65f6\u8fd0\u884c\uff0c\u53ef\u4ee5\u6ce8\u518c\u4e00\u4e2a\u6216\u591a\u4e2a\u4e8b\u4ef6\u3002\u8fd9\u6837\uff0c\u63d2\u4ef6\u53ef\u4ee5\u5728\u4f8b\u5982\u6e05\u7406\u5373\u5c06\u5f00\u59cb\u65f6\u88ab\u901a\u77e5\uff0c\u4f5c\u4e3a\u4e8b\u4ef6\u7684\u4e00\u90e8\u5206\uff0c\u5b83\u5c06\u88ab\u9012\u7ed9\u5bf9\u5f53\u524d\u5b9e\u51b5\u56fe\u7684\u5f15\u7528\u3002\u7136\u540e\uff0c\u5b83\u53ef\u4ee5\u67e5\u770b\u8be5\u56fe\u4e2d\u7684\u8d44\u6e90\u3001\u641c\u7d22\u5b83\u4eec\u3001\u8fc7\u6ee4\u5b83\u4eec\u3001\u67e5\u770b\u5b83\u4eec\u7684\u5c5e\u6027\u7b49\uff0c\u5e76\u6267\u884c\u4fdd\u62a4\u8d44\u6e90\u4e0d\u88ab\u5220\u9664\u6216\u6807\u8bb0\u8981\u5220\u9664\u7684\u8d44\u6e90\u7b49\u64cd\u4f5c\u3002\u5b83\u8fd8\u53ef\u4ee5\u5411\u53d1\u51fa\u8fd0\u884c\u7ed3\u675f\u4fe1\u53f7\u7684\u4e8b\u4ef6\u6ce8\u518c\uff0c\u5e76\u67e5\u770b\u54ea\u4e9b\u8d44\u6e90\u5df2\u88ab\u6e05\u7406\uff0c\u4ee5\u751f\u6210\u53ef\u901a\u8fc7\u7535\u5b50\u90ae\u4ef6\u53d1\u9001\u7684\u62a5\u544a\uff0c\u6216\u901a\u77e5Slake\u4e0a\u7684\u8d44\u6e90\u6240\u6709\u8005\u5176\u8d44\u6e90\u5df2\u88ab\u6e05\u7406\u3002\nEventType\uff1a\u6570\u636e\u542f\u52a8\uff1a\u65e0START_COLLECT\uff1aNONE PROCESS_BEGIN\uff1acloudkeeper.raph.Graph Collect_Begin\uff1acloudkeeper.raph.Graph Generate_Metrics\uff1acloudkeeper.raph.Graph Collect_Finish\uff1acloudkeeper.raph.Graph Cleanup_plan\uff1acloudkeeper.raph.Graph Cleanup_Begin\uff1acloudkeeper.raph.Graph Cleanup_Finish\uff1acloudkeeper.raph.Graph Process_Finish\uff1acloudkeeper.graph\u3002\n\u5982\u679c\u63d2\u4ef6\u5e0c\u671bCloudKeeper\u5728\u4e0d\u7b49\u5f85--interval\u79d2\u7684\u60c5\u51b5\u4e0b\u5f00\u59cb\u5176\u6536\u96c6\u8fd0\u884c\uff0c\u90a3\u4e48\u5b83\u53ef\u4ee5\u8c03\u5ea6start_Collect\u3002PROCESS_BEGIN\u8868\u793a\u5faa\u73af\u5f00\u59cb\u3002\u5728\u8be5\u5faa\u73af\u8d44\u6e90\u6536\u96c6\u4e2d\uff0c\u6b63\u5728\u6267\u884c\u6307\u6807\u751f\u6210\u548c\u8d44\u6e90\u6e05\u7406\u3002GENERATE_METRICS\u662f\u63d2\u4ef6\u7684\u4fe1\u53f7\uff0c\u5b83\u5141\u8bb8\u63d2\u4ef6\u4fee\u6539\u73b0\u6709\u7684\u6307\u6807\u6216\u5411\u767b\u53f0\u56fe\u4e2d\u7684\u8d44\u6e90\u6dfb\u52a0\u65b0\u7684\u6307\u6807\u3002CLEANUP_PLAN\u662f\u901a\u5e38\u8c03\u7528\u6301\u4e45\u6e05\u7406\u63d2\u4ef6\u7684\u70b9\u3002\u5728\u8fd9\u91cc\uff0c\u4ed6\u4eec\u53ef\u4ee5\u67e5\u770b\u6240\u6709\u8d44\u6e90\u7684\u6807\u7b7e\u548c\u4f7f\u7528\u5e74\u9650\uff0c\u5e76\u51b3\u5b9a\u6e05\u7406\u54ea\u4e9b\u8d44\u6e90\u3002CLEANUP_BEGIN\u8868\u793a\u6e05\u7406\u8fc7\u7a0b\u5f00\u59cb\u3002\u8fd9\u4e2a\u94a9\u5b50\u5bf9\u4e8e\u60f3\u8981\u67e5\u770b\u6216\u4fee\u6539\u5148\u524d\u521b\u5efa\u7684\u6e05\u7406\u8ba1\u5212\u7684\u63d2\u4ef6\u5f88\u6709\u7528\u3002\u5f53\u7528\u6237\u5728CLI\u4e2d\u8f93\u5165Quit\u6216Ctrl+c\u6216\u63a5\u6536\u5230\u5173\u95ed\u4fe1\u53f7(int/term)\u65f6\uff0c\u5c06\u8c03\u5ea6\u5173\u95ed\u3002\u63d2\u4ef6\u4e5f\u53ef\u80fd\u5bfc\u81f4\u5173\u673a\uff0c\u5c3d\u7ba1\u6b64\u529f\u80fd\u5e94\u8be5\u8c28\u614e\u4f7f\u7528\u3002\u76ee\u524d\u53ea\u6709\u4e00\u4e2a\u63d2\u4ef6\u63d2\u4ef6/Snowflake_Protection/\u4f7f\u7528\u6b64\u4e8b\u4ef6\u3002\u5b83\u8d1f\u8d23\u96ea\u82b1\u4fdd\u62a4(\u4fdd\u62a4\u975e\u5e38\u7279\u6b8a\u7684\u8d44\u6e90\u4e0d\u88ab\u5220\u9664)\uff0c\u5982\u679c\u5b83\u4e0d\u80fd\u89e3\u6790\u5176\u914d\u7f6e\uff0c\u5b83\u5c06\u504f\u79bb\u7d27\u6025\u5173\u95ed\u4e8b\u4ef6\u7684\u8def\u5f84\u3002\u8fd9\u4f7f\u5f97CloudKeeper\u7acb\u5373\u7ec8\u6b62Python\u89e3\u91ca\u5668\uff0c\u4ee5\u786e\u4fdd\u4e0d\u4f1a\u610f\u5916\u5220\u9664\u4efb\u4f55\u53d7\u4fdd\u62a4\u7684\u8d44\u6e90\u3002\nCloudKeeper\u652f\u6301\u4f7f\u7528JOBS\u3001ADD_JOB\u548cREMOVE_JOB CLI\u547d\u4ee4\u6216\u5728\u63d0\u4f9b\u7ed9--Scheduler-config\u53c2\u6570\u7684crontab\u6837\u5f0f\u914d\u7f6e\u6587\u4ef6\u4e2d\u8ba1\u5212CLI\u547d\u4ee4\u3002\u8ba1\u5212\u7684CLI\u547d\u4ee4\u53ef\u4ee5\u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd\u7684\u4e8b\u4ef6\u540d\u79f0\u4f5c\u4e3a\u524d\u7f00\uff0c\u540e\u8ddf\u5192\u53f7\uff0c\u8fd9\u5c06\u4f7fCloudKeeper\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u70b9\u5173\u8054\u547d\u4ee4\uff0c\u4ee5\u4fbf\u5728\u4e0b\u6b21\u89e6\u53d1\u4e8b\u4ef6\u65f6\u8fd0\u884c\u4e00\u6b21\u3002\n119548413362 5**Sat CLEANUP_PLAN\uff1a\u5339\u914d\u5e10\u6237id=119548413362|\u5339\u914d\u8d44\u6e90\u7c7b\u578b~^(AWS_EC2_INSTANCE\\|AWS_ALB\\|AWS_ELB)$|\u5339\u914dctime&lt\uff1b@NOW@|CLEAN0 0*\u8ba1\u6570RESOURCE_TYPE|TEE/var/log/cloudkeeper/resource_count-@TODAY@.txt\u3002\n\u7b2c\u4e00\u884c\uff1a\u6bcf\u4e2a\u661f\u671f\u516d\u65e9\u4e0a5\u70b9\uff0c\u5b89\u6392\u4e00\u4e2a\u547d\u4ee4\u5728\u4e0b\u4e00\u6b21\u8c03\u5ea6CLEANUP_PLAN\u4e8b\u4ef6\u65f6\u8fd0\u884c\u3002\u8fd9\u4e2a\u7279\u5b9a\u7684\u547d\u4ee4\u5c06\u64e6\u9664ID\u4e3a119548413362\u7684\u5e10\u6237\u4e2d\u7684\u6240\u6709ec2\u5b9e\u4f8b\u548c\u8d1f\u8f7d\u5747\u8861\u5668\uff0c\u8fd9\u4e9b\u5b9e\u4f8b\u548c\u8d1f\u8f7d\u5747\u8861\u5668\u662f\u5728\u5f53\u5929\u51cc\u66685\u70b9\u4e4b\u524d\u521b\u5efa\u7684\u3002\n\u7b2c\u4e8c\u884c\uff1a\u6bcf\u5929\u5348\u591c\u6309\u8d44\u6e90\u7c7b\u578b\u8ba1\u7b97\u8d44\u6e90\u6570\u91cf\uff0c\u8bb0\u5f55\u8f93\u51fa\uff0c\u5e76\u5c06\u5176\u5199\u5165\u6587\u4ef6\u540d\u4e2d\u5305\u542b\u4eca\u5929\u65e5\u671f\u7684\u6587\u4ef6\u3002\n\u5982\u679c\u547d\u4ee4\u6ca1\u6709\u4ee5\u4e8b\u4ef6\u540d\u79f0\u4e3a\u524d\u7f00\uff0c\u5219\u4f1a\u7acb\u5373\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u70b9\u6267\u884c\u8be5\u547d\u4ee4\u3002\nCloudKeeper\u9644\u5e26\u4e00\u4e2a\u5185\u7f6e\u7684\u5f00\u53d1Web\u670d\u52a1\u5668(\u9ed8\u8ba4\u4e3a\u7aef\u53e38000)\u3002\u5b83\u7528\u4e8e\u5c11\u6570\u5185\u90e8\u8bf7\u6c42(\u5373\u4e0d\u516c\u5f00\u5b83)\uff0c\u5e76\u63d0\u4f9b\u8bb8\u591a\u7aef\u70b9\uff1a\n/Health#GET\u8fd4\u56de\u9759\u6001200 OK/metrics#GET Returns Prometheus Metrics/Collect#POST\u544a\u8bc9CloudKeeper\u6267\u884c\u6536\u96c6\u8fd0\u884c/Graph.gexf#GET\u8fd4\u56de\u5b9e\u65f6Graph\u7684GEXF\u8868\u793a/raph.raphml#GET\u8fd4\u56de\u5b9e\u65f6Graph\u7684GraphML\u8868\u793a/Graph.json#Get\u8fd4\u56de\u5b9e\u65f6Graph\u7684JSON\u8868\u793a/raph.txt#Get\u8fd4\u56de\u5b9e\u65f6Graph\u7684JSON\u8868\u793a/raph.txt#Get\u8fd4\u56de\u5b9e\u65f6Graph/Graph.txt\u7684JSON\u8868\u793a\u3002\n\u5176\u4e2d\u6700\u6709\u7528\u7684\u662f/metrics\u548c/graph\u3002\u5728\u6211\u4eec\u81ea\u5df1\u7684\u8bbe\u7f6e\u4e2d\uff0c\u6211\u4eec\u7684CloudKeeper\u5b9e\u4f8b\u524d\u9762\u6709\u4e00\u4e2a\u8eab\u4efd\u9a8c\u8bc1\u548cTLS\u4ee3\u7406\u3002\u7531\u4e8e\u4e00\u6b21\u6536\u96c6\u8fd0\u884c\u53ef\u80fd\u9700\u8981\u82b1\u8d39\u76f8\u5f53\u957f\u7684\u65f6\u95f4\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u9700\u8981\u6536\u96c6\u7684\u5e10\u6237\u6570\u91cf(\u5728\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\uff0c\u6536\u96c6\u548c\u6e05\u740640\u591a\u4e2aAWS\u5e10\u6237\u9700\u8981\u5927\u7ea6\u4e00\u4e2a\u5c0f\u65f6)\uff0c\u56e0\u6b64\u6211\u8fdb\u5165\u4e86\u4e00\u4e2a\u5f00\u53d1\u5de5\u4f5c\u6d41\u7a0b\uff0c\u6211\u5c06\u5b9e\u65f6\u56fe\u8868\u4e0b\u8f7d\u5230\u672c\u5730\u7cfb\u7edf\uff0c\u7136\u540e\u5904\u7406\u8be5\u672c\u5730\u526f\u672c\u3002\n$CloudKeeper--\u6536\u96c6\u5668\u8fdc\u7a0b--\u8fdc\u7a0b\u7aef\u70b9https://somelogin:somepassword@cloudkeeper.example.com/graphor$curl-o\u56fehttps://somelogin:somepassword@cloudkeeper.example.com/graph$CloudKeeper--\u6536\u96c6\u5668\u8fdc\u7a0b--\u8fdc\u7a0b\u7aef\u70b9file://graph\u3002\n\u8fdc\u7a0b\u56fe\u5f62\u5c06\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u667a\u80fd\u5730\u5408\u5e76\u5230\u672c\u5730\u56fe\u5f62\u4e2d\u3002\u60a8\u53ef\u4ee5\u521b\u5efa\u4efb\u610f\u6df1\u5ea6\u7684CloudKeeper\u5b9e\u4f8b\u94fe\uff0c\u6536\u96c6\u548c\u5408\u5e76\u5e10\u6237\u3002\n.", "note_en": "Cloudkeeper is a standalone CLI tool that periodically collects a list of resources in cloud accounts, provides metrics about them, and can clean them up.\n Resource collection is performed in intervals ( --interval) for each activated collector plugin ( --collector).When resource collection is finished a resource cleanup can be performed ( --cleanup). By default nothing will be cleaned!Cleanup plugins have to be installed and configured, or resources manually flagged for cleanup using the built-in CLI.Read more about collector and cleanup plugins in the  Plugins section below.\n  Cloudkeeper was made for people responsible for their organizations Cloud Accounts usage and spending, who are comfortable with the Linux shell. It is assumed that users want to create their own Plugins fitting the needs of their particular use case and organization. It can however be used without any programming experience just using the included CLI and Plugins.\n  $ docker run -it mesosphere/cloudkeeper --verbose \\ --cleanup --no-cli --one-shot --interval 0 \\ --collector aws \\ --aws-access-key-id AKIAIO5FODNN7EXAMPLE \\ --aws-secret-access-key &#39;ABCDEF+c2L7yXeGvUyrPgYsDnWRRC1AYEXAMPLE&#39; \\ --register-cli-action &#34; \\ cleanup_plan: \\ match resource_type = aws_ec2_volume \\ | match volume_status = available \\ | match age &gt; 7d \\ | match last_access &gt; 7d \\ | match last_update &gt; 7d \\ | clean&#34; \\ --cleanup-dry-run\n This will collect all known resources in all regions in the AWS account. Once the collection phase finishes and the cleanup phase begins it will run the registered CLI action. In this case it selects all AWS EBS Volumes that are not in use, older than 7 days, and have not had any read or write IOPS in the past week, and marks them for cleanup. In the next step cloudkeeper would delete all resources that have been marked for cleanup if it was not for the  --cleanup-dry-run flag.\n If you only want to collect specific regions, eg. us-east-1 and us-west-2 you could specify  --aws-region us-east-1 us-west-2.\n If you would like for cloudkeeper to do the same on an organization wide level, use credentials for your root account or instead of specifying them as CLI args export  AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY or  AWS_PROFILE. If you are running this inside EC2 you can also assign an instance profile and export  AWS_CONFIG_FILE. Then provide the  --aws-role and  --aws-scrape-org args so cloudkeeper will discover all your organization&#39;s AWS subaccounts and assume the role in them.\n Lastly the args  --cleanup --no-cli --one-shot --interval 0 turn on the cleanup code (as opposed to just collecting resources and generating metrics), turn off the built-in CLI, tell cloudkeeper to run one resource collection loop and then quit (instead of running forever) and set the loop interval to 0 seconds (instead of the default 1h) so that once the collection loop is done cloudkeeper quits immediately instead of waiting for the interval to be over.\n  Cloudkeeper was developed as an internal tool at D2iQ for collection and cleanup of the most costly AWS resources. We are open sourcing it in its current state because over the past couple of months it has been very helpful for us in drastically reducing our cloud spent and we thought that especially now during the Covid-19 pandemic it might be useful for others as well.\n As mentioned the main focus of Cloudkeeper right now is collecting and cleaning AWS resources because that is the Cloud we are spending the most on. However the infrastructure is there to implement other Cloud Collectors. There is an example one in  plugins/example_collector/ and two others,  plugins/onelogin/ and  plugins/slack/ that we are using for notification purposes.\n In addition Cloudkeeper can run distributed using the  remote plugin. One could for instance run one cloudkeeper per AWS account and then merge those individually collected resources in a central location. Or run one cloudkeeper for collection and another one for cleanup. The collection instance would only require reading access to your cloud accounts and the cleanup instance could retrieve the collected data from the collection instances and remove unused resources.\n There are also a number of cleanup plugins to be found in the  plugins/ folder. The Docker image by default contains all the plugins from that folder.\n In the  TODO section below you will find a list of the most immediate open tasks. Those include implementing more cloud providers, more resource types for the existing ones, writing better tests and more extensive Plugin documentation.\n  As a by-product of our resource collection we are able to export Prometheus metrics at the /metrics endpoint. The default listening port ( --web-port) is 8000. Custom metric labels based on resource tags can be defined using the  --tag-as-metrics-label arg. Example:  --tag-as-metrics-label project subproject would ensure that every metric has two additional labels based on the contents of a resources &#39;project&#39; and &#39;subproject&#39; tags resulting in metrics output like:\n  Because of the way metrics are collected resources currently only expose  Gauge metrics. A single resource can either increase or decrease the  Gauge. Within a plugin any type of metrics can be defined. Cloudkeeper itself is making heavy use of  Summary and  Counter metrics to benchmark its own performance.\n    $ git clone https://github.com/mesosphere/cloudkeeper.git$ cd cloudkeeper$ python3.8 -m venv venv$ source venv/bin/activate$ pip install --editable cloudkeeper/$ pip install --editable plugins/aws/ # one of the other plugins depends on aws$ find plugins/ -maxdepth 1 -mindepth 1 -type d -exec pip install --editable &#34;{}&#34; \\+\n  # $ is your shell# &gt; is the cloudkeeper shell# If you have the aws cli installed ($ pip install awscli) setup AWS CLI credentials so you are# logged into an account or alternatively provide --aws-access-key-id/--aws-secret-access-key# You can also export AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY env variables or define them in# ~/.aws/credentials and export AWS_PROFILE.$ aws configure$ cloudkeeper # Run cloudkeeper with defaults and wait for it to complete&gt; count resource_type # Count all collected resources by resource_type&gt; match resource_type = aws_ec2_instance # Lists all discovered EC2 Instances&gt; match resource_type = aws_ec2_instance | match age &gt; 30d # List all EC2 Instances that are older than 30 days&gt; match resource_type = aws_ec2_volume | count # Find all EC2 Volumes and count them&gt; match resource_type ~ ^aws_ | match tags[owner] ~ sre # List all AWS resources that have an &#39;owner&#39; tag containing &#39;sre&#39;&gt; backup /tmp/graph # Store a backup of the currently loaded graph to /tmp/graph# load the previously collected graph and activate the cleanup code in dry run mode$ cloudkeeper --collector remote --remote-endpoint file:///tmp/graph --cleanup --cleanup-dry-run&gt; match resource_type = aws_ec2_volume | head -10 # list the first ten EC2 volumes&gt; match tags[owner] ~ sre | count resource_type # find all resources where tag &#39;owner&#39; contains &#39;sre&#39; and count them by resource_type# Count by account.name all AWS EC2 Instances, ALBs and ELBs that do not have an &#39;owner&#39; tag&gt; match resource_type ~ ^(aws_[ae]lb\\|aws_ec2_instance)$ | has not tags[owner] | count account.name&gt; match resource_type = aws_elb | head -1 | dump # find the first Elastic Loadbalancer (Classic) and dump the object&gt; match name = sometestinstance | successors # find a resource with name &#39;sometestinstance&#39; and list its child resources&gt; match name = sometestinstance | predecessors # find a resource with name &#39;sometestinstance&#39; and list its parent resources\n  Cloudkeeper comes with a simple CLI. Initially only used for debugging the internal data structures it can now also be used to perform simple searches and mark resources for cleanup. Entering  help will give a list of all commands.  help &lt;command&gt; will provide additional help for that command.Commands can be piped into one another using &#34; |&#34;. Multiple commands can be run after one another using &#34; ;&#34;. If you need to use the pipe or semicolon characters in your commands make sure to escape them using a backslash &#34; \\&#34; character.Internally commands take in and output Iterables often consisting of the Cloud resources. Commands can match any attribute of those resources. So for instance if an AWS EBS volume has an attribute  volume_size then you could query all EBS volumes larger than 100GB using:  match resource_type = aws_ec2_volume | match volume_size &gt; 100.\n By default all resources have Unix like  ctime,  mtime,  atime attributes represented as Python datetime objects. From those attributes derived are  age,  last_update,  last_access. Right now most resources support the  ctime attribute, but fewer support  mtime and  atime. By default if a Cloud API does not return a modification time the value for  mtime and  atime is set to the current timestamp. The reasoning there is that those attributes are used to determine when a resource was last used. Typically I would want to clean up resources that have not been used in a long time not the most recent ones.\n When the CLI sees that an attribute is of a certain data type it tries to convert the input value to that type as to allow comparison operations.In the next example we will delete all unused EBS volumes larger than 100 GiB that were created before the 1st of Januar 2020 and have not been written to or read from in the past 7 days.\n &gt; match resource_type = aws_ec2_volume | match volume_size &gt; 100 | match volume_status = available | match ctime &lt; 2020-01-01 | match last_access &gt; 7d | match last_update &gt; 7d | clean&gt; cleanup\n  Now the CLI is useful for exploring collected data but if you have a repeating cleanup query it would be tedious to manually run it periodically. To that end Cloudkeeper supports an argument  --register-cli-action which takes a lowercased event name (see  Events below) followed by a colon : and the CLI command that should be executed when that event is dispatched.If we wanted to run our volume cleanup from earlier every time cloudkeeper has finished collecting resources, we could call it like so:\n $ cloudkeeper --collector aws --cleanup --register-cli-action &#34;cleanup_plan:match resource_type = aws_ec2_volume | match volume_size &gt; 100 | match volume_status = available | match ctime &lt; 2020-01-01 | match last_access &gt; 7d | match last_update &gt; 7d | clean&#34;\n As a side note, there is a plugin  plugins/cleanup_volumes/ that does just that. It was written before cloudkeeper had its own CLI.\n  Cloudkeeper is designed to clean up resources. As such act with caution when selecting and filtering resources for cleanup.  The default input to any CLI command is the list of all cloud resources. Meaning when you run  match resource_type = aws_ec2_volume it runs this match against all resources.This however also means if you run  delete --yes without any  match or other filter before it, cloudkeeper sequentially runs the delete against all cloud resources.  It is the equivalent of  rm -rf / for your cloud. An even more efficient destructive command is  clean; cleanup. In this case cloudkeeper would first mark all resources for cleaning, create a cleanup plan and then delete them in a very efficient and parallelized manner.\n When doing a resource cleanup selection for the first time it is good practice to confirm the list of selected resources for plausibility using something like  match clean = true | count or  match clean = true | count resource_type before issuing the  cleanup command.\n  Internally Cloudkeeper stores all resources inside a directed acyclic graph (DAG). Each node (resource) that is added to the graph must inherit  BaseResource. Dependencies within the graph are used to determine the order of resource cleanup. Meaning a resource likely can not be deleted if it has children (successors).During collection a new staging graph is created in parallel to the current live graph and its branches are being built up as collector plugins return their own local graphs. Once all collectors finish their work the old live graph is swapped with the staging graph making it the new live graph. This means that when querying metrics or performing CLI queries you&#39;re always working on a complete picture of all cloud resources.\n Using the endoints mentioned in  Distributed Instances this also gives you the ability to export the graph in various formats (GraphML, GEXF, JSON, etc.) and take a look at and explore your &#34;Cloud&#34;.\n  Cloudkeeper knows two types of Plugins, COLLECTOR and PERSISTENT. You can find example code for each type in  plugins/example_collector/ and  plugins/example_persistent/.COLLECTOR Plugins collect cloud resources and are being instanciated on each collect run. PERSISTENT plugins are instanciated once at startup and are mostly used for resource cleanup decissions or for notification (e.g. to send a Slack message to the owner of an instance that has just been deleted).\n  Each collector plugin has a local graph. A collector plugin implements resource collection for a cloud provider (e.g. AWS, GCP, Azure, Alicloud, etc.).During collection the plugin adds resources (e.g. instances, load balancers, volumes, users, etc.) to that graph. At the root of the plugin&#39;s graph is the cloud itself (e.g. &#39;aws&#39;). Below that one would add one or more accounts. Below accounts Cloudkeeper expects to find regions. And within regions the plugin would add any resources as it sees fit.The plugin can create directed edges (connections) between resources to mark a dependency. When we are talking about dependencies we are always talking about deletion dependencies not logical ones. This means that a resource that has children can not be deleted without its children being deleted first.This sounds logical but can be rather unintuitive. For example an AWS EC2 instance would be the child of a EBS volume and not the other way around, because you can delete the instance without deleting the volume, but you can not delete the volume while it is still in use by the instance.\n Once the collector finishes Cloudkeeper will take the collector plugin&#39;s graph and merge it with its own graph. In that way each plugin can independently operate on its own graph without any concurrency issues. The same pattern can be used within the plugin itself. For instance if the plugin wants to collect multiple accounts and/or multiple regions in parallel it can create a graph per account and region and merge those whenever a region has been collected.\n  Persistent plugins run on startup and can register with one or more events. This way a plugin can be notified when e.g. cleanup is about to begin.As part of the event it would be handed a reference to the current live graph. It could then look at the resources in that graph, search for them, filter them, look at their attributes, etc. and perform actions like protecting a resource from deletion or flagging a resource for deletion.It could also register with the event that signals the end of a run and look at which resources have been cleaned up to generate a report that could be emailed or notify resource owners on Slack that their resources have been cleaned.\n    EventType: Data STARTUP: None START_COLLECT: None PROCESS_BEGIN: cloudkeeper.graph.Graph COLLECT_BEGIN: cloudkeeper.graph.Graph GENERATE_METRICS: cloudkeeper.graph.Graph COLLECT_FINISH: cloudkeeper.graph.Graph CLEANUP_PLAN: cloudkeeper.graph.Graph CLEANUP_BEGIN: cloudkeeper.graph.Graph CLEANUP_FINISH: cloudkeeper.graph.Graph PROCESS_FINISH: cloudkeeper.graph.Graph SHUTDOWN: {&#39;reason&#39;: &#39;reason for shutdown&#39;, &#39;emergency&#39;: True/False}\n A plugin can dispatch  START_COLLECT if it wants Cloudkeeper to start its collect run without waiting for  --interval seconds to pass.  PROCESS_BEGIN signals the start of a loop. Within that loop resource collection, metrics generation and resource cleanup are being performed.  GENERATE_METRICS is a signal for plugins that allows them to modify existing or add new metrics to the resources in the staging graph.  CLEANUP_PLAN is the point that persistent cleanup plugins would usually be called. Here they can look at the tags and age of all resources and decide which ones to clean.  CLEANUP_BEGIN signals the start of the cleanup process. This hook is useful for plugins that want to look at or modify the cleanup plan that was previously created.  SHUTDOWN is being dispatched when the user enters  quit or Ctrl+c in the CLI or a signal (INT/TERM) to shutdown is received. Plugins can also cause a shutdown although this function should be used sparingly. Right now there is only a single plugin  plugins/snowflake_protection/ that makes use of this event. It is responsible for snowflake protection (protecting very special resources from deletion) and if it can not parse its config it will dispath an emergency SHUTDOWN event. This makes Cloudkeeper instantly kill the Python interpreter to ensure that no protected resources accidentally get deleted.\n  Cloudkeeper supports scheduling of CLI commands either using the  jobs,  add_job and  remove_job CLI commands or in a crontab style config file supplied to the  --scheduler-config arg. A scheduled CLI command can be prefixed with an event name in lowercase letters followed by a colon which will make Cloudkeeper associate the command at the specified point in time to run once when the event is next triggered.\n  0 5 * * sat cleanup_plan:match account.id = 119548413362 | match resource_type ~ ^(aws_ec2_instance\\|aws_alb\\|aws_elb)$ | match ctime &lt; @NOW@ | clean0 0 * * * count resource_type | tee /var/log/cloudkeeper/resource_count-@TODAY@.txt\n First line: every Saturday at 5am schedule a command to run the next time a CLEANUP_PLAN event is dispatched. This particular command would wipe all EC2 instances and load balancers in an account with ID 119548413362 that were created before 5am that day.\n Second line: every day at midnight count the number of resources by resource type, log the output and also write it to a file with today&#39;s date in the filename.\n When a command is not prefixed with an event name it is executed at the specified point in time immediately.\n  Cloudkeeper comes with a built-in development webserver (defaults to Port 8000). It is meant for few internal requests (i.e. do not expose it publicly) and provides a number of endpoints:\n /health # GET Returns a static 200 ok /metrics # GET Returns Prometheus Metrics /collect # POST Tells Cloudkeeper to do a collect run /graph # GET Returns a pickled representation of the live Graph /graph.gexf # GET Returns a GEXF representation of the live Graph /graph.graphml # GET Returns a GraphML representation of the live Graph /graph.json # GET Returns a JSON representation of the live Graph /graph.txt # GET Returns a Text representation of the live Graph\n The most useful of those will be  /metrics and  /graph. In our own setup we have an authentication and TLS proxy in front of our Cloudkeeper instances.Because a single collect run can take quite a while depending on the number of accounts that need to be scraped (in our case 40+ AWS accounts take about an hour to collect and clean) I have gotten to a development workflow where I download the live graph to my local system and then work on that local copy.\n $ cloudkeeper --collector remote --remote-endpoint https://somelogin:somepassword@cloudkeeper.example.com/graphor$ curl -o graph https://somelogin:somepassword@cloudkeeper.example.com/graph$ cloudkeeper --collector remote --remote-endpoint file://graph\n The remote graph will be somewhat intelligently merged into the local graph. You can create arbitrarily deep chains of Cloudkeeper instances collecting and merging accoun\n......", "posttime": "2020-08-13 10:27:10", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u5185\u52a1,housekeeping,\u8d44\u6e90", "title": "\u4e91\u7ba1\u7406\u5458\uff1a\u4e91\u7684\u5185\u52a1\u7ba1\u7406", "title_en": "Cloudkeeper: Housekeeping for Clouds", "transed": 1, "url": "https://github.com/mesosphere/cloudkeeper", "via": "", "real_tags": ["\u5185\u52a1", "\u8d44\u6e90"]}, {"category": "", "categoryclass": "", "imagename": "0f54d9ee0b119dd7449050b7445053fb.png", "infoid": 1017870, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u7ef4\u751f\u7d20D\u662f\u4e00\u4ef6\u5927\u4e8b\u3002\u6700\u8fd1\u7684\u7814\u7a76\u8868\u660e\uff0c\u7ef4\u751f\u7d20D\u6c34\u5e73\u4f4e\u7684\u60a3\u8005\u6bd4\u7ef4\u751f\u7d20D\u542b\u91cf\u9ad8\u7684\u60a3\u8005\u66f4\u6709\u53ef\u80fd\u6b7b\u4e8e\u65b0\u51a0\u80ba\u708e\uff0c(1)\u5728\u7f8e\u56fd\uff0c\u7ef4\u751f\u7d20\u7f3a\u4e4f\u4e0e\u5341\u5927\u6b7b\u4ea1\u539f\u56e0\u4e2d\u7684\u4e03\u4e2a\u6709\u5173\u3002(2)\u4ec5\u8fd9\u4e9b\u4e8b\u5b9e\u5c31\u8db3\u4ee5\u4fc3\u4f7f\u8bb8\u591a\u4eba\u5f00\u59cb\u8865\u5145\u7ef4\u751f\u7d20\u3002\u6211\u7684\u75c5\u4eba\u7ecf\u5e38\u95ee\u6211\u7684\u4e00\u4e2a\u95ee\u9898\u662f\uff1a\u6211\u5e94\u8be5\u670d\u7528\u591a\u5c11\u7ef4\u751f\u7d20D\uff1f\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u95ee\u9898\uff0c\u4f46\u6709\u5f88\u591a\u5047\u8bbe\u3002\u5728\u4f60\u4e3a\u4f60\u548c\u4f60\u7684\u5bb6\u4eba\u8ba2\u8d2d\u7ef4\u751f\u7d20D\u4e4b\u524d\uff0c\u8ba9\u6211\u4eec\u56de\u987e\u4e00\u4e0b\u6570\u636e\u3002\n\u9996\u5148\uff0c\u4e3a\u4ec0\u4e48\u6211\u5bf9\u7ef4\u751f\u7d20D\u611f\u5174\u8da3\uff1a\u6211\u662f\u4e00\u540d\u7532\u72b6\u65c1\u817a\u5916\u79d1\u533b\u751f\uff0c\u6211\u5bc6\u5207\u8ddf\u8e2a\u6211\u7684\u75c5\u4eba\u4f53\u5185\u7684\u7ef4\u751f\u7d20\u3002\u4f5c\u4e3a\u80cc\u666f\uff0c\u7532\u72b6\u65c1\u817a\u662f\u9888\u90e8\u8c03\u8282\u8840\u9499\u6c34\u5e73\u7684\u5fae\u5c0f\u5185\u5206\u6ccc\u5668\u5b98\u3002\u5b83\u4eec\u90e8\u5206\u662f\u901a\u8fc7\u6fc0\u6d3b\u7ef4\u751f\u7d20D\u6765\u505a\u5230\u8fd9\u4e00\u70b9\u7684\uff0c\u7ef4\u751f\u7d20D\u6709\u52a9\u4e8e\u80a0\u9053\u5438\u6536\u9499\u3002\u5982\u679c\u6ca1\u6709\u7ef4\u751f\u7d20D\uff0c\u5373\u4f7f\u4f60\u5728\u670d\u7528\u9499\u8865\u5145\u5242\uff0c\u4f60\u4e5f\u5f88\u96be\u83b7\u5f97\u8db3\u591f\u7684\u9499\u3002\u4f60\u7684\u9aa8\u9abc\u9700\u8981\u9499\uff0c\u6240\u4ee5\u4e25\u91cd\u7f3a\u4e4f\u7ef4\u751f\u7d20D\u4f1a\u5bfc\u81f4\u513f\u7ae5\u9aa8\u9abc\u7578\u5f62(\u4f5d\u507b\u75c5)\u548c\u6210\u4eba\u9aa8\u8d28\u4e22\u5931(\u9aa8\u8f6f\u5316\u75c7)\u3002\n\u6b63\u5e38\u7684\u513f\u7ae5\u80a1\u9aa8\u4e0e\u4f5d\u507b\u75c5\u513f\u7ae5\u7684\u80a1\u9aa8\u76f8\u6bd4\u3002\u4f5d\u507b\u75c5\u662f\u7531\u9aa8\u9abc\u751f\u957f\u8fc7\u7a0b\u4e2d\u4e25\u91cd\u7684\u7ef4\u751f\u7d20D\u7f3a\u4e4f\u5f15\u8d77\u7684\u3002\u8fd9\u79cd\u60c5\u51b5\u73b0\u5728\u5728\u7f8e\u56fd\u975e\u5e38\u7f55\u89c1\uff0c\u56e0\u4e3a\u51e0\u4e4e\u6240\u6709\u7684\u725b\u5976\u90fd\u6dfb\u52a0\u4e86\u7ef4\u751f\u7d20D\u3002*\u3002\n\u7532\u72b6\u65c1\u817a\u6fc0\u7d20\u3001\u9499\u548c\u7ef4\u751f\u7d20D\u4e4b\u95f4\u7684\u5173\u7cfb\u662f\u590d\u6742\u800c\u6709\u8da3\u7684(\u81f3\u5c11\u5bf9\u7532\u72b6\u65c1\u817a\u5916\u79d1\u533b\u751f\u6765\u8bf4\u662f\u5982\u6b64)\uff0c\u4f46\u7ef4\u751f\u7d20\u4f3c\u4e4e\u4e0d\u4ec5\u4ec5\u5f71\u54cd\u9499\u3002\u6211\u4eec\u4ecd\u5728\u5f04\u6e05\u695a\u5b83\u7684\u5168\u90e8\u529f\u80fd\uff0c\u4f46\u6211\u4eec\u6709\u4e00\u4e9b\u5173\u4e8e\u5b83\u7684\u4f5c\u7528\u7684\u95f4\u63a5\u8bc1\u636e\u3002\u7ef4\u751f\u7d20D\u6c34\u5e73\u4f4e\u4e0e\u591a\u79cd\u75be\u75c5\u6709\u5173\uff0c\u5305\u62ec\u764c\u75c7\u3001\u9ad8\u8840\u538b\u3001\u7cd6\u5c3f\u75c5\u3001\u80a5\u80d6\u3001\u5fc3\u529b\u8870\u7aed\u3001\u4e2d\u98ce\u3001\u75f4\u5446\u75c7\u3001\u81ea\u8eab\u514d\u75ab\u6027\u75be\u75c5\u548c\u547c\u5438\u9053\u611f\u67d3(\u5305\u62ec\u65b0\u51a0\u80ba\u708e)\u3002\u7b80\u5355\u5730\u641c\u7d22PubMed\u4e0a\u7684\u533b\u5b66\u6587\u732e\uff0c\u5c31\u4f1a\u5f97\u5230\u4e00\u9875\u53c8\u4e00\u9875\u5173\u4e8e\u7ef4\u751f\u7d20D\u7f3a\u4e4f\u5371\u5bb3\u7684\u6587\u7ae0\u3002\n\u5927\u591a\u6570\u7814\u7a76\u90fd\u9075\u5faa\u8fd9\u79cd\u6a21\u5f0f\uff1a\u5bf9\u4e24\u7ec4\u4eba\u8fdb\u884c\u8bc4\u4f30\u3002\u4e00\u7ec4\u4eba\u60a3\u6709\u67d0\u79cd\u75be\u75c5(\u4f8b\u5982\u7cd6\u5c3f\u75c5)\u3002\u53e6\u4e00\u7ec4\u6ca1\u6709\u8fd9\u79cd\u75c5\u3002\u4e24\u7ec4\u90fd\u6d4b\u91cf\u4e86\u7ef4\u751f\u7d20D\u6c34\u5e73\u3002\u7ef4\u751f\u7d20D\u7f3a\u4e4f\u75c7\u5728\u60a3\u75c5\u4eba\u7fa4\u4e2d\u66f4\u4e3a\u5e38\u89c1\u3002\n\u91c7\u7528\u8fd9\u79cd\u7814\u7a76\u65b9\u6cd5\uff0c\u7ef4\u751f\u7d20D\u7f3a\u4e4f\u4e0e\u8bb8\u591a\u75be\u75c5\u76f8\u5173\u3002\u4f46\u662f\u76f8\u5173\u6027\u5e76\u4e0d\u7b49\u4e8e\u56e0\u679c\u5173\u7cfb\u3002\u4e24\u4ef6\u4e8b\u662f\u76f8\u5173\u7684\u8fd9\u4e00\u4e8b\u5b9e\u5e76\u4e0d\u610f\u5473\u7740\u4e00\u4ef6\u4e8b\u5bfc\u81f4\u4e86\u53e6\u4e00\u4ef6\u4e8b\u3002\u5173\u4e8e\u7ef4\u751f\u7d20\u548c\u7cd6\u5c3f\u75c5\uff0c\u53ef\u80fd\u662f\u7cd6\u5c3f\u75c5\u5bfc\u81f4\u4f4e\u7ef4\u751f\u7d20D\uff0c\u4e5f\u53ef\u80fd\u662f\u5176\u4ed6\u5065\u5eb7\u72b6\u51b5\u5bfc\u81f4\u4f4e\u7ef4\u751f\u7d20D\u548c\u7cd6\u5c3f\u75c5\u3002\u4f8b\u5982\uff0c\u80a5\u80d6\u662f\u7cd6\u5c3f\u75c5\u7684\u5df2\u77e5\u98ce\u9669\u56e0\u7d20\uff0c\u800c\u80a5\u80d6\u7684\u4eba\u4e5f\u5f80\u5f80\u7ef4\u751f\u7d20D\u6c34\u5e73\u8f83\u4f4e\uff0c\u8fd9\u4e3b\u8981\u662f\u7531\u4e8e\u5927\u91cf\u8102\u80aa\u7ec4\u7ec7\u4e2d\u7684\u8102\u6eb6\u6027\u7ef4\u751f\u7d20\u88ab\u7a00\u91ca\u3002\u7ef4\u751f\u7d20D\u548c\u7cd6\u5c3f\u75c5\u4e4b\u95f4\u7684\u5bc6\u5207\u8054\u7cfb\u53ef\u80fd\u4ec5\u4ec5\u662f\u56e0\u4e3a\u5b83\u4eec\u90fd\u4e0e\u80a5\u80d6\u6709\u5171\u540c\u7684\u8054\u7cfb\u3002\n\u8fd9\u91cc\u8fd8\u6709\u53e6\u4e00\u4e2a\u4f8b\u5b50\uff1a\u65e9\u671f\u5bf9\u547c\u5438\u9053\u611f\u67d3\u548c\u7ef4\u751f\u7d20D\u7684\u5174\u8da3\u6e90\u4e8e\u5bf9\u4f4f\u9662\u513f\u7ae5\u7684\u7814\u7a76\u3002\u4e0e\u5176\u4ed6\u539f\u56e0\u4f4f\u9662\u7684\u513f\u7ae5\u76f8\u6bd4\uff0c\u56e0\u547c\u5438\u9053\u611f\u67d3\u4f4f\u9662\u7684\u5e7c\u513f\u4f5d\u507b\u75c5\u7684\u53d1\u75c5\u7387\u8981\u9ad8\u5f97\u591a\u3002(3)\u4f5d\u507b\u75c5\u5f53\u7136\u662f\u7531\u7ef4\u751f\u7d20D\u7f3a\u4e4f\u5f15\u8d77\u7684\u3002\u5982\u679c\u7ef4\u751f\u7d20D\u7f3a\u4e4f\u4e5f\u4f1a\u5bfc\u81f4\u514d\u75ab\u529f\u80fd\u969c\u788d\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u60f3\u51fa\u4e00\u4e2a\u89e3\u91ca\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u4e9b\u5b69\u5b50\u7ef4\u751f\u7d20D\u542b\u91cf\u4f4e\u4f1a\u4f7f\u4ed6\u4eec\u66f4\u5bb9\u6613\u53d7\u5230\u611f\u67d3\u3002\u4f46\u8fd8\u6709\u5176\u4ed6\u89e3\u91ca\u3002\u4e0e\u975e\u7f3a\u4e4f\u7ef4\u751f\u7d20\u7684\u513f\u7ae5\u76f8\u6bd4\uff0c\u4e25\u91cd\u7f3a\u4e4f\u7ef4\u751f\u7d20\u7684\u513f\u7ae5\u603b\u4f53\u5065\u5eb7\u72b6\u51b5\u53ef\u80fd\u8f83\u5dee\u3002\u6b64\u5916\uff0c\u4f5d\u507b\u75c5\u8fd8\u4f1a\u5bfc\u81f4\u808b\u9aa8\u7578\u5f62\uff0c\u4f17\u6240\u5468\u77e5\uff0c\u808b\u9aa8\u7578\u5f62\u4f1a\u4f7f\u54b3\u55fd\u548c\u6df1\u547c\u5438\u53d8\u5f97\u66f4\u52a0\u56f0\u96be\uff0c\u4ece\u800c\u589e\u52a0\u547c\u5438\u9053\u611f\u67d3\u7684\u98ce\u9669\u3002\u7ef4\u751f\u7d20D\u672c\u8eab\u5e76\u4e0d\u662f\u89e3\u91ca\u8fd9\u4e9b\u513f\u7ae5\u611f\u67d3\u7684\u5fc5\u8981\u6761\u4ef6\u3002\n\u5927\u591a\u6570\u7814\u7a76\u4eba\u5458\u7406\u89e3\u76f8\u5173\u6027\u4e0d\u7b49\u4e8e\u56e0\u679c\u5173\u7cfb\u3002\u8fd9\u65b9\u9762\u7684\u7ecf\u5178\u4f8b\u5b50\u6d89\u53ca\u51b0\u6fc0\u51cc\u548c\u66b4\u529b\u72af\u7f6a\u4e4b\u95f4\u7684\u5173\u8054\u3002\u968f\u7740\u51b0\u6dc7\u6dcb\u6d88\u8d39\u7684\u589e\u52a0\uff0c\u66b4\u529b\u72af\u7f6a\u7387\u4e5f\u968f\u4e4b\u4e0a\u5347\u3002\u8fd9\u79cd\u8054\u7cfb\u5f88\u5f3a\u70c8\uff0c\u4f46\u4e5f\u4ee4\u4eba\u8d39\u89e3\uff0c\u76f4\u5230\u4f60\u8bb0\u4f4f\uff0c\u5728\u6e29\u6696\u7684\u6708\u4efd\u5356\u51fa\u66f4\u591a\u7684\u51b0\u6dc7\u6dcb\uff0c\u8fd9\u4e5f\u662f\u66b4\u529b\u72af\u7f6a\u7387\u4e0a\u5347\u7684\u65f6\u5019\u3002\u51b0\u6fc0\u51cc\u4e0e\u72af\u7f6a\u6ca1\u6709\u56e0\u679c\u5173\u7cfb\u3002\n\u4f46\u5c06\u76f8\u5173\u6027\u548c\u56e0\u679c\u7b49\u540c\u8d77\u6765\u7684\u8bf1\u60d1\u5f88\u5927\u3002\u8bb8\u591a\u663e\u793a\u4e0e\u7ef4\u751f\u7d20D\u76f8\u5173\u7684\u6587\u7ae0\u5c06\u6dfb\u52a0\u4e00\u4e2a\u672a\u7ecf\u6d4b\u8bd5\u4f46\u5b8c\u5168\u53ef\u4fe1\u7684\u751f\u7406\u5b66\u89e3\u91ca\uff0c\u8bf4\u660e\u7ef4\u751f\u7d20\u6c34\u5e73\u8fc7\u4f4e\u53ef\u80fd\u5bfc\u81f4\u8fd9\u79cd\u75be\u75c5\u3002\u6709\u4e86\u575a\u5b9e\u7684\u76f8\u5173\u6027\u548c\u5408\u7406\u7684\u56e0\u679c\u5173\u7cfb\u8bba\u636e\uff0c\u4ed6\u4eec\u53ef\u80fd\u4f1a\u8ba4\u4e3a\u56e0\u679c\u5173\u7cfb\u7684\u8bc1\u636e\u662f\u5f3a\u6709\u529b\u7684\uff0c\u8fd9\u662f\u6709\u9053\u7406\u7684\u3002\u4e00\u65e6\u4f60\u5b9e\u73b0\u4e86\u8fd9\u4e00\u98de\u8dc3\uff0c\u4f60\u51e0\u4e4e\u5c31\u6709\u4e49\u52a1\u5411\u4efb\u4f55\u53d7\u4f60\u611f\u5174\u8da3\u7684\u75be\u75c5\u5f71\u54cd\u6216\u62c5\u5fc3\u7684\u4eba\u63a8\u8350\u7ef4\u751f\u7d20D\u8865\u5145\u5242\u3002\n\u5047\u8bbe\u7ef4\u751f\u7d20D\u4e0e\u5404\u79cd\u75be\u75c5\u4e4b\u95f4\u7684\u5173\u8054\u662f\u51c6\u786e\u7684\uff0c\u90a3\u4e48\u8865\u5145\u7ef4\u751f\u7d20D\u7684\u8bba\u636e\u5c31\u53d6\u51b3\u4e8e\u751f\u7406\u673a\u5236\u7684\u53ef\u4fe1\u6027\u3002\u4e0e\u7f3a\u4e4f\u75c7\u76f8\u5173\u7684\u8bb8\u591a\u60c5\u51b5\u6d89\u53ca\u4e0d\u540c\u7684\u5668\u5b98\u548c\u8eab\u4f53\u7cfb\u7edf\u3002\u8981\u4e86\u89e3\u4e00\u79cd\u7ef4\u751f\u7d20\u662f\u5982\u4f55\u53c2\u4e0e\u8fd9\u4e48\u591a\u7684\uff0c\u4ee5\u53ca\u6211\u4eec\u662f\u5426\u53ef\u4ee5\u901a\u8fc7\u7ef4\u751f\u7d20D\u7684\u7f3a\u4e4f\u6765\u89e3\u91ca\u75be\u75c5\u72b6\u6001\uff0c\u5728\u5206\u5b50\u6c34\u5e73\u4e0a\u4e86\u89e3\u7ef4\u751f\u7d20D\u7684\u57fa\u672c\u529f\u80fd\u662f\u6709\u5e2e\u52a9\u7684\u3002\n\u7ef4\u751f\u7d20D\u662f\u4e00\u79cd\u4e0e\u7ef4\u751f\u7d20D\u53d7\u4f53\u7ed3\u5408\u7684\u8377\u5c14\u8499\uff0c\u7ef4\u751f\u7d20D\u53d7\u4f53\u662f\u4e00\u79cd\u7531\u5168\u8eab\u7ec6\u80de\u5236\u9020\u7684\u86cb\u767d\u8d28\u3002\u7ef4\u751f\u7d20\u7684\u4f5c\u7528\u5c31\u50cf\u4e00\u628a\u94a5\u5319\uff0c\u800c\u53d7\u4f53\u5219\u662f\u4e00\u628a\u9501\u3002\u94a5\u5319\u548c\u9501\u5355\u72ec\u4f7f\u7528\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff0c\u4f46\u662f\u7ec4\u5408\u5728\u4e00\u8d77\u5f88\u6709\u7528\u3002\u7ef4\u751f\u7d20D\u548c\u5b83\u7684\u53d7\u4f53\u5728\u7ed3\u5408\u4e4b\u524d\u662f\u4e0d\u6d3b\u8dc3\u7684\uff0c\u7136\u540e\u5b83\u4eec\u4e0eDNA\u76f8\u4e92\u4f5c\u7528\uff0c\u5728\u7ec6\u80de\u5185\u4ea7\u751f\u4e00\u5b9a\u7684\u4f5c\u7528\u3002\u6839\u636e\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u7684\uff0c\u5f88\u5bb9\u6613\u7406\u89e3\u4e3a\u4ec0\u4e48\u80a0\u3001\u7532\u72b6\u65c1\u817a\u548c\u9aa8\u9abc\u4f1a\u4ea7\u751f\u7ef4\u751f\u7d20D\u53d7\u4f53-\u8fd9\u4e9b\u5668\u5b98\u90fd\u53c2\u4e0e\u8c03\u8282\u9499\u6c34\u5e73\uff0c\u6211\u4eec\u77e5\u9053\u7ef4\u751f\u7d20D\u8c03\u8282\u9499\u4ee3\u8c22\u3002\u4f46\u8fd9\u4e9b\u5e76\u4e0d\u662f\u552f\u4e00\u6709\u53d7\u4f53\u7684\u5668\u5b98\u3002\u6211\u4eec\u968f\u5904\u53ef\u89c1\u8fd9\u4e9b\u53d7\u4f53\uff0c\u5728\u80be\u3001\u80ba\u3001\u80f0\u817a\u3001\u5b50\u5bab\u548c\u53c2\u4e0e\u514d\u75ab\u529f\u80fd\u7684\u8840\u7ec6\u80de\u4e2d\uff0c\u4ec5\u4e3e\u51e0\u4f8b\u3002\n\u6211\u4eec\u7684\u8eab\u4f53\u559c\u6b22\u8282\u7ea6\u8d44\u6e90\uff0c\u6240\u4ee5\u5982\u679c\u4e00\u4e2a\u5668\u5b98\u6216\u7ec6\u80de\u4f7f\u7528\u80fd\u91cf\u548c\u8d44\u6e90\u6765\u5236\u9020\u8fd9\u4e9b\u53d7\u4f53\uff0c\u6211\u4eec\u53ef\u4ee5\u5047\u8bbe\u5b83\u4eec\u4e5f\u5728\u4f7f\u7528\u5b83\u4eec\u3002\u8fd9\u662f\u7b2c\u4e00\u4e2a\u786e\u51ff\u7684\u8bc1\u636e\u8868\u660e\u7ef4\u751f\u7d20D\u53c2\u4e0e\u4e86\u591a\u4e2a\u5668\u5b98\u7684\u8bb8\u591a\u8fc7\u7a0b\u3002\u4e0b\u4e00\u4e2a\u76ee\u6807\u662f\u627e\u51fa\u5668\u5b98\u662f\u5982\u4f55\u5229\u7528\u7ef4\u751f\u7d20D\u7684\u3002\u6709\u591a\u79cd\u65b9\u6cd5\u53ef\u4ee5\u505a\u5230\u8fd9\u4e00\u70b9\u3002\u4e00\u79cd\u806a\u660e\u7684\u65b9\u6cd5\u6d89\u53ca\u5230\u4f7f\u7528\u88ab\u79f0\u4e3a\u201c\u57fa\u56e0\u6572\u9664\u5c0f\u9f20\u201d\u7684\u7a81\u53d8\u5c0f\u9f20\uff0c\u8fd9\u4e9b\u5c0f\u9f20\u5df2\u7ecf\u88ab\u57fa\u56e0\u6539\u9020\u4ee5\u4f7f\u7279\u5b9a\u57fa\u56e0\u5931\u6d3b\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7ef4\u751f\u7d20D\u53d7\u4f53\u7684\u57fa\u56e0\u88ab\u706d\u6d3b\uff0c\u4ece\u800c\u4ea7\u751f\u7ef4\u751f\u7d20D\u53d7\u4f53\u7f3a\u5931\u7684\u5c0f\u9f20\u3002\u5bf9\u8fd9\u4e9b\u52a8\u7269\u7684\u7814\u7a76\u63d0\u4f9b\u4e86\u6709\u5173\u7ef4\u751f\u7d20D\u7684\u91cd\u8981\u7ebf\u7d22\uff0c\u56e0\u4e3a\u6ca1\u6709\u9501\u6216\u53d7\u4f53\uff0c\u94a5\u5319\u5c31\u6ca1\u7528\u4e86\u3002\u6b63\u5982\u9884\u671f\u7684\u90a3\u6837\uff0c\u8fd9\u4e9b\u57fa\u56e0\u6572\u9664\u7684\u5c0f\u9f20\u5728\u9499\u5438\u6536\u65b9\u9762\u5b58\u5728\u95ee\u9898\uff0c\u6700\u663e\u8457\u7684\u5f71\u54cd\u662f\u9aa8\u9abc\u751f\u957f\u53d7\u963b\u3002(6)\u7ed9\u5c0f\u9f20\u5927\u91cf\u7684\u9499\u53ef\u4ee5\u7f13\u89e3\u8fd9\u79cd\u60c5\u51b5\uff0c\u8fd9\u662f\u6709\u9053\u7406\u7684\uff0c\u56e0\u4e3a\u5982\u679c\u6ca1\u6709\u7ef4\u751f\u7d20D\uff0c\u9499\u53ef\u80fd\u4f1a\u88ab\u5438\u6536\uff0c\u4f46\u66f4\u96be\u88ab\u5438\u6536\u3002\n\u57fa\u56e0\u6572\u9664\u5c0f\u9f20\u662f\u6307\u901a\u8fc7\u57fa\u56e0\u6539\u9020\u4f7f\u7279\u5b9a\u57fa\u56e0\u5931\u6d3b\u7684\u5c0f\u9f20\u3002VDR\u7f3a\u5931\u7684\u5c0f\u9f20\u662f\u4e0d\u4ea7\u751f\u7ef4\u751f\u7d20D\u53d7\u4f53\u7684\u57fa\u56e0\u6572\u9664\u5c0f\u9f20\u3002\n\u4f46\u662f\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u7ef4\u751f\u7d20D\u548c\u9499\u4e86\u3002\u90a3\u5176\u4ed6\u7684\u5f71\u54cd\u5462\uff1fVDR\u7f3a\u5931\u7684\u5c0f\u9f20\u5e94\u8be5\u6709\u52a9\u4e8e\u89e3\u91ca\u7ef4\u751f\u7d20D\u7684\u5176\u4ed6\u4f5c\u7528\uff0c\u6211\u4eec\u786e\u5b9e\u770b\u5230\u4e86\u4e00\u4e9b\u6709\u542f\u53d1\u6027\u7684\u53d8\u5316\uff1a\u8fd9\u4e9b\u7a81\u53d8\u5c0f\u9f20\u7684\u5e73\u5747\u8840\u538b\u6bd4\u6b63\u5e38\u5c0f\u9f20\u66f4\u9ad8\uff0c\u5fc3\u810f\u4e0a\u7f3a\u4e4f\u7279\u5f02\u6027\u53d7\u4f53\u7684\u5c0f\u9f20\u5fc3\u810f\u529f\u80fd\u4e0b\u964d\u3002\u7a81\u53d8\u5c0f\u9f20\u7684\u67d0\u4e9b\u514d\u75ab\u7ec6\u80de\u4f3c\u4e4e\u4e5f\u53d7\u5230\u4e86\u635f\u5bb3\u3002\n\u9075\u5faa\u8fd9\u51e0\u4e2a\u6b65\u9aa4\uff0c\u6211\u4eec\u53ef\u4ee5\u63d0\u51fa\u4e00\u4e2a\u5408\u7406\u7684\u89e3\u91ca\uff0c\u8bf4\u660e\u7ef4\u751f\u7d20D\u662f\u5982\u4f55\u5e2e\u52a9\u514d\u75ab\u7cfb\u7edf\u7684\uff0c\u56e0\u6b64\u7f3a\u4e4f\u7ef4\u751f\u7d20D\u4f1a\u5bfc\u81f4\u514d\u75ab\u529f\u80fd\u53d7\u635f\uff0c\u4ece\u800c\u589e\u52a0\u611f\u67d3\u7684\u6613\u611f\u6027\u3002\u542c\u8d77\u6765\u5f88\u5408\u7406\u3002\u4f46\u6211\u4eec\u6709\u51e0\u4e2a\u5047\u8bbe\uff1a1.\u6211\u4eec\u5047\u8bbe\u7ef4\u751f\u7d20D\u7f3a\u4e4f\u7c7b\u4f3c\u4e8e\u53d7\u4f53\u5b8c\u5168\u7f3a\u5931\u3002\u8fd9\u662f\u503c\u5f97\u6000\u7591\u7684\uff0c\u56e0\u4e3a\u5373\u4f7f\u662f\u4e25\u91cd\u7f3a\u4e4f\u7ef4\u751f\u7d20D\u7684\u4eba\u4ecd\u7136\u6709\u4e00\u5b9a\u6570\u91cf\u7684\u7ef4\u751f\u7d20D\u3002\u6211\u4eec\u8fd8\u5047\u8bbe\u53d7\u4f53\u5728\u8001\u9f20\u8eab\u4e0a\u7684\u4f5c\u7528\u4e0e\u5728\u4eba\u7c7b\u8eab\u4e0a\u5b8c\u5168\u76f8\u540c\u3002\u8001\u9f20\u548c\u4eba\u7c7b\u5728\u8fdb\u5316\u6811\u4e0a\u7684\u8ddd\u79bb\u76f8\u5bf9\u8f83\u8fd1(\u6bd4\u65b9\u8bf4\uff0c\u4e0e\u9999\u83c7\u76f8\u6bd4)\uff0c\u6240\u4ee5\u8fd9\u53ef\u80fd\u662f\u771f\u7684\uff0c\u4f46\u4e5f\u53ef\u80fd\u4e0d\u662f\u3002\n\u4e5f\u8bb8\u6211\u4eec\u9700\u8981\u56de\u5230\u4eba\u7c7b\u8eab\u4e0a\u3002\u6709\u8da3\u7684\u662f\uff0c\u5728\u4eba\u7c7b\u4e2d\u6709\u4e00\u79cd\u975e\u5e38\u7f55\u89c1\u7684\u60c5\u51b5\uff0c\u5176\u7279\u5f81\u662f\u7531\u4e8e\u57fa\u56e0\u7a81\u53d8\u800c\u5bfc\u81f4\u7ef4\u751f\u7d20D\u53d7\u4f53\u65e0\u6548\uff0c\u7c7b\u4f3c\u4e8eVDR\u7f3a\u5931\u7684\u5c0f\u9f20\u3002(7)\u50cf\u5c0f\u9f20\u4e00\u6837\uff0c\u5982\u679c\u4e0d\u6cbb\u7597\uff0c\u8fd9\u4e9b\u4eba\u5c06\u51fa\u73b0\u4e25\u91cd\u7684\u9aa8\u9abc\u5f02\u5e38\u751f\u957f\u3002\u4ece\u903b\u8f91\u4e0a\u8003\u8651\uff0c\u5e76\u5229\u7528\u6211\u4eec\u5bf9\u8001\u9f20\u53d7\u4f53\u7684\u4e86\u89e3\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u8ba4\u4e3a\u8fd9\u4e9b\u4e0d\u80fd\u6709\u6548\u5904\u7406\u7ef4\u751f\u7d20D\u7684\u4eba\u4f1a\u6709\u514d\u75ab\u529f\u80fd\u969c\u788d\uff0c\u4e5f\u8bb8\u8fd8\u6709\u5fc3\u810f\u95ee\u9898\u3002\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u6211\u4eec\u8fd8\u6ca1\u6709\u770b\u5230\u8fd9\u4e00\u70b9\u3002\u4ed6\u4eec\u4f3c\u4e4e\u6ca1\u6709\u589e\u52a0\u60a3\u764c\u75c7\u3001\u547c\u5438\u9053\u611f\u67d3\u3001\u7cd6\u5c3f\u75c5\u6216\u4efb\u4f55\u5176\u4ed6\u4e0e\u7ef4\u751f\u7d20D\u7f3a\u4e4f\u6709\u5173\u7684\u75be\u75c5\u7684\u98ce\u9669\u3002\u7136\u800c\uff0c\u8fd9\u79cd\u9057\u4f20\u7f3a\u9677\u662f\u6781\u5176\u7f55\u89c1\u7684\uff0c\u800c\u4e14\u6211\u4eec\u8fd8\u6ca1\u6709\u5b8c\u5168\u6062\u590d\u6b63\u5e38\u3002\n\u7814\u7a76\u6d3b\u4f53\u4e2d\u7684\u7ef4\u751f\u7d20D\u53d7\u4f53\u5e76\u4e0d\u662f\u8bc4\u4f30\u7ef4\u751f\u7d20D\u4f5c\u7528\u7684\u552f\u4e00\u9014\u5f84\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728\u5b9e\u9a8c\u5ba4\u5229\u7528\u8bd5\u7ba1\u6216\u57f9\u517b\u76bf\u4e2d\u7684\u6d3b\u7ec6\u80de\u6765\u7814\u7a76\u7ef4\u751f\u7d20D\u3002\u6211\u4eec\u5173\u4e8e\u7ef4\u751f\u7d20D\u548c\u514d\u75ab\u529b\u4e4b\u95f4\u8054\u7cfb\u7684\u5927\u90e8\u5206\u8bc1\u636e\u90fd\u6765\u81ea\u4e8e\u8fd9\u4e9b\u4f53\u5916\u7814\u7a76\u3002\u7ef4\u751f\u7d20D\u53d7\u4f53\u5728\u8bb8\u591a\u7c7b\u578b\u7684\u514d\u75ab\u7ec6\u80de\u4e2d\u90fd\u5f88\u5e38\u89c1\uff0c\u7ef4\u751f\u7d20D\u66b4\u9732\u4f1a\u5bfc\u81f4\u8fd9\u4e9b\u7ec6\u80de\u5185\u4e00\u7cfb\u5217\u6709\u5145\u5206\u8bb0\u5f55\u7684\u53d8\u5316\u3002(8)\u8fd9\u4e9b\u7814\u7a76\u4e3a\u7ef4\u751f\u7d20D\u5728\u514d\u75ab\u4e2d\u7684\u4f5c\u7528\u63d0\u4f9b\u4e86\u6700\u597d\u7684\u8bc1\u636e\uff0c\u8fd9\u53ef\u4ee5\u89e3\u91ca\u5b83\u5728\u81ea\u8eab\u514d\u75ab\u6027\u75be\u75c5\u548c\u611f\u67d3\u4e2d\u7684\u4f5c\u7528\u3002\n\u4f53\u5916\u7814\u7a76\u5fc5\u7136\u662f\u4eba\u4e3a\u7684\u548c\u4eba\u5de5\u7684\uff0c\u8fd9\u5bf9\u4e8e\u5206\u79bb\u548c\u91cf\u5316\u4e00\u79cd\u523a\u6fc0\u7684\u6548\u679c\u662f\u5f88\u597d\u7684\uff0c\u4f46\u8fd9\u5e76\u4e0d\u603b\u662f\u9002\u7528\u4e8e\u6d3b\u4f53\u7ec6\u80de\u3002\u5728\u6d3b\u7684\u6709\u673a\u4f53\u5185\uff0c\u7ec6\u80de\u5e76\u4e0d\u5c40\u9650\u4e8e\u4e00\u6b21\u53ea\u80fd\u4e0e\u4e00\u4e2a\u5206\u5b50\u76f8\u4e92\u4f5c\u7528\u3002\u6709\u8bb8\u591a\u76f8\u4e92\u4f5c\u7528\u540c\u65f6\u8fdb\u884c\uff0c\u51b2\u6de1\u6216\u9690\u85cf\u7ef4\u751f\u7d20D\u7684\u6548\u679c\u3002\u8fd9\u4e9b\u5176\u4ed6\u76f8\u4e92\u4f5c\u7528\u53ef\u80fd\u4f1a\u6f5c\u5728\u5730\u6291\u5236\u6216\u589e\u5f3a\u7ef4\u751f\u7d20\u7684\u6548\u679c\uff0c\u4f46\u91cf\u5316\u8d77\u6765\u4f1a\u56f0\u96be\u5f97\u591a\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u5bf9\u7ef4\u751f\u7d20D\u548c\u5404\u79cd\u7ec6\u80de\u57f9\u517b\u7684\u4f53\u5916\u7814\u7a76\u63d0\u4f9b\u4e86\u5f3a\u6709\u529b\u7684\u8bc1\u636e\uff0c\u8bc1\u660e\u7ef4\u751f\u7d20D\u81f3\u5c11\u80fd\u591f\u8bf1\u5bfc\u67d0\u4e9b\u7ec6\u80de\u7684\u6d3b\u52a8\u53d1\u751f\u91cd\u5927\u53d8\u5316\u3002\n\u4e0d\u5e78\u7684\u662f\uff0c\u5bf9\u4e8e\u7ef4\u751f\u7d20D\u7f3a\u4e4f\u5982\u4f55\u5bfc\u81f4\u4e0e\u4e4b\u76f8\u5173\u7684\u4e00\u7cfb\u5217\u75be\u75c5\uff0c\u6211\u4eec\u6ca1\u6709\u4e00\u4e2a\u5b8c\u5168\u7edf\u4e00\u7684\u89e3\u91ca\u3002\u6211\u4eec\u77e5\u9053\u4e24\u8005\u4e4b\u95f4\u5b58\u5728\u76f8\u5173\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u8bc1\u660e\u7ef4\u751f\u7d20D\u5206\u5b50\u5bf9\u591a\u79cd\u7ec6\u80de\u548c\u5668\u5b98\u90fd\u6709\u5f71\u54cd\u3002\u4f46\u8fd9\u663e\u7136\u4e0d\u50cf\u7ef4\u751f\u7d20D\u5728\u9499\u4ee3\u8c22\u548c\u9aa8\u9abc\u5065\u5eb7\u4e2d\u7684\u4f5c\u7528\u90a3\u4e48\u76f4\u63a5\u3002\n\u5f53\u7136\uff0c\u8fd9\u4e2a\u6545\u4e8b\u8fd8\u6709\u66f4\u591a\u7684\u5185\u5bb9\uff0c\u8fd9\u5c06\u5728\u7b2c\u4e8c\u90e8\u5206\u7ee7\u7eed\u3002\u6700\u7ec8\uff0c\u6211\u4eec\u5c06\u8fbe\u5230\u63a8\u8350\u7684\u5242\u91cf\u3002\n\u9996\u9875--\u671f\u520a\u4e3b\u8981\u5206\u7c7b--\u671f\u520a\u7ec6\u4ecb\u7ecd--\u671f\u520a\u9898\u5f55\u4e0e\u6587\u6458--\u671f\u520a\u8be6\u7ec6\u6587\u6458\u5185\u5bb9\u3002\u7ef4\u751f\u7d20D\u7f3a\u4e4f\u662f\u65b0\u51a0\u80ba\u708e\u6240\u81f4\u6025\u6027\u547c\u5438\u8870\u7aed\u60a3\u8005\u9884\u540e\u4e0d\u826f\u7684\u9884\u6d4b\u56e0\u5b50\u3002J\u5185\u5206\u6ccc\u6295\u8d44(2020)\u3002Https://doi.org/10.1007/s40618-020-01370-x\u3002\n\u57c3\u65af\u6ce2\u897f\u6258\u3001S.\u3001\u83b1\u5229\u3001\u7ef4\u751f\u7d20D\u548c\u513f\u7ae5\u547c\u5438\u9053\u611f\u67d3\u3002BMC\u611f\u67d3Dis15,487(2015)\u3002Https://doi.org/10.1186/s12879-015-1196-1\u3002\n\u514b\u91cc\u65af\u5854\u79d1\u65af\u00b7S\uff0c\u8fbe\u4e07\u00b7P\uff0cVerstuyf A\uff0cVerlinden L\uff0cCarmeliet G.\u7ef4\u751f\u7d20D\uff1a\u65b0\u9648\u4ee3\u8c22\uff0c\u5206\u5b50\u4f5c\u7528\u673a\u5236\uff0c\u548c\u591a\u6548\u6027\u6548\u5e94\u3002PhysIOL Rev.\u30022016\uff1b96(1)\uff1a365-408\u3002Https://doi.org/10.1152/physrev.00014.2015\u3002\n\u6bd4\u514b\u5c14DD\u3002\u7ef4\u751f\u7d20D\u4ee3\u8c22\u3001\u4f5c\u7528\u673a\u5236\u53ca\u4e34\u5e8a\u5e94\u7528\u3002\u5316\u5b66\u751f\u7269\u30022014\u5e74\uff1b21(3)\uff1a319-329\u3002Https://doi.org/10.1016/j.chembiol.2013.12.016\nDeMay MB.\u3002\u6765\u81ea\u7ef4\u751f\u7d20D\u53d7\u4f53\u57fa\u56e0\u6572\u9664\u5c0f\u9f20\u7684\u751f\u7406\u6d1e\u5bdf\u529b\u3002Calcif Tablet Int.\u30022013\uff1b92(2)\uff1a99-105\u3002\u7535\u8bdd\uff1a10.1007/s00223-0129633-2\u3002\n\u7ef4\u751f\u7d20D\u53d7\u4f53\u7a81\u53d8\u548c\u9057\u4f20\u6027\u7ef4\u751f\u7d20D\u6297\u6027\u4f5d\u507b\u75c5\u3002\u9aa8\u952e\u4ee3\u8868\u30022014\uff1b3\uff1a510\u3002\u53d1\u8868\u4e8e2014\u5e743\u67085.doi\uff1a10.1038/bonekey.2014.5 https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4015455/\u3002\nDi Rosa M\uff0cMalaguarnera M\uff0cNicoletti F\uff0cMalaguarnera L.\u7ef4\u751f\u7d20D3\uff1a\u4e00\u79cd\u6709\u7528\u7684\u514d\u75ab\u8c03\u8282\u5242\u3002\u514d\u75ab\u5b66\u30022011\u5e74\uff1b134(2)\uff1a123-139\u3002Https://doi.org/10.1111/j.1365-2567.2011.03482.x", "note_en": "Vitamin D is a big deal. Recent studies have shown that patients with low Vitamin D levels are more likely to die from Covid-19 than their Vitamin D-rich counterparts,(1) and deficiency in the vitamin has been linked to seven of the ten leading causes of death in the U.S.(2) These facts alone have been enough incentive for many people to start supplementing the vitamin. A common question from my patients is: how much Vitamin D should I take? This is a simple question, but there are a lot of assumptions built in. Before you order that case of Vitamin D for you and your family, let\u2019s back up and look a little more at the data.\n First, why I\u2019m interested in Vitamin D: I\u2019m a parathyroid surgeon, and the vitamin is something I track closely in my patients. For background, the parathyroid glands are tiny endocrine organs in your neck that regulate blood calcium levels. They do this partly through the activation of Vitamin D, which helps the intestines absorb calcium. Without Vitamin D, you will have difficulty getting enough calcium, even if you are taking calcium supplements. Your bones need calcium, so a severe deficiency in Vitamin D leads to bone deformities in children (rickets) and bone loss in adults (osteomalacia).\n  Normal child femurs compared to femurs of a child with rickets. Rickets is caused by a severe Vitamin D deficiency while bones are growing. This condition is now very rare in the U.S. due to the fortification of almost all milk with Vitamin D.*\n  The relationship between parathyroid hormone, calcium, and Vitamin D is complex and fascinating (at least to a parathyroid surgeon), but the vitamin appears to do much more than just influence calcium. We\u2019re still figuring out all that it does, but we have some circumstantial evidence about its roles. Low Vitamin D levels are linked to a variety of illnesses including cancers, hypertension, diabetes, obesity, heart failure, stroke, dementia, autoimmune disease, and respiratory tract infections (including Covid-19). A simple search of the medical literature on PubMed produces page after page of articles on the harms of Vitamin D deficiency.\n  Most studies follow this pattern: Two sets of people are evaluated. One set has a certain disease (diabetes, for example). The other set does not have the disease. Vitamin D levels are measured in both groups. Vitamin D deficiency is found to be much more common in the group of diseased individuals.\n  Using this study method, Vitamin D deficiency is correlated with many diseases. But correlation does not equal causation. The fact that two things are related does not imply that one caused the other. With regard to the vitamin and diabetes, it could be that diabetes causes low Vitamin D. Or it may be that some other health condition causes both low Vitamin D and diabetes. Obesity, for example, is a known risk factor for diabetes, and people who are obese also tend to have low Vitamin D levels, due mostly to the dilution of the fat-soluble vitamin in the larger mass of adipose tissue. The close association between Vitamin D and diabetes could be due simply to the association they both share with obesity.\n  Here is another example: Early interest in respiratory infections and Vitamin D was due to research on hospitalized children. Young children who were hospitalized with respiratory infections were found to have much higher rates of rickets than children hospitalized for other causes.(3) Rickets, of course, is caused by Vitamin D deficiency. If Vitamin D deficiency also causes immune dysfunction, we might come up with an explanation for how low Vitamin D in these children made them more susceptible to infection. But there are other explanations. Children with a serious vitamin deficiency are likely to be less healthy overall compared to non-deficient children. In addition, rickets can cause rib deformities, which are known to make it harder to cough and breathe deeply, leading to an increased risk of respiratory infections. Vitamin D itself is not necessary for explaining the infections in these children.\n Most researchers understand that correlation does not equal causation. The classic example of this involves the correlation between ice cream and violent crime. As ice cream consumption rises, so does the rate of violent crime. The association is strong, and puzzling, until you remember that more ice cream is sold during warmer months, which is also when violent crime rates rise. Ice cream has no causative connection to crime.\n     But the temptation to equate correlation and causation is strong. Many articles showing a correlation with Vitamin D will add an untested but completely plausible physiological explanation for how low vitamin levels could lead to the disease. Armed with a solid correlation and a reasonable argument for causation, they may feel justified in concluding that the evidence for causation is strong. And once you have made that leap, you are almost obligated in recommending Vitamin D supplementation for anyone affected by or concerned about your disease of interest.\n  Assuming that the correlations between Vitamin D and various illnesses are accurate, the argument for supplementation then depends on the plausibility of the physiologic mechanism. The numerous conditions associated with the deficiency involve disparate organs and body systems. To understand how one vitamin could be involved in so much, and whether we can explain a disease state by the vitamin&#39;s deficiency, it helps to know the basics of what Vitamin D does on a molecular level.\n  Vitamin D is a hormone that binds to the Vitamin D Receptor, a protein made by cells throughout your body. The vitamin acts like a key, while the receptor is a lock. A key and lock are pointless individually, but useful together. Vitamin D and its receptor are inactive until they combine, and then they interact with DNA to produce certain actions within the cell. Based on what we already know, it is easy to understand why the intestines, parathyroids, and bones make Vitamin D Receptors \u2013 these organs are all involved in regulating calcium levels, and we know Vitamin D regulates calcium metabolism. But those are not the only organs that have the receptors. We find these receptors all over the place, in the kidneys, lungs, pancreas, uterus, and blood cells involved in immune function, just to name a few.(4,5)\n  Our bodies like to conserve resources, so if an organ or cell uses energy and resources to make these receptors, we can assume that they use them. This is the first solid piece of evidence that Vitamin D is involved in many processes throughout multiple organs. The next goal is to figure out how the organs use Vitamin D. There are various ways to do this. One clever method involves the use of mutant mice called \u201cknockout mice\u201d that have been genetically modified to inactivate a specific gene. In this case, the gene for the Vitamin D Receptor is inactivated, to produce &#34;VDR null&#34; mice. Studies in these animals provide important clues about Vitamin D, since without the lock, or receptor, the key is useless. As expected, these knockout mice have problems with calcium absorption, and the most notable effect is stunted bone growth.(6) This can be mitigated by giving the mice lots of calcium, which makes sense, since it is possible but harder for calcium to be absorbed without Vitamin D.\n   Knockout mice are mice that have been genetically modified to inactivate a specific gene. VDR null mice are knockout mice that do not make Vitamin D Receptors.\n  But we already knew about Vitamin D and calcium. What about those other effects? VDR null mice should be helpful in explaining Vitamin D\u2019s other roles, and we do see some revealing changes: these mutant mice on average have higher blood pressure than normal mice, and mice lacking the receptor specifically on the heart have decreased cardiac function. Certain immune cells also seem to also be impaired in the mutant mice.\n  Following this out a few steps, we could come up with a logical explanation for how Vitamin D helps the immune system, and thus deficiency would lead to impaired immune function, which then lead to increased susceptibility to infections. It sounds reasonable. But there are a few assumptions we are making: 1. We assume that Vitamin D deficiency is similar to a complete absence of the receptor. This is questionable, since even people with severe Vitamin D deficiencies still have some amount of Vitamin D. 2. We also assume that the receptor works exactly the same in mice as it does in humans. Mice and humans are relatively close on the evolutionary tree (when compared to, say, shiitake mushrooms), so this could be true, but maybe not.\n  Maybe we need to go back to humans. Interestingly, there is a very rare condition in humans characterized by ineffective Vitamin D Receptors due to a genetic mutation, similar to the VDR null mice.(7) Like the mice, these individuals will develop severely abnormal bone growth if untreated. Thinking logically and using what we know about the receptor in mice, we might expect that these individuals who cannot process Vitamin D effectively would have immune dysfunction, and perhaps cardiac issues. So far, we have not seen this. They do not appear to have an increased risk of cancer, respiratory infections, diabetes, or any of the other conditions found to be associated with Vitamin D deficiency. This genetic defect is extremely rare, though, and we have not yet been able to study these patients over a lifetime, so we may have more to learn.\n  Studying the Vitamin D Receptor in living bodies is not the only way to assess Vitamin D\u2019s actions. We can also study Vitamin D in a lab, using living cells in a test tube or culture dish. Much of our evidence for a link between Vitamin D and immunity comes from these  in vitro studies. Vitamin D Receptors are common in many types of immune cells, and Vitamin D exposure leads to a well-documented cascade of changes within those.(8) These studies provide the best evidence for Vitamin D\u2019s role in immunity, which could explain its roles in autoimmune disease and infections.\n  In vitro studies are necessarily contrived and artificial, which is great for isolating and quantifying the effect of one stimulus, but which is not always applicable to living cells  in vivo. Within a living organism, cells are not restricted to interacting with just one molecule at a time. There are many interactions going on simultaneously, diluting or hiding the effects of Vitamin D. These other interactions could potentially inhibit or enhance the vitamin\u2019s effects, but it will be much more difficult to quantify that. Still,  in vitro studies of Vitamin D and various cell cultures provide strong evidence that Vitamin D is at least capable of inducing major changes in the actions of certain cells.\n  Unfortunately, we do not have a full unified explanation for how Vitamin D deficiency could lead to the list of diseases that are associated with it. We know the correlations are there, and we can show that the Vitamin D molecule has an effect on multiple cells and organs. But this is clearly not as straightforward as the role of Vitamin D in calcium metabolism and bone health.\n There is more to the story, of course, which will continue in part 2. And eventually we will get to those recommended dosages.\n    Carpagnano, G.E., Di Lecce, V., Quaranta, V.N.  et al.  Vitamin D deficiency as a predictor of poor prognosis in patients with acute respiratory failure due to COVID-19.  J Endocrinol Invest  (2020).    https://doi.org/10.1007/s40618-020-01370-x\n  Esposito, S., Lelii, M. Vitamin D and respiratory tract infections in childhood.  BMC Infect Dis15 ,  487 (2015).    https://doi.org/10.1186/s12879-015-1196-1\n Christakos S, Dhawan P, Verstuyf A, Verlinden L, Carmeliet G. Vitamin D: Metabolism, Molecular Mechanism of Action, and Pleiotropic Effects.  Physiol Rev . 2016;96(1):365-408.  https://doi.org/10.1152/physrev.00014.2015\n Bikle DD. Vitamin D metabolism, mechanism of action, and clinical applications.  Chem Biol. 2014;21(3):319-329.    https://doi.org/10.1016/j.chembiol.2013.12.016\n Demay MB. Physiological insights from the vitamin D receptor knockout mouse.  Calcif Tissue Int . 2013;92(2):99-105.    doi:10.1007/s00223-012-9633-2\n Feldman D, J Malloy P. Mutations in the vitamin D receptor and hereditary vitamin D-resistant rickets.  Bonekey Rep. 2014;3:510. Published 2014 Mar 5. doi:10.1038/bonekey.2014.5  https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4015455/\n Di Rosa M, Malaguarnera M, Nicoletti F, Malaguarnera L. Vitamin D3: a helpful immuno-modulator.  Immunology . 2011;134(2):123-139.    https://doi.org/10.1111/j.1365-2567.2011.03482.x", "posttime": "2020-08-13 10:02:36", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u7ef4\u751f\u7d20,\u56de\u5f52,part", "title": "\u7ef4\u751f\u7d20D\uff0c\u7b2c1\u90e8\u5206\uff1a\u56de\u5f52\u57fa\u7840", "title_en": "Vitamin D, part 1: back to basics", "transed": 1, "url": "https://www.devaboone.com/post/vitamin-d-part-1-back-to-basics", "via": "", "real_tags": ["\u7ef4\u751f\u7d20", "\u56de\u5f52", "part"]}, {"category": "", "categoryclass": "", "imagename": "", "infoid": 1017869, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u4e94\u5e74\u6765\uff0c834\u6b21\u627f\u8bfa\uff0c24\u6b21\u91cd\u5927\u4fee\u8ba2\uff0c\u6211\u521a\u521a\u51fa\u7248\u4e86\u201cAnsible for DevOps\u201d\u7b2c\u4e8c\u7248\uff0c\u8fd9\u672c\u4e66\u73b0\u5728\u5df2\u7ecf\u5356\u51fa\u4e866\u4e07\u518c\uff0c\u5e76\u5728YouTube\u4e0a\u50ac\u751f\u4e86\u4e00\u90e8\u5e7f\u53d7\u6b22\u8fce\u7684\u514d\u8d39Ansible 101\u89c6\u9891\u7cfb\u5217\u3002\n\u4e3a\u4e86\u5151\u73b0\u6211\u6c38\u8fdc\u514d\u8d39\u66f4\u65b0\u7535\u5b50\u4e66\u7684\u627f\u8bfa\uff0c\u81ea\u4ece2014\u5e74\u6211\u5728Leanpub\u4e0a\u53d1\u5e03\u4e86\u7b2c\u4e00\u7248(0.42\u7248)\u4ee5\u6765\uff0c\u6211\u5df2\u7ecf\u81f3\u5c11\u6bcf\u5b63\u5ea6\u51fa\u7248\u4e00\u6b21\u65b0\u7248\u7535\u5b50\u4e66\uff0c\u7b2c\u4e8c\u7248\u5f00\u59cb\u4e862.x\u7cfb\u5217\u7684\u56fe\u4e66\u4fee\u8ba2\u3002\n\u8fd9\u672c\u4e66\u6db5\u76d6\u4e86\u7ba1\u7406Linux\u670d\u52a1\u5668\u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u7136\u540e\u6df1\u5165\u7814\u7a76\u6301\u7eed\u96c6\u6210\u3001\u5e94\u7528\u7a0b\u5e8f\u90e8\u7f72\u3001\u5bb9\u5668\u6620\u50cf\u7ba1\u7406\uff0c\u751a\u81f3\u4f7f\u7528Ansible\u8fdb\u884cKubernetes\u96c6\u7fa4\u7ba1\u7406\u3002\n\u6211\u5f88\u4e50\u610f\u8ba9\u8fd9\u672c\u4e66\u7684\u7b2c\u4e00\u7248\u5728\u6bcf\u4e2a\u5e73\u53f0\u4e0a\u4e3a\u6bcf\u4e2a\u4eba\u6c38\u8fdc\u514d\u8d39\u66f4\u65b0\u3002\u7136\u800c\uff0c\u4e9a\u9a6c\u900a\u9075\u5faa\u7740\u8001\u7684\u51fa\u7248\u4f20\u7edf--\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf\u5f53\u4f60\u5bf9\u4e00\u672c\u4e66\u8fdb\u884c\u4e86\u8d85\u8fc7\u5fae\u5c0f\u7684\u7f16\u8f91(\u4f8b\u5982\u8bed\u6cd5\u548c\u62fc\u5199\u66f4\u6b63)\u65f6\uff0c\u4f60\u5e94\u8be5\u51fa\u7248\u4e00\u4e2a\u5b8c\u6574\u7684\u65b0\u7248\uff0c\u4e0a\u9762\u6709\u4e00\u4e2a\u65b0\u7684(\u6602\u8d35\u7684)ISBN\u53f7\uff0c\u4e00\u4e2a\u65b0\u7684\u4ea7\u54c1\u6e05\u5355\uff0c\u5168\u90e89\u7801\u3002\n\u51fa\u7248\u65b0\u7248\u662f\u4e00\u4e2a\u8d39\u529b\u7684\u8fc7\u7a0b\uff0c\u5982\u679c\u4f60\u4ece\u5927\u591a\u6570\u4e3b\u6d41\u51fa\u7248\u516c\u53f8\u8d2d\u4e70\u4e00\u672c\u4e66\uff0c\u4f60\u53ef\u80fd\u4f1a\u8ba4\u4e3a\u4e00\u672c\u597d\u4e66\u5728\u5176\u4e00\u751f\u4e2d\u4f1a\u66f4\u65b0\u4e00\u5230\u4e24\u6b21-\u6bcf\u4e00\u6b21\u65b0\u7248\u90fd\u9700\u8981\u91cd\u65b0\u8d2d\u4e70\u3002\n\u81ea\u4ece\u6211\u53d1\u73b0Leanpub\u4ee5\u6765\uff0c\u6211\u5c31\u77e5\u9053\u51fa\u7248\u6a21\u5f0f\u5df2\u7ecf\u8fc7\u65f6\u4e86\uff0c\u81f3\u5c11\u5bf9\u6280\u672f\u4e66\u7c4d\u6765\u8bf4\u662f\u8fd9\u6837\u3002\u6211\u770b\u4e86\u770b\u6211\u7684\u4e66\u67b6\uff0c\u53d1\u73b0\u6240\u6709\u9648\u65e7\u8fc7\u65f6\u7684\u6280\u672f\u4e66\u7c4d\u90fd\u653e\u5728Python2&39\uff1b\u3001PHP5&39\uff1b\u3001Red Hat 5 Server Administration\u4e0a\u3002\u9664\u975e\u4f60\u4e0d\u80fd\u63a8\u9001\u5e73\u88c5\u4e66\u7684\u66f4\u65b0\uff0c\u5426\u5219\u8d2d\u4e70\u7535\u5b50\u4e66\u7684\u4eba\u5e94\u8be5\u80fd\u591f\u5229\u7528\u8fd9\u6837\u4e00\u4e2a\u4e8b\u5b9e\uff0c\u5373\u7535\u5b50\u4e66\u53ef\u4ee5\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u66f4\u65b0\u4e66\u7c4d\u7684\u5185\u5bb9\uff0c\u800c\u4e14\u4f5c\u8005\u5e94\u8be5\u80fd\u591f\u5f88\u5bb9\u6613\u5730\u66f4\u65b0\u4ed6\u4eec\u7684\u4e66\u7c4d(\u5982\u679c\u4ed6\u4eec\u9009\u62e9\u8fd9\u6837\u505a\u7684\u8bdd)\u3002\n\u6211\u5f00\u59cb\u505a\u7684-\u6211\u60f3\u6211\u5df2\u7ecf\u5b8c\u6210\u4e86\uff0cAnsible for DevOps-\u662f\u4e3a\u5728\u8fc7\u53bb\u4e94\u5e74\u4e2d\u5feb\u901f\u53d1\u5c55\u7684\u7279\u5b9a\u8f6f\u4ef6\u7ef4\u62a4\u4e00\u4e2a\u5e38\u9752\u6811\u7684\u6700\u7ec8\u6587\u672c\u3002\u6211\u5df2\u7ecf\u6dfb\u52a0\u4e86\u7ae0\u8282\uff0c\u5e76\u591a\u6b21\u91cd\u5199\u4e86\u4e00\u4e9b\u7ae0\u8282\uff0c\u5e76\u4f7f\u793a\u4f8b\u76f8\u5173\u3001\u6b63\u786e\u548c\u66f4\u65b0\uff0c\u4ee5\u4fbf\u968f\u7740\u4f53\u7cfb\u7ed3\u6784\u7684\u53d8\u5316\u9075\u5faa\u4e0d\u65ad\u53d1\u5c55\u7684\u6700\u4f73\u5b9e\u8df5\u548c\u5f03\u7528\u5468\u671f\u3002\n\u8fd9\u672c\u4e66\u751a\u81f3\u6709\u4e00\u4e2a\u914d\u5957\u7684GitHub\u5b58\u50a8\u5e93\uff0c\u5b83\u6709\u4e00\u5957\u81ea\u5df1\u7684CI\u6d4b\u8bd5\u96c6\uff0c\u5bf9\u6bcf\u5468\u51fa\u7248\u7684\u4e66\u4e2d\u7684\u6240\u6709\u4f8b\u5b50\u8fdb\u884cCI\u6d4b\u8bd5\uff0c\u63d0\u9192\u6211\u4efb\u4f55\u7531\u4e8e\u65f6\u95f4\u7684\u6d41\u901d\u800c\u635f\u574f\u7684\u4f8b\u5b50\u3002\n\u8bfb\u8005\u8fd8\u53ef\u4ee5\u5c06\u95ee\u9898\u53d1\u5e03\u5230\u8be5\u5b58\u50a8\u5e93\uff0c\u5e76\u63d0\u4ea4\u8865\u4e01\u7a0b\u5e8f\u6765\u4fee\u590d\u4ed6\u4eec\u8ba4\u4e3a\u635f\u574f\u6216\u6df7\u6dc6\u7684\u4efb\u4f55\u793a\u4f8b\u3002\n\u6211\u5df2\u7ecf\u5728\u8fd9\u4e2a\u4e3b\u9898\u4e0a\u5199\u8fc7\u5f88\u591a\u6b21\u4e86\uff0c\u4f8b\u5982\uff0c\u81ea\u6211\u51fa\u7248\uff0c\u4e0d\u8981\u4e3a\u51fa\u7248\u5546\u5199\u4f5c\u3002\u51fa\u7248\u4e00\u672c\u4e66\u53ef\u80fd\u5f88\u96be\uff0c\u4f46\u4f7f\u7528\u50cfLeanpub\u8fd9\u6837\u7684\u7cbe\u76ca\u51fa\u7248\u5e73\u53f0\u53ef\u4ee5\u8ba9\u4f60\u7acb\u5373\u5f00\u59cb\u5199\u4f5c\u548c\u51fa\u7248\u4f60\u7684\u4f5c\u54c1\u3002\u5373\u4f7f\u8fd8\u5728\u5199\u4f5c\uff0c\u4f60\u4e5f\u53ef\u4ee5\u5356\u51fa\u90e8\u5206\u4e66\uff0c\u6216\u8005\u8ba9\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53c2\u4e0e\u8fdb\u6765\uff0c\u770b\u770b\u662f\u5426\u6709\u4eba\u5bf9\u8fd9\u672c\u4e66\u611f\u5174\u8da3\u3002\n\u81ea\u52a9\u51fa\u7248\u53ef\u4ee5\u8ba9\u4f60\u4ece\u4e66\u4e2d\u6536\u56de\u81f3\u5c1130-70%\u7684\u6536\u5165\uff0c\u800c\u4e0d\u662f\u901a\u5e38\u4e3a\u51fa\u7248\u5546\u5199\u4f5c\u7684\u5fae\u8584\u76842%-5%\u3002\n\u4ee5\u6211\u4e3a\u4f8b\uff0c\u6211\u62e5\u6709\u4e00\u672c\u6211\u79f0\u4e4b\u4e3a\u975e\u5e38\u6210\u529f\u7684\u4e66\uff0c\u5728\u8fc7\u53bb\u4e94\u5e74\u91cc\u8d5a\u53d6\u4e86\u8fd120\u4e07\u7f8e\u5143\u7684\u7248\u7a0e1\u3002\u5982\u679c\u6211\u4e0e\u4e00\u5bb6\u4e3b\u8981\u51fa\u7248\u5546\u8c08\u5224\u8fbe\u6210\u4e86\u4e00\u9879\u539f\u521b\u51fa\u7248\u534f\u8bae\uff0c\u6211\u5c06\u83b7\u5f97\u6570\u5343\u7f8e\u5143\u7684\u9884\u4ed8\u6b3e\uff0c\u5916\u52a05%\u7684\u7248\u7a0e\uff0c\u6211\u5c06\u83b7\u5f97\u4e0d\u52305\u4e07\u7f8e\u5143\u7684\u6536\u5165\u3002\n\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u4e94\u5e74\u518520\u4e07\u5143\u5e73\u5747\u6bcf\u5e744\u4e07\u5143\u3002\u8fd9\u7edd\u5bf9\u662f\u4ef6\u5927\u4e8b\uff0c\u4f46\u8fd9\u7b14\u6536\u5165\u4e0d\u8db3\u4ee5\u53d6\u4ee3\u6211\u7684\u5de5\u8d44\uff0c\u6211\u4e5f\u4e0d\u8ba4\u4e3a\u6211\u7684\u5176\u4ed6\u56fe\u4e66\u9879\u76ee\u4f1a\u4e0e\u5b83\u7684\u6210\u529f\u76f8\u63d0\u5e76\u8bba(\u5c3d\u7ba1\u6211\u5e0c\u671b\u5f97\u5230\u60ca\u559c\uff01)\u3002\n\u6211\u731c\u6211\u60f3\u8bf4\u7684\u662f\uff0c\u5982\u679c\u4f60\u6709\u624d\u534e\u5199\u4e00\u672c\u5173\u4e8e\u7279\u5b9a\u4e91/\u8ba1\u7b97\u4e3b\u9898\u7684\u597d\u4e66\uff0c\u4f60\u53ef\u80fd\u4f1a\u5f97\u5230\u7684\u85aa\u6c34\u53ef\u80fd\u6bd4\u4f60\u51fa\u7248\u540c\u4e00\u4e3b\u9898\u7684\u4e66\u83b7\u5f97\u7684\u6700\u9ad8\u6536\u5165\u9ad8\u51fa\u4e94\u500d\u751a\u81f3\u66f4\u591a\u3002\n\u6211\u8bfb\u8fc7\u7684\u5173\u4e8e\u4efb\u4f55\u7279\u5b9a\u4e3b\u9898\u7684\u6700\u597d\u7684\u6280\u672f\u4e66\u7c4d\u90fd\u6765\u81ea\u65e5\u5e38\u4ece\u4e1a\u8005\uff0c\u4ed6\u4eec\u5728\u73b0\u5b9e\u4e16\u754c\u4e2d\uff0c\u5728\u7f51\u4e0a\u8d5a\u94b1\u7684\u60c5\u51b5\u4e0b\uff0c\u5bf9\u4ed6\u4eec\u6240\u5199\u7684\u4e3b\u9898\u8fdb\u884c\u4e86\u9f50\u819d\u6df1\u7684\u7814\u7a76\u3002\n\u8bb8\u591a\u6bdb\u8338\u8338\u7684\u6280\u672f\u4e66\u7c4d(\u7279\u522b\u662f\u90a3\u4e9b\u4e3a\u6ee1\u8db3\u51fa\u7248\u5546\u7684\u8981\u6c42\u800c\u5199\u7684\u4e66\uff0c\u6211\u4eec\u9700\u8981\u5728\u6211\u4eec\u7684\u76ee\u5f55\u4e2d\u5217\u51fa\u4e00\u672c\u5173\u4e8e\u8f6f\u4ef6X\u7684\u4e66)\u90fd\u662f\u7531\u8f6f\u4ef6\u6216\u8fde\u8f7d\u4f5c\u8005\u7684\u8f7b\u91cf\u7ea7\u7528\u6237\u64b0\u5199\u7684\uff0c\u4ed6\u4eec\u5927\u591a\u4ee5\u5199\u4f5c\u4e3a\u751f\uff0c\u4e0d\u80fd\u63d0\u4f9b\u6df1\u523b\u7684\u89c1\u89e3\u6216\u5b9d\u8d35\u7684\u5c0f\u6280\u5de7\uff0c\u8fd9\u4e9b\u4e66\u53ef\u4ee5\u8282\u7701\u4f60\u7684\u65f6\u95f4\uff0c\u5e76\u4f7f\u4f60\u7684\u4f5c\u54c1\u6bd4\u4e66\u7684\u8981\u4ef7\u9ad8\u5f97\u591a\u3002\n\u6211\u8fd8\u5728\u5199\u53e6\u4e00\u672c\u4e66\u201cAnsible for Kubernetes\u201d\uff0c\u8fd9\u672c\u4e66\u7528Ansible\u66f4\u6df1\u5165\u5730\u7814\u7a76\u4e86Kubernetes\u548c\u96c6\u88c5\u7bb1\u81ea\u52a8\u5316\uff0c\u4f60\u53ef\u4ee5\u5728\u6211\u8fd8\u5728Leanpub\u4e0a\u5199\u5b83\u7684\u65f6\u5019\u8d2d\u4e70\u5b83-\u5c31\u50cfAnsible for DevOps\u4e00\u6837\uff0c\u4f60\u4f1a\u6c38\u8fdc\u83b7\u5f97\u514d\u8d39\u7684\u66f4\u65b0\u3002\n1\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u4e9a\u9a6c\u900a\u3001iBooks\u548cLeanpub\u6536\u53d630-70%\u7684\u8d39\u7528\u540e-\u540e\u8005\u5bf9\u4f5c\u8005\u6700\u6177\u6168\u3002\u8bf7\u6ce8\u610f\uff0c\u51fa\u7248\u5546\u7684\u7248\u7a0e\u901a\u5e38\u662f\u5728\u5546\u5e97\u8d39\u7528\u7684\u57fa\u7840\u4e0a\u6536\u53d6\u7684\uff0c\u56e0\u6b64\u60a8\u6bcf\u672c\u4e66\u5f97\u5230\u7684\u91d1\u989d\u6309\u6bd4\u4f8b\u8f83\u4f4e-\u800c\u4e14\u901a\u5e38\u53ea\u6709\u5728\u4e00\u5b9a\u6570\u91cf\u7684\u9500\u552e\u4e4b\u540e(\u4f8b\u5982\uff0c\u5728\u56fe\u4e66\u81f3\u5c11\u8d5a\u53d65\u7f8e\u5143\u621610K\u7f8e\u5143\u4e4b\u524d\uff0c\u60a8\u4ec0\u4e48\u4e5f\u5f97\u4e0d\u5230)\u3002", "note_en": "Five years, 834 commits, and 24 major revisions later, I&#39;ve just published the  2nd edition of Ansible for DevOps, a book which has now sold over 60,000 copies and spawned a popular free  Ansible 101 video series on YouTube.\n  Making good on my promise to make the ebook updates free, forever, I&#39;ve published a new revision of the book at least once a quarter since I published the first revision (version  0.42) on LeanPub in 2014, and the second edition begins the  2.x series of book revisions.\n The book covers the basics of managing Linux servers, then dives deeper into continuous integration, application deployments, container image management, and even Kubernetes cluster management with Ansible.\n  I&#39;d have been happy to keep the &#39;first edition&#39; of the book updated free, forever, for everyone, on every platform. However, Amazon follows the old publishing tradition of &#34;editions&#34;\u2014that is, any time you make more than a minor edit to a book (e.g. grammar and spelling corrections), you are supposed to publish an entire new edition, with a new (expensive) ISBN number, a new product listing, the whole nine yards.\n It&#39;s a laborious process to publish a new edition, and if you purchase a book from most mainstream publishing companies, you might expect a good book to get updated once or twice in its lifetime\u2014requiring a re-purchase of each new edition.\n Since I discovered LeanPub, I knew that publishing model was outmoded, at least for tech books. I look at my bookshelf and see all the old hopelessly-outdated tech books, on &#39;Python 2&#39;, &#39;PHP 5&#39;, &#39;Red Hat 5 Server Administration&#39;. Barring the fact that you can&#39;t push updates to paperbacks, people who buy digital copies should be able to take advantage of the fact that ebooks can update the contents of a book over time, and authors should be able to update their books easily (if they choose to do so).\n What I set out to do\u2014and I think I have accomplished, with Ansible for DevOps\u2014was to maintain an evergreen definitive text for a particular piece of software that has evolved rapidly over the last five years. I&#39;ve added chapters, and rewritten some chapters multiple times, and made the examples relevant, correct, and updated to follow evolving best practices and deprecation cycles as architecture shifts.\n  The book even has a  companion GitHub repository, with it&#39;s own set of  CI tests for all examples in the book which runs weekly, alerting me to any examples which break due to bit rot over time.\n Readers can also post issues to that repository and submit patches to fix any examples they find broken or confusing.\n  I&#39;ve written on this topic a number of times, for example  Self-publish, don&#39;t write for a publisher. It can be hard to get a book off the ground, but using a lean publishing platform like LeanPub allows you to begin writing and publishing your work immediately. Even while still writing, you can sell the partial book or engage interested readers to find whether there&#39;s interest in the book.\n And self-publishing allows you to recoup at least 30-70% of the revenue from the book, instead of the meager 2-5% you usually get writing for a publisher.\n In my case, I have what I&#39;d call a very successful book, earning nearly $200,000 in royalties over the past five years 1. If I had gone with one of the original publishing deals I had negotiated with a major publisher, where I would&#39;ve gotten a few thousand dollars&#39; advance, plus a 5% royalty rate, I&#39;d have gotten less than $50,000.\n Putting it in perspective, $200,000 over five years averages $40,000 per year. It&#39;s definitely something, but that revenue would not be enough to replace my salary, nor do I think my other book projects will match its success (though I&#39;d love to be surprised!).\n What I guess I&#39;m saying is, if you have the talent to write a  good book on a specific cloud/computing topic, the salary you&#39;d likely be able to get would be five or more times more valuable than the maximum revenue you&#39;d get from publishing the book on the same topic.\n  The best tech books I&#39;ve read on any given subject come from daily practitioners knee-deep in the subject they write about, in real-world, money-on-the-line situations.\n Many &#39;fluff&#39; tech books (especially those written to fulfill a publisher&#39;s &#34;we need a book on software X in our catalog&#34; checklist) are written by light users of software or &#39;serial authors&#39; who mostly write for a living and can&#39;t offer the deep insight or invaluable small tips that will save you hours and amplify your work by much more than the asking price of the book.\n   I&#39;m also writing another book,  Ansible for Kubernetes, that dives deeper into Kubernetes and container automation with Ansible, and you can purchase it while I&#39;m still writing it on LeanPub\u2014and just like with Ansible for DevOps, you&#39;ll get updates free, forever.\n 1 That is, after 30-70% fees from Amazon, iBooks, and LeanPub\u2014the latter being the most generous to authors. Note that royalty rates from publishers are on usually on  top of store fees, so you get a proportionally worse amount per book\u2014and often only after a certain number of sales (e.g. you get nothing until the book has earned at least $5 or $10k).", "posttime": "2020-08-13 10:02:17", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "ansible,\u51fa\u7248", "title": "\u81ea\u4e3b\u51fa\u7248\u548c\u7b2c\u4e8c\u7248Ansible for DevOps", "title_en": "Self-publishing and the 2nd edition of Ansible for DevOps", "transed": 1, "url": "https://www.jeffgeerling.com/blog/2020/self-publishing-and-2nd-edition-ansible-devops", "via": "", "real_tags": ["ansible", "\u51fa\u7248"]}, {"category": "", "categoryclass": "", "imagename": "9828bdc8149353a2e1af584acfbe988c.png", "infoid": 1017867, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u6211\u7684\u516c\u53f8\u4f7f\u7528\u4ed6\u4eec\u81ea\u5df1\u7684\u81ea\u5b9a\u4e49\u767b\u5f55\u7801\u3002SQL\u6ce8\u5165\u8bfe\u4e0a\u4e8615\u5206\u949f\u540e\uff0c\u6211\u610f\u8bc6\u5230\u6211\u4eec\u9700\u8981\u53ec\u5f00\u4e00\u6b21\u5173\u4e8e\u5b89\u5168\u5b9e\u8df5\u7684\u4f1a\u8bae\uff01\n\u6211\u4e00\u76f4\u8ba4\u4e3a\uff0c\u5b66\u4e60\u5982\u4f55\u9ed1\u5ba2\u653b\u51fb\u662f\u5b66\u4e60\u5982\u4f55\u4fdd\u62a4\u81ea\u5df1\u514d\u53d7\u653b\u51fb\u7684\u6700\u597d\u65b9\u6cd5\u4e4b\u4e00\u3002\u4f60\u5e94\u8be5\u6d3e\u4f60\u6240\u6709\u7684\u7f51\u7ad9\u5f00\u53d1\u4eba\u5458\uff0c\u751a\u81f3\u4f60\u7684IT\u5458\u5de5\u53bb\u68c0\u67e5Hackspaining\u3002\n\u4ee4\u4eba\u5370\u8c61\u6df1\u523b\u3002\u8fd9\u4e2a\u7f51\u7ad9\u505a\u5f97\u5f88\u597d\uff0c\u6211\u4eec\u5c06\u4f7f\u7528Hackplaining\u4f5c\u4e3a\u65b0\u5f00\u53d1\u4eba\u5458\u7684\u57f9\u8bad\u5de5\u5177\u3002", "note_en": "My company uses their own custom login code. 15 minutes into the SQL injection lesson I realized we needed to have a meeting about security practices!\n  I\u2019ve always thought that learning how to hack was one of the best ways to learn how to defend yourself from attacks. You should send all your web developers, and even your IT staff, to check out Hacksplaining.\n  Extremely impressed. This website is very well done, and we will be using Hacksplaining as a training tool for newer developers.", "posttime": "2020-08-13 10:01:37", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u5f00\u53d1,\u5b89\u5168,security", "title": "Hackplaining\uff1a\u9488\u5bf9\u5f00\u53d1\u4eba\u5458\u7684\u5b89\u5168\u57f9\u8bad", "title_en": "Hacksplaining: Security Training for Developers", "transed": 1, "url": "https://www.hacksplaining.com/", "via": "", "real_tags": ["\u5f00\u53d1", "\u5b89\u5168", "security"]}, {"category": "", "categoryclass": "", "imagename": "395da17931d9869277f449fc2744d9ed.jpg", "infoid": 1017866, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "DCN\u5728\u96c5\u52a0\u8fbe\u4e3aPGN\u4fee\u590d\u4e86\u4e00\u6761\u5e26\u7535\u7ba1\u9053\u3002", "note_en": "DCN repaired a live pipeline in Jakarta for PGN.", "posttime": "2020-08-13 10:01:26", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u7ba1\u9053,porn,\u96c5\u52a0\u8fbe", "title": "\u5de5\u7a0b\u5b66\u8272\u60c5\uff1a\u6d77\u6d6a\u4e0b800\u82f1\u5c3a\u7684\u9ad8\u538b\u7ba1\u9053\u4fee\u590d", "title_en": "Engineering Porn: Hyperbaric pipeline repair 800 feet under the waves", "transed": 1, "url": "https://www.youtube.com/watch?v=EkfY_N94Dy8", "via": "", "real_tags": ["\u7ba1\u9053", "porn", "\u96c5\u52a0\u8fbe"]}, {"category": "", "categoryclass": "", "imagename": "4761f64ab7408aaed1924f6e9e6376ac.jpg", "infoid": 1017865, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u5982\u679c\u4f60\u5728\u5de5\u7a0b\u526f\u603b\u88c1\u6216\u4e3b\u4efb\u529e\u516c\u5ba4\u7684\u67d0\u4e2a\u5730\u65b9\u770b\u4e00\u770b\uff0c\u4f60\u4f1a\u53d1\u73b0\u4e00\u4e2a\u6d3b\u9875\u5939\u5df2\u7ecf\u6709\u4e00\u6bb5\u65f6\u95f4\u6ca1\u6709\u4eba\u78b0\u8fc7\u4e86\uff0c\u4e0a\u9762\u5199\u7740\u201cDR/BCM\u8ba1\u5212\u201d\u3002\n\u707e\u96be\u6062\u590d/\u4e1a\u52a1\u8fde\u7eed\u6027\u7ba1\u7406\u89c4\u5212\u662f\u9700\u8981\u8003\u8651\u7684\u91cd\u8981\u4e8b\u9879\u3002\u4f46\u51e0\u4e4e\u53ef\u4ee5\u80af\u5b9a\u7684\u662f\uff0c\u4f60\u5de5\u4f5c\u7684\u5c0f\u4e11\u4eec\u628a\u4e8b\u60c5\u641e\u5f97\u4e00\u56e2\u7cdf\uff0c\u8fdb\u5165\u4e86\u8352\u8bde\u4e0d\u7ecf\u7684\u5883\u754c\u3002\n\u8fd9\u4e9b\u8ba1\u5212\u4e00\u5f00\u59cb\u90fd\u662f\u51fa\u4e8e\u6700\u597d\u7684\u610f\u56fe\u3002\u201c\u5982\u679c\u6211\u4eec\u7684\u7f51\u7ad9\u5012\u584c\u4e86\u600e\u4e48\u529e\uff1f\u201d\u8fd9\u7edd\u5bf9\u662f\u8d1f\u8d23\u4efb\u7684\u4f01\u4e1a\u548cFacebook\u9700\u8981\u95ee\u7684\u95ee\u9898\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5f53\u6211\u5728DuckBill Group\u7684\u4fdd\u9669\u5355\u4e0a\u4e70\u4e1c\u897f\u65f6\uff0c\u5176\u4e2d\u4e00\u4e2a\u95ee\u9898\u662f\u201c\u4f60\u4eec\u6709DR\u8ba1\u5212\u5417\uff1f\u201d\u63a5\u4e0b\u6765\u7684\u4e00\u53e5\u8bdd\u662f\u201c\u8bf7\u9644\u4e0a\u4e00\u4efd\u201d\uff0c\u6240\u4ee5\u4f60\u4e0d\u80fd\u5c31\u8fd9\u6837\u6e9c\u4e4b\u5927\u5409\u3002\n\u6b64\u5916\uff0c\u5982\u679c\u60a8\u7684\u6570\u636e\u4e2d\u5fc3\u6216\u4e91\u670d\u52a1\u63d0\u4f9b\u5546\u4f38\u51fa\u63f4\u624b\uff0c\u201c\u563f\uff0c\u6211\u4eec\u7684\u8bbe\u65bd\u73b0\u5728\u662f\u4e00\u4e2a\u70df\u6d1e\uff0c\u56e0\u4e3a\u4e8b\u5b9e\u8bc1\u660e\uff0c\u7528\u5b9e\u9645\u4e0a\u662f\u5de8\u578b\u538b\u7f29\u70b8\u5f39\u7684\u4e1c\u897f\u7ed9\u5b83\u63d0\u4f9b\u52a8\u529b\uff0c\u6709\u4e00\u4e9b\u6211\u4eec\u5b8c\u5168\u6ca1\u6709\u9884\u6599\u5230\u7684\u6545\u969c\u6a21\u5f0f\u3002\u201d\u60a8\u81f3\u5c11\u4f1a\u60f3\u8981\u5bf9\u4e0b\u4e00\u6b65\u505a\u4ec0\u4e48\u6709\u4e00\u4e2a\u5927\u81f4\u7684\u60f3\u6cd5\u3002\n\u4e0d\uff0c\u4e0d\u662f\u201c\u66f4\u65b0\u4f60\u7684\u7b80\u5386\uff0c\u627e\u4e00\u4efd\u65b0\u5de5\u4f5c\u201d\uff0c\u4f60\u8fd9\u4e2a\u61e6\u592b\u3002\u6211\u4eec\u7a0d\u540e\u4f1a\u8bb2\u5230\u90a3\u90e8\u5206\u3002\n\u8fd9\u4e9b\u8ba1\u5212\u7684\u95ee\u9898\u5728\u4e8e\uff0c\u5b83\u4eec\u66b4\u9732\u4e86\u5bf9\u5931\u8d25\u662f\u5982\u4f55\u8fd0\u4f5c\u7684\u4e25\u91cd\u7f3a\u4e4f\u7406\u89e3\u3002\u968f\u7740\u73af\u5883\u7684\u53d1\u5c55\uff0c\u5176\u5e94\u7528\u7a0b\u5e8f\u904d\u53ca\u5168\u7403\uff0c\u4e0e\u5176\u8bf4\u7ad9\u70b9\u662f\u6b63\u5e38\u8fd0\u884c\u7684\uff0c\u4e0d\u5982\u8bf4\u662f\u7ad9\u70b9\u5173\u95ed\u7684\u95ee\u9898\uff0c\u800c\u66f4\u591a\u7684\u662f\u201c\u5b83\u6709\u591a\u574f\u201d\u7684\u95ee\u9898\u3002\n\u77e5\u9053\u4f55\u65f6\u542f\u52a8\u707e\u96be\u6062\u590d\u8ba1\u5212\u6c38\u8fdc\u4e0d\u4f1a\u50cf\u684c\u9762\u7ec3\u4e60\u90a3\u6837\u6e05\u6670\u3002\u5982\u679c\u4f60\u7684\u670d\u52a1\u63d0\u4f9b\u8005\u672a\u80fd\u4e0e\u4f60\u6c9f\u901a\u6b63\u5728\u53d1\u751f\u7684\u4e8b\u60c5\uff0c\u4f60\u4f1a\u6fc0\u6d3b\u8be5\u8ba1\u5212\u8fd8\u662f\u5c1d\u8bd5\u7b49\u5f85\u5b83\u7ed3\u675f\uff1f\n\u707e\u96be\u6062\u590d\u8ba1\u5212\u8fd8\u53d7\u5230\u8fd9\u6837\u4e00\u79cd\u81ea\u8d1f\u7684\u5f71\u54cd\uff0c\u5373\u4ed6\u4eec\u80fd\u591f\u9884\u6d4b\u4efb\u4f55\u7ed9\u5b9a\u505c\u673a\u7684\u89c4\u6a21\u548c\u8303\u56f4\u3002\u201c\u5f53\u7136\uff0c\u5982\u679c\u6570\u636e\u5e93\u670d\u52a1\u5668\u51fa\u73b0\u6545\u969c\uff0c\u5b83\u4e0d\u4f1a\u4ee5\u7834\u574f\u5176\u526f\u672c\u7684\u65b9\u5f0f\u8fd9\u6837\u505a\u201d\u662f\u8fd9\u4e00\u70b9\u7684\u4e00\u79cd\u8868\u8fbe\u65b9\u5f0f\uff0c\u4e5f\u662f\u4e00\u79cd\u5e38\u89c1\u7684\u8868\u8fbe\u65b9\u5f0f\u3002\n\u5982\u679c\u4f60\u5728AWS\u7684us-tirefire-1\u4e2d\uff0c\u5e76\u4e14\u4f60\u6d4b\u8bd5\u4e86\u4f60\u7684\u8ba1\u5212\uff0c\u505a\u51fa\u4e86\u79fb\u6c11\u5230\u4fc4\u4ea5\u4fc4\u5dde\u7684\u7cdf\u7cd5\u7684\u4eba\u751f\u51b3\u5b9a\uff0c\u90a3\u4e48\u5728\u4f60\u7684DR\u7ec3\u4e60\u671f\u95f4\uff0c\u8fd9\u5c06\u4f1a\u975e\u5e38\u6709\u6548\u3002\u5728\u5730\u533a\u6027AWS\u4e2d\u65ad\u7684\u60c5\u51b5\u4e0b\uff0c\u5b83\u7684\u5de5\u4f5c\u6548\u679c\u53ef\u80fd\u4f1a\u5dee\u5f97\u591a\uff0c\u56e0\u4e3a\u5927\u7ea6\u4e00\u534a\u7684\u4e92\u8054\u7f51\u7528\u6237\u5c06\u5c1d\u8bd5\u505a\u5b8c\u5168\u76f8\u540c\u7684\u4e8b\u60c5\u3002\n\u60a8\u7684\u707e\u96be\u6062\u590d\u8ba1\u5212\u662f\u5426\u8003\u8651\u5230EC2\u5b9e\u4f8b\u8c03\u914d\u9700\u898145\u5206\u949f\uff1f\u8fd9\u662f\u5426\u8bf4\u660e\u4e86EBS\u5ef6\u8fdf\u8fdc\u9ad8\u4e8e\u6b63\u5e38\u6c34\u5e73\uff1f\u5982\u679c\u4f60\u4e0d\u5c0f\u5fc3\uff0c\u201c\u4e00\u7fa4\u5927\u8c61\u201d\u7684\u95ee\u9898\u4f1a\u628a\u4f60\u8e29\u6b7b\uff0c\u800c\u4e14\u6ca1\u6709\u597d\u7684\u65b9\u6cd5\u53ef\u4ee5\u63d0\u524d\u6d4b\u8bd5\u8fd9\u4e00\u70b9\u3002\n\u707e\u96be\u6062\u590d\u8ba1\u5212\u4e5f\u662f\u56fa\u5b9a\u65f6\u95f4\u70b9\u7684\u5feb\u7167\u3002\u5982\u679c\u60a8\u5728\u4e00\u5bb6\u8fdb\u884c\u5b63\u5ea6\u707e\u96be\u6062\u590d\u6d4b\u8bd5\u7684\u5546\u5e97-\u5267\u900f\uff1a\u51e0\u4e4e\u6ca1\u6709\u4e00\u5bb6\u8fd9\u6837\u505a\uff0c\u5c3d\u7ba1\u4ed6\u4eec\u5728\u5ba1\u6838\u8bc1\u660e\u4e2d\u58f0\u79f0-\u53d1\u751f\u7684\u60c5\u51b5\u662f\uff0c\u60a8\u8bd5\u56fe\u8fd0\u884c\u4e0a\u4e2a\u5b63\u5ea6\u7684\u707e\u96be\u6062\u590d\u8ba1\u5212\uff0c\u4f46\u5b83\u9047\u5230\u4e86\u95ee\u9898\u5e76\u5931\u8d25\u3002\u4f60\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\uff0c\u518d\u524d\u8fdb\u4e00\u6b65\u6216\u4e24\u6b65\uff0c\u5c31\u4f1a\u9047\u5230\u4e0d\u540c\u7684\u95ee\u9898\u3002\u60a8\u4e0d\u65ad\u91cd\u590dDR\u8ba1\u5212\uff0c\u76f4\u5230\u5b83\u751f\u6548\uff0c\u7136\u540e\u60a8\u5c31\u53ef\u4ee5\u9009\u4e2d\u8868\u5355\u4e0a\u7684\u201c\u795d\u798f\u201d\u6846\u3002\n\u9664\u975e\u4f60\u4e00\u76f4\u5728\u6d4b\u8bd5\u4f60\u7684\u707e\u96be\u6062\u590d\u8ba1\u5212\uff0c\u5426\u5219\u5b83\u51e0\u4e4e\u80af\u5b9a\u4f1a\u5728\u4f60\u6700\u9700\u8981\u7684\u65f6\u5019\u4ee5\u4e00\u79cd\u6ed1\u7a3d\u7684\u65b9\u5f0f\u5d29\u6e83\u3002\n\u4efb\u4f55\u4e0d\u662f\u7531\u5f7b\u5934\u5f7b\u5c3e\u7684\u5c0f\u4e11\u64b0\u5199\u7684DR\u8ba1\u5212\u90fd\u5fc5\u987b\u9884\u5148\u51c6\u786e\u5730\u89e3\u51b3\u5176\u9002\u7528\u7684\u89c4\u6a21\u548c\u8303\u56f4\u3002\u201c\u6211\u4eec\u4e22\u5931\u4e86\u4e3b\u6570\u636e\u5e93\u201d\u662f\u4e00\u4e2a\u5e38\u89c1\u4e14\u5f88\u597d\u7684\u793a\u4f8b\uff0c\u8bf4\u660e\u4e86\u60a8\u7684\u707e\u96be\u6062\u590d\u8ba1\u5212\u5e94\u8be5\u6db5\u76d6\u54ea\u4e9b\u5185\u5bb9\u3002\u201c\u4e16\u754c\u7684\u56db\u5206\u4e4b\u4e09\u88ab\u5c0f\u884c\u661f\u6467\u6bc1\u201d\u5c06\u4f1a\u6709\u4e0d\u540c\u7684\u7b54\u6848--\u5bf9\u4e8e\u6211\u4eec\u6240\u6709\u4eba\u6765\u8bf4\uff0c\u6211\u4eec\u7684\u7f51\u7ad9\u5c06\u4f1a\u5173\u95ed\uff0c\u56e0\u4e3a\u5728\u53ef\u9884\u89c1\u7684\u672a\u6765\uff0c\u6211\u4eec\u90fd\u5c06\u6709\u66f4\u5927\u7684\u95ee\u9898\u8981\u62c5\u5fc3\u3002\n\u5373\u4f7f\u662f\u5904\u4e8e\u8fd9\u4e24\u4e2a\u6781\u7aef\u4e4b\u95f4\u7684\u4e8b\u60c5-\u6bd4\u5982\u201cAWS\u5931\u53bb\u4e00\u4e2a\u4e3b\u8981\u5730\u533a\u4e00\u4e2a\u6708\u201d-\u4e5f\u5f88\u53ef\u80fd\u4f1a\u6ed1\u7a3d\u5730\u8131\u79bb\u73b0\u5b9e\uff0c\u56e0\u4e3a\u5b83\u4eec\u6ca1\u6709\u8003\u8651\u5230\u4eba\u7c7b\u7684\u884c\u4e3a\u3002\n\u6211\u66fe\u7ecf\u5728\u4e00\u4e2a\u53d7\u76d1\u7ba1\u7684\u73af\u5883\u4e2d\u5de5\u4f5c\uff0c\u5728\u90a3\u91cc\u6211\u662f\u707e\u96be\u6062\u590d\u8ba1\u5212\u7684\u5173\u952e\u5458\u5de5\u3002\u201c\u8fd9\u662f\u6211\u4eec\u5728\u8fdc\u79bb\u65e7\u91d1\u5c71\u7684\u5730\u65b9\uff0c\u4ee5\u9632\u8fd9\u5ea7\u57ce\u5e02\u65e0\u6cd5\u7ef4\u6301\u5de5\u4f5c\uff1b\u90a3\u6837\u7684\u8bdd\uff0c\u6211\u4eec\u90fd\u4f1a\u5728\u707e\u96be\u5ba3\u5e03\u540e\u7684\u56db\u4e2a\u5c0f\u65f6\u5185\u5728\u8fd9\u91cc\u4f1a\u5408\u3002\u201d\n\u9664\u975e\u8fd9\u662f\u4f60\u7b2c\u4e00\u6b21\u9047\u5230\u6211\u7684\u6027\u683c\uff0c\u5426\u5219\u4f60\u5927\u6982\u53ef\u4ee5\u731c\u5230\u90a3\u6b21\u8c08\u8bdd\u662f\u600e\u4e48\u8fdb\u884c\u7684\u3002\n\u201c\u662f\u7684\uff0c\u6253\u6270\u4e00\u4e0b\uff01\u95ee\u4f60\u4eec\u4e00\u4e2a\u95ee\u9898\uff0c\u8fd9\u771f\u7684\u53ea\u662f\u4e00\u4ef6\u5c0f\u4e8b\u3002\u6211\u4eec\u7684\u7535\u8111\u90fd\u4e0d\u5728\u65e7\u91d1\u5c71\uff1b\u5b83\u4eec\u90fd\u662f\u4e91\u6258\u7ba1\u5728\u5f88\u8fdc\u7684\u7531AWS\u7ba1\u7406\u7684\u79d8\u5bc6\u5730\u70b9\u3002\u4f60\u80fd\u627e\u51fa\u4e00\u79cd\u60c5\u51b5--\u4efb\u4f55\u4e00\u79cd\u60c5\u51b5--AWS\u5931\u53bb\u4e86\u4e00\u4e2a\u5730\u533a\uff0c\u65e7\u91d1\u5c71\u51fa\u4e8e\u5de5\u4f5c\u76ee\u7684\u4e0d\u9002\u5408\u5c45\u4f4f\uff0c\u8fd9\u91cc\u7684\u4e00\u540d\u5458\u5de5\u7ed9\u51fa\u4e86\u4efb\u4f55\u7c7b\u4f3c\u4e8e\u5de5\u4f5c\u7684\u5e9f\u8bdd\uff0c\u800c\u4e0d\u662f\u4ed6\u4eec\u7684\u5bb6\u4eba\uff1f\u6b64\u5916\uff0c\u8ba9\u6211\u4eec\u5047\u8bbe\u8fd9\u79cd\u8fde\u7eed\u4e09\u5468\u4e2d\u5f69\u7968\u5927\u5956\u7684\u60c5\u51b5\u53d1\u751f\u4e86\uff1b\u4f60\u5230\u5e95\u8ba4\u4e3a\u6211\u4eec\u7684\u54ea\u4e9b\u5458\u5de5\u611a\u8822\u5230\u8db3\u4ee5\u7ee7\u7eed\u4ee5\u73b0\u6709\u7684\u5de5\u8d44\u5de5\u4f5c\uff0c\u800c\u4e0d\u662f\u6210\u4e3a\u4e00\u4e9b\u7a81\u7136\u9762\u4e34\u6bd4\u6211\u4eec\u6602\u8d35\u5f97\u591a\u7684\u95ee\u9898\u7684\u516c\u53f8\u7684\u987e\u95ee\uff0c\u6708\u85aa\u6570\u767e\u4e07\u7f8e\u5143\uff1f\u6211\u4e0d\u8bb0\u5f97\u5728\u6211\u4eec\u7684\u7ae0\u7a0b\u4e2d\uff0c\u201c\u96c7\u4f63\u5bf9\u6240\u6709\u4e8b\u60c5\u90fd\u975e\u5e38\u806a\u660e\u7684\u4eba\uff0c\u9664\u4e86\u77e5\u9053\u81ea\u5df1\u7684\u5e02\u573a\u4ef7\u503c\u4e4b\u5916\u201d\u3002\u6211\u9519\u8fc7\u4e86\u90a3\u6bb5\u8bdd\u5417\uff1f\u201c\u3002\n\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\uff0c\u201c\u8fd9\u592a\u8352\u8c2c\u4e86\uff0c\u6211\u8f9e\u804c\u4e86\u201d\u5c06\u4f1a\u662f\u4f60\u7684\u5458\u5de5\u7684\u53cd\u5e94--\u4ed6\u4eec\u4f1a\u662f\u5bf9\u7684\u3002\n\u535a\u58eb\u7684\u8ba1\u5212\u5f80\u5f80\u4f1a\u5b8c\u5168\u8df3\u8fc7\u8fd9\u4e00\u70b9\uff0c\u800c\u5ffd\u7565\u4e86\u66f4\u5927\u7684\u56fe\u666f\u3002\u5f53\u7136\uff0c\u597d\u5427-\u4f60\u6709\u4e00\u4e2a\u653f\u7b56\uff0c\u4f60\u7684\u4e09\u540d\u9ad8\u7ba1\u4e0d\u80fd\u90fd\u4e58\u5750\u540c\u4e00\u67b6\u98de\u673a(\u5947\u602a\u7684\u662f\uff0c\u6ca1\u6709\u5173\u4e8e\u4ed6\u4eec\u4e58\u5750\u540c\u4e00\u8f86\u8f66\u7684\u653f\u7b56)\uff0c\u4f46\u4f60\u4e00\u63d0\u5230Azure\uff0c\u4f60\u7684\u5de5\u7a0b\u56e2\u961f\u5c31\u4f1a\u6709\u4e00\u534a\u4eba\u8f9e\u804c\u3002\n\u5b9e\u9645\u4e0a\uff0c\u9e2d\u5634\u7ec4\u7684\u707e\u96be\u6062\u590d\u653f\u7b56\u89c4\u5b9a\uff0c\u6211\u4eec\u7528\u51e0\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\u5907\u4efd\u6211\u4eec\u7684\u6570\u636e\u3002\u6211\u4eec\u5b8c\u5168\u662f\u8fdc\u7a0b\u7684\uff0c\u6240\u4ee5\u5982\u679c\u4efb\u4f55\u5458\u5de5\u7684\u4e92\u8054\u7f51\u505c\u6b62\u5de5\u4f5c\uff0c\u4ed6\u4eec\u5927\u6982\u53ef\u4ee5\u5728\u5496\u5561\u5385\u5de5\u4f5c\uff0c\u4e5f\u53ef\u4ee5\u4ece\u7535\u8bdd\u4e0a\u5de5\u4f5c\u3002\u5982\u679c\u6211\u4eec\u7684\u4e91\u7ecf\u6d4e\u5b66\u5bb6\u5c45\u4f4f\u7684\u591a\u4e2a\u57ce\u5e02\u7a81\u7136\u53d8\u5f97\u4e0d\u9002\u5408\u5de5\u4f5c\uff0c\u6211\u4eec\u51c6\u5907\u5728\u5047\u8bbe\u6ca1\u6709\u4eba\u4f1a\u8fc7\u5ea6\u5173\u5fc3\u5f53\u6708\u7684AWS\u8d26\u5355\u7684\u60c5\u51b5\u4e0b\u8fd0\u8425\u3002\n\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u91c7\u53d6\u4e86\u4e00\u79cd\u73b0\u5b9e\u7684\u89c2\u70b9\uff0c\u4e0d\u4f9d\u8d56\u4e8e\u6211\u4eec\u7684\u5458\u5de5\u5728\u5371\u6025\u5173\u5934\u727a\u7272\u81ea\u5df1\u6216\u5bb6\u4eba\u7684\u798f\u7949\u3002\u6211\u4eec\u6ca1\u60f3\u5230\u76ae\u7279\u00b7\u5207\u65af\u6d1b\u514b\u8fd8\u4f1a\u7ee7\u7eed\u5de5\u4f5c\uff0c\u56e0\u4e3a\u6211\u4eec\u90fd\u662f\u4eba\uff0c\u6240\u4ee5\u6211\u628a\u4ed6\u516c\u53f8\u7684\u6c7d\u8f66\u6258\u8fd0\u641e\u7838\u4e86\u3002\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\uff0c\u4f60\u5fc5\u987b\u6709\u4e00\u4e2a\u8d85\u8d8a\u4e2a\u4eba\u7684\u4e1a\u52a1\u8fde\u7eed\u6027\u8ba1\u5212--\u89c1\u9b3c\uff0c\u6211\u4eec\u81ea\u5df1\u505a\uff01-\u4f46\u8fd9\u79cd\u5168\u529b\u4ee5\u8d74\u7684\u8ba1\u5212\u4e0d\u80fd\u4ee5\u5ffd\u89c6\u4eba\u4eec\u7684\u57fa\u672c\u4eba\u6027\u4e3a\u4ee3\u4ef7\u3002\n\u5982\u679c\u4f60\u7684\u96c7\u4e3b\u7684DR\u8ba1\u5212\u662f\u7531\u5c0f\u4e11\u5199\u7684\uff0c\u5e76\u4e14\u5047\u8bbe\u4f60\u4f1a\u628a\u4ed6\u4eec\u653e\u5728\u6bd4\u4f60\u7684\u5bb6\u5ead\u66f4\u91cd\u8981\u7684\u4f4d\u7f6e\uff0c\u6211\u5efa\u8bae\u4f60\u627e\u4e00\u4e2a\u65b0\u7684\u5730\u65b9\u5de5\u4f5c\u3002\n\u968f\u65f6\u5173\u6ce8\u6700\u65b0\u7684AWS\u65b0\u95fb\u3001\u89c2\u70b9\u548c\u5de5\u5177\uff0c\u6240\u6709\u8fd9\u4e9b\u90fd\u5145\u6ee1\u7231\u610f\u5730\u5939\u6742\u7740\u4e00\u4e9b\u5c16\u523b\u7684\u8a00\u8f9e\u3002\n\u6211\u4eec\u662f\u4e92\u8054\u7f51\u4e0a\u552f\u4e00\u5c16\u9178\u523b\u8584\u7684\u8d44\u6e90\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u4e1c\u897f\u90fd\u662faws\u2026\u3002\u6211\u4eec\u77e5\u9053\u8fd9\u4e00\u70b9\u3002", "note_en": "If you take a look somewhere in an engineering VP or Director\u2019s office, you\u2019ll find a binder that hasn\u2019t been touched in a while labeled \u201cDR / BCM Plan.\u201d\n Disaster Recovery / Business Continuity Management planning are important things to take into consideration. But the clowns you work for have almost certainly screwed it up well into the realm of absurdity.\n  These plans start with the best of intentions. \u201cWhat happens if our site falls over?\u201d is absolutely the kind of thing that responsible businesses and also Facebook need to ask. In fact, when I was shopping around for  The Duckbill Group\u2019s insurance policy, one of the questions was \u201cDo you have a DR plan?\u201d The next sentence was \u201cplease attach a copy of it,\u201d so you couldn\u2019t just skate by.\n Further, if your data center or cloud service provider reaches out with a \u201cHey, so our facility is now a smoking hole in the ground because it turns out that powering it with what is in effect a  giant compressed bomb had some failure modes we didn\u2019t fully anticipate,\u201d you\u2019re going to want to have at least a rough idea of what to do next.\n No, not \u201cupdate your r\u00e9sum\u00e9 and look for a new job,\u201d you coward. We\u2019ll get to that part later.\n  The problem with these plans is that they betray a severe lack of understanding about how failures work. As an environment grows and its applications become world-spanning, it\u2019s less a question of whether the site is up or down and more a question of \u201cHow down is it?\u201d\n Knowing when to activate the DR plan is never as clear-cut as it is in tabletop exercises. If your provider  fails to communicate with you about what\u2019s going on do you activate the plan or try to wait it out?\n DR plans also suffer from the conceit that they\u2019re able to predict the scale and scope of any given outage. \u201cSurely if the database server fails, it won\u2019t do so in a manner that corrupts its replica\u201d is one expression of this, and a common one.\n  If you\u2019re in AWS\u2019s  us-tirefire-1 and you test your plan to make the poor life decision of migrating to Ohio, that\u2019s going to work pretty well during your DR exercise. It\u2019s likely to work far less well in the event of a regional AWS outage because roughly half of the internet will be attempting to do the exact same thing.\n Did your DR plan account for EC2 instance provisioning to take 45 minutes? Did it account for EBS latency well above normal? The \u201cherd of elephants\u201d problem will stampede you to death if you\u2019re not careful, and there\u2019s no good way to test for this in advance.\n DR plans are also snapshots of fixed points in time. If you\u2019re at a shop that does quarterly DR tests\u2014spoiler: almost none do, despite what they claim in their audit attestations\u2014what happens is you attempt to run the DR plan from last quarter and it runs into a problem and fails. You fix that, move forward another step or two, and hit a different problem. You keep iterating on your DR plan until it works, and you get to check the blessed box on the form.\n  Unless you\u2019re testing your DR plan continually, it\u2019s almost certainly going to break in hilarious fashion right when you need it most.\n  Any DR plan that isn\u2019t written by complete clowns is going to have to address up front exactly what the scale and scope of its applicability is. \u201cWe lost the primary database\u201d is a common and great example of what your DR plan should cover. \u201cThree quarters of the world is destroyed by an asteroid\u201d is going to have different answers\u2014and for almost all of us, our sites will be down because we\u2019ll all have bigger problems to worry about for the foreseeable future.\n Even things in the middle of these two extremes\u2014such as \u201cAWS loses a major region for a month\u201d\u2014are likely to be hilariously out of touch just because they fail to account for human behaviors.\n  I once worked in a regulated environment where I was a key employee with respect to the DR plan. \u201cHere\u2019s our offsite location well outside of San Francisco in case the city isn\u2019t able to sustain work; in that event we\u2019ll all rendezvous here within four hours of the disaster being declared.\u201d\n Unless this is your first encounter with my personality, you can probably guess how that conversation went.\n \u201cYes, excuse me! One question for you folks, and it\u2019s just a minor thing really. None of our computers live in San Francisco; they\u2019re cloud hosted very far away in undisclosed locations managed by AWS. Can you identify a single scenario\u2014any scenario at all\u2014in which AWS lost a region, San Francisco was uninhabitable for work purposes, and a single employee here gave anything remotely resembling a crap about work instead of, y\u2019know, their families? Further, let\u2019s assume that this hit-the-lottery-jackpot-three-weeks-in-a-row scenario happens; exactly which of our employees do you believe are dumb enough to continue working for their existing salaries rather than becoming multi-million dollar a month consultants for a number of companies who suddenly have far, far, far more expensive problems than we will? I don\u2019t recall \u2018hire people who are incredibly intelligent about everything except knowing their own market worth\u2019 as being in our charter. Did I miss that paragraph?\u201d\n  At some point, \u201cthis is ridiculous; I quit\u201d is going to be your staff\u2019s response\u2014and they\u2019ll be right.\n DR plans tend to skip over this entirely and lose sight of the bigger picture. Sure, okay\u2014you have a policy that three of your executives can\u2019t all travel on the same plane (strangely, there\u2019s no such policy about them riding in the same car), but half of your engineering team will quit the second you mention Azure.\n  The Duckbill Group\u2019s DR policy states, in effect, that we back up our data a couple of different ways. We\u2019re fully remote, so should any employee\u2019s internet stop working, they can presumably work from a coffee shop or tether from a phone. Should the multiple cities in which our Cloud Economists reside suddenly become unsuitable for work, we are prepared to operate on the assumption that nobody is going to care overly much about their AWS bills that month.\n In effect, we take a realistic view that doesn\u2019t depend upon our employees sacrificing themselves or their families\u2019 well being in extremis. We didn\u2019t expect Pete Cheslock to keep working after I  messed up drop-shipping his company car because we\u2019re human beings. At some scale, you\u2019ve gotta have a business continuity plan that transcends individuals\u2014heck, we do ourselves!\u2014but that flat out can\u2019t come at the expense of overlooking people\u2019s basic humanity.\n If your employer\u2019s DR plan is written by clowns and assumes you\u2019ll prioritize them over your family, I suggest you find a new place to work.\n Stay up to date on the latest AWS news, opinions, and tools, all lovingly sprinkled with a bit of snark.\n   We\u2019re the internet\u2019s only snarky, sarcastic resource for literally anything and everything AWS\u2026 and we know it.", "posttime": "2020-08-13 10:00:32", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u6062\u590d,recovery,\u8ba1\u5212", "title": "\u707e\u96be\u6062\u590d\u8ba1\u5212\u662f\u5c0f\u4e11\u4eec\u5199\u7684\u4e00\u4e2a\u7b11\u8bdd", "title_en": "Disaster Recovery Plan Is a Joke Written by Clowns", "transed": 1, "url": "https://www.lastweekinaws.com/blog/your-disaster-recovery-plan-is-a-joke-written-by-clowns/", "via": "", "real_tags": ["\u6062\u590d", "recovery", "\u8ba1\u5212"]}, {"category": "", "categoryclass": "", "imagename": "de1fbf6e2bd65da2d1ded5fb2f023336.jpeg", "infoid": 1017864, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u53ef\u5370\u5237\u623f\u5c4b\u4ee3\u8868\u4e86\u6700\u65b0\u7684\u5efa\u7b51\u6d6a\u6f6e\uff0c\u4f46\u5b83\u4eec\u5e76\u4e0d\u603b\u662f\u4fbf\u5b9c\u6216\u5bb9\u6613\u5efa\u9020\u7684\u3002\n\u4eca\u5e743\u6708\uff0c\u603b\u90e8\u4f4d\u4e8e\u65e7\u91d1\u5c71\u7684\u4f4f\u623f\u975e\u8425\u5229\u6027\u7ec4\u7ec7New Story\u548c\u8bbe\u8ba13D\u6253\u5370\u673a\u7684\u5efa\u7b51\u6280\u672f\u516c\u53f8Icon\u6253\u7834\u4e86\u8fd9\u4e9b\u523b\u677f\u5370\u8c61\uff0c\u5728\u77ed\u77ed48\u5c0f\u65f6\u5185\u751f\u4ea7\u51fa\u4e86\u4e00\u5957\u4ef7\u503c1\u4e07\u7f8e\u5143\u7684\u5c0f\u623f\u5b50\u3002\n\u8fd9\u6240\u623f\u5b50\u6709350\u5e73\u65b9\u82f1\u5c3a\uff0c\u6bd4\u666e\u901a\u7684\u5c0f\u623f\u5b50\u4fbf\u5b9c\u5f97\u591a\uff0c\u540e\u8005\u7684\u4ef7\u683c\u5f98\u5f8a\u57282.5\u4e07\u7f8e\u5143\u5de6\u53f3\uff0c\u4f46\u5f80\u5f80\u53ef\u4ee5\u8fbe\u5230\u516d\u4f4d\u6570\u3002\u5728\u4f7f\u75283D\u6253\u5370\u6280\u672f\u4e4b\u524d\uff0cNew Story\u82b1\u4e868\u4e2a\u6708\u7684\u65f6\u95f4\u5efa\u9020\u4e86100\u5957\u4f4f\u623f\uff0c\u6bcf\u5957\u6210\u672c\u7ea6\u4e3a6000\u7f8e\u5143\u3002\n\u5728\u5f00\u53d1\u539f\u578b\u7684\u540c\u65f6\uff0cIcon\u7684\u6253\u5370\u673a\uff0c\u4e5f\u5c31\u662f\u4f17\u6240\u5468\u77e5\u7684Vulcan\uff0c\u8fd0\u884c\u901f\u5ea6\u53ea\u670925%\u3002\u8fd9\u8ba9\u8fd9\u4e9b\u516c\u53f8\u6709\u4fe1\u5fc3\uff0c\u4ed6\u4eec\u53ef\u4ee5\u5728\u77ed\u77ed24\u5c0f\u65f6\u5185\u4ee54000\u7f8e\u5143\u6216\u66f4\u5c11\u7684\u4ef7\u683c\u5efa\u9020\u4e00\u5957600\u81f3800\u5e73\u65b9\u82f1\u5c3a\u7684\u623f\u5b50\u3002\n\u5f53\u8c08\u5230\u751f\u4ea7\u4e00\u5957\u5927\u7ea62000\u5e73\u65b9\u82f1\u5c3a\u7684\u4e2d\u7b49\u5927\u5c0f\u7684\u623f\u5b50\u65f6\uff0c\u8282\u7701\u7684\u6210\u672c\u5c31\u4e0d\u90a3\u4e48\u660e\u663e\u4e86\u3002\u5728\u5fb7\u514b\u8428\u65af\u5dde\u5965\u65af\u6c40\u53d1\u5e03\u4ef7\u503c1\u4e07\u7f8e\u5143\u7684\u539f\u578b\u4e00\u5e74\u540e\uff0cIcon\u544a\u8bc9\u201c\u534e\u5c14\u8857\u65e5\u62a5\u201d\uff0c\u6253\u5370\u4e00\u59572000\u5e73\u65b9\u82f1\u5c3a\u7684\u623f\u5b50\u5927\u7ea6\u8981\u82b1\u8d392\u4e07\u7f8e\u5143\u3002\n\u66f4\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8be5\u516c\u53f8\u5347\u7ea7\u540e\u7684\u6253\u5370\u673aVulcan II\u73b0\u5728\u53ef\u4ee5\u8d2d\u4e70\uff0c\u5f88\u5feb\u5c31\u53ef\u4ee5\u7528\u6765\u5728\u5965\u65af\u6c40\u548c\u62c9\u4e01\u7f8e\u6d32\u7b49\u5730\u751f\u4ea7\u8d1f\u62c5\u5f97\u8d77\u7684\u4f4f\u5b85\u3002\n\u56fe\u6807\u7684\u7b2c\u4e00\u4e2a3D\u6a21\u578b\u8ba9\u4eba\u5f97\u4ee5\u4e00\u7aa5\u8fd9\u53f0\u673a\u5668\u672a\u6765\u80fd\u751f\u4ea7\u4ec0\u4e48\u3002\u77a7\u4e00\u77a7\u3002\n\u70b9\u51fb\u201c\u6ce8\u518c\u201d\uff0c\u5373\u8868\u793a\u60a8\u540c\u610f\u63a5\u6536\u6765\u81eaBusiness Insider\u7684\u8425\u9500\u7535\u5b50\u90ae\u4ef6\u4ee5\u53ca\u5176\u4ed6\u5408\u4f5c\u4f19\u4f34\u4f18\u60e0\uff0c\u5e76\u63a5\u53d7\u6211\u4eec\u7684\u670d\u52a1\u6761\u6b3e\u548c\u9690\u79c1\u653f\u7b56\u3002\n\u5f62\u6210\u4e00\u6761X\u7684\u4e24\u6761\u4ea4\u53c9\u7ebf\u3002\u5b83\u6307\u793a\u4e00\u79cd\u5173\u95ed\u4ea4\u4e92\u6216\u53d6\u6d88\u901a\u77e5\u7684\u65b9\u5f0f\u3002", "note_en": "Printable homes represent the latest wave in construction, but they&#39;re not always cheap or easy to build.\n In March, New Story, a housing nonprofit based in San Francisco, and Icon, a construction-technology company that designs 3D printers, defied these stereotypes by producing a  $10,000 tiny  home  in just 48 hours.\n     At 350 square feet, the house was far cheaper than the average tiny home, which has a  price tag hovering at around $25,000, but can often  reach six figures. Before using 3D-printing technology, it took New Story eight months to build 100 homes, each costing about $6,000.\n While the prototype was being developed, Icon&#39;s printer, known as the Vulcan, \u00a0was running at  only 25% speed. That  gave the companies confidence that they could build a 600- to 800-square-foot home in just 24 hours for $4,000 or less.\n When it comes to producing an average-sized home \u2014 around 2,000 square feet \u2014 the savings aren&#39;t quite as stark. A year after releasing its  $10,000 prototype in Austin, Texas, Icon  told the Wall Street Journal that printing a 2,000-square-foot home would cost around $20,000.\n More remarkable is the fact that the company&#39;s upgraded printer, the Vulcan II, is now available for purchase, and could soon be used to produce affordable homes in places like Austin and Latin America.\n   Icon&#39;s first 3D model offers a glimpse of what the machine could produce in the future. Take a look.\n  By clicking \u2018Sign up\u2019, you agree to receive marketing emails from Business Insider as well as other partner offers and accept our  Terms of Service and  Privacy Policy.\n        Two crossed lines that form an &#39;X&#39;. It indicates a way to close an interaction, or dismiss a notification.", "posttime": "2020-08-13 10:00:15", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u6253\u5370,homes,\u751f\u4ea7", "title": "\u6253\u5370\u8017\u65f624\u5c0f\u65f6\u4e14\u4e0d\u52304K\u7f8e\u5143\u76843D\u623f\u5c4b", "title_en": "3D homes that take 24 hours and less than $4k to print", "transed": 1, "url": "https://www.businessinsider.com/3d-homes-that-take-24-hours-and-less-than-4000-to-print-2018-9#the-vulcan-ii-can-produce-a-home-seamlessly-onsite-without-having-to-piece-together-individual-units-1", "via": "", "real_tags": ["\u6253\u5370", "homes", "\u751f\u4ea7"]}, {"category": "", "categoryclass": "", "imagename": "ea18d919e1ffb865208440e1021d8842.png", "infoid": 1017863, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\\$\\Begingroup\\$\u6709\u6ca1\u6709\u53ef\u80fd\u7528VHDL\u4ee3\u7801\u635f\u574fFPGA\uff1f\u4ec0\u4e48\u6837\u7684\u60c5\u51b5\u4f1a\u5bfc\u81f4\u8fd9\u79cd\u60c5\u51b5\uff0c\u6700\u7cdf\u7cd5\u7684\u60c5\u51b5\u662f\u4ec0\u4e48\uff1f\n\\$\\endgroup\\$\u3002\n\u6211\u80fd\u60f3\u5230\u7684\u552f\u4e00\u573a\u666f\u662f\u8fd9\u6837\u4e00\u79cd\u8bbe\u8ba1\uff0c\u5176\u4e2d\u5f88\u591aFF\u88ab\u8ba1\u65f6\uff0c\u4ee5\u4fbf\u52a0\u70edFPGA\u3002\\$\\endgroup\\$-cladio Avi Chami\u3002\n\u597d\u7684\uff0c\u5b83\u53ef\u4ee5\u96c6\u6210\u5230\u4e00\u4e2a\u8bbe\u8ba1\u4e0d\u4f73\u7684\u7535\u8def\u4e2d\uff0c\u5982\u679c\u7f16\u7a0b\u4e0d\u5f53\uff0c\u5b83\u4f1a\u5728\u71c3\u70e7\u7684\u4e1c\u897f\u5468\u56f4\u6d41\u51fa\u4e00\u4e9b\u7535\u6d41\u3002\u7ec4\u522b--\u5c24\u91d1\u00b7\u65bd\u5bc6\u7279(Eugene Sh.)\u3002\n\u6700\u574f\u7684\u60c5\u51b5\u53ef\u80fd\u662fFPGA\u88ab\u7528\u4e8e\u673a\u5668\u5b66\u4e60\uff0c\u5e76\u521b\u5efa\u4e86\u4e00\u4e2a\u7834\u574f\u4e16\u754c\u548c\u5b87\u5b99\u7684\u6d41\u6c13\u4eba\u5de5\u667a\u80fd\u3002\u66f4\u4e25\u91cd\u7684\u662f\uff0c\u5982\u679c\u60a8\u5728\u8fde\u63a5\u5230\u8ba1\u7b97\u673a\u7684FPGA\u4e2d\u4f7f\u7528\u672a\u7ecf\u68c0\u67e5\u7684\u4ee3\u7801\uff0c\u5b83\u53ef\u80fd\u4f1a\u611f\u67d3\u8be5\u8ba1\u7b97\u673a\u3002\u6b64\u5916\uff0c\u5982\u679c\u5b83\u88ab\u7528\u6765\u63a7\u5236\u5927\u529f\u7387\u8bbe\u5907\uff0c\u4f60\u53ef\u4ee5\u70e7\u6bc1\u4e00\u5ea7\u5efa\u7b51\u3002\\$\\endgroup\\$-\u7528\u9014\u6807\u7b7e\u3002\n\u9664\u4e86@\u533f\u540d\u8005\u7684\u56de\u7b54\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e9b\u8bbe\u8ba1\u53ef\u80fd\u4f1a\u7834\u574fFPGA\u7684\u7ed3\u6784\u3002\n\u5bf9\u4e8e\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u5982\u679c\u60a8\u6784\u5efa\u4e86\u4e00\u4e2a\u7531\u5927\u91cf\u5bc4\u5b58\u5668(\u4f8b\u5982\uff0cFPGA\u768470%)\u7ec4\u6210\u7684\u975e\u5e38\u5927\u7684\u8bbe\u8ba1\uff0c\u6240\u6709\u5bc4\u5b58\u5668\u7684\u65f6\u949f\u90fd\u63a5\u8fd1FPGA\u7684\u6700\u5927\u9891\u7387\uff0c\u90a3\u4e48\u5c31\u6709\u53ef\u80fd\u5bf9\u7845\u8fdb\u884c\u76f8\u5f53\u5927\u7684\u52a0\u70ed\u3002\u5982\u679c\u6ca1\u6709\u8db3\u591f\u7684\u51b7\u5374\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7269\u7406\u635f\u574f\u3002\u6211\u4eec\u635f\u5931\u4e86\u4e00\u53f0\u4ef7\u503c13K\u7f8e\u5143\u7684FPGA\uff0c\u56e0\u4e3a\u5f00\u53d1\u5957\u4ef6\u7684\u51b7\u5374\u7cfb\u7edf\u5f88\u7cdf\u7cd5\uff0c\u5bfc\u81f4\u5b83\u8fc7\u70ed\u3002\n\u53e6\u4e00\u79cd\u66f4\u7b80\u5355\u7684\u60c5\u51b5\u53ef\u4ee5\u662f\u7ec4\u5408\u5faa\u73af\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5b9e\u4f8b\u5316\u4e09\u4e2a\u5728\u73af\u4e2d\u94fe\u63a5\u5728\u4e00\u8d77\u7684\u975e\u95e8\uff0c\u5e76\u7981\u7528\u6216\u5ffd\u7565\u5173\u4e8e\u8fd9\u79cd\u7ed3\u6784\u7684\u5408\u6210\u5668\u8b66\u544a\uff0c\u60a8\u53ef\u80fd\u4f1a\u5f62\u6210\u5bf9FPGA\u975e\u5e38\u4e0d\u5229\u7684\u4e1c\u897f\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u4f60\u5c06\u5236\u4f5c\u4e00\u4e2a\u591aGHz\u632f\u8361\u5668\uff0c\u5b83\u53ef\u4ee5\u5728\u975e\u5e38\u5c0f\u7684\u533a\u57df\u5185\u4ea7\u751f\u5927\u91cf\u7684\u70ed\u91cf\uff0c\u53ef\u80fd\u4f1a\u635f\u574fALM\u548c\u5468\u56f4\u7684\u903b\u8f91\u3002\n\\$\\endgroup\\$\u3002\n\u7ec4\u5408\u5faa\u73af\u6709\u65f6\u88ab\u8ba4\u4e3a\u662f\u771f\u968f\u673a\u6570\u751f\u6210\u5668\u3002\u6211\u6ca1\u6709\u4f7f\u7528\u73af\u5f62\u632f\u8361\u5668\u7684\u7ecf\u9a8c\uff0c\u4f46\u6211\u6000\u7591\u53ea\u6709\u4e09\u4e2a\u95e8\u4e0d\u4f1a\u6709\u4ec0\u4e48\u5bb3\u5904\u3002\u7136\u800c\uff0c\u5c06\u5176\u8f93\u51fa\u9a71\u52a8\u5230\u8bb8\u591a\u95e8\u53ef\u80fd\u4f1a\u9020\u6210\u4f24\u5bb3\u3002\\$\\endgroup\\$-ENDGROUP\u5b89\u5fb7\u70c8\u4e9a\u65af\u3002\n\u6211\u73b0\u5728\u67092-3\u5757\u677f\u6ca1\u6709\u7528\u4e86\uff0c\u56e0\u4e3a\u4e0a\u9762\u6709\u65af\u5df4\u8fbe6\u53f7\u7684\u8bbe\u8ba1\u9519\u8bef\u3002\u6211\u8981\u8bd5\u4e00\u8bd5\uff1ap\\$\\endgroup\\$-AntoineLev\u3002\n\\$\\Begingroup\\$\u8fd8\u53ef\u4ee5\u52a0\u8f7d\u963b\u6b62\u52a0\u8f7d\u5176\u4ed6\u4f4d\u6d41\u7684\u4f4d\u6d41\uff0c\u6216\u8005\u81f3\u5c11\u4f7f\u52a0\u8f7d\u53d8\u5f97\u76f8\u5f53\u56f0\u96be\u3002\\$\\endgroup\\$-vladimir Cravero\u3002\n\\$\\Begingroup\\$Code\u5728\u6b64\u4e0a\u4e0b\u6587\u4e2d\u4e0d\u662f\u6b63\u786e\u7684\u8bcd\u3002\u867d\u7136Verilog\u6216VHDL\u770b\u8d77\u6765\u50cf\u7a0b\u5e8f\uff0c\u4f46\u7f16\u8bd1\u5668\u7684\u8f93\u51fa\u662f\u52a0\u8f7d\u5230FPGA\u82af\u7247\u4e2d\u7684\u914d\u7f6e\uff0c\u5728FPGA\u82af\u7247\u4e2d\u5f62\u6210\u4e86\u7535\u5b50\u7535\u8def\u3002\n\u7269\u7406\u635f\u574f\uff1a\u4f8b\u5982\uff0c\u51e0\u4e2aFPGA\u5f15\u811a\u8fde\u63a5\u5728\u4e00\u8d77(\u6216\u8fde\u63a5\u5230\u53e6\u4e00\u4e2a\u8bbe\u5907)\uff0c\u5e76\u5f00\u59cb\u540c\u65f6\u8f93\u51fa\u4e0d\u540c\u7684\u903b\u8f91\u7535\u538b\u3002\u7535\u6d41\u6d41\u52a8--\u53ef\u80fd\u662f\u8fc7\u5927\u7684\u7535\u6d41--\u6700\u7ec8\u4f1a\u635f\u574f\u95f8\u95e8\uff1b\n\u903b\u8f91\u635f\u574f\uff1a\u7535\u8def\u53ef\u80fd\u5bf9FLASH\u82af\u7247\u6216\u914d\u7f6e\u8bbe\u5907\u5904\u7406\u4e0d\u5f53\uff0c\u635f\u574f\u5176\u4e2d\u7684\u6570\u636e\u6620\u50cf\uff0c\u6700\u7ec8\u5bfc\u81f4\u6574\u4e2a\u8bbe\u5907\u53d1\u751f\u6545\u969c\u3002\n\\$\\endgroup\\$\n\u5173\u4e8e\u7269\u7406\u635f\u5bb3\u7684\u8bdd\u9898\u53ef\u80fd\u662f\u4f5c\u54c1\u5f15\u8bed\u7684\u51fa\u5904\u3002\u4f5c\u4e3a\u4e00\u540d\u8f6f\u4ef6\u5f00\u53d1\u4eba\u5458\uff0c\u6211\u88ab\u544a\u77e5\u4e00\u822c\u89c4\u5219\u662f\uff0c\u8f6f\u4ef6\u4e0d\u5e94\u8be5\u5bf9\u8bbe\u5907\u9020\u6210\u7269\u7406\u4f24\u5bb3\uff0c\u800c\u56fa\u4ef6\u53ef\u80fd\u4f1a\u9020\u6210\u635f\u574f\uff0c\u4f8b\u5982\u5c06\u4e24\u4e2a\u6f5c\u6c34\u5458\u8fde\u63a5\u5728\u4e00\u8d77\u3002\\$\\endgroup\\$-Cort Ammon\u3002\n\\$\\egingroup\\$@CortAmmon&#34\uff1b\u4f8b\u5982\u5c06\u4e24\u540d\u6f5c\u6c34\u5458\u76f8\u4e92\u8fde\u63a5-\u8fd9\u662f\u4ec0\u4e48\uff0c\u7a7a\u6c14\u8f6f\u7ba1\u4ea4\u53c9\u8fde\u63a5\u5f00\u5173\uff1f\\$\\endgroup\\$-4user253751\u3002\n\\$\\Begingroup\\$@immibis\u4f60\u6293\u5230\u6211\u4e86\uff01\u5b9e\u9645\u7684\u89c4\u5219\u662f\uff0c\u5f53\u4f60\u7684\u4f19\u4f34\u547c\u5438\u65f6\uff0c\u4e0d\u8981\u4f9d\u8d56\u4f60\u4f19\u4f34\u8111\u888b\u91cc\u7684\u8f6f\u4ef6/\u8f6f\u8f6f\u4ef6\uff0c\u800c\u662f\u59cb\u7ec8\u7262\u7262\u6293\u4f4f\u4f60\u7684\u8c03\u8282\u5668\u3002&#34\uff1b\uff1b-)\\$\\endgroup\\$--Cort Ammon\u3002\n\\$\\Begingroup\\$\u9519\u8bef\u5730\u5c06\u4e00\u5757\u8f93\u5165\u5f15\u811a\u914d\u7f6e\u4e3a\u8f93\u51fa\u53ef\u80fd\u4f1a\u9020\u6210\u8fd9\u79cd\u60c5\u51b5\uff0c\u5982\u679c\u9a71\u52a8\u5b83\u4eec\u7684\u4efb\u4f55\u5176\u4ed6\u56e0\u7d20\u90fd\u8db3\u591f\u786c\u7684\u8bdd\u3002\n\u6211\u4e0d\u77e5\u9053\u5728IO\u5b58\u50a8\u4f53\u7531\u8fc7\u9ad8\u7535\u538b\u4f9b\u7535(\u4f8b\u5982\uff0c3.3V\u7535\u6e90\uff0c1.8V IO\u6807\u51c6\uff0c\u6216\u76f8\u53cd\u7684\u8f93\u5165\u7535\u538b)\u7684\u60c5\u51b5\u4e0b\uff0c\u4e3aLVDS\u6216LVCMOS\u6807\u51c6\u914d\u7f6e\u4e00\u4e9b\u5f15\u811a\u662f\u5426\u53ef\u4ee5\u505a\u5230\u8fd9\u4e00\u70b9\uff1f\n\u663e\u7136\uff0c\u70ed\u95ee\u9898\u53ef\u80fd\u662f\u901a\u8fc7\u505a\u4e00\u4e9b\u611a\u8822\u7684\u4e8b\u60c5\u6765\u5b9e\u73b0\u7684\uff0c\u6bd4\u5982\u5b9e\u4f8b\u5316\u5f88\u591a\u5f88\u591a\u73af\u5f62\u632f\u8361\u5668\u3002\n\\$\\endgroup\\$\u3002\n\u4f5c\u4e3a\u8bbe\u8ba1\u7ea6\u675f\u7ed9\u51fa\u7684I/O\u6807\u51c6\u4ec5\u7528\u4e8e\u5b9a\u65f6\u8ba1\u7b97\u3002\u5982\u679cI/O\u7ec4\u662f3.3V\u7ec4\u5e76\u75313.3V\u4f9b\u7535\uff0c\u5219\u5982\u679c\u9009\u62e91.8V\u6807\u51c6\uff0c\u5219\u4e0d\u4f1a\u53d1\u751f\u4efb\u4f55\u60c5\u51b5\u3002\\$\\endgroup\\$-s Paebbels\n\\$\\egingroup\\$@paebbels\uff0c\u4e0d\u786e\u5b9a\u60a8\u4f7f\u7528\u7684\u662f\u54ea\u79cd\u5de5\u5177\uff0c\u4f46\u901a\u5e38\u5728\u60a8\u8bbe\u7f6eI/O\u6807\u51c6\u65f6\uff0c\u5b83\u4f1a\u63a7\u5236\u8be5I/O\u4f4d\u7f6e\u7684\u7535\u538b\u3002\u5982\u679c\u5c06FPGA\u8f93\u5165\u5f15\u811a\u8bbe\u7f6e\u4e3a\u6bd4\u5916\u90e8\u8bbe\u5907\u9a71\u52a8\u8be5\u5f15\u811a\u7684\u7535\u538b\u4f4e\u5f97\u591a\u7684\u7535\u538b\uff0c\u5219\u8be5FPGA\u8f93\u5165\u53ef\u80fd\u4f1a\u635f\u574f\u3002\\$\\endgroup\\$-s Ciano\u3002\n\\$\\Begingroup\\$@Ciano\uff0c\u8fd9\u662f\u4e0d\u6b63\u786e\u7684\u3002\u5f15\u811a\u7535\u538b\u53d6\u51b3\u4e8eI/O\u5b58\u50a8\u4f53\u7535\u538b\uff0c\u800c\u4e0d\u662f\u7ea6\u675f\u3002\\$\\endgroup\\$-s Paebbels\u3002\n\\$\\Begingroup\\$FPGA\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u4f7f\u7528\u65b0\u7684(\u90e8\u5206)\u4f4d\u6d41\u91cd\u65b0\u914d\u7f6e\u3002\u901a\u5e38\uff0c\u6b64\u6d41\u662f\u4ece\u5916\u90e8\u6e90\u52a0\u8f7d\u7684\uff0c\u4f46\u60a8\u4e5f\u53ef\u4ee5\u5728FPGA\u4e2d\u81ea\u5df1\u521b\u5efa\u5b83(\u4f8b\u5982\uff0c\u7531\u5d4c\u5165\u5f0f\u8f6f\u6838CPU\u521b\u5efa)\u3002\u4f7f\u7528\u8fd9\u6837\u7684\u89e3\u51b3\u65b9\u6848\u6765\u52a8\u6001\u91cd\u65b0\u5b9a\u4f4d\u5b50\u8bbe\u8ba1\uff0c\u5e76\u4e0d\u80fd\u63d0\u4f9b\u4f9b\u5e94\u5546\u5de5\u5177\u6240\u505a\u7684\u6240\u6709\u4e00\u81f4\u6027\u68c0\u67e5\u3002\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u7684\u7b97\u6cd5\u88ab\u7834\u574f\uff0c\u60a8\u53ef\u80fd\u4f1a\u542f\u7528FPGA\u4e2d\u7684\u5047\u8def\u5f84\u6676\u4f53\u7ba1\u5e76\u70e7\u5f55\u5b83\u4eec\u3002\n\\$\\endgroup\\$\u3002\n\u70b9\u51fb\u201c\u53d1\u5e03\u60a8\u7684\u7b54\u6848\u201d\uff0c\u5373\u8868\u793a\u60a8\u540c\u610f\u6211\u4eec\u7684\u670d\u52a1\u6761\u6b3e\u3001\u9690\u79c1\u653f\u7b56\u548cCookie\u653f\u7b56\u3002\n\u4e0d\u662f\u4f60\u60f3\u8981\u7684\u7b54\u6848\u5417\uff1f\u6d4f\u89c8\u6807\u8bb0\u7684\u5176\u4ed6\u95ee\u9898\u6216\u63d0\u51fa\u60a8\u81ea\u5df1\u7684\u95ee\u9898\u3002", "note_en": "\\$\\begingroup\\$  Is it even possible to damage a FPGA with VHDL code? What kind of conditions would cause this and what are the worst case scenarios?\n      \\$\\endgroup\\$\n  \\$\\begingroup\\$  The only scenario I could think of is of a design where many, many FFs are clocked so to heat the FPGA.  \\$\\endgroup\\$\r\u2013\u00a0 Claudio Avi Chami\n  \\$\\begingroup\\$  Well, it can be incorporated in a poorly designed circuit, which will run some currents around burning stuff if not programmed properly.  \\$\\endgroup\\$\r\u2013\u00a0 Eugene Sh.\n  \\$\\begingroup\\$  worst case scenario probably is that the fpga is used for machine learning and creates a rogue AI that destroys the world and universe. more seriously, if you are using unchecked code in an fpga connected to computer, it may infect said computer. also if it&#39;s used to control high power devices, you can burn a building.  \\$\\endgroup\\$\r\u2013\u00a0 satibel\n  \\$\\begingroup\\$  Adding to @Anonymous&#39;s answer, there are designs you can build which can damage the fabric of an FPGA.\n For starters if you build a very large design consisting of huge quantities of registers (e.g. 70% of the FPGA) all clocked at nearing the FPGAs maximum frequency, it is possible to heat the silicon considerably. Without sufficient cooling this can cause physical damage. We lost a $13k FPGA because it overheated due to the dev-kit having a terrible cooling system.\n Another simpler case can be combinational loops. For example if you instantiate three not gates chained together in a ring, and disable or ignore the synthesizers warnings about such a structure, you can form something which is very bad for an FPGA. In this example you&#39;d make a multi-GHz oscillator which could produce a lot of heat in a very small area, probably damaging the ALM and surrounding logic.\n    \\$\\endgroup\\$\n  \\$\\begingroup\\$  Combinatorial loops are sometimes suggested as true-random-number-generators. I have no experience with  ring oscillators, but I doubt only three gates will do any harm. Driving its output to many gates will probably do harm though.  \\$\\endgroup\\$\r\u2013\u00a0 Andreas\n  \\$\\begingroup\\$  thx I have 2-3 boards now useless because of design mistakes with spartan 6 on them. I will give this a try :P  \\$\\endgroup\\$\r\u2013\u00a0 AntoineLev\n  \\$\\begingroup\\$  It is also possible to load a bitstream that prevents loading other bitstreams, or at least makes it quite difficult to do.  \\$\\endgroup\\$\r\u2013\u00a0 Vladimir Cravero\n      \\$\\begingroup\\$  Code is not a right word in this context. While Verilog or VHDL look like program, the output of the compiler is a configuration which is loaded into the FPGA chip forming electronic circuit within it.\n  physical damage: for example, several FPGA pins are connected together (or to another device) and start outputting different logical voltage at the same time. Current flows - might be excessive current - which eventually damages the gate(s);\n logical damage: circuit may handle flash chip, or configuration device improperly, and corrupt data image in it, this whole device eventually malfunctions.\n    \\$\\endgroup\\$\n  \\$\\begingroup\\$  The topic of physical damage might be where the OP&#39;s quote came from. As a software developer, I&#39;ve been told a general rule is that &#34;software&#34; should not be able to do physical harm to the device while &#34;firmware&#34; can cause damage, such as connecting two divers to each other.  \\$\\endgroup\\$\r\u2013\u00a0 Cort Ammon\n  \\$\\begingroup\\$  @CortAmmon &#34;such as connecting two divers to each other&#34; - What is this, an air-hose cross-connect switch?  \\$\\endgroup\\$\r\u2013\u00a0 user253751\n  \\$\\begingroup\\$  @immibis You got me! The actual rule was &#34;do not rely on the software/squishyware in your buddy&#39;s head while buddy breathing, instead always have a  firm grasp on your regulator.&#34; ;-)  \\$\\endgroup\\$\r\u2013\u00a0 Cort Ammon\n    \\$\\begingroup\\$  Misconfiguring a block of input pins as outputs might do it if whatever else is driving them is stiff enough.\n I don&#39;t know if configuring some pins for LVDS or one of the LVCMOS standards while the IO bank is powered from an overly high voltage (3.3V power with a 1.8V IO standard for example, or the opposite on an input) would do it?\n Obviously thermal problems may be a possibility by doing something silly like instantiating many, many, ring oscillators.\n    \\$\\endgroup\\$\n  \\$\\begingroup\\$  The I/O standard given as constraints to the design is just for timing calculations. If the I/O bank is a 3.3 V bank and powered by 3.3V nothing happens if you chose a 1.8 V standard.  \\$\\endgroup\\$\r\u2013\u00a0 Paebbels\n  \\$\\begingroup\\$  @Paebbels, not sure which tool you&#39;re using but usually when you set an I/O standard it controls the voltage of that I/O location. If an FPGA input pin is set to a much lower voltage than what the external device is driving into that pin, that FPGA input can be damaged.  \\$\\endgroup\\$\r\u2013\u00a0 Ciano\n  \\$\\begingroup\\$  @Ciano that not correct. The pin voltage depends on the I/O bank voltage not on a constraint.  \\$\\endgroup\\$\r\u2013\u00a0 Paebbels\n      \\$\\begingroup\\$  FPGAs can be reconfigured at runtime with a new (partial) bitstream. Normally, this stream is loaded from an external source, but you can also create it by your self in the FPGA (e.g. by an embedded softcore CPU). Using such a solution for e.g. dynamically relocating subdesigns, doesn&#39;t provide all the consistency checks as done by the vendor tools. So if your algorithm is broken, you might enable the false path transistors in an FPGA and burn them.\n    \\$\\endgroup\\$\n    By clicking \u201cPost Your Answer\u201d, you agree to our  terms of service,  privacy policy and  cookie policy\n  Not the answer you&#39;re looking for? Browse other questions tagged     or  ask your own question.", "posttime": "2020-08-13 09:59:53", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u4ee3\u7801,\u53ef\u80fd,fpga", "title": "\u6709\u6ca1\u6709\u53ef\u80fd\u7528VHDL\u4ee3\u7801\u635f\u574fFPGA\uff1f", "title_en": "Is it possible to damage a FPGA with VHDL code?", "transed": 1, "url": "https://electronics.stackexchange.com/questions/293915/vhdl-that-can-damage-fpga", "via": "", "real_tags": ["\u4ee3\u7801", "\u53ef\u80fd", "fpga"]}, {"category": "", "categoryclass": "", "imagename": "e2f2ccda154dc17653513f5270ef453f.png", "infoid": 1017862, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u8fd9\u7bc7\u535a\u6587\u8865\u5145\u4e86\u6211\u6700\u8fd1\u5728MacOS\u4e0a\u7684BlackHat/DefCon Talk\uff0c&Office Drama\u3002\u6458\u8981\uff1a\u5728Windows\u4e16\u754c\u4e2d\uff0c\u57fa\u4e8e\u5b8f\u7684Office\u653b\u51fb\u662f\u4f17\u6240\u5468\u77e5\u7684(\u5766\u7387\u5730\u8bf4\uff0c\u8fd9\u662f\u76f8\u5f53\u9648\u65e7\u7684\u65b0\u95fb)\u3002\u7136\u800c\uff0c\u5728MacOS\u4e0a\uff0c\u5c3d\u7ba1\u8fd9\u7c7b\u653b\u51fb\u8d8a\u6765\u8d8a\u53d7\u6b22\u8fce\uff0c\u800c\u4e14\u76f8\u5f53\u6d41\u884c\uff0c\u4f46\u5b83\u4eec\u53d7\u5230\u7684\u7814\u7a76\u548c\u5b89\u5168\u793e\u533a\u7684\u5173\u6ce8\u8981\u5c11\u5f97\u591a\u3002\u5728\u8fd9\u6b21\u6f14\u8bb2\u4e2d\uff0c\u6211\u4eec\u5c06\u4ece\u5206\u6790\u6700\u8fd1\u9488\u5bf9\u82f9\u679c\u684c\u9762\u64cd\u4f5c\u7cfb\u7edf\u7684\u5b8f\u52a0\u8f7d\u6587\u6863\u5f00\u59cb\uff0c\u91cd\u70b9\u4ecb\u7ecdMacOS\u7279\u5b9a\u7684\u653b\u51fb\u4ee3\u7801\u548c\u6709\u6548\u8d1f\u8f7d\u3002\u867d\u7136\u590d\u6742\u7684APT\u7ec4\u7ec7\u662f\u5176\u4e2d\u51e0\u4e2a\u653b\u51fb\u7684\u5e55\u540e\u9ed1\u624b\uff0c\u4f46\u8fd9\u4e9b\u6076\u610f\u6587\u6863\u53ca\u5176\u6709\u6548\u8d1f\u8f7d\u4ecd\u7136\u53d7\u5230\u6700\u8fd1\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u64cd\u4f5c\u7cfb\u7edf\u7ea7\u522b\u5b89\u5168\u673a\u5236\u7684\u4e25\u683c\u7ea6\u675f\u3002\n\u7136\u800c\uff0c\u60c5\u51b5\u53ef\u80fd\u8981\u7cdf\u7cd5\u5f97\u591a\uff01\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5c06\u8be6\u7ec6\u4ecb\u7ecd\u5982\u4f55\u521b\u5efa\u4e00\u4e2a\u5f3a\u5927\u7684\u6f0f\u6d1e\u94fe\uff0c\u8be5\u6f0f\u6d1e\u94fe\u4eceCVE-2019-1457\u5f00\u59cb\uff0c\u5229\u7528\u65b0\u7684\u6c99\u76d2\u9003\u9038\uff0c\u4ee5\u5b8c\u5168\u7ed5\u8fc7\u82f9\u679c\u4e25\u683c\u7684\u516c\u8bc1\u8981\u6c42\u7ed3\u675f\u3002\u53ea\u9700\u6253\u5f00\u6076\u610f(\u5b8f\u82b1\u8fb9)Office\u6587\u6863\u5373\u53ef\u89e6\u53d1\uff0c\u4e0d\u9700\u8981\u4efb\u4f55\u8b66\u62a5\u3001\u63d0\u793a\u6216\u5176\u4ed6\u7528\u6237\u4ea4\u4e92\u5373\u53ef\u6301\u7eed\u611f\u67d3\u5373\u4f7f\u662f\u5b89\u88c5\u4e86\u5b8c\u6574\u8865\u4e01\u7684MacOS Catalina\u7cfb\u7edf\uff01\n\u6700\u540e\uff0c\u6211\u4eec\u5c06\u63a2\u7d22Apple\u7684\u65b0Endpoint Security Framework\uff0c\u8bf4\u660e\u5982\u4f55\u5229\u7528\u5b83\u6765\u963b\u6b62\u6211\u4eec\u7684\u5229\u7528\u94fe\u7684\u6bcf\u4e2a\u9636\u6bb5\uff0c\u4ee5\u53ca\u4e00\u822c\u5730\u68c0\u6d4b\u9ad8\u7ea7\u201c\u6587\u6863\u4f20\u9012\u201d\u7684\u6709\u6548\u8d1f\u8f7d\uff0c\u751a\u81f3\u662f\u6301\u4e45\u6027\u7684\u6c11\u65cf\u56fd\u5bb6\u6076\u610f\u8f6f\u4ef6\uff01", "note_en": "In this blog post complements my recent BlackHat/DefCon talk, &#34; Office Drama on macOS&#34;.    Abstract: In the world of Windows, macro-based Office attacks are well understood (and frankly are rather old news). However on macOS though such attacks are growing in popularity and are quite en vogue, they have received far less attention from the research and security community. In this talk, we will begin by analyzing recent macro-laden documents targeting Apple\u2019s desktop OS, highlighting the macOS-specific exploit code and payloads. Though sophisticated APT groups are behind several of these attacks, these malicious documents and their payloads remain severely constrained by recent application and OS-level security mechanisms.\n However, things could be far worse! Here, we\u2019ll detail the creation of a powerful exploit chain that began with  CVE-2019-1457, leveraged a new sandbox escape and ended with a full bypass of Apple\u2019s stringent notarization requirements. Triggered by simply opening a malicious (macro-laced) Office document, no alerts, prompts, nor other user interactions were required in order to persistently infect even a fully-patched macOS Catalina system!\n To conclude, we\u2019ll explore Apple\u2019s new Endpoint Security Framework illustrating how it can be leveraged to thwart each stage of our exploit chain, as well as generically detect advanced \u201cdocument-delivered\u201d payloads and even persistent nation-state malware!", "posttime": "2020-08-13 09:14:44", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "macos,drama,office", "title": "MacOS\u5e73\u53f0\u4e0a\u7684\u529e\u516c\u5927\u620f", "title_en": "Office Drama on macOS", "transed": 1, "url": "https://objective-see.com/blog/blog_0x4B.html", "via": "", "real_tags": ["macos", "drama", "office"]}, {"category": "", "categoryclass": "", "imagename": "92f33871f0de33c6b64b1b7e966c17c5.jpg", "infoid": 1017859, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u591a\u4f4d\u6d88\u606f\u4eba\u58eb\u544a\u8bc9ZDNet\uff0cMozilla\u548c\u8c37\u6b4c\u9884\u8ba1\u5c06\u628a\u76ee\u524d\u7684\u641c\u7d22\u534f\u8bae\u518d\u5ef6\u957f\u4e09\u5e74\u3002\n\u65b0\u7684\u641c\u7d22\u534f\u8bae\u5c06\u786e\u4fdd\u8c37\u6b4c\u57282023\u5e74\u4e4b\u524d\u4e00\u76f4\u662fFirefox\u6d4f\u89c8\u5668\u5185\u7684\u9ed8\u8ba4\u641c\u7d22\u5f15\u64ce\u63d0\u4f9b\u5546\uff0c\u4f30\u8ba1\u4ef7\u683c\u7ea6\u4e3a\u6bcf\u5e744\u4ebf\u81f34.5\u4ebf\u7f8e\u5143\u3002\nMozilla\u7684\u5b98\u5458\u9884\u8ba1\u5c06\u5728\u4eca\u5e74\u79cb\u5929\u665a\u4e9b\u65f6\u5019\uff0c\u4e5f\u5c31\u662f11\u6708\u5ba3\u5e03\u5ef6\u957f\u641c\u7d22\u534f\u8bae\u7684\u671f\u9650\uff0c\u5c4a\u65f6\u8be5\u516c\u53f8\u5c06\u62ab\u9732\u51762019\u5e74\u7684\u8d22\u52a1\u6570\u636e\u3002\n\u65b0\u534f\u8bae\u7684\u6761\u6b3e\u662f\u5728Mozilla\u5468\u4e09\u5ba3\u5e03\u8ba1\u5212\u88c1\u5458250\u591a\u4eba\u540e\u6cc4\u9732\u7ed9\u8bb0\u8005\u7684\uff0c\u6b64\u4e3e\u4ee4\u8bb8\u591a\u7528\u6237\u5bf9\u8fd9\u5bb6\u6d4f\u89c8\u5668\u5236\u9020\u5546\u7684\u672a\u6765\u611f\u5230\u62c5\u5fe7\uff0c\u56e0\u4e3aMozilla\u76ee\u524d\u4e0e\u8c37\u6b4c\u7684\u641c\u7d22\u534f\u8bae\u5b9a\u4e8e\u4eca\u5e74\u5e74\u5e95\u5230\u671f\u3002\u8fd9\u4efd\u534f\u8bae\u7684\u6761\u6b3e\u662f\u5728Mozilla\u5ba3\u5e03\u8ba1\u5212\u88c1\u5458250\u591a\u4eba\u540e\u6cc4\u9732\u7ed9\u8bb0\u8005\u7684\uff0c\u6b64\u4e3e\u8ba9\u8bb8\u591a\u7528\u6237\u5bf9\u8fd9\u5bb6\u6d4f\u89c8\u5668\u5236\u9020\u5546\u7684\u672a\u6765\u611f\u5230\u62c5\u5fe7\uff0c\u56e0\u4e3aMozilla\u76ee\u524d\u4e0e\u8c37\u6b4c\u7684\u641c\u7d22\u534f\u8bae\u5c06\u4e8e\u4eca\u5e74\u5e74\u5e95\u5230\u671f\u3002\n\u7136\u800c\uff0c\u51e0\u4f4d\u6d88\u606f\u4eba\u58eb\u5df2\u7ecf\u8bc1\u5b9e\uff0c\u8be5\u7ec4\u7ec7\u7684\u8d22\u52a1\u72b6\u51b5\u826f\u597d\uff0c\u88c1\u5458\u662f\u5176\u6838\u5fc3\u4e1a\u52a1\u91cd\u7ec4\u7684\u4e00\u90e8\u5206\uff0cMozilla\u4ece\u76ee\u524d\u7684\u4e92\u8054\u7f51\u6807\u51c6\u7ba1\u5bb6\u548c\u4ea7\u54c1\u76ee\u5f55\u8bd5\u9a8c\u6027\u65b9\u6cd5\u8f6c\u5411\u66f4\u5177\u5546\u4e1a\u53ef\u884c\u6027\u7684\u4ea7\u54c1\uff0c\u8fd9\u4e9b\u4ea7\u54c1\u672c\u8eab\u5c31\u80fd\u4ea7\u751f\u6536\u5165\u3002\nMozilla\u7684\u957f\u671f\u8ba1\u5212\u662f\u4ece\u8ba2\u9605\u670d\u52a1\u4e2d\u5efa\u7acb\u81ea\u5df1\u7684\u6536\u5165\u6765\u6e90\uff0c\u5e76\u51cf\u5c11\u5bf9\u8c37\u6b4c\u641c\u7d22\u534f\u8bae\u7684\u4f9d\u8d56\u3002\u65e9\u57282006\u5e74\u4e24\u5bb6\u516c\u53f8\u5f00\u59cb\u5408\u4f5c\u65f6\uff0c\u8c37\u6b4c\u641c\u7d22\u534f\u8bae\u5c31\u5360\u5230\u4e86\u8be5\u516c\u53f8\u6574\u4e2a\u5e74\u5ea6\u9884\u7b97\u768475%\u523095%(2014\u5e74\u81f32017\u5e74\uff0cMozilla\u4e0e\u96c5\u864e\u7b7e\u7f72\u4e86\u7c7b\u4f3c\u7684\u534f\u8bae)\u3002\n\u6628\u5929\u7684\u88c1\u5458\u53cd\u6620\u4e86\u8fd9\u4e00\u8ba1\u5212\uff0cMozilla\u5173\u95ed\u4e86\u5176\u5a01\u80c1\u7ba1\u7406\u5b89\u5168\u56e2\u961f\uff0c\u8f6f\u4ef6\u5de5\u7a0b\u5e08\u6b63\u5728\u5f00\u53d1Mozilla\u8bd5\u9a8c\u6027\u7684Servo\u6d4f\u89c8\u5668\u5f15\u64ce\uff0c\u5f00\u53d1\u4eba\u5458\u8d1f\u8d23\u7ba1\u7406Mozilla\u5f00\u53d1\u4eba\u5458\u7f51\u7edc\u95e8\u6237\uff0c\u4ee5\u53caFirefox\u5f00\u53d1\u5de5\u5177\u80cc\u540e\u7684\u56e2\u961f\u3002\u6d88\u606f\u4eba\u58eb\u79f0\uff0c\u88c1\u5458\u662f\u8be5\u7ec4\u7ec7\u672a\u6765\u8ba1\u5212\u4e0d\u4f18\u5148\u8003\u8651\u7684\u9886\u57df\u7684\u4eba\u5458\u8fc7\u5269\u3002\n\u5728\u77ed\u671f\u5185\uff0c\u5f00\u653e\u6807\u51c6\u548c\u534f\u8bae\u7684\u5de5\u4f5c\u5c06\u8ba9\u4f4d\u4e8e\u5546\u4e1a\u5316\u7684\u52aa\u529b\uff0c\u4f46Mozilla\u5e76\u4e0d\u6253\u7b97\u5b8c\u5168\u505c\u6b62\u5176\u5728\u7f51\u7edc\u5f00\u53d1\u793e\u533a\u7684\u5de5\u4f5c\uff0c\u4e00\u65e6\u5176\u57fa\u4e8e\u8ba2\u9605\u7684\u670d\u52a1\u786e\u4fdd\u4e86\u957f\u671f\u7684\u4e1a\u52a1\u751f\u5b58\u80fd\u529b\uff0c\u5b83\u5f88\u53ef\u80fd\u4f1a\u56de\u5230\u7f51\u7edc\u6258\u7ba1\u4eba\u7684\u89d2\u8272\u4e0a\u6765\u3002\n\u76ee\u524d\u7684\u8ba1\u5212\u5305\u62ec\u652f\u6491\u548c\u6269\u5927\u5176\u6700\u8fd1\u63a8\u51fa\u7684VPN\u670d\u52a1\uff0c\u6216\u8bb8\u8fd8\u4f1a\u5c1d\u8bd5\u6536\u8d2d\u65b0\u7684\u6280\u672f\u4f01\u4e1a\uff0c\u8fd9\u4e9b\u4f01\u4e1a\u53ef\u4ee5\u65e0\u7f1d\u5730\u6574\u5408\u5230\u5176\u4ea7\u54c1\u76ee\u5f55\u4e2d\uff0c\u4f5c\u4e3a\u72ec\u7acb\u7684\u521b\u6536\u6765\u6e90\u3002\n\u8bb0\u8005\u8054\u7cfb\u5230Mozilla\u8bf7\u5176\u7f6e\u8bc4\uff0c\u4e00\u4f4dMozilla\u53d1\u8a00\u4eba\u8868\u793a\uff0c\u8be5\u7ec4\u7ec7\u76ee\u524d\u65e0\u53ef\u5949\u544a\uff1b\u7136\u800c\uff0c\u5728\u53d1\u5e03\u540e\u7684\u56de\u5e94\u4e2d\uff0cMozilla\u8bc1\u5b9e\u4e86\u6211\u4eec\u7684\u62a5\u9053\uff0c\u5e76\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u58f0\u660e\uff1a\nMozilla\u4e0e\u8c37\u6b4c\u7684\u641c\u7d22\u5408\u4f5c\u6b63\u5728\u8fdb\u884c\u4e2d\uff0c\u8c37\u6b4c\u5728\u5168\u7403\u8bb8\u591a\u5730\u65b9\u90fd\u662fFirefox\u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u641c\u7d22\u63d0\u4f9b\u5546\u3002\u6211\u4eec\u6700\u8fd1\u6269\u5927\u4e86\u5408\u4f5c\u5173\u7cfb\uff0c\u800c\u4e14\u5173\u7cfb\u6ca1\u6709\u6539\u53d8\u3002", "note_en": "Mozilla and Google are expected to extend their current search deal for another three years, multiple sources have told ZDNet.\n The new search deal will ensure Google remains the default search engine provider inside the Firefox browser until 2023 at an estimated price tag of around $400 million to $450 million per year.\n Mozilla officials are expected to announce the search deal&#39;s extension later this fall, in November, when the organization is scheduled to disclose its 2019 financial figures.\n Terms of the new deal were leaked to this reporter after  Mozilla announced plans to lay off more than 250 employees on Wednesday in a move that had many users fearing for the browser maker&#39;s future, as Mozilla&#39;s current Google search deal was scheduled to expire at the end of the year.\n However, several sources have confirmed that the organization is sound financially, and the layoffs were part of a restructuring of its core business, with Mozilla moving away from its current role of internet standards steward and experimental approach to its product catalog to more commercially-viable offerings that generate revenues on their own.\n Mozilla&#39;s long-term plan is to build its own revenue streams from subscription-based services and reduce its dependence on the Google search deal, which has historically accounted for between 75% and 95% of the organization&#39;s entire yearly budget as far back as 2006 when the two companies began collaborating (with a hiatus between 2014 and 2017, when Mozilla signed a similar agreement with Yahoo).\n Yesterday&#39;s layoffs reflect this plan, with Mozilla shuttering its threat management security team, software engineers working on Mozilla&#39;s experimental Servo browser engine, developers curating the Mozilla Developer Network portal, and the team behind Firefox&#39;s developer tools. Sources have described the layoffs as over-staffing in areas the organization was not planning to prioritize going forward.\n   Work on open standards and protocols will take a backseat to commercialization efforts in the short-term, but Mozilla doesn&#39;t plan to phase out its work in the web development community completely and will most likely come back to its role of web custodian once its subscription-based services ensure long-term business survivability.\n Current plans include shoring up and expanding its recently-launched VPN service and, maybe, dipping its toes into acquiring new tech ventures that could be seamlessly integrated into its product catalog as self-standing revenue-generating streams.\n Reached out for comment, a Mozilla spokesperson said the organization had nothing to comment at this point; however, in a response post-publication, Mozilla confirmed our report and provided the following statement:\n &#34;Mozilla&#39;s search partnership with Google is ongoing, with Google as the default search provider in the Firefox browser in many places around the world. We&#39;ve recently extended the partnership, and the relationship isn&#39;t changing.&#34;", "posttime": "2020-08-13 08:28:46", "source_domain": "slashdot.org", "source_name": "slashdot", "tags": "\u8c37\u6b4c,google,\u5ef6\u957f,extends,mozilla", "title": "Mozilla\u5ef6\u957f\u4e86\u8c37\u6b4c\u641c\u7d22\u534f\u8bae", "title_en": "Mozilla Extends its Google Search Deal", "transed": 1, "url": "https://www.zdnet.com/article/sources-mozilla-expected-to-extend-its-google-search-deal/", "via": "", "real_tags": ["\u8c37\u6b4c", "google", "\u5ef6\u957f", "extends", "mozilla"]}, {"category": "", "categoryclass": "", "imagename": "", "infoid": 1017858, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u5728\u67e5\u770b\u548c\u7406\u89e3\u6240\u6709\u7cfb\u7edf\u8c03\u7528\u5e76\u5c06\u5176\u4e0e\u6240\u6709\u7f51\u7edc\u64cd\u4f5c\u7684\u6570\u636e\u5305\u548c\u5957\u63a5\u5b57\u7ea7\u522b\u89c6\u56fe\u76f8\u7ed3\u5408\u7684\u57fa\u7840\u4e0a\uff0c\u4e3a\u4fdd\u62a4\u7cfb\u7edf\u63d0\u4f9b\u9769\u547d\u6027\u7684\u65b0\u65b9\u6cd5\u3002\u867d\u7136\u7cfb\u7edf\u8c03\u7528\u8fc7\u6ee4\u3001\u7f51\u7edc\u7ea7\u8fc7\u6ee4\u548c\u8fdb\u7a0b\u4e0a\u4e0b\u6587\u8ddf\u8e2a\u7684\u5404\u4e2a\u65b9\u9762\u901a\u5e38\u7531\u5b8c\u5168\u72ec\u7acb\u7684\u7cfb\u7edf\u5904\u7406\uff0c\u4f46eBPF\u5141\u8bb8\u5c06\u6240\u6709\u65b9\u9762\u7684\u53ef\u89c1\u6027\u548c\u63a7\u5236\u6027\u7ed3\u5408\u8d77\u6765\uff0c\u4ee5\u521b\u5efa\u5728\u66f4\u591a\u4e0a\u4e0b\u6587\u4e2d\u8fd0\u884c\u3001\u5177\u6709\u66f4\u597d\u63a7\u5236\u7ea7\u522b\u7684\u5b89\u5168\u7cfb\u7edf\u3002\n\u53ef\u7f16\u7a0b\u6027\u548c\u6548\u7387\u7684\u7ed3\u5408\u4f7feBPF\u81ea\u7136\u800c\u7136\u5730\u9002\u5408\u7f51\u7edc\u89e3\u51b3\u65b9\u6848\u7684\u6240\u6709\u6570\u636e\u5305\u5904\u7406\u8981\u6c42\u3002EBPF\u7684\u53ef\u7f16\u7a0b\u6027\u5141\u8bb8\u6dfb\u52a0\u989d\u5916\u7684\u534f\u8bae\u89e3\u6790\u5668\uff0c\u5e76\u4e14\u53ef\u4ee5\u8f7b\u677e\u5730\u5bf9\u4efb\u4f55\u8f6c\u53d1\u903b\u8f91\u8fdb\u884c\u7f16\u7a0b\uff0c\u4ee5\u6ee1\u8db3\u4e0d\u65ad\u53d8\u5316\u7684\u9700\u6c42\uff0c\u800c\u65e0\u9700\u79bb\u5f00Linux\u5185\u6838\u7684\u6570\u636e\u5305\u5904\u7406\u4e0a\u4e0b\u6587\u3002JIT\u7f16\u8bd1\u5668\u63d0\u4f9b\u7684\u6548\u7387\u63d0\u4f9b\u4e86\u63a5\u8fd1\u672c\u673a\u7f16\u8bd1\u7684\u5185\u6838\u5185\u4ee3\u7801\u7684\u6267\u884c\u6027\u80fd\u3002\n\u5c06eBPF\u7a0b\u5e8f\u9644\u52a0\u5230\u8ddf\u8e2a\u70b9\u4ee5\u53ca\u5185\u6838\u548c\u7528\u6237\u5e94\u7528\u7a0b\u5e8f\u63a2\u6d4b\u70b9\u7684\u80fd\u529b\u5141\u8bb8\u524d\u6240\u672a\u6709\u5730\u67e5\u770b\u5e94\u7528\u7a0b\u5e8f\u548c\u7cfb\u7edf\u672c\u8eab\u7684\u8fd0\u884c\u65f6\u884c\u4e3a\u3002\u901a\u8fc7\u8d4b\u4e88\u5e94\u7528\u7a0b\u5e8f\u7aef\u548c\u7cfb\u7edf\u7aef\u7684\u81ea\u7701\u80fd\u529b\uff0c\u8fd9\u4e24\u4e2a\u89c6\u56fe\u53ef\u4ee5\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u4ece\u800c\u5141\u8bb8\u5f3a\u5927\u800c\u72ec\u7279\u7684\u6d1e\u5bdf\u529b\u6765\u89e3\u51b3\u7cfb\u7edf\u6027\u80fd\u95ee\u9898\u3002\u5148\u8fdb\u7684\u7edf\u8ba1\u6570\u636e\u7ed3\u6784\u5141\u8bb8\u4ee5\u9ad8\u6548\u7684\u65b9\u5f0f\u63d0\u53d6\u6709\u610f\u4e49\u7684\u53ef\u89c6\u6570\u636e\uff0c\u800c\u4e0d\u9700\u8981\u50cf\u7c7b\u4f3c\u7cfb\u7edf\u901a\u5e38\u6240\u505a\u7684\u90a3\u6837\u5bfc\u51fa\u5927\u91cf\u91c7\u6837\u6570\u636e\u3002\nEBPF\u4e0d\u4f9d\u8d56\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u516c\u5f00\u7684\u9759\u6001\u8ba1\u6570\u5668\u548c\u91cf\u89c4\uff0c\u800c\u662f\u80fd\u591f\u57fa\u4e8e\u5e7f\u6cdb\u7684\u53ef\u80fd\u6765\u6e90\u6536\u96c6\u81ea\u5b9a\u4e49\u5ea6\u91cf\u548c\u751f\u6210\u53ef\u89c1\u6027\u4e8b\u4ef6\u7684\u5185\u6838\u5185\u805a\u5408\u3002\u8fd9\u6269\u5c55\u4e86\u53ef\u4ee5\u5b9e\u73b0\u7684\u53ef\u89c1\u6027\u6df1\u5ea6\uff0c\u5e76\u4e14\u901a\u8fc7\u4ec5\u6536\u96c6\u6240\u9700\u7684\u53ef\u89c1\u6027\u6570\u636e\u4ee5\u53ca\u901a\u8fc7\u5728\u4e8b\u4ef6\u6e90\u751f\u6210\u76f4\u65b9\u56fe\u548c\u7c7b\u4f3c\u7684\u6570\u636e\u7ed3\u6784\u800c\u4e0d\u662f\u4f9d\u8d56\u4e8e\u6837\u672c\u5bfc\u51fa\uff0c\u663e\u8457\u964d\u4f4e\u4e86\u6574\u4f53\u7cfb\u7edf\u5f00\u9500\u3002", "note_en": "Building on the foundation of seeing and understanding all system calls andcombining that with a packet and socket-level view of all networking operationsallows for revolutionary new approaches to securing systems. While aspects ofsystem call filtering, network-level filtering, and process context tracinghave typically been handled by completely independent systems, eBPF allows tocombine the visibility and control of all aspects to create security systemsoperating on more context with better level of control.\n The combination of programmability and efficiency makes eBPF a natural fit forall packet processing requirements of networking solutions. The programmabilityof eBPF enables adding additional protocol parsers and easily program anyforwarding logic to meet changing requirements without ever leaving the packetprocessing context of the Linux kernel. The efficiency provided by the JITcompiler provides execution performance close to that of natively compiledin-kernel code.\n The ability to attach eBPF programs to trace points as well as kernel and userapplication probe points allows unprecedented visibility into the runtimebehavior of applications and the system itself. By giving introspectionabilities to both the application and system side, both views can be combined,allowing powerful and unique insights to troubleshoot system performanceproblems. Advanced statistical data structures allow to extract meaningfulvisibility data in an efficient manner, without requiring the export of vastamounts of sampling data as typically done by similar systems.\n Instead of relying on static counters and gauges exposed by the operatingsystem, eBPF enables the collection &amp; in-kernel aggregation of custom metricsand generation of visibility events based on a wide range of possible sources.This extends the depth of visibility that can be achieved as well as reducesthe overall system overhead significantly by only collecting the visibilitydata required and by generating histograms and similar data structures at thesource of the event instead of relying on the export of samples.", "posttime": "2020-08-13 08:27:52", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "ebpf,\u7cfb\u7edf", "title": "Ebpf.io", "title_en": "Ebpf.io", "transed": 1, "url": "https://ebpf.io", "via": "", "real_tags": ["ebpf", "\u7cfb\u7edf"]}]