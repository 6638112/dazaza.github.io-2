<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我对Python 4的希望 My Wish for Python 4</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">My Wish for Python 4<br/>我对Python 4的希望 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-02-19 06:25:57</div><div class="page_narrow text-break page_content"><p>A few years after I started using it, I saw someone writing about it and using the phrase &#34;it fits my brain&#34;: this is very much how I feel ... at least, for simple straightforward code that doesn&#39;t rely on weird metaclass constructs, or even with the added distraction of type annotations. [Yes, type annotations can be extremely useful, but they do not (currently) &#34;fit my brain&#34;.]</p><p>在我开始使用它的几年后，我看到有人在写它，并使用了短语“它适合我的大脑”。这至少是我的感受……至少对于简单的简单代码而言， ＃39; t不要依赖怪异的元类构造，甚至不要加上类型注释的干扰。 [是的，类型注释可能非常有用，但是（目前）不适合我的大脑。＃]</p><p> I am extremely grateful to the many volunteers that work constantly to improve Python. Thanks to their efforts, Python keeps growing. I see most of the growth as positives: more users, more applications in a growing number of fields. In many universities, Python has displaced languages such as Scheme and (thankfully!) Java as the first language that students learn.  From *my* limited point of view, there is a small negative in that this growth of Python includes a growth in its syntax: when I first encountered Python (version 2.3), it had a comparatively very simple syntax which meant that it was easier to learn (in spite of some warts that were fixed in the 2 to 3 transition) compared with the latest Python version (3.10).</p><p> 我非常感谢不断致力于改进Python的许多志愿者。由于他们的努力，Python不断发展。我认为大多数增长都是积极的：越来越多的领域中有更多的用户，更多的应用程序。在许多大学中，Python取代了Scheme和（幸运的是！）Java等语言，成为学生学习的第一门语言。从* my *的有限角度来看，有一个小缺点，就是Python的这种增长包括其语法的增长：当我第一次遇到Python（2.3版）时，它具有一个相对非常简单的语法，这意味着它更容易与最新的Python版本（3.10）相比，可以学习（尽管在2到3过渡中已修复了一些疣）。</p><p> I am well aware that Python doesn&#39;t use semantic version numbers: code written for version 3.x can be incompatible with code written for version 3.y. [This was also the case for the 2.x series.] As a decision has been made to use two-digit minor version numbers, there is no apparent need to think of a version 4 of Python: improvements can continue for many years while keeping 3 as the main version.  However, I wish there could be a version 4 - as I describe below.</p><p> 我很清楚Python不使用语义版本号：针对3.x版编写的代码可能与针对3.y版编写的代码不兼容。 [2.x系列也是如此。]由于已经决定使用两位数的次要版本号，因此显然没有必要考虑Python的版本4：改进可以持续很多年，而保留3作为主要版本。但是，我希望可以有一个版本4-如下所述。</p><p> Note that when I think of Python, I do not think of a specific implementation (such as CPython), but I think of Python as the language. I do not consider &#34;implementation details&#34; such as the Global Interpreter Lock (GIL) as part of the language. Yes, it would be useful if the main Python implementation could make better use of multi-core CPUs. However, that is not something that is relevant for the purpose of this post.</p><p> 请注意，当我想到Python时，我没有想到特定的实现（例如CPython），但我认为Python是该语言。我不考虑实施细节＆＃34;例如全局解释器锁定（GIL）作为该语言的一部分。是的，如果主要的Python实现可以更好地利用多核CPU，那将很有用。但是，这与本文的目的无关。</p><p>  Above all, going from the last 3.x version (let&#39;s call it 3.14...) to 4.0 should be done seamlessly: code written for version 3.14 should run as is in Python 4.0.</p><p>  最重要的是，应该无缝地完成从最新的3.x版本（我们称其为3.14 ...）到4.0：为版本3.14编写的代码应在Python 4.0中按原样运行。</p><p> I would like for Python 4 to get inspired by Racket and introduce &#34; dialects&#34;.  Python could even borrow the notation used by Racket (#lang dialect) as a top directive  in a given module to specify the dialect used in that module.  Unlike Racket, I would limit the number of possible dialects to 4.</p><p> 我希望Python 4受Racket启发并介绍＆＃34;方言＆＃34;。 Python甚至可以借用Racket（#lang方言）的表示法作为给定模块中的top指令，以指定该模块中使用的方言。与Racket不同，我将可能的方言数量限制为4。</p><p> The main dialect would not need to be specified: it would simply be the standard Python that everyone knows and loves (or not). It would continue evolving, changing slightly as it goes from version 4.x to 4.y.</p><p> 不需要指定主要方言：它只是每个人都知道（或不知道）和喜欢的标准Python。它会继续发展，从4.x版本到4.y版本会稍有变化。 </p><p> A second dialect would be an &#34; experimental&#34; dialect. This dialect could be use to introduce some new syntax with no guarantee whatsoever of backward (or forward) compatibility. It would allow people to experiment with proposed new syntactic constructs before deciding to incorporate them (or not) in the main dialect. I honestly think that this would help reduce some friction in the Python community as changes are proposed and adopted.  The main benefit of such a dialect would be more social than technical.</p><p>第二种方言是＆＃34;实验性的方言。该方言可用于引入一些新语法，而不能保证任何向后（或向前）兼容性。在决定将其纳入（或不纳入）主要方言之前，这将使人们能够尝试使用提议的新语法结构。老实说，随着更改的提出和采用，这将有助于减少Python社区中的一些摩擦。这种方言的主要好处是社交而非技术。</p><p> A third dialect would be a &#34; beginner&#34; dialect. The goal of the  beginner dialect would be to make it easier to learn  basic programming concepts as opposed to learning a  quirky syntax to express these concepts. This beginner dialect would be, in version 4.0, a strict subset of the main dialect. It would not include type annotations, and it might perhaps also exclude the new pattern matching syntax and other syntactic constructs.  For example, using the keyword   is might only be limited to checking if the object is one of the three singletons (  None, True, False); other uses of   is could and should be done with &#34;  == id(thing)&#34;. Based on feedback from educators, it might  perhaps make sense to  eventually introduce a few additional keywords and constructs not available from the main dialect, such as:</p><p> 第三种方言是＆＃34;初学者方言。初学者方言的目标是使学习基本的编程概念变得更容易，而不是学习表达这些概念的古怪语法。在版本4.0中，该初学者方言将是主要方言的严格子集。它不会包括类型注释，并且可能还会排除新的模式匹配语法和其他语法构造。例如，使用关键字仅限于检查对象是否为三个单例之一（None，True，False）;的其他用途可以并且应该使用＆＃34; == id（事物）＆＃34;。根据教育工作者的反馈，最终引入一些主要方言无法提供的其他关键字和构造可能是有意义的，例如：</p><p>  Having   repeat as a keyword  as is available in  TygerJython and  Reeborg&#39;s World for the construct   repeat nb_steps:. It might perhaps be also useful to have   repeat forever: as equivalent to Python&#39;s   while True: . [ Other possible uses of this keyword are described here.]</p><p>  在TygerJython和Reeborg's World中可以使用重复作为关键字来重复nb_steps：。永远重复可能也很有用：等同于Python的True：。 [在此描述此关键字的其他可能用法。</p><p> Finally, a fourth dialect would be a &#34; static&#34; dialect. This fourth dialect would always be using a syntax strictly compatible with the main dialect. In this dialect, some dynamical features of Python (such as the possibility to change the type of the object specified by a given name) would not be available so that some optimizations could be applied to increase the execution speed.  I am sure that experts would be able to suggest other restrictions that could be used to greatly increase the execution speed.  I think that such a dialect would be one that would generate the most enthusiastic response from Python users.</p><p> 最后，第四个方言将是＆＃34;静态＆＃34;方言。第四个方言将始终使用与主要方言严格兼容的语法。在这种方言中，Python的某些动态功能（例如更改由给定名称指定的对象的类型的可能性）将不可用，因此可以进行一些优化以提高执行速度。我相信专家将能够提出其他可以大大提高执行速度的限制。我认为这样的方言将成为Python用户最热烈的回应。</p><p>  That being said, I doubt very much that I&#39;ll ever see Python adopting these ideas. However, it is sometimes nice to dream ...</p><p>  话虽这么说，我非常怀疑我是否会看到Python采纳这些想法。然而，有时候做梦是件好事... </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://aroberge.blogspot.com/2021/02/my-wish-for-python-4.html">https://aroberge.blogspot.com/2021/02/my-wish-for-python-4.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/python/">#python</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>