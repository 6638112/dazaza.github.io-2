<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>用100年时间解决一个积分：墨卡托地图的历史</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">用100年时间解决一个积分：墨卡托地图的历史</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-08-28 22:20:10</div><div class="page_narrow text-break page_content"><p>任何初学微积分的学生都很熟悉正割积分。然而，这个积分曾经是一个重大的数学难题。它最早是由Geradus Mercator在1569年引入的，他需要它来制作他著名的地图。他找不到，于是用近似值代替。86年后，人们在没有微积分的情况下，在1645年意外地找到了确切的解。然后又花了20年的时间，直到1668年，也就是墨卡托首次提出这个问题99年后，才给出了正式的证明。</p><p>正如SMBC的这本漫画正确地调侃的那样，数学史往往不是那么直截了当。课堂上经常讨论的定理、公式和符号本身曾经是洞察力或偶然性的，这就是这样一个公式的故事，即割线积分。我第一次读到它是在大约十年前1，当时我对地图学产生了兴趣：地图绘制的科学和艺术。这一积分对于墨卡托地图至关重要，因此许多使用它的在线地图，如Apple Maps和Google Maps都使用它。</p><p>这个故事以前已经讲过好几次了：见1、2或3。但这些都是期刊文章，主要是寄给学术界的。我想在这里用一个不那么正式、更丰富多彩的环境来介绍它，以便更容易理解。</p><p>这是一篇关于数学的文章，熟悉以下内容会很有帮助：代数、三角、弧度和基础微积分。这些通常在高中高级数学课或一年级数学课程中涵盖。</p><p>在大学一年级的数学课上，经过一个月的微分，我们开始了反问题：积分。微分是找到曲线的梯度函数的数学，积分是求逆的数学--给定一个梯度函数，曲线是什么？我的讲师介绍了三角函数的集成。他从以下几个方面开始：</p><p>[int sin(X)dx=-cos(X)+c\：\text{and}int cos(X)dx=sin(X)+c\]这个关系是有意义的，因为正弦和余弦导数是相反的。只是要小心负号。接下来，他导出了切线的积分：</p><p>[\int tan(X)dx=\int\frac{sin(X)}{cos(X)}dx=-ln|cos(X)|+c\]好的，这很棘手。因为函数$cos(X)$与其导数$sin(X)$一起存在，所以这里不能立即明显地使用链式规则的逆规则，但经过充分考虑，这是有意义的，因为函数$cos(X)$与它的导数$sin(X)$一起存在。然后他说，这是割线的积分，把它背下来：</p><p>[\int sec(X)dx=ln|sec(X)+tan(X)|+c\]好的，这是从哪里来的？我的讲师没有提供任何解释。很容易通过找到导数来验证它是否有效。(论文2有一个仅使用积分的更为复杂的证明。)但是他是怎么想出这个的呢？</p><p>我认为，在这一点上，大多数像我这样的微积分一年级学生都有以下短暂的想法：</p><p>事实上，第一条是正确的，因为很多学生都可以在写完试卷后作证。第二个是假的--事实上，它是一位老师在查看原始数据时发现的。这种求积分的方法是如此不寻常，以至于人们可能会猜测这是唯一发现的这样的积分。在微积分课堂上，生数是如此罕见，如果你试图求解这样的积分，你会被嘲笑的。最后，数字3对我来说仍然是正确的。但这并不意味着这个积分没有用处-它被用来构造墨卡托映射。这就是为什么当一位老师偶然意识到公式是什么时，他正在处理数字。</p><p>割线是一个标准的三角函数。它被定义为直角三角形中的角度$\varphi$的斜边$c$与相邻边$a$的比率。在数学记法中，定义为：</p><p>\[sec(\varphi)=\frac{c}{a}\]\[sec(\varphi)=\frac{1}{cos(\varphi)}\]这里是从$-2\pi$(-360°)到$2\pi$(360°)角度的割线和余弦图：</p><p>割线的积分可以解释为图2下面的面积。这由阴影区域来说明。</p><p>地球是一个球体3，不可能不变形地投影到平面地图上。多年来，制图师设计了许多不同的地图投影，试图在尽量减少失真与其他属性之间取得平衡。它们有各种形状和大小。这些投影的列表可以在这里或这里找到。我将在这里解释两个最简单的投影，这将有助于在下一节理解墨卡托地图。</p><p>所有地图投影都可以表示为将球面坐标转换为平面地图坐标的方程，球面上的坐标是角度$\varphi$和$\lambda$。它们分别对应于纬度线(平行线)和经度线(经线)。平面地图上的坐标是$x$和$y$。因此，地图投影是从$\varphi$和$\lambda$到$x$和$y$的转换。</p><p>它是通过将子午线和平行线映射到等间距的垂直和水平直线上来实现的。这具有沿平行拉伸对象的效果。此投影的方程式为：</p><p>[\BEGIN{ALIGN}y&amp；=R\varphi\\x&amp；=R\lambda\end{ALIGN}\]虽然方程式很简单，但构造过程可能很难可视化。这是我的尝试：</p><p>等矩形映射的总面积为$(2\pi R)(\pi R)=2\pi^2R^2$，而球面面积为$4\pi R^2$。因此，此投影按$\frac{\pi}{2}\约1.57$的系数扭曲面积。</p><p>通过将球面上的线投影到映射平面上，可以获得不同类型的投影。兰伯特柱面投影就是一个例子。它是通过将一个圆柱体包裹在球体周围，并通过平行于$x$轴的直线将点投射到球体上而制成的。以下是此结构的可视化视图：</p><p>\[\BEGIN{ALIGN}y&amp；=Rsin(\varphi)\\x&amp；=R\lambda\end{ALIGN}\]对于赤道附近的物体，这会导致非常小的扭曲，例如非洲。但是，由于球体的曲率，两极附近的物体会被压缩。这一点在格陵兰岛可以清楚地看到。</p><p>此贴图具有一个有用的属性，即其面积等于球体的表面积。因此，虽然物体被扭曲了，但它们的面积仍然是正确的。因此，格陵兰与非洲的相对比例尺在这张地图上得到了准确的表达。</p><p>1569年，杰拉尔德斯·墨卡托(Gerardus Mercator)想要制作一张对导航有用的全球世界地图。他生活的那个时代，航海穿越辽阔的海洋距离是常态。(1492年，克里斯托弗·哥伦布(Christopher Columbus)从西班牙远航发现了美洲。)上面所示的地图对于艺术印象和应用都很好，但不适合航海。扭曲使地图上无法进行任何准确的距离和方位测量。在地方一级，线路(例如，实际上彼此垂直相交的道路)看起来彼此是倾斜的。</p><p>特别是，墨卡托想要制作一张地图，在那里，粗线条将是直的。Rhumb线是相对于子午线方向恒定的曲线。要沿着一条粗线条行驶，航海家只需在整个航程中保持罗盘的方位不变。例如，这里有一条贯穿现代纽约和开普敦的粗线条：</p><p>沿红线的每一点与子午线的夹角为48.56°，相当于从开普敦到纽约的方位角为311°26‘18’。我还展示了大圆，这是一个圆心位于球体中心的圆。沿着大圆圈旅行总是比较短的。在这种情况下，沿着红线的距离是12550公里，而不是12600公里，有了现代技术，轮船和飞机很容易坚持到大圆圈上。但回到墨卡托的时代，这是相当困难的。因此，水手们更愿意坚持粗线条。他们宁愿多旅行一点就能到达目的地，也不愿迷路，多旅行。</p><p>墨卡托的想法是在南北方向上展开一张柱面投影图，以保持形状和角度。从兰伯特投影图4可以看出，每个纬度需要不同的拉伸因子。在赤道不需要伸展，在45°平行线上只需要少量向上伸展。靠近极点的物体必须拉伸很多才能解压缩。</p><p>首先，墨卡托将地球分成等间距的网格线$\Delta\varphi$和$\Delta\lambda$。沿子午线，每个经纬线的弧长为$R\Δ\varphi$。沿平行线，圆的半径为$rcos(\varphi)$，因此弧长为$(rcos(\varphi))\Δ\lambda$。切线可近似为：</p><p>\[tan(\α)\近似于\frac{Rcos(\varphi)\delta\lambda}{R\delta\varphi}\]平行线会投影到$x$轴上，就像在兰伯特投影中一样。这意味着$\Δx=R\Δ\λ$。</p><p>\[\Begin{Align}tan(\alpha)&amp；=tan(\beta)\frac{Rcos(\varphi)\delta\lambda}{R\delta\varphi}&amp；=\frac{\deltax}{\deltay}\deltay&amp；=\frac{\deltax}{\Delta\lambda}\frac{1}{cos(\varphi)}\Delta\varphi=Rsec(\varphi)\Delta\varphi\end{ign}\]从这里开始，将其转化为整数只是一小步。然而，微积分只是在墨卡托出版他的地图一个世纪后才真正发明出来的。相反，墨卡托所做的是意识到他可以将每个点的拉伸因子加起来。网格线n处的拉伸大约是其下方的网格线的拉伸加上$R sec(\varphi)\Delta\varphi$。或者，以总和的形式表示：</p><p>[y_n=\sum^{n}_{k=0}R sec(k\cdot\Delta\varphi)\Delta\varphi\]墨卡托使用$\Delta\varphi$的常量值，可以计算地图的间距。然后他在上面画了一张世界地图。这是对最终结果的现代渲染：</p><p>这张地图扭曲得很厉害。格陵兰岛现在看起来比非洲还大。巨大的圆圈沿着奇怪的曲线排列。但是粗糙的线条是直的！只需一把尺子和一台投影仪就可以计算出方位角。不需要思考或数学！(地球仪上也没有花哨的仪器。)。用现代术语来说，我们会说，它在水手中大受欢迎。</p><p>对于在线地图来说，局部投影是非常重要的。如果你在城市里寻找方向，对你来说最重要的是道路看起来是正确的。这就是为什么使用墨卡托地图的原因。它的比例在每个纬度都会改变，但在线地图可以很容易地计算出每个点的比例。用谷歌地图试试吧。对于相同的缩放因子，每个纬度的比例尺长度不同。此外，沿赤道，刻度尺的最小刻度为5米。在靠近极点的地方，比例尺向下延伸到1米，但是当你放大地图上的某个特定点时，你不会注意到这一点。</p><p>需要说明的是，如果您打算在Google地图上查看远距离，最好打开“Globe view”选项。</p><p>这就是事情发生意想不到的转折的地方。但是为了理解其中的原因，我想解释一下历史的另一部分：数学表。现在袖珍计算器是如此普遍，以至于我们忘记了它们曾经和数学一起无处不在，即使到了90年代也是如此。</p><p>在过去，如果你想计算秒(36°)，你可以画一个大三角形，然后用尺子实际测量角度和距离。然后你可以写出长除法计算，然而，更有可能的是，你会在三角表中读出这个值。这些表格中的数字是使用近似公式和三角恒等式精心计算的。但对于用户来说，它们非常简单。如果你想要更高的精确度，你只需要查找数字，偶尔在数字之间插入即可。这些表还有一个额外的好处，那就是使反演变得容易。例如，如果您在正切表中查找数字1.23606，您会看到它在36°旁边。</p><p>1599年，爱德华·赖特(Edward Wright)发表了赤道墨卡托地图方程式的表格。他使用$\Delta\varphi=1‘=\frac{1}{60}1^{\cic}$。他还给出了墨卡托地图的第一个数学描述，墨卡托本人并没有完全解释这一点。这使得其他人更容易制作自己的墨卡托地图。</p><p>1614年，约翰·纳皮尔引入了对数。这是指数运算的逆运算。用现代术语来说，从$x$到底数$b$的对数$y$写成：</p><p>[y=log_bx\quad；\quad b^y=x\]纳皮尔的主要动机是找到一种更简单的乘法和除法。例如，根据指数定律：</p><p>[2^a\div 2^b=2^{a-b}]\[3764\div873=2^{11.878}\div 2^{9.770}=2^{2.108}=4.311\]这些对数又必须通过近似计算进行艰苦的计算。一旦有了，用户就可以在对数表中查找它们，还有一个额外的好处，那就是倒数很容易。事实证明，这很受欢迎-人们在过去显然不喜欢做乘法和除法。使用加法和减法代替它们也使计算不太容易出错，特别是在连续计算的情况下。</p><p>接下来，数学家们决定合并这些表格。如果要将三角函数相乘，可以在三角表中找到值，然后将其转换为对数。或者，也可以直接找到三角函数的对数并将其放入表中。表构造函数的工作更多，而最终用户的工作更少。下面是这样一个表5：</p><p>根据传说，1645年，一位名叫亨利·邦德的老师注意到了一些奇怪的事情。Wright的Mercator表中的数字与$ln(tan(\varphi))$表中的数字相似(该表必须以$e$为基数，而不是像上表那样以10为基数)。它们只是在表格中被抵消了2度和45度。所以他基本上猜测说：</p><p>[\int_0^{\varphi_1}sec(\varphi)d\varphi=ln\Left|\tan\Left(\frac{\varphi_1}{2}+45^\cic\right)\右|\]数学家抓住了这一说法，但无法证明它。微积分当时还处于初级阶段。1668年，在墨卡托首次绘制地图99年后，邦德给出解决方案23年后，詹姆斯·格雷戈里终于证明了这一点。然而，这一证明被认为是冗长和“令人厌烦的”。1670年，艾萨克·巴罗(Isaac Barrow)通过积分部分分数提供了一个更简洁的证明，可以在2中找到。</p><p>最后，通过三角恒等式可以证明以下三个公式都是等价的：</p><p>\[\int sec(\varphi)d\varphi=\Begin{case}ln|sec(\varphi)+tan(\varphi)|+c\\ln\Left|\tan\Left(\frac{\varphi}{2}+45^\cic\right)\right|+c\frac{1}{2}ln\Left|\frac{1+sin(\varphi)}{1-sin(\varphi。我希望你和我一样觉得这段历史很有趣。我第一年考试时的这个小公式有一段如此丰富多彩的历史，这对我来说真的很了不起。我真的认为应该在课堂上多教它。这已经被3个人尝试和测试过了。在小规模的情况下，他们发现它是有效的。</p><p>如果你对谷歌如何绘制地图更感兴趣，我强烈建议你读一读谷歌工程师的这篇博客文章：medium.com/google-design/google-maps-cb0326d165f5.Can你在谷歌代码中发现了割线的积分吗？</p><p>我还想补充最后一个评论。围绕墨卡托地图有很多争议，这是一种非常常见的投影。我年轻的时候，在墨卡托项目的墙上有一张世界地图。但我希望你现在充分理解它的主要目的是导航。除此之外，它不必要地扭曲了形状，特别是让美洲和欧洲看起来比实际大得多。这与殖民主义和种族主义有联系，并非没有道理。几十年来，地图学家一直在哀叹它在没有权利成为6的应用程序中的使用。这里甚至有一个90年代电视节目中的有趣片段：www.youtube.com/watch？v=vvx-PrBRtTY。</p><p>有很多不同的计划，都有自己的目的。我个人最喜欢的是温克尔三人组。这是国家地理学会的官方地图，它是形式和比例的优雅折衷，无论是在最终的表现上还是在数学上都是如此。更受欢迎的是鲁滨逊项目，它的设计采用了“艺术手法”。与其他投影不同的是，Arthur H.Robinson没有使用公式，而是手动将比例因子固定在5°间隔。</p><p>如果我没记错的话，我当时正在浏览维基百科。一路上，我登陆了正切函数积分的页面，其中包括一个非常简短的历史。-↩。</p><p>面积相对于x轴的变化率是直线(非常细的矩形)$y$。也就是说，$\frac{da}{dx}=y\表示A=\int y dx$。-↩</p><p>嗯，不完全是，但对于大多数制图应用程序来说，它足够接近球体了。在需要更高精度的地方，有一些扩展可以解释与球体的偏差。-↩。</p><p>我不确定墨卡托是否知道这个预测。直到1772年，约翰·海因里希·兰伯特才正式对其进行了描述。然而，我认为这是可视化墨卡托投影结构的最简单的方式，所以我无论如何都在这里使用了它。还有其他的结构，但我不认为它们有什么帮助。墨卡托只是一个非常不自然的投影。--↩。</p><p>有几个流行的冠状病毒地图追踪器使用墨卡托投影。太可悲了。-↩</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://liorsinai.github.io/mathematics/2020/08/27/secant-mercator.html">https://liorsinai.github.io/mathematics/2020/08/27/secant-mercator.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/地图/">#地图</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/solve/">#solve</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/墨卡托/">#墨卡托</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1019158.html"><img src="http://img.diglog.com/img/2020/8/thumb_16426fbecb5efb6168faf884ea06239f.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1019158.html">谷歌地图获得“更详细、更丰富多彩的地图”</a></div><span class="my_story_list_date">2020-8-20 0:5</span></div><div class="col-sm"><div><a target="_blank" href="/story/1019096.html"><img src="http://img.diglog.com/img/2020/8/thumb_ab2ac86d00ac1eb7f3990b18ed4ead03.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1019096.html">谷歌地图将进行色彩映射以了解更多详细信息</a></div><span class="my_story_list_date">2020-8-19 20:51</span></div><div class="col-sm"><div><a target="_blank" href="/story/1019018.html"><img src="http://img.diglog.com/img/2020/8/thumb_4d3214aeebb3c7b2aad7af060b0e6277.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1019018.html">谷歌地图正在获取更多细节</a></div><span class="my_story_list_date">2020-8-19 6:52</span></div><div class="col-sm"><div><a target="_blank" href="/story/1018972.html"><img src="http://img.diglog.com/img/2020/8/thumb_8a2a2b72638b139be94f64bfe748bd87.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1018972.html">
谷歌地图在选定的城市添加街道级别的详细信息，在全球范围内提供更丰富多彩的图像</a></div><span class="my_story_list_date">2020-8-19 2:54</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>