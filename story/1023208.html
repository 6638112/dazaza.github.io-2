<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>使用树莓PI将MIDI添加到CV合成器</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">使用树莓PI将MIDI添加到CV合成器</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-09-11 21:16:20</div><div class="page_narrow text-break page_content"><p>我给树莓PI编程来控制电压并响应MIDI，这样我就可以用键盘弹奏Korg Monotron了。</p><p>Korg Monotron是一款听起来不错的合成器，价格相对便宜(约50美元)。Korg Monotron的一个缺点是它使用色带控制器来确定音高，因此很难精确地控制音高，而且几乎不可能自己调谐。</p><p>幸运的是，Korg开发了这个考虑到黑客的小合成器。这些说明将告诉你如何使用树莓PI作为一个便宜的MIDI转CV控制器，这样你就可以像使用任何其他MIDI乐器一样使用Korg Monotron。</p><p>这是第一个DIY MIDI-to-CV控制器，允许您自动调整Monotron电压频率，并且只有三个组件(并且没有PCB！)。其他解决方案-如MIDI-IF套件或基于Arduino的midi2cv-需要大量焊接，数十个组件，并需要手动调整。</p><p>将MIDI添加到Korg Monotron基本上需要将MIDI输入转换为电压。下面的介绍将适用于几个CV合成器(我认为)，并且不一定特定于Monotron。这里我们使用廉价的DAC(MCP4725)从树莓PI发送电压。Raspberry PI使用Python脚本midi2cv.py监听MIDI并控制DAC。</p><p>这里的魔术是我在Raspberry PI(在midi2cv.py中)中添加了一个调优函数，这样您就可以自动确定电压和频率之间的关系来调优任何CV合成器。它的工作原理是将合成器的音频输出连接到Raspberry PI(通过USB音频接口)，然后计算FFT以找出由各种电压控制的音调的基频。</p><p>下面是使用Korg Monotron和Raspberry Pi并使其具备MIDI功能的逐步说明。只有两个焊点，没有PCB，也没有面包板！</p><p>我们首先需要能够向Korg Monotron发送电压。要做到这一点，我们需要通过焊接将一条带热电压的导线和一条带地的导线连接到Monotron。</p><p>只需拧下Monotron背面的螺丝并拉出背面即可。有四个螺丝，其中两个紧挨着电池。</p><p>小心地拆开Monotron，你会看到PCB的背面有一些带有标签的金色衬垫！Korg设计这块PCB是为了让我们破解：)。将一根导线焊接到栅极焊盘，并将另一根导线焊接到GND焊盘(两条导线应在相对的一端为凹头)。</p><p>我知道我们没有使用螺距，但是出于某种原因，栅极也可以是电压控制的，并且充当栅极(如果电压为&gt；0)和螺距。如果你想看某人焊接，看看这个关于如何焊接到Korg Monotron的很棒的YouTube视频。</p><p>现在只要把它合上，然后移动电线，使它们在音量控制下伸出即可。你可以把所有的东西拧回一起，只要确保不要太紧就行了。</p><p>首先，让我们将MCP4725连接到树莓PI。将MCP4725 SDA、SCL、GND、VDD分别连接到Raspberry Pi的GPIO 2(SDA)、GPIO 3(SCL)、接地和5V电源。有关更多详细信息，请查看树莓PI引脚布局示意图。</p><p>现在将Monotron“GATE”导线连接到MCP4725的“VOU”。将Monotron“GND”线连接到树莓PI的任何接地引脚上(示意图)。</p><p>单管使用压控振荡器(VCO)，单管电压可以通过INT和TRIM POT进行修改，这会影响给定电压的频率。每次更改这些设置(或任何时候看起来走调)时，您都需要对其进行调整。也就是说，您需要确定哪个电压将产生哪个频率。</p><p>幸运的是，我们可以使用Raspberry PI为我们自己校准音符，而不是手动调整每个音符！</p><p>&gt；sudo apt update&gt；sudo apt install python3python3-pip python3-numpy portaudio19-dev sox gnplot ffmpeg&gt；sudo-H python3-m pip install loguru单击mido python-rtmidi Adafruit-Circuit itpython-mcp4725 Terminplotlib aubio。</p><p>将USB音频连接到Raspberry PI。然后用1/8英寸立体声电缆将耳机从Monotron连接到录音线输入。</p><p>重要提示：请确保更改Monotron设置，使其输出纯音。对每个旋钮使用以下设置(0表示所有左侧，100表示所有右侧)：</p><p>这将需要大约30秒，因为树莓PI循环通过电压(1-5V)，同时记录产生的音频。使用USB音频适配器捕获音频。使用FFT分析捕获的音频以确定基频。然后将绘制这些电压-频率对，并用指数曲线进行拟合。</p><p>这条曲线的拟合被保存到树莓PI上，这样当您播放Monotron时，它将能够将MIDI转换为频率，然后将其转换为电压。</p><p>现在，键盘将自动触发树莓PI来设置Monotron的电压，保持一致！</p><p>演奏Monotron不需要键盘。您可以使用我编写的另一个程序对简单文本文件中的MIDI乐器进行排序：MITI。</p><p>首先，确保您有portmidi，并下载MITI的二进制文件(或者您也可以自己构建它)：</p><p>然后创建新的排序文件。该序列易于编写和理解，并且有完整的文档记录。这里我们将做一个简单的三和弦琶音。</p><p>模式a乐器MIDI至Temppo 120乐高95F2 A C F A C FE2 G C E G C ED2 F A C D F A CD2 F A C D F A C。</p><p>“MIDI通过”表示我们将通过端口将输出发送到MIDI。现在，在一个终端中运行midi2cv程序：</p><p>就这样!。你应该听听音乐。您可以实时编辑song1.miti文件以对序列进行任何更改。</p><p>如果你发现任何问题，请随时告诉我。在Instagram(@infinitedigits)或Twitter(@yakczar)上找到我。DMS是开放的。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://schollz.com/raspberrypi/monotron/">https://schollz.com/raspberrypi/monotron/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/树莓/">#树莓</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/pi/">#pi</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/midi/">#midi</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1016352.html"><img src="http://img.diglog.com/img/2020/8/thumb_07f17f3f7c2736e91dbf843cad395ce3.gif" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1016352.html">基于Mathworks的树莓猪人脸识别</a></div><span class="my_story_list_date">2020-8-5 15:18</span></div><div class="col-sm"><div><a target="_blank" href="/story/1005324.html"><img src="http://img.diglog.com/img/2020/6/thumb_e5154da45817685d2539202d91aa3350.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1005324.html">如何制作树莓派人体相机</a></div><span class="my_story_list_date">2020-6-6 2:42</span></div><div class="col-sm"><div><a target="_blank" href="/story/1000142.html"><img src="http://img.diglog.com/img/2020/5/thumb_8db2e858e202c936261c9eda35044c92.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1000142.html">新款12MP树莓Pi HQ相机</a></div><span class="my_story_list_date">2020-5-2 17:53</span></div><div class="col-sm"><div><a target="_blank" href="/story/1000052.html"><img src="http://img.diglog.com/img/2020/5/thumb_812d36ec4d4d4270b90167fbf5d22793.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1000052.html">树莓派高品质相机</a></div><span class="my_story_list_date">2020-5-2 17:46</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>