<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如果不是水疗中心，那是什么？</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">如果不是水疗中心，那是什么？</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-29 10:33:40</div><div class="page_narrow text-break page_content"><p>A few months ago, I  wrote an article about how the SPA pattern has failed to simplify web development. The  SPA pattern (Single-Page Apps), I tried to define, was about the React model, which also covers, to a large extent, the model of Vue, Angular, and other frontend frameworks.</p><p>几个月前，我写了一篇关于SPA模式如何未能简化Web开发的文章。我试图定义的SPA模式(Single-Page Apps)是关于Reaction模型的，该模型在很大程度上还涵盖了Vue、ANGLE和其他前端框架的模型。</p><p> Like any critique, it begs for a prescription and I didn’t give one, other than gesturing toward server-side frameworks like Rails and Django. But I think there are some trends starting to form. I had queued up some time to  really dive into the frameworks, but things like  walking in parks have taken priority, so here’s just a grand tour.</p><p>就像任何批评一样，它乞求开处方，而我没有开处方，只是指着像Rails和Django这样的服务器端框架。但我认为有一些趋势开始形成。我已经排了一些时间来真正深入研究这些框架，但像在公园里散步这样的事情已经被优先考虑了，所以这里只是一次盛大的参观。</p><p>  Primarily I’m talking about  Remix,  RedwoodJS, and  Blitz.js, though I’m sure there are similar efforts in the non-React world that are relevant.  Next.js  almost falls into this category, but as far as I can tell, it’s still unopinionated about the data layer and most sites that use Next.js are still going to use a separate API stack. But that’s subject to change, because all of these are moving fast.</p><p>我主要谈论的是Remix、Redwood JS和Blitz.js，不过我确信在无反应领域也有类似的努力。Js几乎属于这一类，但据我所知，它对数据层仍然没有意见，大多数使用Next.js的站点仍将使用单独的API堆栈。但这可能会改变，因为所有这些都在快速发展。</p><p> It’s interesting to note that Remix, Redwood, and Next are all backed by companies or foundations, and that Blitz is aiming early on to be a  sponsor-funded project. These projects, I think, are trying to sidestep the “tragedy of the commons” failures of earlier open source, wherein overworked and unpaid maintainers service a large userbase and eventually burn out and abandon the project.</p><p>有趣的是，Remix、Redwood和NeXT都得到了公司或基金会的支持，而闪电战的目标是很早就成为赞助商资助的项目。我认为，这些项目试图避开早先开放源码的“公地悲剧”失败，即超负荷工作和无报酬的维护人员为大量用户提供服务，最终耗尽并放弃该项目。</p><p> To take Remix as an example, it re-ties data loading with routes, and then gives the pretty amazing promise of  no client side data fetching by default. These frameworks are also  opinionated about status codes and caching strategies. RedwoodJS automatically creates an  ORM-like interface using GraphQL and Prisma.</p><p>以Remix为例，它将数据加载与路由重新捆绑在一起，然后给出了一个相当惊人的承诺，即在默认情况下不提取客户端数据。这些框架在状态代码和缓存策略上也是固执己见的。Redwood JS使用GraphQL和Prisma自动创建一个类似ORM的界面。</p><p> As context, Remix is backed by the folks from  React Training, who are also the folks from  React Router, which is as much React pedigree as you can get without joining the team at Facebook. Redwood is run by  Preston-Werner Ventures, of  Tom Preston-Werner, a GitHub founder. Next.js is sponsored and heavily promoted by  Vercel, neé Zeit.</p><p>作为背景，Remix得到了Reaction培训人员的支持，他们也是Reaction Router的成员，这是您在没有加入Facebook团队的情况下所能获得的最多的Reaction血统。Redwood由普雷斯顿-沃纳风险投资公司(Preston-Werner Ventures)运营，其创始人汤姆·普雷斯顿-沃纳(Tom Preston-Werner)是GitHub的创始人。Next.js是由Vercel，NeéZeit赞助和大力推广的。</p><p>  It’s worthwhile to just mention  Turbolinks. I didn’t use it until this year, and apparently there were issues with it before, but the pitch for Turbolinks 5 is:  what is the bare minimum you need to do to get the SPA experience without any cooperation from your application?</p><p>值得一提的是Turbolinks。我直到今年才使用它，显然之前它有问题，但Turbolinks 5的重点是：在没有任何应用程序合作的情况下，你至少需要做什么才能获得SPA体验？</p><p> So it’s a tiny JavaScript library that sits on top of an existing server-rendered application and replaces full pageloads with SPA-like partial pageloads. Instead of loading a page from scratch, pages are loaded with AJAX, page contents are replaced, and client-side navigation updates your URLs. Basically, it prevents the ‘blink’ of real page transitions and saves on all othe sorts of costs of fully loading a new page. Turbolinks was spawned from the  Ruby on Rails project, and works great with Rails but doesn’t require it.</p><p>因此，它是一个很小的JavaScript库，它位于现有的服务器呈现的应用程序之上，并用类似于SPA的部分页面加载替换完整的页面加载。不是从头开始加载页面，而是使用Ajax加载页面，替换页面内容，并且客户端导航更新您的URL。基本上，它可以防止实际页面过渡的“眨眼”，并节省完全加载新页面的所有其他成本。Turbolinks是从Ruby on rails项目衍生出来的，在Rails上工作得很好，但并不需要它。</p><p> In terms of power-to-weight for user experience improvements, Turbolinks is a standout: it adds very little complexity and a tiny size impact for a big user experience improvement.</p><p>就用户体验改进的重量比而言，Turbolinks是一个佼佼者：它几乎没有增加复杂性，而且对用户体验的大幅改善只产生了很小的影响。</p><p>  These are the spiciest new solution. The main contenders are  Laravel Livewire (in PHP),  Stimulus Reflex (for Ruby on Rails), and  Phoenix LiveView (on Phoenix, in Elixir).</p><p>这些是最辣的新解决方案。主要竞争者是Laravel Livewire(PHP版)、Sumulus Reflex(Ruby on rails版)和Phoenix LiveView(凤凰网上的Elixir版)。</p><p> The pitch here is:  what if you didn’t have to write any JavaScript? It sort of hearkens back to the critique of JavaScript in  _why’s ART &amp;&amp; CODE talk, that web development is the only kind where you normally have to write in three (or more) languages. These languages also most remnants of “client-side” logic, putting it all on the server side.</p><p>这里的重点是：如果您不需要编写任何JavaScript会怎么样？它有点像是在“为什么”的art&amp；&amp；code Talk中对JavaScript的批评，即Web开发是通常必须用三种(或更多)语言编写的唯一一种语言。这些语言还保留了大部分“客户端”逻辑，将其全部放在服务器端。</p><p> How do they do this? Well, a lot of WebSockets, in the case of Reflex and LiveView, as well as very tightly coupled server interactions. As you can see in the  LiveView demo, which I highly recommend, these frameworks tend to operate sort of like reactive DOM libraries on the front end – in which the framework figures out minimal steps to transform from one state to another - except those steps are computed on the server side and then generically applied on the client side. They also do a lot more data storage &amp; state management on the server-side, because a lot of those interactions which wouldn’t be persisted to the server are now at least communicated to the server.</p><p>他们是怎么做到这一点的？嗯，有很多WebSocket，比如Reflex和LiveView，以及非常紧密耦合的服务器交互。正如您在LiveView演示(我强烈推荐)中看到的那样，这些框架的操作有点像前端的反应式DOM库-在其中，框架计算出从一种状态转换到另一种状态的最小步骤-只是这些步骤是在服务器端计算的，然后通常在客户端应用。他们还在服务器端进行了更多的数据存储和状态管理，因为许多原本不会持久保存到服务器上的交互现在至少已经与服务器进行了通信。</p><p> These frameworks are exciting, and also extremely contrarian, because they are the polar opposite of the “frontend plus agnostic API layer” pattern, and they also wholeheartedly embrace the thing everyone tries to avoid: mutable state on the server.</p><p>这些框架令人兴奋，而且非常逆向，因为它们与“前端加不可知的API层”模式截然相反，而且它们还全心全意地接受每个人都试图避免的事情：服务器上的可变状态。</p><p>  These are typically used “in addition” to the above, but they certainly deserve a shout-out because I think a wide swath of frontend-programming concerns actually only need a tiny hint of JavaScript. But the main caveat is that  they assume that you know JavaScript and the DOM, which are not necessarily universal skills anymore. A lot of developers growing up on React have acquired a real blind spot for native browser APIs.</p><p>这些通常是对上述功能的“补充”，但它们确实值得大声疾呼，因为我认为大量的前端编程问题实际上只需要少量的JavaScript提示即可。但是主要的注意事项是，他们假设您了解JavaScript和DOM，这两个不一定是通用技能。许多在REACTION上长大的开发人员在原生浏览器API上获得了一个真正的盲点。</p><p> The main ones I’ve looked at are  Stimulus (out of the Ruby on Rails camp),  Alpine, and  htmlx. They’re all tiny, and work great in  existing pages. I think – and here come the flames –  Web Components also fit into this sphere of progressive enhancement! If you just use good web components -  only ones that GitHub writes is a good rule of thumb - then they can fit the role of just improving an existing static UI. It’s where you start to use Web Components as an apples-to-apples replacement for full-fledged frontend frameworks is where things seem to get dicey.</p><p>我看过的主要有SIMPLICAL(出自Ruby on rails阵营)、Alpine和htmlx。它们都很小，在现有页面上工作得很好。我认为--火焰来了--Web组件也适合这个渐进式增强的领域！如果你只使用好的Web组件--只有GitHub编写的组件才是一个很好的经验法则--那么它们就能胜任改善现有静态UI的任务。这就是您开始使用Web组件作为成熟前端框架的替代产品的地方，而这似乎是事情变得危险的地方。</p><p> These frameworks have the luxury of operating on a deeply improved web stack, one with fundamental components like  fetch() and  MutationObserver. These things were previously at the core of the utility of progressive enhancement frameworks, and now they can just be the utilities that those frameworks build on.</p><p>这些框架拥有在深度改进的Web堆栈上运行的奢侈，该堆栈具有FETCH()和MutationWatch等基本组件。这些东西以前是渐进式增强框架实用程序的核心，现在它们可以仅仅是这些框架构建的实用程序。</p><p>  I’m sure that there are additional patterns out there! But these currents all seem strong right now, and it’s fascinating to see some really divergent and adventurous – and common-sense – approaches start to crop up.</p><p>我敢肯定，外面还有其他的模式！但这些潮流现在看起来都很强大，看到一些真正不同的、富有冒险精神和常识的方法开始涌现，这是一件令人着迷的事情。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://macwright.com/2020/10/28/if-not-spas.html">https://macwright.com/2020/10/28/if-not-spas.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/水疗/">#水疗</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/spas/">#spas</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/框架/">#框架</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>