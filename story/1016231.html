<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>测试先行机器学习</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">测试先行机器学习</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-08-05 02:34:13</div><div class="page_narrow text-break page_content"><p>软件测试是软件工程中最复杂的任务之一。虽然在传统的软件工程中，有一些原则明确地定义了应该如何测试软件，但对于机器学习来说并非如此，在机器学习中，测试策略并不总是被定义。在这篇文章中，我阐明了一种测试方法，它不仅受到软件工程中最公认的测试策略之一的高度影响，也就是测试驱动开发。但似乎也是一种与正在测试的机器学习模型家族无关的方法，并且非常适合导致今天大规模AI/ML服务的典型生产环境。</p><p>阅读完这篇文章后，您将了解如何在考虑到生产的情况下设置适用于机器学习模型的测试策略。考虑到生产意味着您正在操作的团队是异构的，正在测试的项目是与其他数据科学家、数据工程师、业务客户、开发人员和测试人员一起开发的。好的测试策略的目标是实现生产就绪并提高代码的可维护性。</p><p>这种方法的合适名称是Test-First机器学习，简称TFML，因为一切都是从编写测试开始的，而不是从模型开始的。</p><p>TFML的一个特点是从编写测试开始，而不是从机器学习模型开始。该方法基于嘲笑任何尚不可用的东西，以便项目中涉及的不同参与者无论如何都可以继续他们的任务。众所周知，数据科学家和数据工程师的运行速度不同。嘲笑世界上尚未出现的某一特定方面，不仅可以减少这种差异，还可以减少大型团队中的拦路虎。这反过来又提高了效率。下面是TFML方法的五个基本步骤。</p><p>顾名思义，TFML中的Test-First表示一切都从编写测试开始。即使对于尚不存在的功能也是如此。这样的测试通常很短，应该保持不变。更大、更复杂的测试应该分解为基本的和可测试的组件。在理解了需求分析(例如，用例和用户故事)过程中通常会在前面讨论的特性规格和需求之后，可以编写测试。</p><p>正常工作的测试会因为正确的原因而失败或通过。这是定义这些原因的步骤。定义快乐之路对于定义应该遵守和认为成功的东西至关重要。</p><p>在这一步中，实际上编写了通向快乐路径的代码。此代码将使测试通过。除了测试的愉快路径之外，不应该提供任何其他代码。例如，如果机器学习模型预期返回42，则只需返回42并强制测试在此处成功即可。如果需要时间限制，也可以添加睡眠(毫秒)。这样的模仿值将为工程师提供可见的约束，这样他们就可以继续执行任务，就好像模型已经完成并且正在工作一样。</p><p>添加新的测试不应该破坏以前的测试。拥有相互依赖的测试被认为是软件工程中的反模式。</p><p>当模拟了值、定义了成功条件并运行了测试时，就可以显示测试中的ML模型正在训练和执行预测。与上面的示例相关，在此步骤中应该找到答案的一些问题包括：</p><p>传统上，在此步骤中，开发人员执行代码清理、重复数据删除和重构(只要适用)，以提高可读性和可维护性。这一策略也应该应用于ML开发人员。</p><p>由于机器学习的本质和数据科学家的热情，他们很快就连接-训练-分析数据，因此在机器学习中更容易落入替代方法的陷阱。</p><p>数据科学界最常见的方法可能是测试-最后方法，也称为“最后测试方法”(Test-Last Approach)。现在编码，稍后测试。这种方法在ML模型开发中可能非常危险，因为与传统软件(例如，UI、API调用、数据流、数据库、预处理步骤等)相比，即使对于微不足道的线性回归，也可能有太多的移动部分。事实上，Test-First方法鼓励并迫使开发人员根据这些移动部分(例如UI和数据库)将最少量的代码放入模块中，并实现应该属于代码库的可测试部分的逻辑。</p><p>需要避免的一个重要陷阱是开发人员偏见。在Test-First环境中创建的测试通常由编写测试代码的同一开发人员创建。这可能是一个问题，例如，如果开发人员不考虑要检查某些输入参数。在这种情况下，测试和代码都不会验证这些参数。在传统的软件开发中，测试工程师和开发人员通常不是同一个人，这是有原因的。</p><p>测试应该是独立的。依赖于他人的测试可能会导致级联失败或开发人员无法控制的成功。</p><p>在传统的软件工程中，测试精确的执行行为、时间或性能可能会导致测试失败。在机器学习中，考虑软约束甚至更重要，因为模型可以是概率的。此外，输出变量和输入数据的范围可以改变。这种动态的、有时定义松散的行为是ML中的规范，而不是例外。</p><p>测试模型实现细节(如统计和数学可靠性)不是TFML策略的一部分。这些细节应该单独测试，并且特定于所考虑的模型系列。</p><p>对于测试下的功能，测试面应该始终是最小的。保持测试单元较小可以让开发人员拥有更多控制权。较大的测试单元应该被分解成较小的测试，专门针对待测试模型的一个特定方面。</p><p>TFML方法迫使开发人员花费初始时间为他们的模型定义测试策略。这反过来又促进了将这些模型集成到复杂工程系统的更大图景中，其中涉及更大的团队。已经观察到，编写测试越多的程序员往往效率越高。测试代码与开发软件核心功能一样重要。测试代码的生成和维护应与生产代码一样严格。在ML中，由于涉及ML项目的系统和人员的异构性，所有这些都变得更加关键。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://codingossip.github.io/2020/test-first-machine-learning/">https://codingossip.github.io/2020/test-first-machine-learning/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/先行/">#先行</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/machine/">#machine</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/测试/">#测试</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>