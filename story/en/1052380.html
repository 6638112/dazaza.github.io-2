<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>CPLD，以及了解何时退出的重要性。 （2012） CPLDs, and the importance of knowing when to quit. (2012)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">CPLDs, and the importance of knowing when to quit. (2012)<br/>CPLD，以及了解何时退出的重要性。 （2012） </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-15 06:30:00</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/78b1f6c45f1c0e6287a2f9761597318a.jpg"><img src="http://img2.diglog.com/img/2021/3/78b1f6c45f1c0e6287a2f9761597318a.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>As an engineer, I can have a natural tendency to become  obsessed with problem solving. Every problem I come across is a personal test, &#34; If this problem is solvable, I  will be victorious, I  will conquer it&#34;. I think the hard thing can be recognizing when the solution isn&#39;t worth the effort. The ability to spot this before others is what can make a great manager, that&#39;s not what this post is about, however.  Let me tell you a little story about CPLD&#39;s:     Now if you ask my wife, she&#39;ll tell you I&#39;m the cheapest, stingiest man alive, if you ask my mother, well she&#39;d probably agree, but if you asked me, I&#39;d tell you I just take pride in being resourceful. I&#39;ve always had a hard time paying someone to do something I could easily do myself.     One of the things that I really enjoy about  hobby electronics is the thrill of sourcing parts for a fraction of what the unwashed masses might pay. I built my own sd card-breadboard adapter for my  .Net Micro Framework Project. It was really fun, cost me probably around three or four dollars, and was much less than the $20 similar boards went for at the time. (prices now seem to be about half what they were 2 years ago). One thing I&#39;ve noticed is that I really tend to discount the cost of something in terms of my time. I might spend 3 evenings of free time to make something that saves me $10, and I&#39;ve historically viewed that as a win. It&#39;s easy to write off such a time-sink with self excuses like: &#34;it was fun&#34;, &#34;I learned something&#34;, &#34;I gained a skill&#34; etc. The problem , I&#39;ve come to realize is that those are attributes of  anything I undertake in any hobby project. So the net win isn&#39;t really there.  On to my CPLD story... A couple of years ago, I really wanted to get into programmable logic devices - CPLDs, FPGAs, and VHDL. I noticed that Atmel makes an &#34;ATF15XX&#34; line of CPLDs that are essentially functional clones of Altera 3000/7000 series logic devices. The Atmel chips seemed to sell for significantly less than the equivalent Altera chips. I was already a fan of Atmel&#39;s ARM and AVR line of MCU&#39;s so I bit. I ordered an  array ( :) ) of various sized chips, and started pouring over documentation.  Programmable logic chips seem to lag behind MCU&#39;s in the hobbyist-friendly area, there are no DIP form factor CPLDs or FPGAs, PLCC is the best you can do. While there are PLCC-breadboard adapters, they seemed priced a little high for me, at $15-$25, especially since the sockets themselves where under $1. I decided to build my own:    As you can imagine, this was quite a lot of work.  One advantage CPLD&#39;s have over most (but not all) FPGA&#39;s is that they often contain their own non-volatile memory to hold programming. The flip side to this is that you need a way to program that memory, and the method is proprietary to each manufacturer. Atmel&#39;s CPLD&#39;s can indirectly use the programming files from Altera&#39;s Quartus software, after running some conversion tools. However Altera&#39;s software and Altera&#39;s &#34;USB Blaster&#34; (or my cheap knock off) will not program the file to the Atmel chip. , Atmel makes their own programming software, &#34;Atmel ISP&#34; that can use Atmel&#39;s own proprietary USB cables, but can also use an Altera &#34;Byte Blaster&#34; which is essentially an electrically buffered connection to a PC&#39;s LPT port. I picked up a Sparkfun Byte Blaster knockoff, but found it was extremely sensitive, I had to plug it directly into my ancient tower PC&#39;s printer port, and even then I only successfully programmed the chip  1/4 of the time. Frustrating! Oh, and &#34;Atmel ISP&#34; does *not* work with Altera&#39;s &#34;USB Blaster&#34; programming cable, only the much older LPT based one. Still with me? Good, that makes one of us.  In furtherance of my quest to conquer Logicland, I immersed myself deeper into irrationality. The Atmel USB programming cable sells for ~$42-$52 online, if you can find it in stock. Atmel&#39;s documentation is scant on the design, and I can find no examples on the Web where someone has hacked one of these apart, unlike the much-cloned USB Blaster. $42+ was just too much to me for a device that had such a limited utility. I ran across some really old software that Atmel has once published that used an AT90somethingorother MCU to program Atf15xx series CPLDs. This package (which has since disappeared from Atmel&#39;s website, you may be able to find it somewhere if you Google &#34;EISP15XX.exe&#34;, sorry I can&#39;t post it) included MCU and PC side source for reading in a programming file and &#34;bitbanging&#34; the jtag lines to program the CPLD.  My next moment of brilliance was to decide that I would make my own programming software and hardware, why it could even be a stepping stone to my own custom JTAG hardware and software suite. It only took me a could evenings to have a GUI up, and to be able to read in the Atmel programming &#34;jed&#34; data/fuses into memory. I would then use  libUsb and  V-USB as I had done on  another project to talk to an Atmega to do the heavy lifting on the chip side.  Then the project went cold. I don&#39;t remember why, I jump around a lot, and sometime I forget to jump back to something.  I&#39;d been thinking about revisiting this project lately, and that&#39;s when the truth in the opening paragraph of this post hit me. It&#39;s not worth it. When I started to look into the hardware and code needed to make my programmer, I realized that this project, which I viewed as a prerequisite to other project ideas, is a battle that I should not fight. $42 is money well spent in this case. Making a limited use JTAG programmer would not have the return on investment to make it worthwhile. It&#39;s not about the money, its about the time.  So now I have two options. Since I last left off on this project, I learned that the venerable Bus Pirate has an XSVF player mode, I may be able to get the Atmel jed files into xsvf format. Of course, the down side to that approach is that I think it is unable to verify the bits, a big concern given my very high fail rate with the Byte Blaster. The other option is to finally pony up the $42 and buy the Atmel USB programmer cable, and move on to more exciting projects. I already broke down and bought a 84 pin PLCC bread board adapter for the larger CPLD&#39;s.  When it comes down to it, I also have a third option, one that I&#39;ve already started down; to just buy some real Altera CPLD&#39;s. It&#39;s just that sometimes it&#39;s hard to admit you&#39;ve fallen victim to the  sunk-cost fallacy.  You win this time, Atmel.  --P  PS. If anyone has pictures of this Atmel CPLD cable, I&#39;d love to see it. It&#39;s part# ATDH1150USB.</p><p>Warning: Can only detect less than 5000 characters</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="http://www.bytecruft.com/2012/03/cplds-and-importance-of-knowing-when-to.html">http://www.bytecruft.com/2012/03/cplds-and-importance-of-knowing-when-to.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/了解/">#了解</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/warning/">#warning</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012 - 2021 diglog.com </div></div></body></html>