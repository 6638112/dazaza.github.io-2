<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>流敏感型Flow-Sensitive Typing</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Flow-Sensitive Typing<br/>流敏感型</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-22 23:00:05</div><div class="page_narrow text-break page_content"><p>Jump to navigation  Jump to search  In  programming language theory,  flow-sensitive typing (or  flow typing) is a  type system where the type of an  expression depends on its position in the  control flow.</p><p>跳转至导航跳转至搜索在编程语言理论中，流敏感类型（或流类型）是一种类型系统，其中表达式的类型取决于其在控制流中的位置。</p><p> In  statically typed languages, a type of an expression is determined by the types of the sub-expressions that compose it. However, in flow-sensitive typing, an expression&#39;s type may be updated to a more specific type if it follows a statement that validates its type. The type is determined by using  type inference and type information is carried using  algebraic data types.</p><p> 在静态类型语言中，表达式的类型由组成它的子表达式的类型确定。但是，在流敏感类型中，如果表达式的类型遵循验证其类型的语句，则可以将其类型更新为更特定的类型。通过使用类型推断确定类型，并使用代数数据类型携带类型信息。</p><p>     // Object? means the variable &#34;name&#34; is of type Object or else null void  hello ( Object ?  name )  {  if  ( is  String  name )  {  // &#34;name&#34; now has type String in this block  print ( &#34;Hello, ``name``!&#34; );  // and it is possible to call String methods on the variable  print ( &#34; String.size is ``name.size``&#34; );  }  else  if  ( exists  name )  {  // &#34;name&#34; now has type Object in this block  print ( &#34;Hello, object ``name``!&#34; );  }  else  {  print ( &#34;Hello, world!&#34; );  } }  hello ( null ); hello ( 1 ); hello ( &#34;John Doe&#34; );</p><p>     //对象？表示变量“名称”为Object类型，否则为null void hello（Object？name）{如果（是字符串名称）{//“名称”现在在此块打印中具有String类型（“ Hello，``name`` ！“）; //并且可以在变量print上调用String方法（“ String.size为``name.size``”）; }否则if（存在名称）{//“名称”现在在此块打印中具有对象类型（“ Hello，object``name``！”）; } else {print（“ Hello，world！”）;你好（null）;你好（1）;你好（“ John Doe”）;</p><p>     fun  hello ( obj :  Any )  {  // A type cast fails if `obj` is not a String  obj  as  String  // Since the type cast did not fail, `obj` must be a String!  val  l  =  obj . length  println ( &#34;&#39;$obj&#39; is a string of length $l&#34; ) }  hello ( &#34;Mooooo&#34; )</p><p>     fun hello（obj：Any）{//如果`obj`不是String obj，则类型转换将失败，因为// //由于类型转换没有失败，所以`obj`必须是String！ val l = obj。长度println（“'$ obj'是长度为$ l的字符串”）}你好（“ Mooooo”）</p><p>  This technique coupled with type inference reduces the need for writing  type annotations for all variables or to do  type casting, like is seen with  dynamic languages that use  duck typing. It reduces  verbosity and makes up for terser code, easier to read and modify.</p><p>  这种技术与类型推断相结合，减少了为所有变量编写类型注释或进行类型转换的需求，就像使用鸭子类型的动态语言所看到的那样。它减少了冗长性并弥补了简短代码，更易于阅读和修改。</p><p> It can also help language implementers provide implementations that execute dynamic languages faster by predicting the type of objects statically.  [1]</p><p> 它还可以通过静态预测对象的类型来帮助语言实现者提供更快地执行动态语言的实现。 [1]</p><p> Finally, it increases  type safety and can prevent problems due to  null pointers [   how?], labeled by  C.A.R. Hoare—the null reference inventor—as &#34;the billion dollar mistake&#34;  [2]</p><p> 最后，它提高了类型安全性，并可以防止由C.A.R.标记的空指针[how？]引起的问题。 Hoare-空引用发明者-“十亿美元的错误” [2]</p><p>  Whiley, created by David J. Pearce, was the first language to make use of flow-sensitive typing in 2009.  [3]  [4]</p><p>由David J. Pearce创建的Whiley是2009年第一种使用流敏感类型的语言。[3] [4]</p><p> Since this introduction, other languages have made use of it, namely  Ceylon,  [5]  Kotlin,  [6]  [7]  TypeScript  [8] and  Facebook Flow.  [9]</p><p> 自介绍以来，其他语言都使用了它，例如Ceylon，[5] Kotlin，[6] [7] TypeScript [8]和Facebook Flow。 [9]</p><p>  ^   Lukas Eder (11 December 2014).  &#34;The Inconvenient Truth About Dynamic vs. Static Typing&#34;. blog.jooq.org .</p><p>  ^卢卡斯·埃德（2014年12月11日）。 “关于动态打字与静态打字的不便之处”。 blog.jooq.org。</p><p> ^    Tony Hoare (2009-08-25).  &#34;Null References: The Billion Dollar Mistake&#34;. InfoQ.com.  I call it my billion-dollar mistake. It was the invention of the null reference in 1965. At that time, I was designing the first comprehensive type system for references in an object oriented language ( ALGOL W). My goal was to ensure that all use of references should be absolutely safe, with checking performed automatically by the compiler. But I couldn&#39;t resist the temptation to put in a null reference, simply because it was so easy to implement. This has led to innumerable errors, vulnerabilities, and system crashes, which have probably caused a billion dollars of pain and damage in the last forty years.</p><p> ^托尼·霍尔（Tony Hoare）（2009-08-25）。 “空引用：十亿美元的错误”。 InfoQ.com。我称之为我的十亿美元错误。这是在1965年发明空引用的。那时，我正在设计第一个全面的类型系统，用于面向对象语言（ALGOL W）的引用。我的目标是确保对引用的所有使用都绝对安全，并由编译器自动执行检查。但是我无法抗拒引入空引用的诱惑，只是因为它是如此容易实现。这导致了无数错误，漏洞和系统崩溃，在最近四十年中可能造成十亿美元的痛苦和破坏。</p><p>      ^   Ryan Cavanaugh (18 November 2014).  &#34;TypeScript 1.4 sneak peek: union types, type guards, and more&#34;. blogs.msdn.microsoft.com .</p><p>      ^ Ryan Cavanaugh（2014年11月18日）。 “ TypeScript 1.4速览：联合类型，类型卫士等”。 blogs.msdn.microsoft.com。</p><p> ^   Avik Chaudhuri, Basil Hosmer, Gabriel Levi (18 November 2014).  &#34;Flow, a new static type checker for JavaScript&#34;. code.facebook.com .  CS1 maint: uses authors parameter ( link)</p><p> ^阿维克·乔杜里（Avik Chaudhuri），罗勒·霍斯默（Basil Hosmer），加布里埃尔·列维（Gabriel Levi）（2014年11月18日）。 “ Flow，一个新的JavaScript静态类型检查器”。 code.facebook.com。 CS1维护：使用作者参数（链接）</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://en.wikipedia.org/wiki/Flow-sensitive_typing">https://en.wikipedia.org/wiki/Flow-sensitive_typing</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/sensitive/">#sensitive</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/类型/">#类型</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>