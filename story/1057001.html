<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我建立了反向图像搜索像素艺术 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">我建立了反向图像搜索像素艺术 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-04-08 18:28:50</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/4/6c6495b09532d222a59ecda76b08f2d4.png"><img src="http://img2.diglog.com/img/2021/4/6c6495b09532d222a59ecda76b08f2d4.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Permalink我想建立一个反向图像搜索OpenGameart作为Google图像搜索和Tineye Don＆＃39; T给它提供了良好的结果。我先前已经生成了一个巨大的瓷砖地图，以概述OpenGameart上的类似图像，但它是＆＃ 39; t非常友好的网络或图像浏览器，并且必须分成较小的文件，加上它，而不是以任何方式搜索，只是可滚动。所以我想要一种方法来探索什么样的艺术可在OpenGameart上使用，并使用相似性搜索降落以浏览图像空间。</p><p>  我必须做的第一件事是检索查询的搜索结果我对OpenGameart感兴趣的，大多是2D Art.然后我不得不检索在搜索结果索引中的每个HTML页面并解析为文件链接的HTML .opengameart包含大量的归档文件，如zip和rar文件，所以我不得不解开它们以进入图像。</p><p> 例如，这是一个代码段，显示如何解析内容页面并获取文件链接：</p><p> 响应人员=等待常见。 ReadUriorcache（blob，common。BaseUri +页面，客户）; var htmldoc = new htmldocument（）; htmldoc。 loadhtml（响应）; var htmlbody = htmldoc。文档编码。 SelectSinglenode（＆＃34; // body＆＃34;）; foreach（var在htmlbody中的nnode。后代（＆＃34; a＆＃34;））{if（nnode。nodeType == htmlnodetype。元素＆amp; nnode。属性[＆＃34; href＆＃34;]！ = null＆amp; nnode; nnode。属性[＆＃34; href＆＃34;]。值。包含（＆＃34; /默认/文件/＆＃34;））{msg。添加（htmltility。htmldecode（nnode。属性[＆＃34; href＆＃34;]。值。替换（常见的。filemi，＆＃34;＆＃34;）））; }}</p><p>  我使用了Azure函数来做爬网的步骤，通过一些来回手动干预来根据需要纠正事物。移居有自己的队列，然后将作业放在下一个队列上的下一步。在结束时，调用的结束Azure 50美元，如果我记得是正确的，那么让Let＆＃39; S说出10-20百万函数调用。</p><p>  我试图使用开源MILVUS数据库，但它在我的数字电信服务器上崩溃，因为我没有足够的记忆。然后，我不小心，幸运的是在黑客新闻评论部分中发现了Pinecone的链接并决定使用相反，随着试验是免费的，我不必扩展我的服务器内存来使用微米兽。在最后我扩展了我的服务器，但我没有尝试米尔维斯（至少还没有） 。</p><p>  我在我的脚本中使用了VGG16功能提取。请凭借更多信息，但实质上是＆＃39; s 4096 32位浮点数，每个图像都描述了图像的各种特征，例如非常简化的方式，它具有多少条纹或平方点或者是多么绿。但这些特征基于神经网络中的神经元，用于VGG16（通常用于图像分类），因此特征可能比所述的描述更复杂通过简单的功能标签。我们需要这些向量的原因是它＆＃39; s易于使用的欧几里德距离或余弦相似或两种向量上的另一个措施，看看它们是否相似，因此图像类似。那里有类似的。在这些向量上是搜索技术，可以快速搜索大量的搜索。 </p><p>Warning: Can only detect less than 5000 characters</p><p>我也维持A＆＃34;反向数据库＆＃34;文本文件才能链接回OpenGameart站点的图像查找（具有此问题的错误，我还有一些错误，在这种情况下，它只是与OpenGameart主页的链接。此文件也加载到查询服务器上启动。最后还有一个链接，用于搜索类似的图像，其隐式使用第二种查询逐图像。</p><p>  最后，我还添加了一个快速修复，以删除具有相同分数的近重叠图像结果.II遇到与＆＃34的搜索页面上的一些麻烦;双倍＆＃34; URL编码，因为我使用文件系统中的URL编码存储了文件，但是我在前端的某些检测代码处理了浏览器双重编码URL编码的文件名.I建议不要在没有的情况下存储爬网文件URL encoding.i遗憾的是，我的脚本不是那么高的质量或抛光，例如脚本中有多个步骤，我通过编辑脚本来改变事物而不是拍摄命令行arguments.i don＆＃39; t＆＃39;感觉像发布播放片段脚本和解释它们有点杂乱。在处理特征提取之前，我将来自Azure存储的文件从Azure存储移动到My DigitaloCean服务器中，所以有一些不一致的数据位置处理＆＃39;</p><p>  我建议在比天蓝色的函数和天蓝色的存储器上进行爬行，以节省一些钱，例如您自己的服务器或固定的价格云服务器。它只需50美元，但我本可以在我的数字沉积上免费完成它服务器，这样＆＃39;为什么。</p><p> 我建议在可以在它可能终止或需要一些手动干预的任何点构建一个更强大的爬虫，idempotent和重启（例如，我超过了Azure函数最大运行时间为5分钟提取一些大型邮政编码，所以我提取了它们在VS代码中本地运行函数）。</p><p> 有一件事我遗憾的是，这次做完了，这次是为了将瓷砖纸张从瓷砖纸张中提取到单个图像以进行搜索。这将使搜索更有用。另一方面，它可能会用太多几乎相同的图像混淆相似性搜索。</p><p>  使用一点内容原型对系统进行原型可能是有用的，然后在完成工作后，运行整个流水线端到结束所有内容，而不是完成爬网中的第一步，然后执行所有功能提取，然后执行所有数据库插入就像我一样。</p><p> 总之，我制作的是一个黑客，而不是那么强大的脚本，用于更新新内容，但它作为原型工作并给出了体面的图像搜索结果（并不总是如此，但我责备它的特征提取不是在微小的像素领域（尽管在特征提取之前调整大小/上部））。 </p><p>看来Milvus还可以提供类似的结果，一并侧面比较某种类型，速度和质量，但我发现从它已经启动并运行并运行以来，我发现使用Pinecone更容易使用 所以我不必运行自己的矢量数据库。  Azure函数OpenGameArt爬虫在* .cs文件中。 由于定价，我以逐渐转移到DigitaloCean。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/emnh/PixelArtSearch/blob/master/README.md">https://github.com/emnh/PixelArtSearch/blob/master/README.md</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/反向/">#反向</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/reverse/">#reverse</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/图像/">#图像</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1056820.html"><img src="http://img2.diglog.com/img/2021/4/thumb_fa067d39baf87b67d92f7b6283380623.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1056820.html">夫妇在S.韩国污染了400K绘画，认为这是公共艺术项目 </a></div><span class="my_story_list_date">2021-4-8 1:23</span></div><div class="col-sm"><div><a target="_blank" href="/story/1056774.html"><img src="http://img2.diglog.com/img/2021/4/thumb_e40f2b1a3df237d19317a638f8e0d12e.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1056774.html">真实的艺术家正在建立虚拟，AI动力的音乐家 </a></div><span class="my_story_list_date">2021-4-7 23:5</span></div><div class="col-sm"><div><a target="_blank" href="/story/1056168.html"><img src="http://img2.diglog.com/img/2021/4/thumb_efef44c85ed8715e9cafec31e48446bc.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1056168.html">辩论机器创造的艺术的影响 </a></div><span class="my_story_list_date">2021-4-5 5:55</span></div><div class="col-sm"><div><a target="_blank" href="/story/1056041.html"><img src="http://img2.diglog.com/img/2021/4/thumb_aff22acffcd596289991806125986354.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1056041.html">NFT的发明意味着让艺术家更加控制他们的作品，但这种梦想并没有成真，只会导致商业可利用的炒作 </a></div><span class="my_story_list_date">2021-4-4 9:30</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>