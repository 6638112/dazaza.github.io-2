<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>RASPsim：基于PTLsim的周期精确的x86-64模拟器</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">RASPsim：基于PTLsim的周期精确的x86-64模拟器</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-30 07:41:55</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/84763a51465dcd6217cbcfa3c401474f.png"><img src="http://img2.diglog.com/img/2020/11/84763a51465dcd6217cbcfa3c401474f.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>RASPsim是周期精确的x86-64仿真器，从PTLsim派生而来。 raspsim模拟器允许根据需要配置虚拟地址空间和初始寄存器值，开始模拟，并获取最新的寄存器状态，请求的内存转储以及模拟的周期数和指令数。</p><p>  可以在最新的Linux发行版中使用make（可以选择增加并行性）来编译代码。编译已通过Fedora 31进行了测试。</p><p>   这将在地址0x200000处映射一个空的4k页内存，在该地址写入一些指令字节（mov eax，0x112233; int 0x80），将指令指针rip设置到该地址。模拟输出包含新的寄存器状态。</p><p> $ ./raspsim“ M200000 rx”“ W200000 b833221100cd80”“ rip 0x200000” [...]在170个周期，2条指令和0秒的模拟时间（0 Hz模拟速率）后停止。结束状态：VCPU状态：体系结构寄存器：rax 0x0000000000112233 RCX 0x0000000000000000 RDX 0x0000000000000000 RBX 0x0000000000000000 RSP 0x0000000000000000 RBP 0x0000000000000000 RSI 0x0000000000000000 RDI 0x0000000000000000 R8 0x0000000000000000 R9 0x0000000000000000 R10 R11 0x0000000000000000 R12 0x0000000000000000 R13 0x0000000000000000 R14 0x0000000000000000 R15 0x0000000000000000 0x0000000000000000 [...]撕裂0x0000000000200007标志0x0000000000000000 dlend 0x0000000000000000 selfrip 0x0000000000200005 nextrip 0x0000000000200007 AR1 0xffffffffffffff80 AR2 0x0000000000000000零0x0000000000000000 [...]</p><p>  Raspsim是使用命令行参数配置的（也支持从文件读取命令的@file语法）。处理完所有命令后，将开始仿真。当执行int 0x80或发生CPU异常时，仿真将停止。系统调用有意未实现。</p><p> 重要提示：所有命令（包括空格）都必须是单个参数。从shell调用模拟器时，必须转义配置命令中的空格。</p><p>  M  -在具有指定访问限制的给定（页面对齐）地址处分配内存页面。 prot的有效值为ro，rw，rx。自修改代码实际上是由模拟器支持的，当第一个执行的指令位于可写页面上且引发raisesan异常时，会出现错误。因此，这不会在命令行中公开。</p><p>W  -将数据写入先前分配的页面。该地址不需要页面对齐；但是，数据不能越过边界。要在多个页面上写入数据，必须使用多个写入命令。</p><p>    Fnocache-禁用对缓存层次结构的仿真，所有内存访问将作为缓存命中进行仿真</p><p>  -将寄存器设置为一个值。有效的寄存器名称是16个通用寄存器，rip和标志。 SSE寄存器分为高低寄存器（每个为64位），并以xmmland xmmh为前缀，后跟数字（0--15）。</p><p>    //// PTLsim：精确的循环x86-64模拟器/////版权所有2000-2008 Matt T. Yourst  // PTLsim是最新的精确循环的微处理器模拟器和虚拟机，用于x86和x86-64指令集。此版本的PTLsim建模了与x86-64兼容的现代推测性乱序处理器内核，缓存层次结构和支持的硬件。有关PTLsim的更多信息，请访问：http://www.ptlsim.org要开始使用，请阅读PTLsim用户指南和参考。 inptlsim / Documentation / PTLsimManual.pdf，或访问我们的网站以获取其他文档格式。PTLsim软件和手册是免费软件；它们是根据GNU通用公共许可证版本2许可的。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/aengelke/raspsim">https://github.com/aengelke/raspsim</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ptlsim/">#ptlsim</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/based/">#based</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>