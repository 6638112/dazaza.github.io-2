<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Bottlerocket，一个为运行容器而构建的开源Linux发行版</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Bottlerocket，一个为运行容器而构建的开源Linux发行版</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-09-02 05:25:32</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/9/cec2909557a8611e525cf6e4cbf59eee.png"><img src="http://img2.diglog.com/img/2020/9/cec2909557a8611e525cf6e4cbf59eee.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>随着我们的客户越来越多地采用容器来运行他们的工作负载，我们发现需要一个从头设计的Linux发行版来运行容器，重点放在安全、操作和可管理性的规模化上。客户需要一个操作系统，使他们能够自动管理数千台运行Containers的主机。</p><p>来认识一下Bottlerocket，这是一个为运行容器而构建的新的开源Linux发行版。Bottlerocket旨在提高您的集装箱化基础设施的安全性和运营性。其内置的安全强化功能有助于简化安全合规性，其事务更新机制允许使用容器协调器自动更新操作系统(OS)并降低运营成本。</p><p>Bottlerocket是在GitHub上开发的一个开放源码项目，有一个公开的路线图。我们期待着在GitHub上围绕Bottlerocket建立一个社区，并欢迎您的功能请求、错误报告或贡献。</p><p>我们开始设计和构建Bottlerocket是基于我们从客户如何使用Amazon Linux来运行容器以及从运行AWS Fargate等服务中学到的东西。在设计过程的每一步，我们都针对安全性、速度和易维护性对Bottlerocket进行了优化。</p><p>Bottlerocket只包含运行容器所需的软件，从而降低了安全攻击面，从而提高了安全性。它在强制模式下使用Security-Enhanced Linux(SELinux)来增强容器和主机操作系统之间的隔离，此外还使用标准的Linux内核技术来实现容器化工作负载(如控制组(Cgroup)、命名空间和seccomp)之间的隔离。</p><p>此外，Bottlerocket使用设备映射器的验证目标(dm-verity)，这是Linux内核的一个特性，它提供完整性检查，以帮助防止攻击者在操作系统上持续威胁，例如覆盖核心系统软件。Bottlerocket中的现代Linux内核包括eBPF，这减少了许多低级系统操作对内核模块的需求。Bottlerocket的大部分是用Rust编写的，Rust是一种现代编程语言，有助于确保线程安全并防止与内存相关的错误，如可能导致安全漏洞的缓冲区溢出。</p><p>Bottlerocket还实施了一种操作模型，通过阻止与生产服务器的管理连接进一步提高了安全性。它适用于对任何单个主机的控制有限的大型分布式环境。对于调试，您可以使用Bottlerocket的API(通过用户数据或AWS系统管理器调用)运行“管理容器”，然后使用SSH登录以进行高级调试和故障排除。管理容器是Amazon Linux 2容器映像，包含用于故障排除和调试Bottlerocket的实用程序，并以提升的权限运行。它允许您安装和使用标准调试工具，如traceroute、strace、tcpdump。登录到单个Bottlerocket实例的操作旨在成为高级调试和故障排除的罕见操作。</p><p>Bottlerocket使管理节点和自动更新群集中的节点变得更容易，从而大规模提高了运营和可管理性。与旨在支持以各种格式打包的应用程序的通用Linux发行版不同，Bottlerocket是专门为运行容器而构建的。对其他通用Linux发行版的更新是在逐个软件包的基础上应用的，它们的软件包之间复杂的依赖关系可能会导致错误，这使得该过程具有自动化的挑战性。</p><p>一旦拥有此AMI ID，您就可以启动EC2实例并将其连接到现有的EKS或ECS集群。要使用Bottlerocket的Kubernetes变体连接到EKS集群，您需要在启动EC2实例时提供如下用户数据：</p><p>[settings.kubernetes]api-server=&#34；您的EKS API服务器端点此处&#34；cluster-Certificate=&#34；您的base64编码群集证书此处&#34；cluster-name=&#34；您的群集名称此处&#34；</p><p>要使用Bottlerocket的ECS变体连接到ECS群集，您可以提供如下用户数据：</p><p>有关入门的更多说明，请参阅EKS指南和ECS指南。</p><p>除了使用AWS提供的Bottlerocket AMI之外，您还可以使用自己的更改生成自定义版本的Bottlerocket。为此，您可以派生GitHub存储库，进行更改，然后遵循我们的构建指南。作为先决条件，您必须首先设置构建环境。构建系统基于Rust语言。我们建议您使用Rustup安装最新的稳定锈蚀。为了组织构建任务，我们在构建过程中使用Cargo-make和Cargo-Deny。要获得这些，请运行以下命令：</p><p>Bottlerocket使用Docker协调包和映像构建。我们推荐使用Docker 19.03或更高版本。您需要使用能够访问Docker API的用户帐户安装并运行Docker。这通常是通过将您的用户帐户添加到扩展坞组来启用的。</p><p>所有包都将依次构建，然后编译成build/目录中的img文件。</p><p>接下来，要注册在Amazon EC2上使用的Bottlerocket AMI，您需要设置aws-cli并运行：</p><p>我们诚邀您加入我们的行列，进一步增强Bottlerocket。请参阅瓶口问题列表和瓶口路线图。我们欢迎投稿。检查现有问题是开始投稿的一种很好的方式。有关详细信息，请参阅我们的投稿人指南。</p><p>我们希望您使用Bottlerocket来运行您的容器，并期待您的反馈！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://aws.amazon.com/blogs/opensource/announcing-the-general-availability-of-bottlerocket-an-open-source-linux-distribution-purpose-built-to-run-containers/">https://aws.amazon.com/blogs/opensource/announcing-the-general-availability-of-bottlerocket-an-open-source-linux-distribution-purpose-built-to-run-containers/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/开源/">#开源</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/容器/">#容器</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/open/">#open</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1021293.html"><img src="http://img.diglog.com/img/2020/8/thumb_0e9879e3990ad48ccf6f9078b27cb5c9.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1021293.html">在ext4中使用Linux内核的不区分大小写特性</a></div><span class="my_story_list_date">2020-8-30 21:8</span></div><div class="col-sm"><div><a target="_blank" href="/story/1021073.html"><img src="http://img.diglog.com/img/2020/8/thumb_3784dc110fc890967203836fc494bb9a.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1021073.html">Linux容器-技术介绍(2015)</a></div><span class="my_story_list_date">2020-8-29 9:10</span></div><div class="col-sm"><div><a target="_blank" href="/story/1021030.html"><img src="http://img.diglog.com/img/2020/8/thumb_b3f3b987ce5551ce8bc11b5a19f6b517.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1021030.html">GNU/Linux Smartphone Librem 5 Evergreen更新：模具和里程碑</a></div><span class="my_story_list_date">2020-8-29 5:43</span></div><div class="col-sm"><div><a target="_blank" href="/story/1020912.html"><img src="http://img.diglog.com/img/2020/8/thumb_7f8f6e8aded6aa3ea1590c7a37ddaee5.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1020912.html">使用ThinkPad和Linux的一年(来自MacBook Pro)</a></div><span class="my_story_list_date">2020-8-28 21:12</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>