<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>玛瑙，用铁锈写的简单的双子座服务器 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">玛瑙，用铁锈写的简单的双子座服务器 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-11 03:40:45</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/c24268a4abbd1928dca035fcc42dd194.jpeg"><img src="http://img2.diglog.com/img/2021/3/c24268a4abbd1928dca035fcc42dd194.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Argate是Gemini网络协议的服务器，用Rust编程语言构建。玛瑙具有很少的功能，并且只能为静态文件提供服务。它使用异步I / O，即使在低端硬件上运行并服务许多并发请求时也应该非常有效。</p><p> 由于默认使用端口1965年以来，您应该能够在同一设备上运行其他服务器（如apache或nginx）。</p><p>         注意：玛瑙目前只是在不稳定的频道中，并在下次版本被标记后将达到发行频道</p><p>  如果您安装了防锈工具链，请运行货物安装玛瑙以从箱子安装玛瑙。</p><p>  下载源代码并运行Cargo Build  - 允许在源存储库中释放，然后在目标/释放/庆祝中找到二进制文件。</p><p>  如果系统有一个，则可以使用工具目录中的安装脚本以获取其余步骤。如果没有，请考虑贡献一个，以使其更容易获得更低的技术娴熟的用户！</p><p>  生成自签名的TLS证书和私钥。例如，如果安装了OpenSSL 1.1，则可以使用以下命令使用以下命令。 （用双子座服务器的地址替换主机名example.com。） </p><p>openssl req-x509-newkey rsa：4096-keyout key.rsa -out cert.pem \ -days 3650-nodes -subj＆＃34; /cn=example.com&#34;</p><p> 运行服务器。您可以使用以下参数指定要在请求URL中侦听的内容目录，证书和密钥文件，IP地址和端口，以期望的主机名，以及包含在MIME类型中的默认语言代码对于Text / Gemini文件:(再次将Hostname example.com与Gemini服务器的地址替换为。）</p><p> 玛瑙 -  Content Path / to / content / \ --key key.rsa \ --cert cert.pem \  -  -addr [::]：1965 \ --addr 0.0.0.0:1965 \ --hostname example.com \  -  US</p><p> 所有命令行参数都是可选的。运行Agate --help以查看省略参数时使用的默认值。</p><p> 当客户端请求URL Gemini：//example.com/foo/bar时，Agate将在路径/到/内容/ foo / bar中响应该文件。如果所请求路径的任何段以点开始，ARATE将用状态代码52响应，无论文件是否存在。可以使用-serve-cleftray禁用此行为或.meta配置文件中的特定文件的条目（请参阅Meta-Prepsets）。如果该路径上有一个目录，Agate将查找该目录中名为index.gmi的文件。</p><p>   默认情况下玛瑙支持TLSv1.2和TLSv1.3。您可以使用Flag -Only-TLS13（或其短版本-3）禁用对TLSv1.2的支持。建议不要因为它可能与某些客户端破坏兼容性而。 Gemini规范需要与TLSv1.2＆＃34的兼容性;现在＆＃34;因为并非所有平台都有良好支持TLSV1.3（规范的§4.1）。</p><p>  您可以通过将名为.Directory列表 - 确定的文件启用一个名为目录的基本目录列表。这对子目录没有效果。目录列表将隐藏名称以点（例如，.directory列表 - 确定文件本身或.meta配置文件）启动的文件和目录。 </p><p>您可以在任何内容目录中放置一个名为.meta的文件。此文件存储有关在服务这些文件时使用的相邻文件的一些元数据。 .meta文件必须是UTF-8编码。您还可以使用-c标志（或长版 -  Central-conf）启用中央配置文件。在这种情况下，玛糖将始终查找内容根目录中的.meta配置文件，并将忽略其他目录中的.meta文件。</p><p>  在同一条线上的＃后面的一切都是评论，并将被忽略。</p><p> 所有其他线路必须具有表单＆lt;路径＆gt;：＆lt;元数据＆gt;，即从文件路径开始，后跟冒号，然后是元数据。</p><p> ＆lt; path＆gt;是一个区分敏感的文件路径，磁盘上可能也可能不存在。如果导致目录，它被忽略。如果未使用中央配置文件模式，则使用当前目录中不是文件的路径是未定义的行为（例如，... /index.gmi将是未定义的行为）。您可以在现有路径中使用UNIX样式模式。例如，内容/ *将匹配内容内的任何文件，而内容/ **将另外匹配内容子目录中的任何文件。默认情况下，*和**默认情况下，*和** Globs将默认情况下不匹配由于它们的特殊含义。可以使用--serve-secric禁用此行为，或者通过明确地匹配以ef的点开始匹配文件内容/.*或content /**/.*。有关您可以使用的模式的更多信息，请参阅Glob :: pattern.rules的文档可以覆盖其他规则，因此如果文件与多个规则匹配，则最后一个适用。</p><p>  清空玛瑙不会发送默认语言参数，即使在命令行上指定了它。</p><p> 从分号开始，后跟MIME参数AGATE将指定的字符串将指定的字符串附加到MIME类型中，如果找到该文件。</p><p> 从Gemini状态代码开始（即一个数字1-6，后跟另一个数字），并且空格玛瑙将发送元数据是否存在文件。该文件将不会被发送或访问。 </p><p>一个MIME类型，可以包括参数Agate将使用此MIME类型而不是它将猜测，如果找到该文件。即使在命令行上指定了默认语言参数，也不会使用。</p><p> 如果一行违反格式或看起来像案例3，但也不正确，可能会忽略。您应该检查您的日志。请知道，当访问各个目录中的文件时，首先读取此配置文件。所以启动后没有日志消息并不意味着.meta文件是可以的。</p><p>  ＃这条线将被忽略。** / *。de.gmi：; lang = denl / ** / *。gmi：lang = nlindex.gmi：; lang = en-Uklicense：text / plain; charset = utf- 8gone.gmi：52这个文件不再在这里，抱歉。</p><p> 如果这是内容根目录中的.meta文件，并且使用-c标志，这将导致以下响应标头：</p><p> nl目录中的任何非隐藏文件，结尾于.gmi（包括非隐藏子目录） - ＆gt; 20文字/双子座; Lang = NL</p><p> （* 1）在理论上，语法是典型的INI样文件，也允许与[部分]（默认部分设置为解析器中的MIME），因为所有其他部分都被忽略，这不会忽略差异。这也意味着您可以在理论上也可以使用=而不是：。对于更多信息，您可以访问ConfigParser的文档。</p><p>  玛瑙使用env_logger箱子，并允许您通过设置默认rust_log环境变量来设置日志记录。有关更多信息，请参阅env_logger的文档。 </p><p>玛瑙对虚拟主机具有基本支持。如果指定多个--HOSTNames，ARADE将在内容根目录中查看具有相应主机名的目录。例如，如果其中一个主机名是example.com，则内容根目录被设置为默认值./content，和Gemini：//example.com/file.gmi请求，然后玛瑙会寻找./content/example.com/file.gmi。仅在指定多个--hostnames时才启用此行为.Agate不支持不同主机名的不同证书，您必须为所有域（多域证书）使用单一证书。</p><p> 如果要为多个域提供相同的内容，则可以通过未指定--hostname来禁用主机名检查。在这种情况下，玛瑙将忽略一个请求和＃39; S hostname除了检查有一个。</p><p>    ＆＃34;错误：＆＃34;如果发生错误，则零件将仅记录。这只应该用于信息目的，因为状态代码应该提供发生错误的信息。如果在未建立连接中的错误（例如，由于TLS错误），将使用状态代码00。</p><p> 除了所选的日志级别，日志中可能发生一些线路。例如初始＆＃34;聆听...＆＃34;关于列出特定目录的线或信息。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/mbrubeck/agate">https://github.com/mbrubeck/agate</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/rust/">#rust</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/铁锈/">#铁锈</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/simple/">#simple</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/文件/">#文件</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1051546.html"><img src="http://img2.diglog.com/img/2021/3/thumb_2daa54cb6068e20714cc31297cdf8ee7.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1051546.html">Facebook表示，它提出了驳回FTC和州AGS带来的反托拉斯诉讼的动议，争论其行为并没有伤害竞争或消费者 </a></div><span class="my_story_list_date">2021-3-11 2:46</span></div><div class="col-sm"><div><a target="_blank" href="/story/1051545.html"><img src="http://img2.diglog.com/img/2021/3/thumb_3a15802927f7c1082de47fe935e9837e.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1051545.html">数据中心运营商OVH表示，火灾摧毁了其在法国的一些地点，影响网络威胁情报公司的坏数据包，游戏制造商生锈等 </a></div><span class="my_story_list_date">2021-3-11 2:45</span></div><div class="col-sm"><div><a target="_blank" href="/story/1050981.html"><img src="http://img2.diglog.com/img/2021/3/thumb_5ba954e9f66a99ccd64f55c11be56d8a.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1050981.html">白色房子信号发生反垄断推动用蒂姆吴预约 </a></div><span class="my_story_list_date">2021-3-7 10:35</span></div><div class="col-sm"><div><a target="_blank" href="/story/1050908.html"><img src="http://img2.diglog.com/img/2021/3/thumb_e5fa21403d9e12bc6daae5489483a822.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1050908.html">Apple面临欧盟申请欧盟反托拉斯收费 </a></div><span class="my_story_list_date">2021-3-7 9:34</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>