<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Google发布最新的Linux补丁程序，因此只有受信任的任务才能共享内核Google Publishes Latest Linux Patches So Only Trusted Tasks Share a Core</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Google Publishes Latest Linux Patches So Only Trusted Tasks Share a Core<br/>Google发布最新的Linux补丁程序，因此只有受信任的任务才能共享内核</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-21 19:27:10</div><div class="page_narrow text-break page_content"><p>Google engineer Joel Fernandes sent out the ninth version of their &#34;core scheduling&#34; patches for the Linux kernel that allows for allowing only trusted tasks to run concurrently on the same CPU core -- in cases where Hyper Threading is involved to safeguard the system against the possible security exploits.  Core Scheduling has been a popular topic since vulnerabilities like MDS and L1TF have come to light. Core Scheduling aims to  make Hyper Threading safer and by only letting trusted tasks share a CPU core is a reasonable safeguard for still leaving Hyper Threading active on servers rather than disabling it in the name of security. DigitalOcean, Oracle, Google, and other major x86_64 players have all been interested in core scheduling and working on different solutions in order to keep HT/SMT active. Particularly for the major cloud server providers having to disable HT/SMT would be a big blow to their models.   Core Scheduling has made good progress this year and Google engineers are seemingly hopeful their solution will be mainlined. The v9 patches posted today are re-based against the latest Linux Git code while addressing previously raised issues/feedback. There is &#34;hope that this version is acceptable to be merged&#34; pending no new issues being raised.  THis core scheduling implementation mitigates user-space to user-space attacks as well as user-space to kernel-space attacks. The patches do not change any default kernel scheduler behavior but require tagged cgroups for laying out the trusted tasks that can share a core when it comes to evaluating whether a task can be placed on a sibling thread.   Outside of the security context, core scheduling can be useful for real-time purposes and other performance sensitive applications where wanting better control over SMT usage. Joel mentioned, &#34; ChromeOS testing shows 300% improvement in keypress latency on a Google docs key press with Google hangout test (the maximum latency drops from 150ms to 50ms for keypresses).&#34; But depending upon the configuration and workload it&#39;s still quite possible for core scheduling to eat into the overall system performance but generally should not be as bad as disabling SMT/HT.  More details on this Core Scheduling v9 work via  the kernel mailing list. This core scheduling implementation in its current form amounts to just over four thousand lines of new code.</p><p>Google工程师Joel Fernandes针对Linux内核发出了第九版核心调度补丁，该补丁允许仅允许受信任的任务在同一CPU内核上同时运行-如果涉及超线程以保护系统免受可能的安全性的影响功绩。自从出现MDS和L1TF之类的漏洞以来，核心调度一直是一个热门话题。核心调度的目的是使超线程更安全，仅允许受信任的任务共享一个CPU内核，这是使超级线程在服务器上保持活动状态而不是出于安全性而禁用超级线程的合理保护措施。 DigitalOcean，Oracle，Google和其他主要的x86_64播放器都对核心调度感兴趣，并致力于开发不同的解决方案，以使HT / SMT保持活动状态。特别是对于主要的云服务器提供商而言，必须禁用HT / SMT将对其模型造成很大的打击。 Core Scheduling在今年取得了良好的进展，Google工程师似乎希望他们的解决方案能够成为主流。今天发布的v9补丁将根据最新的Linux Git代码重新建立基础，同时解决了先前提出的问题/反馈。希望在不引发新问题之前可以合并此版本。该核心调度实现减轻了用户空间到用户空间的攻击以及用户空间到内核空间的攻击。这些补丁程序不会更改任何默认的内核调度程序行为，但需要使用标记的cgroup来安排可信任的任​​务，这些任务可以共享一个核心，以评估是否可以将任务放在同级线程上。在安全性环境之外，核心调度对于需要更好地控制SMT使用情况的实时用途和其他对性能敏感的应用程序很有用。乔尔（Joel）提到，ChromeOS测试显示，使用Google环聊测试的Google文档按键可以将按键延迟提高300％（按键的最大延迟从150ms降至50ms）。但是，取决于配置和工作负载，核心调度仍然有可能吞噬整个系统的性能，但通常不应该与禁用SMT / HT一样糟糕。通过内核邮件列表，有关此Core Scheduling v9的更多详细信息。当前形式的这种核心调度实现仅相当于四千多行新代码。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.phoronix.com/scan.php?page=news_item&px=Google-Core-Scheduling-v9">https://www.phoronix.com/scan.php?page=news_item&px=Google-Core-Scheduling-v9</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/rust/">#rust</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/发布/">#发布</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/程序/">#程序</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>