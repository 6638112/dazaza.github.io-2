<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我的Android手机上的恶意软件 Malware on My Android Phone</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Malware on My Android Phone<br/>我的Android手机上的恶意软件 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-11 16:30:43</div><div class="page_narrow text-break page_content"><p>I have a confession to make that I’m not very proud of: recently, I unwittingly installed malware on my Android phone. As one of the early members of the Android team and someone who’s been using Android for about thirteen years, this was a pretty humbling and irritating event. This is what happened.</p><p>我很坦白地说，我并不感到骄傲：最近，我无意间在Android手机上安装了恶意软件。作为Android团队的早期成员之一，并且已经使用Android约十三年了，这真是令人谦卑而令人不快的事件。就是这样</p><p> I remember how it started: I unlocked my phone and two accidental clicks led me to agree to a dialog that my brain immediately registered as suspicious. But I had other things on my mind at the time so I paid it no mind and moved on.</p><p> 我记得它是如何开始的：我解锁了手机，两次意外点击使我同意我的大脑立即被注册为可疑的对话。但是当时我在想其他事情，所以我不顾一切继续前进。</p><p> The next day, I picked up my phone and when I launched Chrome, I immediately noticed it was displaying a spammy URL. What’s worse: there were over ten tabs displaying similar URL’s which I was certainly not visiting before going to bed. This is when I realized what had happened.</p><p> 第二天，我拿起手机，当我启动Chrome时，我立即发现它显示的是垃圾网址。更糟糕的是：有十多个标签显示了类似的网址，我上床睡觉之前肯定没有去过。这是我意识到发生了什么事。</p><p>  Lacking the time to do an investigation at the time, I went for an easy and temporary solution: changed my default browser from Chrome to another one and moved on. A few hours later, I found a similar set of URL’s displayed by my new default browser, which now definitely pointed the finger toward a rogue app.</p><p>  由于当时没有时间进行调查，因此我寻求了一个简单而临时的解决方案：将默认浏览器从Chrome更改为另一个浏览器，然后继续使用。几个小时后，我发现新的默认浏览器显示了一组类似的URL，现在无疑将手指指向了恶意应用。</p><p>  I went through all my apps and uninstalled and disabled a bunch of them. I also downloaded MalwareBytes and ran it, to no effect. Google Play Protect also did not notice anything suspicious on my phone. I must have missed the offending app because the URL’s kept showing.</p><p>  我浏览了所有应用程序，然后卸载并禁用了其中的许多应用程序。我也下载了MalwareBytes并运行了它，但没有任何效果。 Google Play Protect也没有注意到我的手机上有任何可疑的东西。我一定错过了该违规应用，因为该网址一直显示。</p><p>  Time to go medieval. I hooked up my phone and launched  adb. I started by inspecting the list of recurring tasks, but the output was so voluminous that finding anything useful was a dim prospect. I also inspected all the services and their associated applications, but then again, it was pretty much impossible to find anything suspicious even with some well targeted `greps`.</p><p>  是时候去中世纪了。我挂断了电话并启动了adb。我从检查重复执行的任务列表开始，但是输出的内容如此庞大，以至于找到有用的东西都是黯淡的前景。我还检查了所有服务及其关联的应用程序，但是再说一次，即使有针对性的“技巧”，几乎也找不到任何可疑的东西。</p><p>  I resigned myself to the brute force approach. I launched Android Studio, filtered the  logcat output on “ http.?://“, moved the window on the side and resumed my activities while keeping an eye on which URL’s my phone visits while I’m not using it.</p><p>  我辞职了蛮横的方法。我启动了Android Studio，在“ http.?://”上过滤了logcat的输出，将窗口移至侧面并恢复了我的活动，同时关注着我不使用手机时访问了哪个URL。 </p><p> It only took about an hour until one of the fishy URL’s showed up:</p><p>大约一个小时后，其中一个可疑的网址出现了：</p><p>  Ha HA! I got you now. I have a uid, which I grepped through the output, and I finally identified my target:</p><p>  哈哈！我明白你了现在。我有一个uid，我在输出中抓了一下，最后确定了目标：</p><p> 2021-01-09 11:01:13.810 3655-3655/? I/EdgeLightingManager: showForNotification :isInteractive=false, isHeadUp=true, color=0,sbn = StatusBarNotification(pkg=com.qrcodescanner.barcodescanner user=UserHandle{0} id=1836 tag=null key=0|com.qrcodescanner.barcodescanner|1836|null|10237: Notification(channel=sfsdfsdfsd pri=2 contentView=nullvibrate=null sound=null defaults=0x0 flags=0x90 color=0x00000000 vis=PRIVATE semFlags=0x0 semPriority=0 semMissedCount=0))</p><p> 2021-01-09 11：01：13.810 3655-3655 /？ I / EdgeLightingManager：showForNotification：isInteractive = false，isHeadUp = true，color = 0，sbn = StatusBarNotification（pkg = com.qrcodescanner.barcodescanner user = UserHandle {0} id = 1836 tag = Null key = 0 | com.qrcodescanner.barcodescanner | 1836 | null | 10237：通知（channel = sfsdfsdfsd pri = 2 contentView = nullvibrate = null声音= null默认值= 0x0标志= 0x90颜色= 0x00000000 vis = PRIVATE semFlags = 0x0 semPriority = 0 semMissedCount = 0））</p><p> So the package name is “ com.qrcodescanner.barcodescanner“. It looks like the rogue app is disguising itself as a QR barcode scanner. I took another look at the list of my apps and sure enough, I quickly located the offending application. I uninstalled it, and a few hours later, I was happy to observe that the URL’s stopped popping up.</p><p> 因此，程序包名称为“ com.qrcodescanner.barcodescanner”。流氓应用似乎伪装成QR条形码扫描仪。我再次查看了我的应用程序列表，果然，我很快找到了有问题的应用程序。我将其卸载，几个小时后，我很高兴看到URL不再弹出。</p><p>  I went back to the Play Store and tried to find the application that I uninstalled but couldn’t find it, which indicates that Google probably removed it from its store some time ago. The malware I activated most likely side loaded it after I unwittingly approved its installation.</p><p>  我回到Play商店并尝试找到我卸载但找不到的应用程序，这表明Google可能是在一段时间前将其从其商店中删除的。在我不经意地批准其安装之后，我激活的恶意软件很可能会侧面加载它。</p><p> Some forensic research revealed  an article from 2018 discussing such a malware QR Code Reader application, but the package and the mode of operation don’t quite match what I found. I am probably dealing with a copycat.</p><p> 一些法医研究显示，2018年的一篇文章讨论了这种恶意软件QR Code Reader应用程序，但程序包和操作方式与我发现的不完全相同。我可能正在处理模仿者。</p><p> Looking back, I feel pretty disappointed that I had to go through all these steps to get rid of a simple scam application. What would a regular user do?</p><p> 回顾过去，我感到非常失望，因为我不得不完成所有这些步骤才能摆脱一个简单的欺诈应用程序。普通用户会做什么？ </p><p>  Listing the apps installed on my phone should give me the option to sort them by “Latest installed”. I am pretty sure that if I had had this option and I had seen a QR Code Scanner installed just a few days ago, it would have immediately grabbed my attention. As it is, the way Android lists the installed apps is pretty useless for this purpose.</p><p>列出手机上已安装的应用程序后，应该可以选择按“最新安装”对它们进行排序。我非常确定，如果我有此选项，并且几天前看到安装了QR Code Scanner，它会立即引起我的注意。实际上，Android列出已安装应用程序的方式对于此目的几乎没有用。</p><p> MalwareBytes was completely useless and I immediately uninstalled it when I realized this fact. The problem is that it was probably just looking for malware code signatures inside the packages instead of just looking at which apps I had installed.</p><p> MalwareBytes完全没有用，当我意识到这一事实后，我立即将其卸载了。问题在于，它可能只是在软件包中查找恶意软件代码签名，而不是仅查看我已安装的应用程序。</p><p> Google Play Protect was also completely unhelpful, which was a big disappointment. First because Google certainly knows which applications they removed from their store for malware reasons, but even so, I would expect Google Play Protect to at least flag any app it finds on my phone that is not on their store. Such an app is not necessarily malware, but it should certainly be flagged.</p><p> Google Play Protect也完全没有帮助，这实在令人失望。首先，因为Google确实知道出于恶意软件原因将其从商店中删除了哪些应用程序，但是即使如此，我仍希望Google Play Protect至少标记它在手机上找到的不在其商店中的任何应用程序。这样的应用程序不一定是恶意软件，但应将其标记出来。</p><p> Google Play Protect could also do some behavior profiling to analyze what apps are doing in the background. A service launching recurring VIEW intents on web sites in the background should have raised a flag to the system.</p><p> Google Play Protect也可以进行一些行为分析，以分析应用程序在后台执行的操作。在后台在网站上启动循环VIEW意图的服务应该已经向系统发出了一个标志。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.beust.com/weblog/malware-on-my-android-phone/">https://www.beust.com/weblog/malware-on-my-android-phone/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/android/">#android</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/应用程序/">#应用程序</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>