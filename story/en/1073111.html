<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>使用M-Reps进行光线跟踪Raytracing with M-Reps</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Raytracing with M-Reps<br/>使用M-Reps进行光线跟踪</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2022-02-14 17:49:54</div><div class="page_narrow text-break page_content"><p>At last year&#39;s  SGP conference,researchers presented an  interesting methodfor meshing NURBS surfaces. This piqued my interest, since I had written aNURBS mesher earlier that year (as part of Foxtrot, a STEP file viewer).</p><p>去年&#39；在s SGP会议上，研究人员提出了一种有趣的NURBS曲面网格划分方法。这激发了我的兴趣，因为那年早些时候我写过aNURBS mesher（作为STEP文件查看器Foxtrot的一部分）。</p><p> On a  long train ride, I spent some time tryingto understand the paper. I quickly realized that I&#39;d need to go upstream: theNURBS meshing paper was the the latest in a series of related papers,and heavily relied on previous works for geometric infrastructure.</p><p>在一次长途火车旅行中，我花了一些时间试图理解这篇论文。我很快意识到我&#39；d需要向上游发展：the Urbs meshing paper是一系列相关论文中的最新一篇，在几何基础设施方面严重依赖于之前的工作。</p><p>   This year, as part of my traditional Winter Break Graphics Hackathon, I dug intothe first three papers. At the end, I could successfully raytrace the Utah Teapotdirectly from its Bézier patches:</p><p>今年，作为我传统寒假图形黑客大赛的一部分，我深入阅读了前三篇论文。最后，我可以成功地直接从Bézier贴片中对犹他茶壶进行光线追踪：</p><p>  I gave running commentary in a  Twitter thread;this writeup goes into more depth, and should be helpful for others seeking tounderstand this line of research.</p><p>我在Twitter上发表了连续评论；这篇文章更深入，应该对其他寻求理解这一研究领域的人有所帮助。</p><p>   These papers describe a way of converting parametric curves and surfacesinto a function which converts a point $(x, y, z)$ into a matrix$M(x, y, z)$.</p><p>这些论文描述了一种将参数曲线和曲面转换为函数的方法，该函数将点$（x，y，z）$转换为矩阵$M（x，y，z）$。</p><p>   This matrix has an interesting property: its  rank drops by onewhen you&#39;re  exactly on the curve or surface!</p><p>这个矩阵有一个有趣的特性：当你&#39；我们正处在曲线或曲面上！</p><p>   Through a mysterious process (to be explained later), we can calculate the$M$ matrices. They&#39;re not particularly pretty:</p><p>通过一个神秘的过程（稍后解释），我们可以计算出$M$矩阵。他们&#39；你不是特别漂亮：</p><p>     With these matrices, we can evaluate $M(3, 3)$, which should be on the curve,then look at its singular values (using the  SVD):</p><p>利用这些矩阵，我们可以计算$M（3，3）$，它应该在曲线上，然后查看其奇异值（使用SVD）：</p><p>  This seems to work: the last singular value is very close to zero. To confirm,we&#39;ll check a point that&#39;s off the curve:</p><p>这似乎有效：最后一个奇异值非常接近于零。为确认，我们&#39；我来检查一点&#39；这太离谱了：</p><p>  In this case, the singular values are all non-zero, meaning the matrix has fullrank. This is what we expect for a point that&#39;s not on the curve!</p><p>在这种情况下，奇异值都是非零的，这意味着矩阵具有满秩。这就是我们对&#39；它不在曲线上！</p><p>          Remember that we&#39;re dealing with  parametric curves and surfaces.In the general case, we&#39;re taking some parameter $s$(where $s$ is one-dimensional for a curve and $s = (s_1, s_2)$ for asurface), and generating a rational curve or surface</p><p>记住我们&#39；重新处理参数化曲线和曲面。在一般情况下，我们&#39；重新获取一些参数$s$（其中$s$对于曲线是一维的，$s=（s_1，s_2）$对于曲面），并生成有理曲线或曲面</p><p>  In our example above, we&#39;re generating a 2D Bézier curve, which means thatwe have a 1D parameterization with$f_0(s) = 1$ and $f_3(s) = 0$.</p><p>在上面的例子中，我们&#39；重新生成二维贝塞尔曲线，这意味着我们有一个一维参数化，$f_0（s）=1$和$f_3（s）=0$。</p><p>   Right now, the $g_i(s)$ functions are underdefined; we don&#39;t know exactlywhat they are, just that the above property must hold for a given set of$f_i(s)$ functions.</p><p>目前，$g_i（s）$函数定义不足；我们没有&#39；我不知道它们是什么，只是上面的属性对于给定的$f_i（s）$函数集必须成立。</p><p> Now, let&#39;s use the $g_i(s)$ functions to build a new function, which isparameterized by $s$ and evaluated at some point in space$\left(x, y, z\right)$</p><p>现在，让&#39；s使用$g_i（s）$函数来构建一个新函数，该函数由$s$参数化，并在空间$\left（x，y，z\right）的某个点上求值$</p><p>  Again, $L$ is not a specific function; it&#39;s just a particular way ofcombining a set of $g_i(s)$ functions. However, it  already has aninteresting property: what happens if we evaluated it at a point on thecurve or surface?</p><p>同样，$L$不是一个特定的函数；它&#39；这只是组合一组$g_i（s）$函数的一种特殊方式。然而，它已经有了一个有趣的特性：如果我们在曲线或曲面上的某个点对它求值，会发生什么？</p><p> $$\begin{aligned}L\left(s; \frac{f_1(s)}{f_0(s)}, \frac{f_2(s)}{f_0(s)}, \frac{f_3(s)}{f_0(s)}\right)&amp;= g_0(s) + \frac{f_1(s)}{f_0(s)}g_1(s) + \frac{f_2(s)}{f_0(s)}g_2(s) + \frac{f_3(s)}{f_0(s)}g_3(s)\\&amp;= \frac{g_0(s)f_0(s) + f_1(s)g_1(s) + f_2(s)g_2(s) + f_3(s)g_3(s)}{f_0(s)}\\&amp;= \frac{0}{f_0(s)}\\&amp;= 0\end{aligned}$$</p><p>$$\begin{aligned}L\ left（s；\frac{f_1（s）}{f_0（s）}、\frac{f_2（s）}{f_0（s）}、\frac{f_3（s）}{f_0（s）}\ right）&amp；=g_0（s）+\frac{f_1（s）}{f_0（s）}g_1（s）+\frac{f_2（s）}{f_0（s）}g_2（s）+\frac{f_3（s）}{f_0（s）}g_3（s）\\&amp；=\frac{g_0（s）f_0（s）+f_1（s）g_1（s）+f_2（s）g_2（s）+f_3（s）g_3（s）}{f_0（s）\\\\&amp；=\frac{0}{f_0（s）\\\\&amp；=0\end{aligned}$$</p><p> That&#39;s neat: $L(s; x, y, z)$ is 0 at the point onthe surface given by $s$!</p><p>那&#39；s整齐：$L（s；x，y，z）$s$在曲面上给定的点上为0！</p><p> The paper gives more intuition for the behavior of $L$ by noting that oncewe&#39;ve locked down a particular value for $s$, $L_s(x, y, z)$defines a  plane in 3D. From our observation above, that plane must passthrough the point on the surface given by $s$.</p><p>本文通过指出oncewe&#39；我们为$s$锁定了一个特定值，$L_s（x，y，z）$在3D中定义了一个平面。根据我们上面的观察，那架飞机必须通过表面上由$s$给出的点。</p><p> Let&#39;s jump ahead very briefly, so as to break up the wall of math with a picture.In our Bézier curve example, we end up with three $L(s; x, y)$ functions whicheach define a  line in 2D for a particular value of $s$.Here&#39;s what they look like as you sweep thevalue of the curve parameter $s$, with the point on the curve shown asa black dot:</p><p>让&#39；让我们简单地向前跳，以便用一幅画打破数学之墙。在我们的Bézier曲线示例中，我们最终得到了三个$L（s；x，y）$函数，每个函数在2D中定义一条线，具体值为$s$。这里&#39；当你扫掠曲线参数$s$的值时，曲线上的点显示为黑点，它们看起来是什么样子：</p><p>  The three lines always intersect at the point on the curve given bya particular $s$!</p><p>这三条线总是在特定的$s$给定的曲线上相交！</p><p>  Okay, back to math! We&#39;ve discussed a set of four functions $g_{0,1,2,3}(s)$,given then a particular property, and combined them into a new function$L(s; x, y, z)$.</p><p>好了，回到数学上来！我们&#39；我们讨论了一组四个函数$g_{0,1,2,3}（s）$，然后给定一个特定的属性，并将它们组合成一个新函数$L（s；x，y，z）$。</p><p>  Consider a set of basis functions $\left(\psi_1(s), \psi_2(s), ..., \psi_{m_\nu}(s)\right)$,where $m_\nu$ is the number of basis functions of degree $\leq \nu$,and $\nu$ is an arbitrarly chosen degree.</p><p>考虑一组基函数$\Lead（\psii1（s），\psisi2（s），…\psi_{m_\nu}（s）\right）$，其中$m_\nu$是阶$\leq\nu$的基函数数，$\nu$是任意选择的阶。</p><p>   Because all of the $g_i(s)$ functions are using the same basis functions,we can represent their combination as</p><p>因为所有的$g_i（s）$函数都使用相同的基函数，所以我们可以将它们的组合表示为</p><p>    (Did you know that $\Lambda$ is a capital $\lambda$?I didn&#39;t until just now; it&#39;s all Greek to me!)</p><p>（你知道$\Lambda$是大写的$\Lambda$吗？我直到刚才才知道；我对它完全是希腊语！）</p><p> Now, we can rewrite our previous function:$$L(s; x, y, z) = \sum_{i=1}^{m_\nu}\Lambda_i(x, y, z) \psi_i(s)$$</p><p>现在，我们可以重写之前的函数：$$L（s；x，y，z）=\sum_{i=1}^{m_{nu}\Lambda_i（x，y，z）\psi_i（s）$$</p><p> For reasons that will soon become clear, we can  also write this asa matrix multiplication (albeit one where it&#39;s a single row multipliedby a single column):</p><p>出于很快就会明白的原因，我们也可以将其写成asa矩阵乘法（尽管它是一行乘以一列）：</p><p> $$\left[\begin{array}{cccc}\psi_1(s) &amp; \psi_2(s) &amp; ... &amp; \psi_{m_\nu}(s)\end{array}\right]\left[\begin{array}{c}\Lambda_1(x, y, z) \\\Lambda_2(x, y, z) \\... \\\Lambda_{m_\nu}(x, y, z) \\\end{array}\right]= \left[L(s; x, y, z)\right]$$</p><p>$$\left[\begin{array}{cccc}\psi_1（s）&amp；\psi_2（s）&amp；\psi{m\uNu}（s）\ end{array}\right]\left[\begin array}{c}\Lambda_1（x，y，z）\\\Lambda_2（x，y，z）\\\\\\\\\da_{m\nu nu x，y，z）\\\end{array{c}\Lambda{1（x，y，y，z）\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\$$</p><p> Let&#39;s take a step back: we&#39;ve assumed the existance of a quartet of functions$g_{0,1,2,3}(s)$, given them certain properties, and built thisinfrastructure on top of them.</p><p>让&#39；让我们后退一步：我们&#39；我们假设存在四个函数$g_{0,1,2,3}（s）$，赋予它们某些属性，并在它们之上构建了这个基础设施。</p><p> However, we haven&#39;t constrained them enough that there&#39;s only a single set of$g$ functions for a given shape. You can imagine generating  multiplesets of $g$ functions, e.g.</p><p>然而，我们没有&#39；他们没有受到足够的约束，以致于&#39；对于给定的形状，只有一组$g$函数。您可以想象生成$g$函数的多个集，例如。</p><p>  Here, we&#39;re generating $r_\nu$ sets of $g$ functions, $r_\nu$ beinganother mystery value that we&#39;ll explain later.</p><p>在这里，我们&#39；重新生成$g$函数的$r\nu$集，$r\nu$是另一个神秘值，我们&#39；我稍后再解释。</p><p> Now that we&#39;ve got multiple sets of $g$ functions, we can usethe rest of our infrastructure and build a  big matrix of $\Lambda$ values.As shorthand, let&#39;s just call it $M(x, y, z)$:</p><p>现在我们&#39；我们有多组$g$函数，我们可以使用基础设施的其余部分，构建一个由$\Lambda$值组成的大型矩阵。简而言之，让&#39；让我们把它叫做$M（x，y，z）$：</p><p> $$M(x, y, z) = \left[\begin{array}{cccc}\Lambda_{1,1}(x,y,z) &amp;\Lambda_{1,2}(x,y,z) &amp; ... &amp; \Lambda_{1,r_\nu}(x,y,z) \\\Lambda_{2,1}(x,y,z) &amp;\Lambda_{2,2}(x,y,z) &amp; ... &amp; \Lambda_{2,r_\nu}(x,y,z) \\... &amp; ... &amp; ... &amp; ... \\\Lambda_{m_\nu,1}(x,y,z) &amp;\Lambda_{m_\nu,2}(x,y,z) &amp; ... &amp; \Lambda_{m_\nu,r_\nu}(x,y,z) \\\end{array}\right]$$</p><p>10.0元（x，y，y，z）M（x，y，y，z）M（x，y，y，z）M（x，y，y，z）及另外两名（x，y，y，y，y，y，y，z）M（x，y，y，z）M（x，y，y，z）M（x，y，y，y，z）及其他[3.0（x，y，y，y，y，y，y，y，z）及及amp amp；及..................................................................................................................amp；\\\ Lambda_{M_\nu，1}（x，y，z）&amp；\Lambda_{M_\nu，2}（x，y，z）&amp；\Lambda_{M_\nu，r\nu}（x，y，z）\\\end{array}\right]$$</p><p> But wait! That&#39;s a confusing choice of variable, because we used $M$ asour &#34;magic matrix with drop-of-rank property&#34; earlier.</p><p>但是等等！那&#39；这是一个令人困惑的变量选择，因为我们使用了$M$asour&#34；具有降秩性质的魔矩阵#34；早期的。</p><p>  Let&#39;s see why. As before, we can multiply by the basis functions for $g$to generate a family of functions $L(s; x, y, z)$:</p><p>让&#39；让我们看看原因。如前所述，我们可以乘以$g$的基函数，生成一系列函数$L（s；x，y，z）$：</p><p> $$\begin{aligned}&amp;\left[\begin{array}{cccc}\psi_1(s) &amp; ... &amp; \psi_{m_\nu}(s)\end{array}\right]M(x, y, z) \\ =&amp;\left[\begin{array}{cccc}\psi_1(s) &amp; ... &amp; \psi_{m_\nu}(s)\end{array}\right]\left[\begin{array}{cccc}\Lambda_{1,1}(x,y,z) &amp; ... &amp; \Lambda_{1,r_\nu}(x,y,z) \\... &amp; ... &amp; ... \\\Lambda_{m_\nu,1}(x,y,z) &amp; ... &amp; \Lambda_{m_\nu,r_\nu}(x,y,z) \\\end{array}\right] \\ = &amp;\left[\begin{array}{ccc}L_1(s; x, y, z)&amp; ... &amp; L_{m_\nu}(s; x, y, z)\end{array}\right]\end{aligned}$$</p><p>$$\begin{aligned}&amp；\左[\begin{array}{cccc}\psi{U 1（s）..\psi{m\UNU}（s）\end{array}\right]m（x，y，z）\\=&amp；\从左到左，从左到左，从从左到左，从从从开始{{{阵列阵列{{{{{{{{{{{数组}{{{{{数组}}{{CCCCCCCCCCCCCC}{{CCCCCCCCCC}{{{CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC1\PS1（s）及其他地区）及其他地区的人士及其他地区可能可能会从1，1，1.1（x，y，y，y，y，z）及及另外另外另外两两个城市，1、1、1、1、3、2、3、3、3、3、2、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3、3）及}（x，y，z）\\\end{array}\right]\\=&amp；\左[\begin{array}{ccc}L_1（s；x，y，z）&amp；L{m_\nu}（s；x，y，z）\end{array}\right]\end{aligned}$$</p><p> Now we can see where the drop-of-rank property comes from. Consider evaluating$M$ at a point on the surface given by the parameter $s$:</p><p>现在我们可以看到排名下降的原因了。考虑在参数$S$给出的表面上点$M$：</p><p>   $$\begin{aligned}&amp; \left[\begin{array}{cccc}\psi_1(s) &amp; ... &amp; \psi_{m_\nu}(s)\end{array}\right]M\left(\frac{f_1(s)}{f_0(s)}, \frac{f_2(s)}{f_0(s)}, \frac{f_3(s)}{f_0(s)}\right) \\&amp;= \left[\begin{array}{ccc}L_1(s; \frac{f_1(s)}{f_0(s)}, \frac{f_2(s)}{f_0(s)}, \frac{f_3(s)}{f_0(s)})&amp; ... &amp; L_{m_\nu}(s; \frac{f_1(s)}{f_0(s)}, \frac{f_2(s)}{f_0(s)}, \frac{f_3(s)}{f_0(s)})\end{array}\right]\\&amp;= \left[\begin{array}{ccc}0 &amp; ... &amp; 0\end{array}\right]\end{aligned}$$</p><p>$$\begin{aligned}&amp；\左[\begin{array}{cccc}\psi{1（s）\[0（s）0（s）0（s）0（s）0（s）0（s）0（s）0（s）0（s）0（s）0（s）3（s）0（s）0（s）0（s）0（s）0（s）0（s）0（s）0（s）0（s）0（s）0）0（s）0）0（s）0（s）0）0（s）0（s）0）0（s）0（s）0）0（s）0（s）0（s）0）0（s）0（s）0）0（s）0（s）0）0（s）0（s）0）0（s）0（s）0（s）0（s）0（s）0（s）0（s）0（s）0）0（s）0（s）0（s）0）0（s）0（s）0）0（s）0（s）0）0）f_0（s）}）\end{array}\right]\\&amp；=\左[\begin{array}{ccc}0&amp；..&amp；0\end{array}\right]\end{aligned}$$</p><p> You can think of this multiplication as building a linear combination of thematrix rows, weighted by $\psi_1(s)...\psi_{m_\nu}(s)$.</p><p>您可以将此乘法视为构建矩阵行的线性组合，权重为$\psi_1（s）。。。\psi_{m_u\nu}（s）$。</p><p> It&#39;s trivial that there exists a linear combination of the matrix rows whichsums to zero, because we just found it.</p><p>它&#39；有一个简单的矩阵行的线性组合求和为零，因为我们刚刚找到了它。</p><p> The fact that such a combination exists means that the rows aren&#39;t linearly independent, meaning the rank of the matrix isn&#39;t full!</p><p>这种组合的存在意味着这些行不是&#39；t线性独立，表示矩阵的秩为&#39；我没吃饱！</p><p> (This explanation is a bit handwavey, because it also depends on $m_\nu$and $r_\nu$, but this is at least the right intuition; see Section 3.2 ofthe paper for details)</p><p>（这个解释有点牵强，因为它也依赖于$m_nu$和$r_nu$，但这至少是正确的直觉；详细信息请参见本文第3.2节）</p><p>  At this point, we have a recipe for building this useful matrix $M(x, y, z)$for a given curve or surface defined by</p><p>在这一点上，我们有一个方法来为给定的曲线或曲面构建有用的矩阵$M（x，y，z）$，由</p><p>      Of course, this is one of those &#34;now you have two problems&#34; situations:how, exactly, are we going to find these sets of $g$ functions?</p><p>当然，这是其中之一#34；现在你有两个问题#34；情境：我们到底要如何找到这些$g$函数集？</p><p> It depends on what kind of model you&#39;re dealing with, and the paper presentsstrategies for a few common geometric representations. Let&#39;s work throughsection 2.1, which explains how to solve the problem for rationalBézier curves.</p><p>这取决于你是什么样的模特&#39；重新处理，并提出几种常见几何表示的策略。让&#39；第2.1节介绍了如何解决有理Bézier曲线的问题。</p><p> For Bézier curves, $f$ will be using  Bernstein polynomialsas its basis functions; we&#39;ll declare that $g$ will do the same.</p><p>对于Bézier曲线，$f$将使用Bernstein多项式作为其基函数；我们&#39；我宣布$g$也会这么做。</p><p> There are $d + 1$ Bernstein polynomials of degree $d$, numbered$0$ through $d$.The $i$&#39;th Bernstein polynomial of degree $d$ has equation</p><p>有$d+1$Bernstein多项式，阶数为$d$，编号为$0$到$d$。i$和#39美元；$d$次的th Bernstein多项式有一个等式</p><p>          At this point, we know the values for weights in $f_{0,1,2,3}(s)$,since that&#39;s our curve, but we  don&#39;t know the $\lambda_{...}$ weights for $g$.</p><p>在这一点上，我们知道权重的值在$f_{0,1,2,3}（s）$，因为&#39；这是我们的曲线，但我们没有&#39；我不知道$\lambda_{…}$重量为$g$。</p><p> Want to learn a cool fact about Bernstein polynomials? If you multiply them,the result will be a  scaled Bernstein polynomial with a degree that&#39;sthe sum of the other two degrees.</p><p>想了解伯恩斯坦多项式的一个很酷的事实吗？如果将它们相乘，结果将是一个阶数为&#39的缩放伯恩斯坦多项式；其他两个度数之和。</p><p>  $$\begin{aligned}B^d_i(s)B^\nu_j(s) &amp;= {d \choose i} t^i(1 - t)^{d - i}{\nu \choose j} t^j(1 - t)^{\nu - j} \\&amp;= {d \choose i}{\nu \choose j}t^{i + j}(1 - t)^{d + \nu - (i + j)}\\&amp;= {d \choose i}{\nu \choose j}\frac{B^{d + \nu}_{i + j}(s)}{{d + \nu}\choose{i + j}}\end{aligned}$$</p><p>$$\begin{aligned}B^d_i（s）B^\nu_j（s）&amp；={d\choose i}t^i（1-t）^{d-i}{\nu\choose j}t^j（1-t）^{\nu-j}\\\&amp；={d\choose i}{\nu\choose j}t^{i+j}（1-t）^{d+\nu-（i+j）}\\\&amp；={d\choose i}{\nu\choose j}\frac{B^{d+\nu}{i+j}（s）}{{d+\nu}\choose{i+j}\end{aligned}$$</p><p> This means that because $f(s)$ is built from $B^d(s)$ and $g(s)$ isbuilt from $B^\nu(s)$, their product $f(s)g(s)$ can be expressed inthe basis $B^{d + \nu}(s)$.</p><p>这意味着，因为$f（s）$是从$B^d（s）$构建的，$g（s）$是从$B^\nu（s）$构建的，所以他们的产品$f（s）g（s）$可以用$B^{d+\nu}（s）$表示。</p><p> Now, we&#39;re going to do a lot of math. Consider multiplying one of our $f(s)$functions by a polynomial from $B^\nu$:</p><p>现在，我们&#39；我们要做很多数学题。考虑把我们的F（$）$函数中的一个乘以$b^ \nu$：</p><p> $$B_j^\nu(s) f_0(s) = \sum_{i=0}^d w_{0,i}{d \choose i}{\nu \choose j}\frac{B^{d + \nu}_{i + j}(s)}{{d + \nu}\choose{i + j}}$$</p><p>$$B_j^\nu（s）f_0（s）=\sum_{i=0}^d w{0，i}{d\choose i}{\nu\choose j}\frac{B^{d+\nu}{i+j}（s）}{{d+\nu}\choose{i+j}$$</p><p>    $$B_j^\nu(s) f_0(s) = \sum_{i=0}^d W_0(i,j)B^{d + \nu}_{i + j}(s)$$We can rewrite this as a very awkward matrix multiplication:</p><p>$$B_j^\nu（s）f_0（s）=\sum_{i=0}^d W_0（i，j）B ^{d+\nu}{i+j}$$我们可以将其改写为非常尴尬的矩阵乘法：</p><p> $$B_j^\nu(s) f_0(s) = \left[\begin{array}{cccc}B_j^{d + \nu}(s) &amp;B_{j + 1}^{d + \nu}(s) &amp; ... &amp;B_{j + d}^{d + \nu}(s)\end{array}\right]\left[\begin{array}{c}W_0(0, j) \\W_0(1, j) \\... \\W_0(d, j) \\\end{array}\right]$$</p><p>$$B_j^\nu（s）f_0（s）=\left[\begin{array}{cccc}B_j^{d+\nu}（s）和B_{j+1}{d+\nu}（s）和B_{j+d}{d+\nu end{array}\right]\_left[\begin array{c}W}0，W}0，W}0，W}$$</p><p> To keep the row matrix the same for all $j$, we&#39;d like to make it of length$d + \nu$. This means that we&#39;ll need to pad the column vector with zeros:</p><p>为了使所有$j$的行矩阵保持不变，我们&#39；我想把它做成长度为$d+\nu$。这意味着我们&#39；我需要用零填充列向量：</p><p> $$\begin{aligned}B_0^\nu(s) f_0(s) &amp;= \left[\begin{array}{cccc}B_0^{d + \nu}(s) &amp;B_{1}^{d + \nu}(s) &amp; ... &amp;B_{d + \nu}^{d + \nu}(s)\end{array}\right]\left[\begin{array}{c}W_0(0, 0) \\W_0(1, 0) \\W_0(2, 1) \\... \\W_0(d, 0) \\0 \\0 \\...\end{array}\right]\\B_1^\nu(s) f_0(s) &amp;= \left[\begin{array}{cccc}B_0^{d + \nu}(s) &amp;B_{1}^{d + \nu}(s) &amp; ... &amp;B_{d + \nu}^{d + \nu}(s)\end{array}\right]\left[\begin{array}{c}0 \\W_0(0, 1) \\W_0(1, 1) \\... \\W_0(d, 1) \\0 \\... \\\end{array}\right]\end{aligned}$$...and so on for $B_2^\nu(s)f_0(s)$ through $B_\nu^\nu(s)f_0(s)$.</p><p>$$\begin{aligned}B_0^\nu（s）f_0（s）&amp；=\左（左）及左（右）左（左）及左（左）及左（左）及左（左）左（左）及左（左）左（左）及左（左）左（左）及及及及及左（左）及及及及及左（左）两两两名香港及及及及及两两两两名香港及及及香港（香港）香港及香港及香港（香港）香港及香港及香港及香港及香港（香港）香港及香港及香港及香港及香港（香港及香港及香港及香港（香港）的）香港及香港（香港及香港及香港及香港及香港及香港（香港）的）的）香港及香港及香港及香港（香港及香港及香港及香港及香港的）的）的））香港及香港及香港（区区区区区区区区区区（香港及香港及及香港的）的）的）的香港及香港（香港及香港及香港及香港及香港及香港（香港及香港及香港的）的）的）的）的）的(s)fu 0(s)\左[\begin{array}{cccc}bU0^{d+\nu}（s）和bU1}{d+\nu}（s）..和bU0{d+\nu}（s）\{d+\nu}（s）\ end{array}\right]\左[\begin array}{c}0\\W{0（0，1）\\\\ W{0（1，1）\\\\\\\ W\\\\\\\\\\ n数组右端{。。。等等，从$B_2^\nu（s）f_0（s）$到$B_\nu^\nu（s）f_0（s）$。</p><p> Now, let&#39;s build out such a matrix for all values of $j$ between 0 and $\nu$,which we&#39;ll call $\mathbb{S}_{0,\nu}$:</p><p>现在，让&#39；让我们为0到$\nu$之间的所有$j$值建立这样一个矩阵，我们&#39；我将调用$\mathbb{S}{0，\nu}$：</p><p> $$\mathbb{S}_{0,\nu} = \left[\begin{array}{cccc}W_0(0, 0) &amp; 0 &amp; 0 &amp; ...\\W_0(1, 0) &amp; W_0(0, 1) &amp; 0\\... &amp; ... &amp; ... &amp; ... \\W_0(d, 0) &amp; W_0(d - 1, 1) &amp; ... &amp; ...\\0 &amp; W_0(d, 1) &amp; ... \\... &amp; ... &amp; ... &amp; ... \\0 &amp; 0 &amp; .... &amp; W_0(d, \nu)\end{array}\right]$$</p><p>香港警方（0、0）及0&0及0及0及0及0及0&amp amp amp；amp；0（1、0）及0及0及0及0及0及0及0及0及0及0...香港警方（1、0）0（1、0）及W（0（1、0、0、0、1）及0（0、1）及0（0、1）及0）及0（0、1）及0）及0（0）及0（0、0、1）及0）及0）及0（0（0、0、1）及0）及0（0、1）及0）及0（0（0、1、1、1）及0）及0（0）及0）及0）及0）及0（0（0）及0（0（0（0、1、1、1、1、1）及0）及0）及0）及0（0（0（0（0、0）及0）及0）及{array}\right]$$</p><p>  $$\begin{aligned}&amp;\left[\begin{array}{cccc}B_0^{d + \nu}(s) &amp;B_{1}^{d + \nu}(s) &amp; ... &amp;B_{j + i}^{d + \nu}(s)\end{array}\right] \mathbb{S}_ {0,\nu} \\ &amp;=\left[\begin{array}{ccccc}B_ {0}^\nu(s)f_{0}(s) &amp;B_{1}^\nu(s)f_{0}(s) &amp;B_{2}^\nu(s)f_{0}(s) &amp; ... &amp;B_\nu^\nu(s)f_{0}(s)\end{array}\right] \\ &amp;=f_0(s)\left[\begin{array}{ccccc}B_ {0}^\nu(s) &amp;B_{1}^\nu(s) &amp;B_{2}^\nu(s) &amp;... &amp;B_\nu^\nu(s)\end{array}\right]\end{aligned}$$</p><p>$$\begin{aligned}&amp；\左[\begin{array}{cccc}B_0^{d+\nu}（s）和B_{1}{d+\nu}（s）和..和B_{j+i}^{d+\nu}（s）\end{array}\right]\_mathbb{s}{0\nu=\左[\begin{array}{ccccccc}B{0}nu（s）f{0}（s）和B{1}nu（s）f{0}（s）和B{2}nu（s）f{0}（s）和B{2}（s）nu（s）f{0}（s）=左[\begin{array}{ccccccc}B{0}^\nu（s）&amp；B{1}^\nu（s）&amp；B{2}^\nu（s）&amp；B{nu^\nu（s）\ end{array}\right]\_end{aligned}$$</p><p>   $$\begin{aligned}&amp;f_0(s)\left[\begin{array}{ccccc}B_ {0}^\nu(s) &amp;B_{1}^\nu(s) &amp;B_{2}^\nu(s) &amp;... &amp;B_\nu^\nu(s)\end{array}\right]\left[\begin{array}{c}\lambda_{0,0} \\\lambda_{0,1} \\\lambda_{0,2} \\... \\\lambda_{0,\nu} \\\end{array}\right] \\&amp;= f_0(s) \left(B_ {0}^\nu(s) \lambda_{0,0} + B_ {1}^\nu(s) \lambda_{0,1} + ... + B_\nu^\nu(s) \lambda_{0,\nu}\right)\\&amp;= f_0(s)g_0(s)\end{aligned}$$</p><p>$$\begin{aligned}&amp；（s）及（s）及（s）及（2）两名（s）及（2）两名（s）及（2）两名（s）及（2）两名（s）及（2）两名（s）及及（2）两名（s）及（s）及及（s）及及及（及）两名（s）及及及及及及及（两名）两名（s）数组）布布布布数组{{{{{{{{{{{香港香港香港香港香港及及香港香港）布布布布布数组}{{{{{{{{{{{{{{{香港香港香港香港香港香港香港香港香港）香港香港香港香港香港香港香港香港（香港）及及香港）布布布布{{{{{{{{{{{{{香港）香港香港香港香港）香港香港香港香港香港香港香港香港香港））布布{{{{{{{{{{{{{{{{香港香港香港香港香港香港香港\right]\\&amp；=f_0（s）\left（B_{0}^\nu（s）\lambda_{0,0}+B_{1}^\nu（s）\lambda_{0,1}+…+B_u\nu^\nu（s）\lambda_{0\nu}\right）\\&amp；=f_0（s）g_0（s）\end{aligned}$$</p><p> So, from only weights of $f_0(s)$ and a max degree $\nu$,we built a matrix $\mathbb{S}_{0,\nu}$ with the property that</p><p>因此，仅从$f_0（s）$和最大度$\nu$的权重，我们构建了一个矩阵$\mathbb{s}{0，\nu}$，其属性为</p><p> $$\left[\begin{array}{ccccc}B_ {0}^{d + \nu}(s) &amp;B_{1}^{d + \nu}(s) &amp;B_{2}^{d + \nu}(s) &amp;... &amp;B_{d + \nu}^{d + \nu}(s)\end{array}\right]\mathbb{S}_ {0,\nu}\left[\begin{array}{c}\lambda_{0,0} \\\lambda_{0,1} \\\lambda_{0,2} \\... \\\lambda_{0,\nu} \\\end{array}\right] = f_0(s)g_0(s)$$</p><p>[左$$$$$$$\左[\左[\be记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记记lambda_{0,1}\\\ lambda_{0,2}\\\\\ lambda_{0\nu}\\\ end{array}\ right]=f_0（s）g_0（s）$$</p><p> Notice that $\mathbb{S}_ {0,\nu}$ isn&#39;t parameterized by $s$ at all,it&#39;s just an array of constants!This means that if we can find a vector that&#39;s in the null spaceof $\mathbb{S}_ {0,\nu}$, the terms $\lambda_ {0,0}, \lambda_ {0,1}, ... \lambda_{0,\nu}$of said vector define a $g_0(s)$ for which $f_0(s)g_0(s) = 0$,without knowing anything about $s$ at all!</p><p>注意$\mathbb{S}{0、\nu}$isn&#39；t参数化为$s$，它&#39；这只是一个常量数组！这意味着如果我们能找到一个向量&#39；在$\mathbb{s}{u{0,nu}$的空空间中，术语$\lambda_{0,0}、\lambda_{0,1}。。。\所述向量的lambda_{0，\nu}$定义了一个$g_0（s）$，其中$f_0（s）g_0（s）=0$，而对$s$一无所知！</p><p> (Finding the null space of a matrix is  easily accomplishedby your favorite linear algebra package, so just assume that&#39;s trivial)</p><p>（用你最喜欢的线性代数软件包很容易找到矩阵的零空间，所以只需假设&#39；s微不足道）</p><p> Now we&#39;re closing in on our goal. We can similarly build$\mathbb{S} _ {1,\nu}$ through $\mathbb{S} _ {3,\nu} $based on $f _ {1-3}(s)$ in our original curve, then arrange themas a matrix that&#39;s $4\times$ the width of $\mathbb{S} _ {0,\nu}$. Let&#39;scall this new matrix simply $\mathbb{S} _ \nu$:</p><p>现在我们&#39；我们接近目标了。同样，我们可以基于原始曲线中的$f{1-3}（S）$构建$\mathbb{S}{1、\nu}$到$\mathbb{S}{3、\nu}$，然后将它们排列成一个矩阵&#39；s$4 \乘以$的宽度$\mathbb{s}{0\nu}$。让&#39；只需$\mathbb{S}\uNu$即可缩放此新矩阵：</p><p> $$\mathbb{S} _ \nu =\big[\begin{array}{c|c|c|c}\mathbb{S} _ {0,\nu} &amp;\mathbb{S} _ {1,\nu} &amp;\mathbb{S} _ {2,\nu} &amp;\mathbb{S} _ {3,\nu}\end{array}\big]$$</p><p>$$\mathbb{S}\uNu=\big[\begin{array}{c | c | c | c}\mathbb{S}{u0\nu}&amp；\mathbb{S}{1\nu}&amp；\mathb{S}{2\nu$$</p><p>  $$\left[\begin{array}{ccccc}B_ {0}^{d + \nu}(s) &amp;B_{1}^{d + \nu}(s) &amp;... &amp;B_{d + \nu}^{d + \nu}(s)\end{array}\right]\big[\begin{array}{c|c|c|c}\mathbb{S} _ {0,\nu} &amp;\mathbb{S} _ {1,\nu} &amp;\mathbb{S} _ {2,\nu} &amp;\mathbb{S} _ {3,\nu}\end{array}\big]\left[\begin{array}{c}\lambda_{0,0} \\\lambda_{0,1} \\... \\\lambda_{0,\nu} \\\hline\lambda_{1,0} \\... \\\lambda_{1,\nu} \\\hline\lambda_{2,0} \\... \\\lambda_{2,\nu} \\\hline\lambda_{3,0} \\... \\\lambda_{3,\nu} \\\end{array}\right]$$</p><p>2007年10月10日（左）及2007年10月1日（左）及10月1日（左）左（左）上周（左）上周（左）上周（左）上周（左）上周[[[[be开始{{{数组数组}{{{数组}{{{CCCCCCCC{0}}{{{{{亚洲亚洲数组}{{{{{0}{{{0 0 0 0}{香港（s）及香港（s）及香港）及香港及香港（数组}}{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{亚洲亚洲地区）数组}}}（s））））及亚洲亚洲（s）及亚洲（s））及香港）及香港）数组）及香港）及香港）及香港）及及香港及香港及及香港及香港及香港及香港及及及及及及香港{{{{{{{{\mathbb{s}{u2\nu}&amp；\mathbb{s}{u3\nu}\end{array}\big]\left[\begin{array}{c}\lambda{0,0}\\\\ lambda{0,1}\\\\\\ lambda{0,1}\\\\\\ lambda{0\nu\\\hline\lambda{1,0}\\\\\\\lambda_{1,nu}\\\ hline\lambda_{2,0}\\\\\\lambda_{2,nu}\\\ hline\lambda_{3,0}\\\\\\lambda_{3，\nu}\\\ end{array}\右]$$</p><p> Notice that the column vector got 4x taller and includes $\lambda$ coefficients for every $g$ function, because $\mathbb{S}$ got 4x wider.</p><p>请注意，由于$\mathbb{S}$的宽度是4倍，所以列向量高了4倍，并且每个$g$函数都包含$\lambda$系数。</p><p>  $$\begin{aligned}&amp;\left[\begin{array}{ccccc}B_ {0}^{d + \nu}(s) &amp;B_{1}^{d + \nu}(s) &amp;... &amp;B_{d + \nu}^{d + \nu}(s)\end{array}\right]\big[\begin{array}{c|c|c|c}\mathbb{S} _ {0,\nu} &amp;\mathbb{S} _ {1,\nu} &amp;\mathbb{S} _ {2,\nu} &amp;\mathbb{S} _ {3,\nu}\end{array}\big]\left[\begin{array}{c}\lambda_{0,0} \\\lambda_{0,1} \\... \\\lambda_{0,\nu} \\\hline\lambda_{1,0} \\... \\\lambda_{1,\nu} \\\hline\lambda_{2,0} \\... \\\lambda_{2,\nu} \\\hline\lambda_{3,0} \\... \\\lambda_{3,\nu} \\\end{array}\right] \\= &amp;\left[\begin{array}{ccc|ccc|cc|cc}B _ {0}^\nu f _ {0} &amp;... &amp;B _ \nu^\nu f _ {0} &amp;B _ 0^\nu f _ {1} &amp;... &amp;B _ 0^\nu f _ {1} &amp;... &amp;B _ \nu^\nu f _ {2} &amp;... &amp;B _ \nu^\nu f _ {3}\end{array}\right]\left[\begin{array}{c}\lambda_{0,0} \\... \\\lambda_{0,\nu} \\\hline\lambda_{1,0} \\... \\\lambda_{1,\nu} \\\hline... \\\lambda_{2,\nu} \\\hline... \\\lambda_{3,\nu} \\\end{array}\right]\\ =&amp;\hspace{0.1in}f_0(s)g_0(s) + f_1(s)g_1(s) + f_2(s)g_2(s) + f_3(s)g_3(s)\end{aligned}$$</p><p>$$\begin{aligned}&amp；\从左[be开始{{{{{数组数组}{{{{{{{{{{{{{{门阵列}{{{{{{{{{{{{{{{{{{{{{{数组}{{{{门阵列}{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{}}}}}}}（s）学校学校学校）及及香港及及及及及及及及及香港香港香港及及及及及及香港香港香港香港的{{{{{{{{{{{{{{{{{{{{}}}}}}}}}}}}}}}}}}}}}}}}{{{{{{{{{{{{{{{}}}}}}}}}}}}}}}}}}}}}}}}}{{{{{{{左[\begin{array}{c}\lambda{0,0}\\\ lambda{0,1}\\\\\\\ lambda{0,1}\\\\\\\\ lambda{0,nu}\\\hline\lambda{1,0}\\\\\\\lambda_{1,nu}\\\ hline\lambda_{2,0}\\\\\\lambda_{2,nu}\\\ hline\lambda_{3,0}\\\\\\lambda_{3，\nu}\\\ end{array}\ right]\\=&amp；\左左{{开始{{{{数组数组}{{{{{{{{{{{门门阵列}{{{{{{{{{{{{门门阵列}{{{{{{{门阵列}{{{{门阵列}{{{{门阵列}{{{门阵列}{{{门门阵列}香港香港及香港{{{门阵列}{{{{{{0}及香港及香港及香港及香港及香港及香港{{{{{门阵列阵列}及香港及香港及香港及香港及香港及香港及香港\\{{{{{{{{{{门门阵列阵列阵列阵列}}}{{{{{门阵列}及香港及香港及香港及香港及香港及香港及香港及香港及香港及香港及香港及香港及香港及香港及香港\\\\\\{array}\right]\left[\begin{array}{c}\lambda{0,0}\\\\\\\\\lambda{0,nu}\\\\hline\lambda{1,0}\\\\\\\\\lambda{1,0}\\\\\\\\lambda{1,nu\\\hline\\\lambda_{2，\nu}\\\\hline\\\lambda_{3，\nu}\\\ end{array}\ right]\\=&amp；\hspace{0.1in}f_0（s）g_0（s）+f_1（s）g_1（s）+f_2（s）g_2（s）+f_3（s）g_3（s）\end{aligned}$$</p><p> (In the middle expression, $B$ and $f$ are still functions of $s$, butI didn&#39;t have room to fit the $(s)$ while staying in one line)</p><p>（在中间的表达式中，$B$和$f$仍然是$s$的函数，但我在一行中没有空间容纳$（s）$）</p><p> Well, would you look at that! The result is the same expression from thestart of this section, which we need to be zero!</p><p>好吧，你看看！结果与本节开头的表达式相同，我们需要为零！</p><p> This means that by calculating the null space of $\mathbb{S}_\nu$,we find coefficients $\lambda _ {0,0},...\lambda _ {3,\nu}$ whichlet us construct $g _ {0-3}(s)$ such that</p><p>这意味着，通过计算$\mathbb{S}\uNu$的零空间，我们可以找到系数$\lambda{0,0}，。。。\lambda{3，\nu}$它让我们构造$g{0-3}（s）$，这样</p><p>  The null space in $\mathbb{S} _ \nu$ probably contains more than one vector,which lets us find multiple sets of $g$ functions. This in turn tells ushow we find $r _ \nu$, which (as you may have forgotten)is the number of columns in our matrix $M(x, y, z)$:$r _ \nu$ is the nullity of $\mathbb{S} _ \nu$.</p><p>$\mathbb{S}\uNu$中的空空间可能包含多个向量，这让我们可以找到多组$g$函数。这反过来告诉我们如何找到$r\uNu$，这是我们矩阵中的列数$M（x，y，z）$：$r\uNu$是$\mathb{S}\uNu$的空值。</p><p> From the coefficients on these $g$ functions,we use our existing infrastructure to build the desired matrix $M(x, y, z)$;remember that the terms of the matrix are given by</p><p>根据这些$g$函数的系数，我们使用现有的基础设施来构建所需的矩阵$M（x，y，z）$；记住，矩阵的项由</p><p>   $$M(x, y, z) = \left[\begin{array}{cccc}\Lambda_{0,1}(x,y,z) &amp;\Lambda_{0,2}(x,y,z) &amp; ... &amp; \Lambda_{0,r_\nu}(x,y,z) \\\Lambda_{1,1}(x,y,z) &amp;\Lambda_{1,2}(x,y,z) &amp; ... &amp; \Lambda_{1,r_\nu}(x,y,z) \\... &amp; ... &amp; ... &amp; ... \\\Lambda_{d,1}(x,y,z) &amp;\Lambda_{d,2}(x,y,z) &amp; ... &amp; \Lambda_{d,r_\nu}(x,y,z) \\\end{array}\right]$$</p><p>10.0.1（x，y，y，z）及另外两名（x，y，y，z）及另外两名（0，2）（x，y，y，z）及两名（x，y，y，y，z）及另外两名（x，y，y，z）及另外两名（x，y，z）及另外两名（x，y，y，z）及另两名（x，y，y，y，y，z）及另外两名（x，y，y，y，y，y，z）及及另外两名及另外两名及另外两名及另外两名及另外两名....另外两名（0，或两名（0，0，0，0，0，0，r，r，r，或（x，x，y，y，y，y，y，y，y，x，x，y，y，y，y，y，x，y，x，y，y，y，y，x，y，y，y，y amp；\\\\ Lambda_{d，1}（x，y，z）&amp；\Lambda_{d，2}（x，y，z）&amp；\Lambda_{d，r_\nu}（x，y，z）\\\end{array}\right]$$</p><p> where each column represents a particular set of $g$ functions, i.e. asingle vector in $\mathbb{S}_\nu$&#39;s null space.</p><p>其中，每列表示一组特定的$g$函数，即$\mathbb{S}\uUnu$&#39中的单个向量；s空空间。</p><p>   If we have a point on the curve or surface, how do we calculate itscorresponding $s$ parameter?</p><p>如果曲线或曲面上有一个点，我们如何计算它对应的$s$参数？</p><p>   This means, $\left[\begin{array}{cccc} \psi _ 1(s) &amp; ... &amp; \psi _ {m _ \nu}(s) \end{array} \right]^T$is in the null space of $M\left(\frac{f _ 1(s)}{f _ 0(s)}, \frac{f _ 2(s)}{f _ 0(s)}, \frac{f _ 3(s)}{f _ 0(s)}\right)^T$</p><p>这意味着，$\left[\begin{array}{cccc}\psi{1（s）&&amp；\psi{m{u\nu}（s）\end{array}\right]^T$在$m\left（\frac{f{u1（s）}{f_0（s）}、\frac{f_2（s）}{f_0（s）}、\frac{f_3（s）{$</p><p> This is helpful, because we can calculate the null space using the aforementioned standard functions from your linear algebra package.</p><p>这很有帮助，因为我们可以使用前面提到的线性代数包中的标准函数来计算零空间。</p><p> Going from the null space to $s$ depends on the exact form of your basisfunctions $\psi_i(s)$.In our example, they&#39;re Bernstein polynomials.</p><p>从空空间到$s$取决于基本函数$\psi_i（s）$的确切形式。在我们的例子中，他们&#39；关于伯恩斯坦多项式。</p><p>  $$\left[\begin{array}{c} \psi _ 1(s) \\\psi _ 2(s) \\... \\\psi _ {m _ \nu}(s)\end{array} \right] =\left[\begin{array}{c} B _ 0 ^ \nu(s) \\B _ 1 ^\nu(s) \\... \\B _ \nu ^ \nu(s)\end{array}\right]$$</p><p>$$\left[\begin{array}{c}\psi{U1（s）\\\psi{U2（s）\\\\psi{Um\Unu}（s）\\ end{array}\right]=\left[\begin{array}{c}B{0^\nu s）\\B{U1^\nu$$</p><p>  $$\begin{aligned}\frac{\psi_2(s)}{\psi_1(s)} &amp;= \frac{B_1^\nu(s)}{B_0^\nu(s)} \\&amp;= \frac{{\nu \choose 1} s^1(1-s)^{\nu-1}}{{\nu \choose 0} s^0(1 - s)^{\nu}} \\&amp;= \frac{\frac{\nu!}{1!(\nu - 1)!} s^1(1-s)^{\nu-1}}{\frac{\nu!}{0!(\nu - 0)!}s^0(1 - s)^{\nu}} \\&amp;= \frac{\nu s(1-s)^{\nu-1}}{(1 - s)^{\nu}} \\&amp;= \frac{\nu s}{(1 - s)}\end{aligned}$$</p><p>$$\begin{aligned}\frac{\psi_2（s）}{\psi_1（s）}&amp；=\frac{B_1^\nu（s）}{B_0^\nu（s）}\\\\&amp；=\frac{\nu\choose 1}s^1（1-s）^{\nu-1}{{\nu\choose 0}s^0（1-s）^{\nu}\\\&amp；=\frac{\frac{\nu！}{1！（\nu-1）！}s^1（1-s）^{\nu-1}{\frac{\nu！}{0！（\nu-0）！}s^0（1-s）^{\nu}\\\\&amp；=\frac{\nu s（1-s）^{\nu-1}{（1-s）^{\nu}\\\&amp；=\frac{\nu s}{（1-s）}\end{aligned}$$</p><p> In other words, given the ratio of the first two terms in the null vector,we can calculate $s$ with simple algebra!</p><p>换句话说，给定零向量中前两项的比率，我们可以用简单代数计算$s$！</p><p>  If the ray is pathologically close to the surface or hasmultiple intersections, then the situation is more complex;one of the  later papershas strategies for these cases (section 2.4), but I didn&#39;t dive into them.</p><p>如果射线在病理上接近表面或有多个交叉点，则情况更复杂；后来的一篇论文是针对这些案例的策略（第2.4节），但我没有&#39；不要潜入其中。</p><p>  Remember, the end goal is to do raytracing directly using this matrixrepresentation. A ray can be defined as</p><p>记住，最终目标是直接使用matrixrepresentation进行光线跟踪。射线可以定义为</p><p> $$R(t) = O + tD$$where the origin $O = (x_0, y_0, z_0)$, the direction $D = (d_x, d_y, d_z)$,and $t$ is the distance travelled along the ray.</p><p>$$R（t）=O+tD$$，其中原点$O=（x_0，y_0，z_0）$，方向$D=（D_x，D_y，D_z）$，而$t$是沿射线移动的距离。</p><p> We can plug this into $M(x, y, z)$ and build $M(t)$, the m-rep matrixat distance $t$. Since $M(x,y,z)$ and $R(t)$ are both linear,let&#39;s declare</p><p>我们可以将其插入$M（x，y，z）$并构建$M（t）$，即M-rep矩阵距离$t$。因为$M（x，y，z）$和$R（t）$都是线性的，所以设&#39；让我们宣布</p><p> $$M(t) = A - tB$$where $A = M(x_0, y_0, z_0)$ and $B = M(x_0 + d_x, y_0 + d_y, z_0 + d_z)$.</p><p>$$M（t）=A-tB$$其中$A=M（x_0，y_0，z_0）$和$B=M（x_0+d_x，y_0+d_y，z_0+d_z）$。</p><p>  Just like normal matrices, square matrix pencils have eigenvalues and eigenvectors;finding them is known as the  generalized eigenvalue problem</p><p>和普通矩阵一样，方阵铅笔也有特征值和特征向量；找到它们被称为广义特征值问题</p><p> By definition, at an eigenvalue $t_e$, then $\det (A - t_eB) = 0$.Notice that this means that the matrix pencil does not have full rank at theposition $O + t_eD$, so this is a ray-surface intersection!</p><p>根据定义，在特征值为$t_e$时，则$\det（A-t_eB）=0$。请注意，这意味着矩阵束在$O+t_eD$位置没有满秩，因此这是一个光线曲面交点！</p><p> Unfortunately, you can only find the eigenvalues for a  square matrix pencil,and our $A$ and $B$ are probably not square!</p><p>不幸的是，你只能找到方阵铅笔的特征值，而我们的$a$和$B$可能不是正方形！</p><p>  The papers have a strategy for reducing a rectangular matrix pencil to a square,which is laid out in section 2.3 of the  third paper.It&#39;s an iterative algorithm which repeatedly shrinks the matrixes untilthe $B$ matrix is of full rank.The linked paper explains it clearly enough that I don&#39;t need to unpack it,although I have  no idea why it works.</p><p>论文中有一个将矩形矩阵铅笔缩减为正方形的策略，该策略在第三篇论文的第2.3节中给出。它&#39；这是一种迭代算法，它反复收缩矩阵，直到$B$矩阵达到满秩。链接的文章解释得很清楚，我不知道&#39；我不需要拆开它，尽管我不知道它为什么会工作。</p><p>   We mention that there are several methods to choose a rank $m$ squaresub-pencil of $A − tB$, one of them being to compute a column-reductionof the pencil and then keep the pivot columns.</p><p>我们提到有几种方法可以选择$m$squaresub铅笔$a− tB$，其中之一是计算铅笔的列缩减，然后保留枢轴列。</p><p> This may be obvious to the authors, but as someone that doesn&#39;t wrangle matrixpencils for breakfast, it was rather cryptic. In my raytracingexperiments, I never ran into this failure mode, so I didn&#39;t go downthat rabbit h</p><p>这对作者来说可能是显而易见的，但作为一个不&#39；不要为早餐争论矩阵，这是相当神秘的。在我的光线追踪实验中，我从未遇到过这种失败模式，所以我没有&#39；Don't down the rabbit h</p><p>......</p><p>......</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/reps/">#reps</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/nu/">#nu</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>