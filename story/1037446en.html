<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>谁在调试调试器？ 在优化的二进制文件中暴露调试错误 Who Is Debugging the Debuggers? Exposing Debug Bugs in Optimized Binaries</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Who Is Debugging the Debuggers? Exposing Debug Bugs in Optimized Binaries<br/>谁在调试调试器？ 在优化的二进制文件中暴露调试错误 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-04 20:32:51</div><div class="page_narrow text-break page_content"><p>Download PDF  Abstract: Despite the advancements in software testing, bugs still plague deployedsoftware and result in crashes in production. When debugging issues --sometimes caused by &#34;heisenbugs&#34; -- there is the need to interpret core dumpsand reproduce the issue offline on the same binary deployed. This requires theentire toolchain (compiler, linker, debugger) to correctly generate and usedebug information. Little attention has been devoted to checking that suchinformation is correctly preserved by modern toolchains&#39; optimization stages.This is particularly important as managing debug information in optimizedproduction binaries is non-trivial, often leading to toolchain bugs that mayhinder post-deployment debugging efforts. In this paper, we presentDebug$^{2}$, a framework to find debug information bugs in modern toolchains.Our framework feeds random source programs to the target toolchain andsurgically compares the debugging behavior of their optimized/unoptimizedbinary variants. Such differential analysis allows Debug$^{2}$ to checkinvariants at each debugging step and detect bugs from invariant violations.Our invariants are based on the (in)consistency of common debug entities, suchas source lines, stack frames, and function arguments. We show that, whilesimple, this strategy yields powerful cross-toolchain and cross-languageinvariants, which can pinpoint several bugs in modern toolchains. We have used\n to find 23 bugs in the LLVM toolchain (clang/lldb), 8 bugs in the GNUtoolchain (GCC/gdb), and 3 in the Rust toolchain (rustc/lldb) -- with 14 bugsalready fixed by the developers.</p><p>下载PDF摘要：尽管软件测试取得了进步，但错误仍然困扰着已部署的软件，并导致生产崩溃。调试问题时-有时是＆heisenbugs＆＃34;引起的-需要解释核心转储，并在部署的同一二进制文件上脱机再现问题。这需要整个工具链（编译器，链接器，调试器）正确生成和使用调试信息。很少有人致力于检查现代工具链是否正确保留了此类信息。优化阶段。这特别重要，因为在优化的生产二进制文件中管理调试信息很简单，通常会导致工具链错误，从而可能会阻碍部署后的调试工作。在本文中，我们介绍了Debug $ ^ {2} $，这是一个在现代工具链中查找调试信息错误的框架。我们的框架将随机源程序提供给目标工具链，并通过手术方式比较了优化/未优化二进制变量的调试行为。这种差异分析允许Debug $ ^ {2} $在每个调试步骤中检查不变性并检测来自不变性违规的错误。我们的不变性基于常见调试实体（如源代码行，堆栈框架和函数参数）的（不一致）一致性。我们展示了，尽管简单，但是这种策略产生了强大的跨工具链和跨语言不变式，可以查明现代工具链中的几个错误。我们已经\ n在LLVM工具链（clang / lldb）中发现了23个错误，在GNUtoolchain（GCC / gdb）中发现了8个错误，在Rust工具链中（rustc / lldb）发现了3个错误-开发人员已经修复了14个错误。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://arxiv.org/abs/2011.13994">https://arxiv.org/abs/2011.13994</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/调试/">#调试</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/debug/">#debug</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/错误/">#错误</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>