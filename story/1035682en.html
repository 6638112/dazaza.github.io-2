<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>克雷格·费德里希（Craig Federighi），约翰尼·斯鲁吉（Johny Srouji）和格雷格·乔斯维克（Greg Joswiak）谈苹果如何设计M1，UMA的重要性，在更高功率水平下性能的非线性增长等等。Craig Federighi, Johny Srouji, and Greg Joswiak on how Apple designed M1, the importance of UMA, non-linear increase in performance at higher power levels, more</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Craig Federighi, Johny Srouji, and Greg Joswiak on how Apple designed M1, the importance of UMA, non-linear increase in performance at higher power levels, more<br/>克雷格·费德里希（Craig Federighi），约翰尼·斯鲁吉（Johny Srouji）和格雷格·乔斯维克（Greg Joswiak）谈苹果如何设计M1，UMA的重要性，在更高功率水平下性能的非线性增长等等。</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-21 23:38:40</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/f61b49b52348e0351d584194ed18e2b7.png"><img src="http://img2.diglog.com/img/2020/11/f61b49b52348e0351d584194ed18e2b7.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Some time ago, in an Apple campus building, a group of engineers got together. Isolated from others in the company, they took the guts of old MacBook Air laptops and connected them to their own prototype boards with the goal of building the very first machines that would run macOS on Apple&#39;s own, custom-designed, ARM-based silicon.</p><p>前段时间，在苹果校园大楼中，一群工程师聚在一起。他们与公司中的其他公司隔离开来，将旧的MacBook Air笔记本电脑胆量大胆地连接起来，并将它们连接到自己的原型板上，目的是制造第一台可以在苹果自己的，定制设计的，基于ARM的芯片上运行macOS的机器。</p><p>  To hear Apple&#39;s Craig Federighi tell the story, it sounds a bit like a callback to Steve Wozniak in a Silicon Valley garage so many years ago. And this week, Apple finally took the big step that those engineers were preparing for: the company released  the first Macs running on Apple Silicon, beginning a transition of the Mac product line away from Intel&#39;s CPUs, which have been industry-standard for desktop and laptop computers for decades. In a conversation shortly after the M1 announcement with Apple SVP of Software Engineering Craig Federighi, SVP of Worldwide Marketing Greg Joswiak, and SVP of Hardware Technologies Johny Srouji, we learned that—unsurprisingly—Apple has been planning this change for many, many years.</p><p>  听到苹果公司的克雷格·费德里吉（Craig Federighi）讲这个故事时，听起来有点像多年前在硅谷车库里对史蒂夫·沃兹尼亚克（Steve Wozniak）的回呼。而本周，苹果终于迈出了那些工程师正在准备的重要一步：该公司发布了第一批运行在Apple Silicon上的Mac，开始了Mac产品线从英特尔CPU的过渡，后者是台式机和笔记本电脑的行业标准。笔记本电脑数十年。在与苹果公司软件工程高级副总裁Craig Federighi，全球市场营销副总裁Greg Joswiak和硬件技术高级副总裁Johny Srouji宣布M1计划后不久的一次对话中，我们了解到-毫无疑问，苹果公司已经计划了很多年了。</p><p> Ars spoke at length with these execs about the architecture of the first Apple Silicon chip for Macs (the Apple M1). While we had to get in a few inquiries about the edge cases of software support, there was really one big question on our mind: What are the reasons behind Apple&#39;s radical change?</p><p> Ars与这些高管详细讨论了首款适用于Mac的Apple Silicon芯片（Apple M1）的架构。尽管我们不得不就软件支持的边缘情况进行一些询问，但我们的心中确实有一个大问题：苹果公司进行根本变革的原因是什么？</p><p>  We started with that big idea: &#34;Why? And why now?&#34; We got a very Apple response from Federighi:</p><p>  我们从一个大想法开始：“为什么？为什么现在呢？” Federighi得到了苹果公司的强烈回应：</p><p> The Mac is the soul of Apple. I mean, the Mac is what brought many of us into computing. And the Mac is what brought many of us to Apple. And the Mac remains the tool that we all use to do our jobs, to do everything we do here at Apple. And so to have the opportunity... to apply everything we’ve learned to the systems that are at the core of how we live our lives is obviously a long-term ambition and a kind of dream come true.</p><p> Mac是Apple的灵魂。我的意思是，Mac使我们许多人参与了计算。 Mac是将我们中的许多人带到了Apple的原因。 Mac仍然是我们所有人用来完成工作，在苹果这里所做的一切的工具。因此，有机会……将我们学到的一切知识应用到生活中至关重要的系统上，这显然是一个长期的抱负，一种梦想成真。</p><p> &#34;We want to create the best products we can,&#34; Srouji added. &#34;We really needed our own custom silicon to deliver truly the best Macs we can deliver.&#34;</p><p>Srouji补充说：“我们希望创造出最好的产品。” “我们确实需要我们自己的定制芯片来交付真正可以提供的最好的Mac。”</p><p>  Apple began using x86 Intel CPUs in 2006 after it seemed clear that PowerPC (the previous architecture for Mac processors) was reaching the end of the road. For the first several years, those Intel chips were a massive boon for the Mac: they enabled interoperability with Windows and other platforms, making the Mac a much more flexible computer. They allowed Apple to focus more on increasingly popular laptops in addition to desktops. They also made the Mac more popular overall, in parallel with the runaway success of the iPod, and soon after, the iPhone. And for a long time, Intel&#39;s performance was top-notch. But in recent years, Intel&#39;s CPU roadmap has been less reliable, both in terms of performance gains and consistency. Mac users took notice. But all three of the men we spoke with insisted that wasn&#39;t the driving force behind the change.</p><p>  在显然PowerPC（Mac处理器的先前体系结构）即将走到尽头的时候，Apple于2006年开始使用x86 Intel CPU。在最初的几年中，这些英特尔芯片对Mac来说是一个巨大的福音：它们使与Windows和其他平台的互操作性成为可能，使Mac成为更加灵活的计算机。除了台式机，它们还使Apple可以将更多的精力放在越来越流行的笔记本电脑上。他们使Mac整体上更受欢迎，与此同时，iPod以及随后不久的iPhone取得了巨大的成功。长期以来，英特尔的性能都是一流的。但是近年来，无论从性能方面还是在一致性方面，英特尔的CPU路线图都不太可靠。 Mac用户注意到了。但是我们与之交谈的所有三个人都坚称，这并不是变革背后的动力。</p><p>    &#34;This is about what we could do, right?&#34; said Joswiak. &#34;Not about what anybody else could or couldn&#39;t do.&#34;</p><p>    “这就是我们能做的，对吧？”约斯维克说。 “不关乎别人能做或不能做什么。”</p><p> &#34;Every company has an agenda,&#34; he continued. &#34;The software company wishes the hardware companies would do this. The hardware companies wish the OS company would do this, but they have competing agendas. And that&#39;s not the case here. We had one agenda.&#34;</p><p> 他继续说：“每个公司都有一个议程。” “软件公司希望硬件公司能做到这一点。硬件公司希望OS公司能做到这一点，但是它们有相互竞争的议程。在这里情况并非如此。我们只有一个议程。”</p><p> When the decision was ultimately made, the circle of people who knew about it was initially quite small. &#34;But those people who knew were walking around smiling from the moment we said we were heading down this path,&#34; Federighi remembered.</p><p> 最终做出决定时，了解该决定的人圈子最初很小。 “但是，从我们说我们要走这条路的那一刻起，那些认识的人就笑着走来走去，”费德里希回忆。</p><p> Srouji described Apple as being in a special position to make the move successfully: &#34;As you know, we don’t design chips as merchants, as vendors, or generic solutions—which gives the ability to really tightly integrate with the software and the system and the product—exactly what we need.&#34;</p><p>Srouji表示，苹果在成功采取行动方面处于特殊的位置：“如您所知，我们不会像商人，供应商或通用解决方案那样设计芯片，这使芯片能够与软件和系统紧密集成。和产品-正是我们所需要的。”</p><p>   What Apple needed was a chip that took the lessons learned from years of refining mobile systems-on-a-chip for iPhones, iPads, and other products then added on all sorts of additional functionality in order to address the expanded needs of a laptop or desktop computer.</p><p>   苹果需要的是一种芯片，该芯片汲取了多年改进iPhone，iPad和其他产品的单芯片移动系统的经验教训，然后添加了各种附加功能，以满足笔记本电脑或台式电脑。</p><p>  &#34;During the pre-silicon, when we even designed the architecture or defined the features,&#34; Srouji recalled, &#34;Craig and I sit in the same room and we say, &#39;OK, here&#39;s what we want to design. Here are the things that matter.&#39;” When Apple first announced its plans to launch the first Apple Silicon Mac this year, onlookers speculated that the iPad Pro&#39;s A12X or A12Z chips were a blueprint and that the new Mac chip would be something like an A14X—a beefed-up variant of the chips that shipped in the iPhone 12 this year.</p><p>  Srouji回忆说：“在预硅期间，我们甚至设计架构或定义功能时，克雷格和我坐在同一个房间，我们说，'好的，这就是我们要设计的东西。 ”。当苹果公司首次宣布其计划于今年推出第一台苹果机硅Mac时，围观者猜测iPad Pro的A12X或A12Z芯片是一个蓝图，而新的Mac芯片将像A14X一样—更加完善。今年iPhone 12中出货的芯片的变体。</p><p>  The M1 is essentially a superset, if you want to think of it relative to A14. Because as we set out to build a Mac chip, there were many differences from what we otherwise would have had in a corresponding, say, A14X or something.</p><p>  如果您想相对于A14而言，M1本质上是一个超集。因为当我们着手构建Mac芯片时，与相应的A14X之类的产品相比，我们有许多不同之处。</p><p> We had done lots of analysis of Mac application workloads, the kinds of graphic/GPU capabilities that were required to run a typical Mac workload, the kinds of texture formats that were required, support for different kinds of GPU compute and things that were available on the Mac… just even the number of cores, the ability to drive Mac-sized displays, support for virtualization and Thunderbolt.</p><p> 我们对Mac应用程序工作负载，运行典型Mac工作负载所需的图形/ GPU功能种类，所需的纹理格式种类，对不同种类的GPU计算的支持以及在Windows上可用的东西进行了大量分析。 Mac…甚至包括内核数量，驱动Mac大小的显示器的能力，对虚拟化和Thunderbolt的支持。</p><p> There are many, many capabilities we engineered into M1 that were requirements for the Mac, but those are all superset capabilities relative to what an app that was compiled for the iPhone would expect.</p><p>我们为M1设计了许多功能，这些功能是Mac所必需的，但相对于为iPhone编译的应用程序，这些功能都是超集功能。</p><p>  The foundation of many of the IPs that we have built and that became foundations for M1 to go build on top of it… started over a decade ago. As you may know, we started with our own CPU, then graphics and ISP and Neural Engine.</p><p>  我们建立的许多IP的基础已经成为M1在其之上构建的基础…始于十多年前。如您所知，我们首先使用自己的CPU，然后是图形，ISP和神经引擎。</p><p> So we&#39;ve been building these great technologies over a decade, and then several years back, we said, &#34;Now it&#39;s time to use what we call the scalable architecture.&#34; Because we had the foundation of these great IPs, and the architecture is scalable with UMA.</p><p> 因此，我们已经在十多年中构建了这些伟大的技术，然后几年前，我们说：“现在是时候使用我们所谓的可伸缩体系结构了。”因为我们拥有这些出色IP的基础，并且该架构可通过UMA进行扩展。</p><p> Then we said, &#34;Now it&#39;s time to go build a custom chip for the Mac,&#34; which is M1. It&#39;s not like some iPhone chip that is on steroids. It&#39;s a whole different custom chip, but we do use the foundation of many of these great IPs.</p><p> 然后我们说：“现在是时候为Mac构建定制芯片了，它是M1。这与类固醇上的某些iPhone芯片不同。它是完全不同的定制芯片，但是我们确实使用了许多出色IP的基础。</p><p>  UMA stands for &#34;unified memory architecture.&#34; When potential users look at M1 benchmarks and wonder how it&#39;s possible that a mobile-derived, relatively low-power chip is capable of that kind of performance, Apple points to UMA as a key ingredient for that success.</p><p>  UMA代表“统一内​​存架构”。当潜在用户查看M1基准测试，并想知道以移动设备为基础的，相对低功耗的芯片可能具有这种性能时，Apple指出UMA是取得成功的关键因素。</p><p>    Federighi claimed that &#34;modern computational or graphics rendering pipelines&#34; have evolved, and they&#39;ve become a &#34;hybrid&#34; of GPU compute, GPU rendering, image signal processing, and more.</p><p>Federighi声称“现代计算或图形渲染管道”已经发展，并且已经成为GPU计算，GPU渲染，图像信号处理等的“混合”。</p><p> UMA essentially means that all the components—a central processor (CPU), a graphics processor (GPU), a neural processor (NPU), an image signal processor (ISP), and so on—share one pool of very fast memory, positioned very close to all of them. This is counter to a common desktop paradigm, of say, dedicating one pool of memory to the CPU and another to the GPU on the other side of the board.</p><p> 从本质上讲，UMA意味着所有组件（中央处理器（CPU），图形处理器（GPU），神经处理器（NPU），图像信号处理器（ISP）等）共享一个非常快的内存池，该池位于非常接近他们所有人。这与常见的桌面范式背道而驰，例如，将一个内存池专用于CPU，将另一个内存池专用于主板另一侧的GPU。</p><p>  When users run demanding, multifaceted applications, the traditional pipelines may end up losing a lot of time and efficiency moving or copying data around so it can be accessed by all those different processors. Federighi suggested Apple&#39;s success with the M1 is partially due to rejecting this inefficient paradigm at both the hardware and software level:</p><p>  当用户运行苛刻的，多方面的应用程序时，传统的管道可能最终会浪费大量时间和效率来移动或复制数据，因此所有这些不同的处理器都可以访问它们。费德里希（Federighi）表示，苹果在M1上的成功部分归因于在硬件和软件层面都拒绝了这种效率低下的范例：</p><p> We not only got the great advantage of just the raw performance of our GPU, but just as important was the fact that with the unified memory architecture, we weren&#39;t moving data constantly back and forth and changing formats that slowed it down. And we got a huge increase in performance.</p><p> 我们不仅获得了GPU原始性能的巨大优势，而且同样重要的事实是，采用统一的内存体系结构，我们不会不断地来回移动数据并改变格式使其速度变慢。而且我们的性能大大提高了。</p><p> And so I think workloads in the past where it&#39;s like, come up with the triangles you want to draw, ship them off to the discrete GPU and let it do its thing and never look back—that’s not what a modern computer rendering pipeline looks like today. These things are moving back and forth between many different execution units to accomplish these effects.</p><p> 因此，我认为过去的工作负载是什么样的，想出想要绘制的三角形，将它们运送到独立的GPU上，让它完成工作，再也不会回头，这不是现代计算机渲染管道的样子今天。这些事情在许多不同的执行单元之间来回移动以实现这些效果。</p><p> That&#39;s not the only optimization. For a few years now, Apple&#39;s Metal graphics API has employed &#34;tile-based deferred rendering,&#34; which the M1&#39;s GPU is designed to take full advantage of. Federighi explained:</p><p>这不是唯一的优化。几年来，Apple的Metal图形API一直采用“基于图块的延迟渲染”，M1的GPU旨在充分利用此特性。费德里希解释说：</p><p> Where old-school GPUs would basically operate on the entire frame at once, we operate on tiles that we can move into extremely fast on-chip memory, and then perform a huge sequence of operations with all the different execution units on that tile. It&#39;s incredibly bandwidth-efficient in a way that these discrete GPUs are not. And then you just combine that with the massive width of our pipeline to RAM and the other efficiencies of the chip, and it’s a better architecture.</p><p> 老式GPU基本上可以一次在整个框架上运行，而我们在图块上进行操作，可以将它们移至极快的片上内存中，然后对该图块上的所有不同执行单元执行大量的操作序列。这些离散的GPU并非如此，这在带宽效率方面具有令人难以置信的效果。然后，您只需将其与我们通往RAM的流水线的巨大宽度以及芯片的其他效率相结合，即可获得更好的架构。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://arstechnica.com/gadgets/2020/11/we-are-giddy-interviewing-apple-about-its-mac-silicon-revolution/">https://arstechnica.com/gadgets/2020/11/we-are-giddy-interviewing-apple-about-its-mac-silicon-revolution/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/性能/">#性能</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/德里/">#德里</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>