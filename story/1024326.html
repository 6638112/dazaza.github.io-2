<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>论现代Web应用程序的稳定性</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">论现代Web应用程序的稳定性</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-09-17 00:53:39</div><div class="page_narrow text-break page_content"><p>我不喜欢现代Web应用程序的构建方式。许多Web应用程序太不稳定了，你无法想象如果没有团队的支持，系统就会运行。事实是，我们试图使手动过程自动化，然后自动化需要人工干预，这与目的背道而驰。有些公司有一大批开发人员，如果他们用手工做生意，他们会比编程系统做得更好。造成这种情况的原因有很多。原因之一是过度使用第三方依赖项。</p><p>让我们来看看一个基本的现代基于Web的系统，机器上运行着几层软件，从固件到您的业务逻辑。</p><p>我不认为这对理解情况的严重性有很大帮助，有很多演员在这张照片中没有被考虑到。层也是如此，因为它们隐含在其他层中。让我们展开这些隐藏层和演员。它将帮助我们更好地理解为什么我们编写小型NodeJS或RubyOnRails应用程序不只是图中的一层。</p><p>您的应用程序的第三方代码依赖于ORM、模板引擎、分页库、一个用空格填充字符串的库。</p><p>位于处理http和响应压缩…的代码前面的服务器应用程序。等。</p><p>再一次，我们错过了这张照片中的其他层次和人物。大多数应用程序都使用外部SAAS提供程序进行日志记录、监控或错误移植，或者提供部分系统功能，而这些功能可能需要公司团队花费更多时间来构建。让我们把他们和他们的队伍一起加到照片上。</p><p>这张图是针对一个应用程序的，我不会把它扩展到有不同服务和程序的整个系统，这是所有公司的现实，为了简单起见，让我们只使用一个应用程序。</p><p>所以我想说的第一点是：对于你使用的每一项服务，你不仅仅是一个用户，这项服务现在是你的应用程序的一部分，你要为它的行为和行为负责。你将继承他们系统中的错误。当这个服务团队受到新冠肺炎的影响，沦落到无法解决问题的地步，你也会受到影响。当它们变慢时，您的应用程序也会变慢。当他们的服务中断时，你的应用程序也会出现故障，你的系统和他们的系统现在已经连接起来了。因此，请谨慎添加外部服务集成。通过添加外部系统，您可以信任这个服务团队以及他们在现在和未来交付服务承诺的能力。这不是一个容易的决定，应该这样对待。</p><p>现在，让我们转到应用程序的直接依赖项。如果您正在使用任何现代编程语言，它将有办法将代码打包成可重用的格式，以供其他应用程序重用。一个包可以使用来自母包的代码，这些包可以使用其他包，以此类推，就像树一样。</p><p>对于此树中的每个包，我们都依赖于此包中的代码和维护它的团队。一个新生成的Rails项目依赖于74个Ruby和Yarn包列表，该列表列出了JavaScript依赖项输出3102行，即3176个包，团队一直在维护这些包、bug和新版本。</p><p>这是错误的，原因有很多。为了清楚起见，我将在这里列出其中一些。</p><p>您已经信任了至少3176名其他开发人员。你从来没有见过他们，从来没有和他们说过话，不能保证他们会继续保留这个包裹。不能保证他们不会在包里放代码，在你的终端上显示广告，或者偷走你的比特币钱包的代码。</p><p>您并没有真正使用所有这些代码。当有人在编写开源包时，它迟早会受到特性覆盖的影响。您可能正在使用这个包的几个特性，并不需要其他的功能，但是您现在想要香蕉，却得到了整个森林。</p><p>在每次软件包更新时，您都在为自己发明不必要的工作。新版本的软件包一直在发布。更新您的项目以获取最新的错误修复和功能通常是人们所做的。大多数时候，由于特性的蔓延，这些版本的更改与您毫无关系，但您只有在阅读更改日志后才会知道。如果它与您的项目相关，则需要进行更新。如果某些内容已弃用或更改，则需要更改代码。所以突然有人在某个地方命令你更改密码。这是您对代码的控制权的一部分，交给了一个您从未交谈或认识的人。</p><p>当您的编程语言有了新版本时，除非您的所有依赖项都是最新的，否则不能更新。例如，对于Ruby2.7.0，一些语言语法现在已被弃用，并在您运行项目时显示警告。因此，要修复此问题，您可以将其修复到包中，然后使用更改打开PR，或者等待维护人员更新它。</p><p>当你在依赖中遇到错误时，你必须理解这个包的代码，分叉，分支，修复，清洗和重复。这需要库维护人员的合作，而这在大多数情况下是不可能的，因为大多数开放源码项目都是自愿维护的。</p><p>开发新功能或修改现有功能的难度要大得多。您需要深入研究依赖项的文档，以寻找对您想要添加的这个小功能的支持。也就是说，如果该部分代码有任何文档的话。否则，您将不得不对库代码执行Digin操作。</p><p>这是我要说明的第二点：使用外部库意味着您信任维护人员，并且您还继承了他关于使用其他库的决定，等等。这个决定应该根据库的好处和你要使用的特性的多少以及其他因素来权衡，比如成熟度和维护者的响应速度，请不要把GitHubstar作为你的决定的一个因素，这是误导性的。如果您从库中使用的部分不是太大，我建议您使用该库来节省一些时间，并且预先准备好，但是一定要去掉它并实现您需要的部分。例如像Rails“Kaminari”这样的分页库，如果您使用它来节省一些时间，那么一定要这样做。但是在您的待办事项清单上保留一项任务来删除它，并自己实现该功能。一个很难摆脱的库的例子是“OpenCV”，重新实现你需要的部分可能是一项巨大的任务，所以它可以保留下来。你需要用你最好的判断力在光谱的这两个方面之间做出选择。</p><p>我想我所做的就是建立一个自动化系统，我希望这个系统能自己运行，保持它自身的清洁和健康，不需要人工干预。如果整个团队消失了，我希望这个系统能够在没有任何监督的情况下运行很长一段时间。</p><p>更多的代码意味着我需要修复更多的错误，也就是更多我没有编写的代码意味着更多我可能无法解决的错误。这很危险，不能掉以轻心。使用外部库或系统扩展代码可以减少工作量，从而降低开发成本。但如果对此掉以轻心，就会适得其反。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.emadelsaid.com/on-modern-web-applications-stability/">https://www.emadelsaid.com/on-modern-web-applications-stability/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/代码/">#代码</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1024133.html"><img src="http://img2.diglog.com/img/2020/9/thumb_d5e79ef17fa1128418b9ebf5fa3f2c39.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1024133.html">亚马逊为美国Prime会员推出仅限邀请的奢侈品商店，可在其移动应用程序上使用，奥斯卡·德拉伦塔(Oscar De La Renta)是第一个品牌合作伙伴</a></div><span class="my_story_list_date">2020-9-15 21:52</span></div><div class="col-sm"><div><a target="_blank" href="/story/1023935.html"><img src="http://img2.diglog.com/img/2020/9/thumb_7a7c46d3a03ce82b77eb60c297a2767b.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1023935.html">将创建5亿个应用程序。我们需要更多的软件建造商</a></div><span class="my_story_list_date">2020-9-15 2:30</span></div><div class="col-sm"><div><a target="_blank" href="/story/1023931.html"><img src="http://img2.diglog.com/img/2020/9/thumb_363d369e9a30894438c5b41d3bba5ea2.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1023931.html">APFS(Apple文件系统)的熔丝驱动程序</a></div><span class="my_story_list_date">2020-9-15 2:29</span></div><div class="col-sm"><div><a target="_blank" href="/story/1023879.html"><img src="http://img2.diglog.com/img/2020/9/thumb_73bd58febcb90dc09b3213b3c999e585.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1023879.html">欧盟委员会表示，德国、意大利、爱尔兰、丹麦和其他国家正在测试一个平台，使个人联系人追踪应用程序能够互操作</a></div><span class="my_story_list_date">2020-9-14 22:33</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>