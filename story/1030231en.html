<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>微处理器只想要一样东西，而且是0xEA</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">微处理器只想要一样东西，而且是0xEA</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-21 10:19:45</div><div class="page_narrow text-break page_content"><p>A couple of weeks ago I had a idea of running a 6502 directly off the pins of the  Dazzler&#39;s FPGA. The Dazzler has 27 completely uncommitted IOs, so it should be straightforward to run the 8-bit microprocessor as a &#34;brain in a vat&#34; -- the CPU is real but the rest of the system is being simulated by the FPGA. Hookup is very straightforward -- 27 signals from the 65C02 go straight into the FPGA.  The boards came back about a week later. There&#39;s a socket for the Dazzler, and a socket for the 65C02.  UART and power connections are on the left.  Here&#39;s everything plugged in: power,  Sparkfun UART, Dazzler, HDMI cable and finally the 65C02. All is ready!    But what to run as a first test? Surely I don&#39;t have to write a 6502 program, write the RAM simulator, and debug it? Of course not -  this article explains that if you place 0xEA on the 6502&#39;s data bus, it will handily loop forever around memory. It&#39;s quite simple. 0xEA is the opcode for NOP, so CPU sees all of memory filled with NOP instructions. It cycles around all of its 64 Kbyte address space executing the NOPs. When the program counter reaches address 0xFFFF, it wraps around to 0x0000 ... infinite loop.  What does all this look like? It was the work of a few minutes to hack up a waveform display on the Dazzler itself, showing all the connected 6502 signals:    This is the first few clocks after reset. First the 6502 fetches the boot address from addresses 0xFFFC and 0xFFFD. This 16-bit address is 0xEAEA, of course, so it jumps to address 0xEAEA and finds... opcode 0xEA (NOP). That takes two clocks to execute, and the address bus increments to 0xEAEB. And so on. You can see the address bus starting to increment at the bottom-right of the screen, once every two clocks because NOP is a 2-cycle instruction on the 6502.  That&#39;s a good start -- looks like the 65C02 is happily executing code. The next step is to hook up a small RAM with a tiny program. More on this in coming weeks,  subscribe to follow the progress.  Thanks for reading.  Dazzler is coming into its last week on Crowd Supply. Thanks very much if you already backed it.</p><p>几周前，我有了一个想法，就是直接从Dazzler的FPGA的引脚上运行一台6502。Dazzler有27个完全未提交的IO，因此将8位微处理器作为一个大脑在大桶中运行应该是直截了当的--CPU是真实的，但系统的其余部分是由FPGA模拟的。连接非常简单--来自65C02的27个信号直接进入FPGA。大约一周后，木板又回来了。有一个适用于Dazzler的插座和一个适用于65C02的插座。通用异步收发器(UART)和电源连接在左边。所有东西都插上电源了：电源、SparkFun UART、Dazzler、HDMI线缆，最后是65C02。一切都准备好了！但是，作为第一个测试，应该运行什么呢？当然，我不需要编写6502程序，编写RAM模拟器，然后对其进行调试？当然不会--这篇文章解释说，如果你把0xEA放在6502的数据总线上，它会很方便地永远在内存中循环。这很简单。0xEA是NOP的操作码，因此CPU会看到所有内存都被NOP指令填满。因此，它会在执行NOP的所有64K字节地址空间中循环。当程序计数器到达地址0xFFFF时，它绕回到0x0000...。无限循环。这一切看起来像什么？这是几分钟的工作，修改了Dazzler本身的波形显示，显示了所有连接的6502信号：这是复位后的头几个时钟。首先，6502从地址0xFFFC和0xFFFD获取引导地址。当然，此16位地址是0xEAEA，因此它跳转到地址0xEAEA并查找...。操作码0xEA(NOP)。这需要两个时钟来执行，并且地址总线递增到0xEAEB。诸若此类。您可以看到地址总线在屏幕右下角开始递增，每两个时钟递增一次，因为NOP是6502上的2周期指令。这是一个很好的开始--看起来65C02正在愉快地执行代码。下一步是将一个小RAM与一个小程序连接起来。未来几周会有更多关于这方面的信息，请订阅以关注进展。谢谢你的阅读。Dazzler即将进入最后一周的人群供应。如果你已经支持了，非常感谢。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://tinyletter.com/jamesbowman/letters/this-microprocessor-only-wants-one-thing-and-it-s-0xea">https://tinyletter.com/jamesbowman/letters/this-microprocessor-only-wants-one-thing-and-it-s-0xea</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/想要/">#想要</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/地址/">#地址</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>