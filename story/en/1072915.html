<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>鞋带预算的交叉极化扫描（2017年）Cross Polarised Scanning on a Shoe String Budget (2017)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Cross Polarised Scanning on a Shoe String Budget (2017)<br/>鞋带预算的交叉极化扫描（2017年）</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2022-02-13 17:49:45</div><div class="page_narrow text-break page_content"><p>It’s been a while since my last shoe scanning post, and another pair of trainers just arrived, so it felt like a good time to write another one.  The focus this time was to see if it is possible to make a cross polarised scanning booth on a ‘shoe string’ budget (shameless pun intended). For those who are not familiar with cross polarised photography, it is a capture technique used to filter specular reflectance from an image. With specular light bounce removed from an image you are left with   flat diffuse colour, which is well suited for texturing and relighting 3D models.</p><p>我上次发布鞋子扫描帖子已经有一段时间了，又有一双运动鞋刚到，所以我觉得是时候再写一双了。这一次的重点是看是否有可能在“鞋带”预算（无耻的双关语）上制作一个交叉极化扫描亭。对于那些不熟悉交叉偏振摄影的人来说，这是一种用于从图像中过滤镜面反射的捕获技术。从图像中移除镜面反射光反弹后，您将获得平坦的漫反射颜色，这非常适合3D模型的纹理和重新照明。</p><p>  One of the challenging aspects of scanning a shoe is figuring out how to suspend it in order to capture every angle. This can prove to be quite difficult, but with a recently discovered technique that I am calling ‘masked blending’, you can avoid this altogether. When I say ‘masked blending’ I am referring to a technique where you can use difference masking in Agisoft to trick the software into believing two scans were captured in one continuous setup. So blending the scans can happen during the mesh calculation stage rather than the alternate approach of hacking multiple scans together in ZBrush – I will explain in more detail further down.</p><p>扫描鞋子最具挑战性的一个方面是找出如何暂停它，以便捕捉每个角度。这可能会被证明是相当困难的，但通过最近发现的一种技术，我称之为“蒙面混合”，你可以完全避免这种情况。当我说“蒙版混合”时，我指的是一种技术，你可以在Agisoft中使用差异蒙版来欺骗软件，使其相信在一个连续设置中捕获了两次扫描。因此，混合扫描可以在网格计算阶段进行，而不是在ZBrush中将多个扫描混合在一起的替代方法——我将进一步详细解释。</p><p> As you can see in the image (right), my set up is pretty basic; a matte black backdrop (minus an iron for those shocking creases), a turntable and a couple of speedlite flashes. Despite all the creases, the black backdrop worked really well – especially when using the polarised filter, which did a great job of removing all light bounce across the creased areas. My light source was two speedlites pointed inwards at a 45 degree angle from the camera, each with a strip of polarising gel taped over the front.</p><p>如图（右）所示，我的设置非常基本；一个哑光黑色背景（没有熨斗来处理那些令人震惊的折痕）、一个转盘和几个speedlite闪光灯。尽管有很多折痕，但黑色背景效果非常好——尤其是在使用偏振滤光片时，它很好地消除了折痕区域的所有光反弹。我的光源是两个SpeedLite，它们与相机成45度角指向内部，每一个都有一条偏振凝胶带，贴在前面。</p><p> When processing I used Lightroom for batching and colour correcting the images. I then generated a set of masks in Agisoft which helped isolate the subject during the processing stage. The matte black backdrop allowed me to generate a pretty good difference mask and meant I could carefully flip the shoe mid way through the scan, but trick the software into thinking the camera position had been changed instead, and therefore creating the ‘masked blending’ effect that I mentioned earlier. Using this technique I was able to move the shoe and get coverage on multiple axis, and then combine them all together in Agisoft. I did have to do some mask cleanup work in AfterEffects, which took 10 minutes or so, but once I saw those two perfectly perpendicular rings of camera alignment in Agisoft, it definitely felt like one of those eureka moments.</p><p>在处理时，我使用Lightroom对图像进行批处理和颜色校正。然后，我在Agisoft中生成了一组面具，在处理阶段帮助隔离对象。哑光黑色的背景让我能够生成一个非常好的差异遮罩，这意味着我可以在扫描过程中小心地翻转鞋子，但会欺骗软件，让它认为相机的位置已经改变了，从而产生我之前提到的“遮罩混合”效果。使用这种技术，我能够移动鞋子，在多个轴上覆盖，然后在Agisoft中将它们结合在一起。我确实需要在AfterEffects中做一些面膜清理工作，花了大约10分钟，但当我在Agisoft中看到两个完全垂直的摄像头对齐环时，我绝对感觉像是尤里卡时刻之一。</p><p> Since doing this test I have learned that turntable setups can be fairly manual and tedious, but there are a few things you can do to help speed things up. For example, using an intervalometer on your camera can make life easier. Also, a motorised turntable would make a lot of sense too, although I only thought about that after watching back a time-lapse of me hunching over the turntable waiting for the camera to fire every 5 seconds. See below a video of one of my earlier test shoots (worth noting that the time-lapse failed during the final scan, which was captured at night to help control lighting conditions).</p><p>自从做了这项测试后，我了解到转盘的设置可能是相当手工和乏味的，但有一些事情可以帮助加快速度。例如，在相机上使用间隔计可以让生活更轻松。此外，一个电动转台也很有意义，尽管我只是在看了一段时间后才想到这一点，当时我蜷缩在转台上，等待每5秒启动一次摄像头。下面是我之前一次测试拍摄的视频（值得注意的是，在最后一次扫描中，延时失败了，这是在夜间拍摄的，以帮助控制照明条件）。</p><p>    When rebuilding the trainer I decided to avoid remodelling the knitted surface with all the individual threading, as this would either require some very clever modelling tricks, or a person with a lot of spare time on their hands. Instead I remodelled the basic forms in ZBrush, and extracted high frequency details from the diffuse texture which gave the illusion of a knitted surface.</p><p>在重建训练器时，我决定避免用所有单独的线重新塑造针织表面，因为这要么需要一些非常聪明的建模技巧，要么需要一个人有很多空闲时间。取而代之的是，我在ZBrush中重塑了基本形状，并从漫反射纹理中提取了高频细节，这给人以针织表面的错觉。</p><p> The model is made up of ten  different parts, all with polarised texture maps that support a  PBR workflow, so they can be easily relit and rendered in Maya. All texture cleanup was done in Mari, apart from the laces which were created using various tiled patterns in Photoshop. I created alphas for the logo imprints on the rubber sole that were applied in ZBrush using the inflate tool, in the deformation palette. To recreate the curvy shapes on the sole I had to keep the topology fairly clean in order to retain the forms and remove any noise from the original scanned data.</p><p>该模型由十个不同的部分组成，所有部分都带有支持PBR工作流的极化纹理贴图，因此可以轻松地在Maya中重新绘制和渲染它们。除了在Photoshop中使用各种平铺图案制作的鞋带外，所有纹理清理都是在Mari中完成的。我在变形调色板中使用充气工具在ZBrush中应用的橡胶鞋底上为徽标印记创建了Alpha。为了在鞋底上重建曲线形状，我必须保持拓扑结构相当干净，以便保留形状并从原始扫描数据中去除任何噪声。</p><p> For a while now I have wateded to improve my surface detail capture when shooting for photogrammetry, so I decided to look into some photometric techniques. I have recently been learning Substance Designer, which is a great piece of software that creates procedural textures, but also has some amazing tools that support 3D scanning and photometric workflows.</p><p>一段时间以来，我一直在努力改进拍摄摄影测量时的表面细节捕捉，所以我决定研究一些光度技术。我最近一直在学习Substance Designer，这是一款很棒的软件，可以创建程序纹理，但也有一些支持3D扫描和光度学工作流的神奇工具。</p><p> My first test was to try extracting specular information from an image using difference blending between polarised and non-polarised photos of the same subject. As you can see from the image (right) it seems to be working pretty well. The next step would be to calculate the specular difference from various angles of the trainer and re-project those images onto the mesh in Agisoft to see how well it combines them together. I’m curious as to whether this will actually work though, because specular reflections can vary depending on the material of the surface, and the angle it is being viewed from.</p><p>我的第一个测试是尝试使用同一主题的偏振和非偏振照片之间的差异混合，从图像中提取镜面反射信息。从图（右）中可以看出，它似乎工作得很好。下一步是从培训师的各个角度计算镜面反射差异，并将这些图像重新投影到Agisoft中的网格上，以查看它们结合得有多好。不过，我很好奇这是否真的有效，因为镜面反射可能会根据表面的材质和观察角度而有所不同。</p><p>  The surface details in the renders of my final trainer model appear to be pretty good, however they are not totally accurate to the original shoe. The current surface details have been approximated using a ‘bump from diffuse’ approach, which uses RGB data in the texture to create fine details on the surface of the model. This approach is not accurate as it uses darker values in the texture to negatively displace the surface and lighter values for positive displacement, and this doesn’t always give you the correct result. Skin pores and facial stubble are a good example of this issue as both are darker in colour, however one requires a positive displacement and the other a negative.</p><p>在我的最终教练模型的渲染中，表面细节看起来相当不错，但它们并不是完全精确到最初的鞋子。当前曲面细节已使用“漫反射凹凸”方法近似，该方法使用纹理中的RGB数据在模型曲面上创建精细细节。这种方法不准确，因为它使用纹理中较暗的值来负置换曲面，而使用较亮的值来正置换曲面，并且这并不总是给出正确的结果。皮肤毛孔和面部胡茬是这一问题的一个很好的例子，因为两者的颜色都较深，但一个需要正位移，另一个需要负位移。</p><p> To solve this problem, my second photometric  test was to extract height (or depth) information from a photograph to create surface details accurate to real life. I did this by capturing a set of images using multi-directional light sources, then loading them into Substance Designer to calculate normal values across the shoe, which was then converted into a hight map.</p><p>为了解决这个问题，我的第二个光度测试是从照片中提取高度（或深度）信息，以创建符合真实生活的表面细节。为此，我使用多向光源拍摄了一组图像，然后将它们加载到Substance Designer中，以计算整个鞋子的正常值，然后将其转换为hight地图。</p><p> If you look at the rendered gif you can see during the clay wipe that the white tick is slightly protruding the surface of the model, which is not how it looks on the original. If I were to use the height map extracted in Substance Designer I should be able to get a displacement true to the original.</p><p>如果查看渲染的gif，您可以在粘土擦拭过程中看到，白色记号略微突出模型的表面，而这不是它在原始图像上的外观。如果我使用在Substance Designer中提取的高度图，我应该能够得到与原始高度一致的位移。</p><p>  To take this experiment further, similar to the specular extraction, I would like to create height maps from multiple angles of the shoe, and hopefully I can blend these height maps together across the model surface using the texture projection tool in Agisoft. In theory this height map could then be applied as a displacement in ZBrush to get much more accurate surface details across the high poly model. If I manage to get all this working, I will no doubt post the results on my blog. So for those of you who are interested, feel free to subscribe and watch this space!</p><p>为了进一步进行这个实验，与镜面反射提取类似，我想从鞋子的多个角度创建高度贴图，希望我可以使用Agisoft中的纹理投影工具将这些高度贴图混合到模型曲面上。理论上，这个高度贴图可以作为ZBrush中的置换来应用，从而在高多边形模型中获得更精确的表面细节。如果我能让这一切顺利进行，毫无疑问，我会把结果发布在我的博客上。所以，对于那些感兴趣的人，请随意订阅并观看这个空间！</p><p>  Ey Adam, thanks a lot for share your konwledge. Your workflow is awesome and the final result too. Congratulations for the result!!! I would to know more about your method, and i would like to know how did you solved the internal part of the shoe… Do you had blochy areas or surface holes in that part because of the oclussion areas?… Thanks in advance and congrats one moretime.</p><p>Ey Adam非常感谢你分享你的知识。你的工作流程很棒，最终结果也是如此。恭喜你的成绩！！！我想知道更多关于你的方法，我想知道你是如何解决鞋的内部部分…你是否因为封闭区域而在该部分有斑点区域或表面孔？…提前感谢，再次祝贺。</p><p> Տpot on with this write-up, I reaⅼly think this amazing site  needs a great deal morе attention. I’ll probably be back again to reaⅾ through more,  thanks for the info!</p><p>继续写下去，我是说ⅼ我认为这个惊人的网站需要更多的关注。我可能会再次回到雷亚ⅾ 通过更多，谢谢你的信息！</p><p> Hi Adam, are you using a circular polarized filter for your camera?  I’m in the process of buying a similar setup so any info would be appreciated. Thanks,  Jeremy</p><p>嗨，亚当，你的相机用的是圆偏振滤光片吗？我在购买一个类似的设置过程中，所以任何信息将不胜感激。谢谢，杰里米</p><p> This is amazing work, Adam. I never thought to try something like this for scanning objects. I recently started using a Nikon D3300 for Photogrammetry and it works so well. I started my first project scanning my bike helmet (after dusting it with baby powder) and the results were PERFECT, except having to rescale it to fit the real world scale… I am learning so much from your work</p><p>这是了不起的工作，亚当。我从没想过用这种方法扫描物体。我最近开始使用尼康D3300进行摄影测量，效果非常好。我开始了我的第一个项目，扫描我的自行车头盔（在用婴儿粉掸过之后），结果非常完美，只是需要重新缩放它以适应现实世界的规模……我从你的工作中学到了很多</p><p> Hi Adam, really cool result! like others I’m trying to create a scanning setup and was just wondering what type of speedlites and filters were used on them?</p><p>嗨，亚当，真的很酷！和其他人一样，我正在尝试创建一个扫描设置，只是想知道它们使用了什么类型的SpeedLite和过滤器？</p><p> I am relatively new to substance designer. How did you go about calculating the normal’s from multiple images. I have no idea where to start. Any advice would be greatly appreciated.</p><p>我对物质设计师还比较陌生。你是如何从多张图像中计算出正常值的。我不知道从哪里开始。如有任何建议，将不胜感激。</p><p> I’m also trying to recreate this, and was curious to know if I can use the same linear polarized film over my camera lens also? Or does it have to be a circular polarized film? As for the lens, were you shooting on a 35mm equivalent on a full frame sensor?</p><p>我也在尝试重现这一点，很好奇我是否也能在我的相机镜头上使用同样的线偏振胶片？还是一定要用圆极化胶片？至于镜头，你是用35毫米的全画幅传感器拍摄的吗？</p><p> I’m not sure where you are getting your information,  but good topic. I needs to spend some time learning much more or understanding more.  Thanks for excellent information I was looking for this information for my mission.</p><p>我不知道你是从哪里得到信息的，但这是一个很好的话题。我需要花一些时间学习更多或理解更多。感谢您提供的宝贵信息我正在为我的任务寻找这些信息。</p><p> Amazing work! been reading through your blog with great interest. I get the polarization of lighting and bringing those into substance designer but feel like I’m missing a step I’m trying to figure out what output is used from here into photoscan. Do you just use the outputted flat images to make a better 3d result or do you somehow combine the normals and height data in substance designer with the 3d model agisoft produces?</p><p>太棒了！我一直在饶有兴趣地阅读你的博客。我得到了光的偏振，并把它们带到了substance designer中，但我觉得我错过了一个步骤，我试图弄清楚从这里到photoscan中使用了什么输出。您是仅仅使用输出的平面图像来获得更好的3d效果，还是将substance designer中的法线和高度数据与agisoft生成的3d模型结合起来？</p><p> Hi. I’ve just begun exploring photogrammetry and I’m finding your blog invaluable. Thanks for sharing you knowledge. I’ve one question. I’ve looked into buying a polarising filter for my light source but the filter sheets come in different degrees. 0, 45, 135 degrees, etc. What degree of filter did you used on your speedlites?</p><p>你好我刚刚开始探索摄影测量学，我发现你的博客非常宝贵。谢谢分享你的知识。我有一个问题。我已经考虑过为我的光源买一个偏振滤光片，但是滤光片的程度不同。0度、45度、135度等。您在SpeedLite上使用了什么程度的过滤器？</p><p>  Hi Adam, so the final output is still a made by modelling? not reality capture?</p><p>嗨，亚当，那么最终的输出仍然是一个由模型制作的吗？不是现实捕捉？</p><p> Hello there! My name is Kvein. I mixed it in Agisoft Mask. I tested it several times without success. I don’t know what the problem is. I can learn from you. I have studied photogrammetry for a year, but I know very little about photogrammetry. Hope to learn from you.</p><p>你好！我叫克文。我把它混合在Agisoft面膜里。我测试了好几次都没有成功。我不知道是什么问题。我可以向你学习。我学了一年摄影测量学，但对摄影测量知之甚少。希望向你学习。</p><p> How did you tricked agisoft into thinking that you had different camera angles?  – I have some problems when doing this method.</p><p>你是如何欺骗agisoft，使其认为你有不同的相机角度的？-我在使用这种方法时遇到了一些问题。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/预算/">#预算</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/polarised/">#polarised</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>