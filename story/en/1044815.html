<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Certbot弃用操作系统软件包，对快照进行“标准化” Certbot deprecates operating system packages, “standardizes” on snaps</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Certbot deprecates operating system packages, “standardizes” on snaps<br/>Certbot弃用操作系统软件包，对快照进行“标准化” </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-18 09:00:15</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/1/6e3c31cf52244d27d27a51f11e4abdb3.png"><img src="http://img2.diglog.com/img/2021/1/6e3c31cf52244d27d27a51f11e4abdb3.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Certbot is meant to be run directly on a web server, normally by a system administrator. In most cases, running Certbot on your personal computer is not a useful option. The instructions below relate to installing and running Certbot on a server.</p><p>Certbot通常由系统管理员直接在Web服务器上运行。在大多数情况下，在个人计算机上运行Certbot并不是有用的选择。以下说明与在服务器上安装和运行Certbot有关。</p><p> System administrators can use Certbot directly to request certificates; they should  not allow unprivileged users to run arbitrary Certbot commands as   root, because Certbot allows its user to specify arbitrary file locations and run arbitrary scripts.</p><p> 系统管理员可以直接使用Certbot来请求证书；它们不应允许非特权用户以root用户身份运行任意Certbot命令，因为Certbot允许其用户指定任意文件位置并运行任意脚本。</p><p> Certbot is packaged for many common operating systems and web servers. Check whether  certbot (or   letsencrypt) is packaged for your web server’s OS by visiting certbot.eff.org, where you will also find the correct installation instructions foryour system.</p><p> Certbot已打包为许多常见的操作系统和Web服务器。通过访问certbot.eff.org，检查是否为您的Web服务器的操作系统打包了certbot（或letsencrypt），在这里您还将找到适合您系统的正确安装说明。</p><p> Unless you have very specific requirements, we kindly suggest that you use the installation instructions for your system found at  certbot.eff.org.</p><p> 除非您有非常特殊的要求，否则我们建议您使用certbot.eff.org上系统的安装说明。</p><p> Certbot currently requires Python 2.7 or 3.6+ running on a UNIX-like operatingsystem. By default, it requires root access in order to write to  /etc/letsencrypt,   /var/log/letsencrypt,   /var/lib/letsencrypt; tobind to port 80 (if you use the   standalone plugin) and to read andmodify webserver configurations (if you use the   apache or   nginxplugins). If none of these apply to you, it is theoretically possible to runwithout root privileges, but for most users who want to avoid running an ACMEclient as root, either  letsencrypt-nosudo or  simp_le are more appropriate choices.</p><p> Certbot当前需要在类似UNIX的操作系统上运行Python 2.7或3.6+。默认情况下，它需要root访问权限才能写入/ etc / letsencrypt，/ var / log / letsencrypt，/ var / lib / letsencrypt；绑定到端口80（如果使用独立插件），并读取和修改Web服务器配置（如果使用apache或nginxplugins）。如果这些都不适合您，则理论上可以在没有root特权的情况下运行，但是对于大多数想要避免以root用户身份运行ACMEclient的用户，letencrypt-nosudo或simp_le是更合适的选择。</p><p> The Apache plugin currently requires an OS with augeas version 1.0; currently  itsupportsmodern OSes based on Debian, Ubuntu, Fedora, SUSE, Gentoo and Darwin.</p><p> Apache插件当前需要具有augeas 1.0版的操作系统；当前，它支持基于Debian，Ubuntu，Fedora，SUSE，Gentoo和Darwin的现代OS。</p><p> If you are offline or your operating system doesn’t provide a package, you can usean alternate method for installing   certbot.</p><p> 如果您离线或操作系统未提供软件包，则可以使用另一种方法来安装certbot。 </p><p> Most modern Linux distributions (basically any that use systemd) can installCertbot packaged as a snap. Snaps are available for x86_64, ARMv7 and ARMv8architectures. The Certbot snap provides an easy way to ensure you have thelatest version of Certbot with features like automated certificate renewalpreconfigured.</p><p>大多数现代Linux发行版（基本上是任何使用systemd的发行版）都可以作为快照安装installCertbot。快照适用于x86_64，ARMv7和ARMv8体系结构。 Certbot快照提供了一种简便的方法，以确保您具有最新版本的Certbot，并具有预先配置的自动证书续订等功能。</p><p> You can find instructions for installing the Certbot snap at https://certbot.eff.org/instructions by selecting your server software and thenchoosing “snapd” in the “System” dropdown menu. (You should select “snapd”regardless of your operating system, as our instructions are the same acrossall systems.)</p><p> 通过选择服务器软件，然后在“系统”下拉菜单中选择“快照”，可以在https://certbot.eff.org/instructions上找到有关安装Certbot快照的说明。 （无论您使用哪种操作系统，都应选择“快照”，因为我们的说明在所有系统上都是相同的。）</p><p> Docker is an amazingly simple and quick way to obtain acertificate. However, this mode of operation is unable to installcertificates or configure your webserver, because our installerplugins cannot reach your webserver from inside the Docker container.</p><p> Docker是一种非常简单快捷的获取证书的方法。但是，此操作模式无法安装证书或配置您的Web服务器，因为我们的installerplugins无法从Docker容器内部访问您的Web服务器。</p><p> Most users should use the instructions at  certbot.eff.org. You should only useDocker if you are sure you know what you are doing and have a good reason to doso.</p><p> 大多数用户应使用certbot.eff.org上的说明。仅当您确定知道自己在做什么并且有充分的理由这样做时，才应使用Docker。</p><p> You should definitely read the   Where are my certificates? section, in order toknow how to manage the certsmanually.  Our ciphersuites pageprovides some information about recommended ciphersuites. If none ofthese make much sense to you, you should definitely use the installation methodrecommended for your system at  certbot.eff.org, which enables you to useinstaller plugins that cover both of those hard topics.</p><p> 您绝对应该阅读我的证书在哪里？部分，以了解如何手动管理证书。我们的密码套件页面提供了有关推荐密码套件的一些信息。如果这些都不对您有意义，那么您绝对应该使用certbot.eff.org上为系统推荐的安装方法，使您能够使用涵盖这两个硬主题的安装程序插件。</p><p> If you’re still not convinced and have decided to use this method, fromthe server that the domain you’re requesting a certficate for resolvesto,  install Docker, then issue a command like the one found below. Ifyou are using Certbot with the   Standalone plugin, you will needto make the port it uses accessible from outside of the container byincluding something like   -p  80:80 or   -p  443:443 on the commandline before   certbot/certbot.</p><p> 如果您仍然不确定并决定使用此方法，请从服务器上向您的域请求证书以进行解析，请安装Docker，然后发出类似以下命令的命令。如果您将Certbot与Standalone插件一起使用，则需要通过从命令行外部在certbot / certbot之前在命令行中包含-p 80:80或-p 443：443之类的名称，使其可从容器外部访问。</p><p> sudo docker run -it --rm --name certbot  \ -v  &#34;/etc/letsencrypt:/etc/letsencrypt&#34;  \ -v  &#34;/var/lib/letsencrypt:/var/lib/letsencrypt&#34;  \ certbot/certbot certonly</p><p> sudo docker run -it --rm --name certbot \ -v＆＃34; / etc / letsencrypt：/ etc / letsencrypt＆＃34; \ -v＆＃34; / var / lib / letsencrypt：/ var / lib / letsencrypt＆＃34; \ certbot / certbot certonly </p><p> Running Certbot with the   certonly command will obtain a certificate and place it in the directory  /etc/letsencrypt/live on your system. Because Certonly cannot install the certificate fromwithin Docker, you must install the certificate manually according to the procedurerecommended by the provider of your webserver.</p><p>使用certonly命令运行Certbot将获得证书并将其放在系统上的目录/ etc / letsencrypt / live中。由于Certonly无法从Docker内部安装证书，因此您必须按照Web服务器提供商建议的过程手动安装证书。</p><p> There are also Docker images for each of Certbot’s DNS plugins availableat  https://hub.docker.com/u/certbot which automate doing domainvalidation over DNS for popular providers. To use one, just replace  certbot/certbot in the command above with the name of the image youwant to use. For example, to use Certbot’s plugin for Amazon Route 53,you’d use   certbot/dns-route53. You may also need to add flags toCertbot and/or mount additional directories to provide access to yourDNS API credentials as specified in the   DNS plugin documentation.</p><p> https://hub.docker.com/u/certbot上还提供了每个Certbot的DNS插件的Docker映像，这些映像可自动为受欢迎的提供商进行DNS域名验证。要使用一个，只需将上面命令中的certbot / certbot替换为您要使用的映像名称即可。例如，要使用Certbot的Amazon Route 53插件，您可以使用certbot / dns-route53。您可能还需要向Certbot添加标志和/或装入其他目录，以提供对DNS插件文档中指定的DNS API凭据的访问。</p><p> While the Certbot team tries to keep the Certbot packages offeredby various operating systems working in the most basic sense, due todistribution policies and/or the limited resources of distributionmaintainers, Certbot OS packages often have problems that other distributionmechanisms do not. The packages are often old resulting in a lack of bugfixes and features and a worse TLS configuration than is generated by newerversions of Certbot. They also may not configure certificate renewal for youor have all of Certbot’s plugins available. For reasons like these, werecommend most users follow the instructions at https://certbot.eff.org/instructions and OS packages are only documentedhere as an alternative.</p><p> 尽管Certbot团队试图使各种操作系统提供的Certbot软件包在最基本的意义上运行，但由于发行策略和/或发行维护者的资源有限，Certbot OS软件包通常存在其他发行机制无法解决的问题。与Certbot的新版本相比，该软件包通常较旧，导致缺少错误修正和功能，并且TLS配置更差。他们也可能没有为您配置证书续订，或者没有提供所有Certbot的插件。由于这些原因，建议大多数用户遵循https://certbot.eff.org/instructions上的说明，此处仅记录了OS软件包作为替代。</p><p>    If you run Debian Buster or Debian testing/Sid, you can easily install certbotpackages through commands like:</p><p>    如果您运行Debian Buster或Debian testing / Sid，则可以通过以下命令轻松安装certbotpackage：</p><p>  If you run Debian Stretch, we recommend you use the packages in Debianbackports repository. First you’ll have to follow the instructions at https://backports.debian.org/Instructions/ to enable the Stretch backports repo,if you have not already done so. Then run:</p><p>  如果您运行Debian Stretch，我们建议您使用Debianbackports仓库中的软件包。首先，您必须按照https://backports.debian.org/Instructions/上的说明进行操作，以启用Stretch backports存储库（如果尚未启用）。然后运行：</p><p>  In all of these cases, there also packages available to help Certbot integratewith Apache, nginx, or various DNS services. If you are using Apache or nginx,we strongly recommend that you install the   python-certbot-apache or  python-certbot-nginx package so that Certbot can fully automate HTTPSconfiguration for your server. A full list of these packages can be foundthrough a command like:</p><p>  在所有这些情况下，还可以使用软件包来帮助Certbot与Apache，nginx或各种DNS服务集成。如果您使用的是Apache或nginx，我们强烈建议您安装python-certbot-apache或python-certbot-nginx软件包，以便Certbot可以完全自动化服务器的HTTPS配置。这些软件包的完整列表可以通过以下命令找到：</p><p>  They can be installed by running the same installation command above butreplacing   certbot with the name of the desired package.</p><p>  可以通过运行上面相同的安装命令，但将certbot替换为所需软件包的名称来安装它们。 </p><p>           The official Certbot client is available in Gentoo Portage. From theofficial Certbot plugins, three of them are also available in Portage.They need to be installed separately if you require their functionality.</p><p>Gentoo Portage中提供了Certbot的官方客户端。从官方的Certbot插件中，Portage也提供了其中的三个插件。如果需要它们的功能，则需要单独安装它们。</p><p>  The   app-crypt/certbot-dns-nsone package has a differentmaintainer than the other packages and can lag behind in version.</p><p>  app-crypt / certbot-dns-nsone软件包的维护程序与其他软件包不同，并且版本可能会滞后。</p><p>      OS packaging is an ongoing effort. If you’d like to packageCertbot for your distribution of choice please have alook at the   Packaging Guide.</p><p>      操作系统打包是一项持续的工作。如果您希望packageCertbot供您选择发行，请参阅《包装指南》。</p><p> We used to have a shell script named   certbot-auto to help people installCertbot on UNIX operating systems, however, this script is no longer supported.If you want to uninstall   certbot-auto, you can follow our instructions  here.</p><p> 我们曾经有一个名为certbot-auto的Shell脚本来帮助人们在UNIX操作系统上安装Certbot，但是，该脚本不再受支持。如果要卸载certbot-auto，可以按照此处的说明进行操作。</p><p> When using   certbot-auto on a low memory system such as VPS with less than512MB of RAM, the required dependencies of Certbot may fail to build. This canbe identified if the pip outputs contains something like   internal  compiler error:  Killed  (program  cc1). You can workaround this restriction by creatinga temporary swapfile:</p><p> 当在内存不足的系统（例如VPS）上使用certbot-auto时，其内存少于512MB，可能无法建立所需的Certbot依赖项。如果pip输出包含类似内部编译器错误的内容，则可以确定：Killed（程序cc1）。您可以通过创建临时交换文件来解决此限制：</p><p> user@webserver:~$ sudo fallocate -l 1G /tmp/swapfileuser@webserver:~$ sudo chmod 600 /tmp/swapfileuser@webserver:~$ sudo mkswap /tmp/swapfileuser@webserver:~$ sudo swapon /tmp/swapfile</p><p> user @ webserver：〜$ sudo fallocate -l 1G / tmp / swapfileuser @ webserver：〜$ sudo chmod 600 / tmp / swapfileuser @ webserver：〜$ sudo mkswap / tmp / swapfileuser @ webserver：〜$ sudo swapon / tmp / swapfile</p><p> Installation from source is only supported for developers and thewhole process is described in the   Developer Guide.</p><p> 仅开发人员支持从源代码安装，并且《开发人员指南》中描述了整个过程。 </p><p> Please do  not use   python  certbot/setup.py  install,   python  pip install  certbot, or   easy_install  certbot. Please do  not attempt theinstallation commands as superuser/root and/or without virtual environment,e.g.   sudo  python  certbot/setup.py  install,   sudo  pip  install,   sudo ./venv/bin/.... These modes of operation might corrupt your operatingsystem and are  not supported by the Certbot team!</p><p>请不要使用python certbot / setup.py install，python pip install certbot或easy_install certbot。 请不要以超级用户/ root和/或没有虚拟环境的方式尝试安装命令，例如 sudo python certbot / setup.py安装，sudo pip安装，sudo ./venv/bin /...。这些操作模式可能会破坏您的操作系统，因此Certbot团队不支持！ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://certbot.eff.org/docs/install.html#operating-system-packages">https://certbot.eff.org/docs/install.html#operating-system-packages</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/操作系统/">#操作系统</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/软件包/">#软件包</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/certbot/">#certbot</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>