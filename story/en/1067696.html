<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>PlanetsCale，它在Vitess上建立了一个类似的数据库，帮助缩放YouTube的Tech，提高了30万系列B PlanetScale, which builds a database-as-a-service offering on Vitess, the tech that helps scale YouTube, raises $30M Series B</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">PlanetScale, which builds a database-as-a-service offering on Vitess, the tech that helps scale YouTube, raises $30M Series B<br/>PlanetsCale，它在Vitess上建立了一个类似的数据库，帮助缩放YouTube的Tech，提高了30万系列B </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-23 21:16:28</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/6/46059047567876fcf6288a0d539032d6.jpg"><img src="http://img2.diglog.com/img/2021/6/46059047567876fcf6288a0d539032d6.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Some people who create a database like to start with a clean slate.  PlanetScale, which secured $30 million in series B funding with participation from a16z and SignalFire on Wednesday, took a slightly different approach. The company looked at MySQL, liked what it saw, and wrapped all of its enhancements around it. The core is still MySQL, running the standard engines and responding to the standard queries, but the wrapper handles all of the challenges of sharding and replication, making it possible to create what PlanetScale says is a database that can be started in seconds and scaled “indefinitely.”</p><p>一些创建数据库的人喜欢从干净的板岩开始。 PlanetsCale，在周三的A16Z和SignalFire中获得3000万美元的B系列资金，采取了略微不同的方法。该公司看着MySQL，喜欢它看到的东西，并在它周围包裹了所有的增强功能。核心仍然是MySQL，运行标准引擎并响应标准查询，但包装器处理分片和复制的所有挑战，使得可以创建PlanetsCale所说的数据库，可以在几秒钟内启动并缩放“无限期。“</p><p> Developers can create a new database in seconds that will grow as they grow, with no limitations on scalability, the company said. Developers don’t need to know about the environment, such as new cloud zones, cluster sizes and other “DB-centric minutiae.” The new funding round will be used to scale the team globally and to accelerate exposure and adoption of the platform, the company said in a statement.</p><p> 该公司表示，开发人员可以在几秒钟内创建一个新数据库，这些数据库将在几秒钟内成长，没有关于可扩展性的局限性。开发人员不需要了解环境，例如新的云区，群集大小和其他“以DB为中心的MeNutiae”。该公司在一份声明中表示，新的新资金转向全球范围扩大团队并加速曝光和采用该平台。</p><p>  To find out a bit more about what is built into these extra layers, VentureBeat sat down with Sam Lambert, the chief product officer at PlanetScale. He tells us that among PlanetScale’s innovations are some based on Vitess, a  branch of MySQL that arose out of work at YouTube to scale the globe horizontally. Vitess is being used by hyperscalers such as Slack, GitHub, and Square.</p><p>  为了了解有关这些额外的层内置的内容，Venturebeat坐在PlanetsCale的首席产品官员萨姆·兰伯特队坐下来。他告诉我们，在PlanetsCale的创新中是一些基于Vitess的创新，这是一个MySQL的一个分支，它在Youtube逐步划水平的工作。超倾覆像诸如松弛，GitHub和Square等高超剖视图。</p><p>   Sam Lambert: The problem with pretty much every database out there is that no one building databases is thinking about the daily lives of the people that use them. Plain and simple like that. What’s different about us at PlanetScale is we’re getting into what the daily life of the developer looks like and solving the developer problems as they relate to the database.</p><p>   Sam Lambert：几乎每个数据库的问题都没有一个建筑物数据库正在考虑使用它们的人们的日常生活。像那样简单。我们在PlanetsCale上有什么不同的是，我们正在进入开发人员的日常生活以及解决与数据库相关的开发者问题。</p><p>  Lambert: Remember the  NoSQL movement? MongoDB marketed themselves as a tool where developers don’t have to look after the schemas they hate, the schemas that are hard to manage — the schemas that are hard to deploy and to use. That was all true, all very real criticisms of any relational database.</p><p>  兰伯特：记住NoSQL运动吗？ MongoDB将自己作为一个工具作为一个工具，开发人员在他们讨厌的模式之后，难以管理的模式 - 难以部署和使用的模式。这一切都是真的，对任何关系数据库都非常真正的批评。</p><p> What we’ve done is allow branching and deploy requests for the schema changes. You can test your schema and then just push it into production. It rolls in as a  non-blocking change that’s completely available. It’s as if you’ve just pushed code. It has that ease of use with none of the problems. So, you get the great MySQL goodness with all developer workflows.</p><p> 我们所做的是允许分支和部署模式更改的请求。您可以测试您的架构，然后将其推入生产中。它作为完全可用的非阻塞变化滚动。就好像你刚推了代码。它具有易于使用的易用性。因此，您可以使用所有开发人员工作流程获得伟大的MySQL良好。</p><p>  Lambert: An SQL command would lock the table. That would cause you horrible downtime, your application would slow down, your queries would pile up — it would just be a mess.</p><p>  Lambert：SQL命令将锁定表格。这将导致您可怕的停机时间，您的应用程序会放慢速度，您的查询会堆积 - 它只是一团糟。 </p><p> VentureBeat: So you’re able to roll in the changes with locking up production?</p><p>Vidturebeat：所以你能够通过锁定生产的变化来滚动吗？</p><p> Lambert: With our way it just asynchronously rolls the changes into production — but if we see a burst of traffic we stop. We just pause what we’re doing and we let that traffic finish and then we carry on migrating it. So it’s like a real safe deployment of code, as if it’s just going out to all of these nodes in the database cluster.</p><p> Lambert：通过我们的方式，它只是异步地将变化滚到生产中 - 但如果我们看到我们停止的流量爆发。我们只是暂停我们正在做的事情，我们让我们进入交通工具，然后我们继续迁移它。因此，它就像是一个真正的安全部署代码，好像它只是在数据库群集中出发所有这些节点。</p><p> So if you want to do a schema change, you have your table. This is your users table. You want to add a column to track, say, whether a user is subscribed. What we do is we create a copy of the users table that’s empty. Just the schema. We add the subscribed column and then we slowly start to nibble data out of the existing one into the new one. We do it in an online way. So it’s just pulling in any new updates that come in. They get applied and we keep nibbling. When they’re both up to date with each other, we do an instant swap and the new column is live in production. The old table is there and we remove it and the new column is live in production. It’s the same way as when you’re deploying applications: You roll the new pods into production. This is a way of doing things the developers are very familiar with.</p><p> 因此，如果要执行架构更改，则会有您的表格。这是您的用户表。您要添加列来跟踪，例如，是否订阅了用户。我们所做的是我们创建一个空的用户表的副本。只是架构。我们添加订阅列，然后我们慢慢开始将现有的数据慢慢地蚕食。我们以在线方式进行。所以它只是拉到了进来的任何新的更新。他们申请了，我们闲聊。当他们彼此最新时，我们会立即交换，新列在生产中生活。旧桌子在那里，我们删除它，新列是在生产中生活的。它与您部署应用程序时的方式相同：您将新的POD滚入生产中。这是开发商非常熟悉的事情的一种方式。</p><p>  Lambert: Vitess is mega-scale, open source database technology built to power YouTube that powers everything from Slack to GitHub, but it’s complex. It’s tricky to maintain. It’s very hard to take something out of a big company and apply it to mid-market or small companies, much less small teams or individuals. It’s built for Google and YouTube. And they’ve done an immense job leveraging it. It’s for database people. It’s for infrastructure people.</p><p>  Lambert：Vitess是Mega-Scale，开源数据库技术为电源uTube提供了从Slack到GitHub的所有权，但它很复杂。维护很棘手。从大公司中采取一些东西并将其应用于中市或小公司，这是非常困难的，减少小团队或个人。它是为谷歌和youtube而建造的。他们做了一个巨大的工作，利用它。它是为了数据库人。这是基础设施人。</p><p>  Lambert: With the new PlanetScale, we’ve done that for you. We just completely remove the complexity. We’re your infrastructure people. We’re your database people. We’re meeting you where you are as a developer, where you don’t understand regions and clusters and servers and all of the things that others require you to choose. But we are built on Vitess and have the power of Vitess.</p><p>  Lambert：用新的PlanetsCale，我们为你做了这一点。我们只是完全消除了复杂性。我们是你的基础设施人。我们是你的数据库人。我们正在遇到您作为开发人员的地方，在那里您不了解地区和集群和服务器以及其他人要求您选择的东西。但我们建在Vitess上并具有Vitess的力量。</p><p>  Lambert: Branching is some real magic sauce. So when you get a branch, get a whole new cluster, it’s a completely isolated cluster away from your current one. It’s a completely isolated environment.</p><p>  兰伯特：分支是一些真正的魔法酱。因此，当您获得一个分支机构时，获取一个全新的群集，它是一个完全隔离的集群，远离您当前的集群。这是一个完全孤立的环境。</p><p>  Lambert: No. I’m sure you know, staging environments are a hellish problem for everybody. We are going to kill the concept of staging environments. They are an unnecessary mess. It’s just another burden to maintain with branching.</p><p>  Lambert：不，我相信你知道，暂存环境是每个人的地狱问题。我们将杀死暂存环境的概念。他们是一个不必要的混乱。这只是一个与分支保持的另一个负担。 </p><p> We say: Don’t have this monolithic staging environment. Just create a branch per code branch. And that itself is a nice environment. Test it out, push it deployed. Then it goes away. Have as many branches as you want. Have 100 per developer if you want. They’re all environments used for staging, but it’s a generational leap past the old world of staging environments.</p><p>我们说：没有这种单片分期环境。只需创建每个代码分支的分支。这本身是一个很好的环境。测试它，推动它部署。然后它消失了。拥有尽可能多的分支机构。如果你愿意，每位开发人员拥有100个。它们都是用于分期的环境，但这是旧的常期环境世界的代理飞跃。</p><p> VentureBeat: On one project we encountered, the boss didn’t want to pay for too many test clusters.</p><p> VidtureBeat：在一个我们遇到的项目上，老板不想支付太多的测试群集。</p><p> Lambert: Yes, if your project is big, it’s a huge cost to clone them. If you set up a branch, you don’t end up doubling the number of resources you’re consuming. It’s a light, small subset.</p><p> 兰伯特：是的，如果你的项目很大，那么克隆它们是一个巨大的成本。如果您设置了一个分支，您不会最终加倍您消耗的资源数量。这是一个光，小的子集。</p><p> VentureBeat: On some projects I’ve been on, the staging and test clusters would start diverging from the production. We couldn’t keep them in sync. The code would run in staging and fail in production or, worse, run in production but fail in staging. We couldn’t test it. We would just cross our fingers and push it into production because we knew staging was munged.</p><p> VidtureBeat：在一些项目中，我一直在，分期和测试集群将开始偏离生产。我们无法保持同步。代码将在生产中运行并在生产中失败，或者更糟糕的是，在生产中运行但在分期中失败。我们无法测试它。我们只会穿过手指并将其推进生产，因为我们知道暂存是令人挤的。</p><p> Lambert: The best I’ve seen with staging environments is they take last night’s backup and they restore it onto a separate cluster. So, it’s slightly stale and it’s just fragile.</p><p> Lambert：我见过暂存环境的最好的是他们持续昨晚的备份，并将其恢复到单独的群集上。所以，它略微陈旧，它只是脆弱。</p><p> We don’t do that. We host PlanetScale’s main database on PlanetScale. When we’re adding a feature, we code it up locally and create a database branch. When we’re done, we push the changes and they’re all caught up.</p><p> 我们不这样做。我们在PlanetsCale上主持PlanetsCale的主数据库。当我们添加一个功能时，我们在本地代码并创建数据库分支。当我们完成后，我们推动变化，他们都赶上了。</p><p>  Lambert: Horizontal sharding. It is supremely elegant and it breaks the problem down into multiple little chunks.. Sharding is much more elegant instead of stacking your machines. If you split your data into shards on commodity machines, you are not only getting the same amount of CPU cores serving reads as you would in a vertical scale environment, you’re getting more serving writes.  Replication delay doesn’t become an issue and you just keep growing.</p><p>  兰伯特：水平分片。它令人难以优雅，它将问题分解为多个小块。分片更优雅，而不是堆叠您的机器。如果将数据拆分为商品计算机的碎片，则您不仅可以获得相同数量的CPU核心，您可以在垂直刻度环境中使用读取，您可以获得更多服务写入。复制延迟不会成为一个问题，您只需继续增长。 </p><p> VentureBeat: What happens when the queries need to touch all of the shards, perhaps to build some aggregated report?</p><p>VentureBeat：查询需要触摸所有碎片时会发生什么，也许要构建一些汇总报告？</p><p> Lambert: It does happen. But you can optimize, and we’ll give you ways to do that. There are definitely cross-shard aggregations, and that is a little bit slower. But when you need it, those are all easy optimizations compared to the conventional consistency problem, which is way, way more difficult to wrap your head around.</p><p> 兰伯特：确实发生了。但是你可以优化，我们会给你做的方法。肯定有码头碎片聚集，这有点慢。但是，当您需要时，与传统的一致性问题相比，这些都很容易优化，这是一种方式，方式更难以包裹头部。</p><p> VentureBeat: Deep in the core of your product is MySQL. Do you use the stock version?</p><p> Venturebeat：在您的产品核心深处是MySQL。你使用股票版本吗？</p><p> Lambert: The thing is that MySQL is the best. It’s pretty much the premiere when it comes to storage and storage engines. You just can’t beat it. You have access to all the storage engines — we’re compatible with other MySQL folks. But, for a pure storage engine, which is what we use it for, it’s just spot on.</p><p> Lambert：MySQL是最好的。谈到存储和存储引擎时，这几乎是首映式。你无法击败它。您可以访问所有存储引擎 - 我们与其他MySQL人员兼容。但是，对于纯粹的存储引擎，这是我们使用它的，它只是现场。</p><p>  Lambert: Look at our competitors. They ask you how many nodes you want. How many server CPUs? How many VCPUs? How much IO? Rubbish! We don’t ask for any of that. When you sign up for our product, we create your database. And we will auto-scale for you, because I just do not believe that information is necessary. We’re the experts. We love databases. We build databases. We handle that problem for you.</p><p>  兰伯特：看看我们的竞争对手。他们问你想要多少节点。有多少服务器CPU？有多少vcpus？ IO多少钱？垃圾！我们不要求这一点。当您注册我们的产品时，我们会创建数据库。我们将为您自动规模，因为我只是不相信信息是必要的。我们是专家。我们喜欢数据库。我们构建数据库。我们为您处理这个问题。</p><p> Moreover, people are excited about our billing model because people really just hate to feel that they’re being charged for things they don’t use. We charge you per row you read and per row you write, and then how much storage you use. That’s it. No VCPUs. No reserved IO. None of that. Just what you consume and what you do. That is a truly service experience that is awesome.</p><p> 此外，人们对我们的计费模型感到兴奋，因为人们真的只是讨厌觉得他们因他们不使用的东西被指控。我们每行向您收取您的读取和每行写入，然后使用多少存储。就是这样。没有vcpus。没有保留的io。都不是。只是你消耗的东西和你做了什么。这是一个真正的服务体验很棒。</p><p> VentureBeat: A name like PlanetScale means you’ve got to be building out a pretty big cloud.</p><p> VidtureBeat：像PlanetsCale这样的名字意味着你必须建立一个非常大的云。 </p><p> Lambert: We have a support business that is reserved for, basically, these major scale companies that are our customers. And if you go on our front page or see some of those household name logos, that are our customers. But our main destiny lies in our cloud product. All of this magic of branching and schema changes is powered by the cloud. Our roadmap with some of these extremely cool features that are coming needs the cloud. These are features that you could only provide in a cloud service. It’s what people want. Serverless is winning. Serverless is happening.</p><p>Lambert：我们有一个支持的业务，基本上是这些主要的规模公司，这些公司是我们的客户。如果你继续前页或看到那些家庭名称的一些徽标，那就是我们的客户。但我们的主要命运位于我们的云产品中。分支和架构更改的所有这些魔法都由云供电。我们的路线图，即将到来的一些非常酷的功能需要云。这些是您只能在云服务中提供的功能。这是人们想要的。无要的是赢得胜利。无服务器正在发生。</p><p> VentureBeat&#39;s mission is to be a digital town square for technical decision-makers to gain knowledge about transformative technology and transact.Our site delivers essential information on data technologies and strategies to guide you as you lead your organizations. We invite you to become a member of our community, to access: gated thought-leader content and discounted access to our prized events, such as   Transform 2021: Learn More</p><p> VidtureBeat＆＃39; S使命是成为技术决策者的数字城市广场，以获得有关转型技术和Transact的知识。您网站提供有关数据技术和策略的基本信息，以指导您的领导您的组织。我们邀请您成为社区的成员，访问：门控思想领导者内容和对我们奖化事件的折扣访问，如转换2021：了解更多</p><p> Become a member</p><p> 成为会员 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://venturebeat.com/2021/06/23/planetscale-simplifies-distributed-database-complexity/">https://venturebeat.com/2021/06/23/planetscale-simplifies-distributed-database-complexity/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/database/">#database</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/youtube/">#youtube</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/数据库/">#数据库</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/vitess/">#vitess</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/builds/">#builds</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>