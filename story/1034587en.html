<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>包注册机构是否将开源软件扣为人质？</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">包注册机构是否将开源软件扣为人质？</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-12 01:51:35</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/2c50fb10732a92e62cba65e59d4ad4d7.jpg"><img src="http://img2.diglog.com/img/2020/11/2c50fb10732a92e62cba65e59d4ad4d7.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>A few days ago, I received an email from Docker about a change I already knew was coming: ‍</p><p>几天前，我收到了一封来自多克的电子邮件，内容是我已经知道即将发生的变化：‍。</p><p>  To many, this came as no surprise. For years,  Docker Hub has offered free hosting of container images, which typically range in size from a few megabytes to many gigabytes. Docker workflows as a result use a  lot of bandwidth, and that bandwidth costs money.</p><p>对许多人来说，这并不令人意外。多年来，Docker Hub一直提供免费托管容器图像的服务，这些图像的大小通常从几兆字节到几千兆字节不等。因此，Docker工作流使用了大量带宽，而这些带宽是要花钱的。</p><p> Should we OSS (open-source software) developers have to think about the business and financial models of the platforms we host our software on? In a perfect world, we wouldn&#39;t have to—but in the real world we very much do. The incentives between OSS maintainers and the registries they use are often misaligned.</p><p>我们OSS(开源软件)和开发者是否应该考虑我们托管软件的平台的商业和财务模式？在一个完美的世界里，我们不需要这样做--但在现实世界里，我们非常需要这样做。开放源码软件的维护者和他们使用的注册表之间的激励往往是不一致的。</p><p> Docker Hub,  npm, and other comparable registries are incentivized to create lock-in, even if it makes the product experience worse for their users and customers. This is especially true of the for-profit companies behind the registries, but we see similar issues from many of the not-for-profit registries.</p><p>Docker Hub、NPM和其他类似的注册机构被鼓励创建锁定，即使这会让他们的用户和客户的产品体验变得更糟。注册背后的营利性公司尤其如此，但我们在许多非营利性注册机构中看到了类似的问题。</p><p> Maintainers, on the other hand, are incentivized to choose the best product for their needs at the lowest cost, which depends on being able to switch providers when a better service comes on the market.</p><p>另一方面，维护者受到激励，以最低的成本选择最适合他们需求的最佳产品，这取决于当更好的服务上市时是否能够更换供应商。</p><p> This situation is fundamentally at odds with the today&#39;s package management ecosystem, where immutability is paramount in order to achieve stability. We avoid breaking things at all costs, on principle, since OSS packages are the nuts and bolts of the software ecosystem, the internet, and thus society itself.</p><p>这种情况从根本上与当今的套餐管理生态系统不符，在这种生态系统中，为了实现稳定，不变性是至高无上的。原则上，我们会不惜一切代价避免破坏东西，因为OSS包是软件生态系统、互联网乃至整个社会的支柱。</p><p>  The registry where you host your packages and containers might be free today, but if that changes later, as is the case now with Docker, you and your users might be stuck paying whatever price the vendor chooses to set. Your users might even agree to access your package without the rate limit, but   you will not be seeing any of that revenue. Access to your open-source software was effectively just sold for a profit, and you, the author of that software, were cut out of the transaction.</p><p>您托管包和容器的注册表今天可能是免费的，但如果以后发生变化，就像Docker现在的情况一样，您和您的用户可能会被迫支付供应商选择的任何价格。你的用户甚至可能同意在没有费率限制的情况下访问你的套餐，但你不会看到任何收入。你的开源软件的使用权实际上是为了盈利而出售的，而你，这个软件的作者，却被排除在交易之外。</p><p> While you could in theory just host your software somewhere else, can you really do that without breaking things for your current users? If you maintain and distribute a popular Docker image, switching the package registry is likely difficult.</p><p>虽然理论上你可以把你的软件托管在其他地方，但你真的能做到这一点而不破坏你现在的用户吗？如果您维护和分发一个流行的Docker镜像，切换包注册表可能会很困难。</p><p>   ‍If you decide later you actually want to move your container hosting somewhere else - let&#39;s say  Google Container Registry for this example - the Docker client is reasonable and lets you pull down images by their URL:</p><p>‍如果您稍后决定确实要将托管容器移动到其他地方--比如本例中的Google Container Registry--那么Docker客户端是合理的，它可以让您通过图片的url下载图片：</p><p>  ‍The problem here is that once you&#39;ve changed the URL to your images, all of your existing users will stop getting updates! Even worse, this can break builds or pipelines for your users whenever they hit the new rate limits, which are not under your control.</p><p>‍这里的问题是，一旦你更改了图片的网址，你现有的所有用户都将停止获取更新！更糟糕的是，每当用户达到新的速率限制(这不在您的控制之下)时，这可能会中断构建或管道。</p><p> At the point where your container has a sizable user-base all going through one of the existing container registries, your lock-in is substantial. Moving platforms will be painful. The crux of the problem here is that  you don&#39;t own the distribution channel. The registry is the  first place the web traffic goes, and everything that happens after that is at  the registry vendor’s  discretion and to their advantage, not yours.</p><p>当您的容器有相当大的用户群都通过现有的容器注册中心之一时，您的锁定是很大的。移动平台将是痛苦的。问题的症结在于你并不拥有分销渠道。注册表是Web流量的第一个去向，之后发生的任何事情都由注册表供应商自行决定，对他们有利，而不是您的。</p><p>  Some might respond:  &#34;This still seems like more of a theoretical problem than a practical one.&#34;</p><p>有些人可能会回答：这看起来更像是一个理论问题，而不是一个实际问题。</p><p> There are several practical downstream effects of the misaligned incentive structures to open-source package hosting. One major effect of registry lock-in is that maintainers cannot access their usage data. The data that registries naturally collect from package downloads can be quite useful to maintainers in a myriad of ways, yet registries typically don&#39;t share anything beyond a download count.</p><p>错位的激励结构对开源包托管有几个实际的下游影响。注册表锁定的一个主要影响是维护人员无法访问他们的使用数据。注册表从包下载中自然收集的数据在许多方面对维护人员非常有用，但注册表通常不会共享下载计数以外的任何内容。</p><p> Registries know where the downloads are coming from, the devices, the package versions, which other packages are installed alongside, and a whole lot more. Little to none that information is shared with maintainers. Thus, maintainers are effectively locked out from observing the usage traffic.</p><p>注册表知道下载的来源、设备、包版本、与哪些其他包一起安装，等等。与维护人员共享的信息很少，甚至没有。因此，维护人员实际上被禁止观察使用流量。</p><p> Why is this the case? It&#39;s not because developers don&#39;t ask for it ( https://github.com/npm/npm/issues/279). It&#39;s because the registries have no incentive to do so. It would cost the registries money to build and maintain the features to provide this data. Some registries even claim that exposing this data publicly would incentivize maintainers to game the system. Meanwhile, the extreme levels of inertia in software distribution keep maintainers locked in.</p><p>为甚麽会这样呢？这并不是因为开发人员没有提出要求(https://github.com/npm/npm/issues/279).。这是因为注册机构没有这样做的动机。建立和维护提供这些数据的功能将花费登记处的资金。一些注册机构甚至声称，公开这些数据会激励维护者玩弄系统。与此同时，软件分发中的极端惰性将维护人员锁在了门外。</p><p> The registries&#39; demonstrated distrust of maintainers seems counterproductive in a space where there&#39;s opportunity to work together cooperatively. If registry incentives were aligned accordingly, a registry like npm, for instance, would be in a great position to empower maintainers to leverage their own distribution data to deliver the best software possible.</p><p>在一个有机会合作的领域，注册表显示出对维护人员的不信任似乎适得其反。例如，如果登记处的激励措施相应调整，像NPM这样的登记处将处于有利地位，使维护人员能够利用他们自己的分发数据提供尽可能好的软件。</p><p> What makes npm’s particular scenario even worse is that they&#39;ve made it so difficult to use a registry that is  not npm. There&#39;s no way to pull a single package from an alternate registry without switching to that registry. Which makes it quite impossible to actually publish a widely used JavaScript package without putting it on npm.</p><p>让NPM的特殊情况变得更糟的是，他们让使用非NPM的注册表变得如此困难。在不切换到该注册表的情况下，无法从备用注册表中提取单个包。这使得不把广泛使用的JavaScript包放到NPM上就不可能真正发布它。</p><p> Contrast this scenario to Docker: Docker Hub creates different tradeoffs that both help and harm OSS maintainers. They&#39;ve loosened their grip on OSS maintainers by making it user-friendly to pull containers down from alternative registries besides Docker Hub. However, even if you switch away from Docker Hub, you&#39;re still jumping from one company to another. This is because, at the end of the day, the registries—not the maintainers—own the distribution URL. The power imbalance continues.</p><p>将此场景与Docker进行对比：Docker Hub创建了不同的折衷方案，既对OSS维护者有利，也对其不利。他们已经放松了对开放源码软件维护人员的控制，使得从除了Docker Hub之外的其他注册表中取出容器变得用户友好。然而，即使你离开了Docker Hub，你仍然是在从一家公司跳槽到另一家公司。这是因为，归根结底，拥有分发URL的是注册中心，而不是维护人员。权力失衡仍在继续。</p><p> My argument is not intended to dismiss the efforts of the registries as a whole. Package registries serve an essential role in software distribution, and have collectively serviced billions upon billions of package downloads. They’ve made it easy for anyone in the world to interact with open-source, and as a result have helped push open-source forward. Astonishingly, they have, for most part, remained free to use! But as software continues to eat the world and the distribution of that software becomes more important, conflicting interests in this space become increasingly problematic.</p><p>我的论点并不是要否定注册处的整体努力。包注册表在软件分发中起着至关重要的作用，总共为数十亿的包下载提供了服务。它们让世界上任何人都可以轻松地与开源互动，并因此帮助推动了开源的发展。令人惊讶的是，它们在很大程度上仍然可以免费使用！但随着软件继续吞噬世界，软件的分发变得越来越重要，这一领域的利益冲突变得越来越成问题。</p><p>  How do we solve this? Ultimately, package registries need to align their incentives with those of maintainers. Registries should build products maintainers  want to use rather than products they  have to use. The entire OSS community can benefit.</p><p>我们怎么解决这个问题？最终，包注册中心需要将他们的激励措施与维护人员的激励措施保持一致。注册中心应该创建维护人员想要使用的产品，而不是他们必须使用的产品。整个开放源码软件社区都能从中受益。</p><p> Part of this means registries must be more intentional about giving maintainers back control over the distribution of their own software, even when it means the maintainers could take their packages elsewhere. As a community, we should be empowering maintainers to do their best work rather than constraining them to work within a specific  platform or framework.</p><p>这在一定程度上意味着注册中心必须更有意识地让维护员重新控制他们自己的软件的分发，即使这意味着维护员可能会把他们的包带到其他地方。作为一个社区，我们应该授权维护人员做好他们最好的工作，而不是强迫他们在特定的平台或框架内工作。</p><p> For the health of the open source ecosystem, it&#39;s critical to ensure that maintainers are not locked out from accessing the data about their own software distribution. Maintainers must be able to make data-informed decisions and treat distribution data as something that rightfully belongs to them, instead of just the registry providers.</p><p>为了开源生态系统的健康，确保维护人员不被阻止访问他们自己的软件分发的数据是至关重要的。维护人员必须能够在了解数据的情况下做出决策，并将分发数据视为理所当然属于他们的东西，而不仅仅是注册表提供商。</p><p> Unfortunately, the current software distribution model works to cut maintainers out, making all downstream actions more difficult and strictly less informed. When we as a community decide to better align ourselves with open-source maintainers and build platforms to empower them, the result will be better software for the entire ecosystem.</p><p>不幸的是，当前的软件分发模型将维护员排除在外，使得所有下游操作更加困难，信息也更少。当我们作为一个社区决定更好地与开源维护者结盟并构建平台来增强他们的能力时，结果将是为整个生态系统提供更好的软件。</p><p> Scarf is working on new tooling to address these problems, so stay tuned! Follow  @scarf_oss on Twitter or subscribe below for periodic updates.</p><p>SCARF正在开发新的工具来解决这些问题，敬请关注！在Twitter上关注@scarf_oss或订阅下面的定期更新。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://about.scarf.sh/post/package-registries-and-open-source">https://about.scarf.sh/post/package-registries-and-open-source</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/开源/">#开源</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/注册机构/">#注册机构</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1034519.html"><img src="http://img2.diglog.com/img/2020/11/thumb_508355065b009380861ff18cf8afc447.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034519.html">丰盛家居开源安全网关</a></div><span class="my_story_list_date">2020-11-11 21:45</span></div><div class="col-sm"><div><a target="_blank" href="/story/1034504.html"><img src="http://img2.diglog.com/img/2020/11/thumb_e2ad04215bcc0e42933fc42422e503a9.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034504.html">Quantopian的开源投资梦想破灭了</a></div><span class="my_story_list_date">2020-11-11 18:13</span></div><div class="col-sm"><div><a target="_blank" href="/story/1034226.html"><img src="http://img2.diglog.com/img/2020/11/thumb_a765d0b478e9077e1ff08940722fe9f4.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034226.html">开源媒体服务闭路电视/录像/物体检测</a></div><span class="my_story_list_date">2020-11-10 18:1</span></div><div class="col-sm"><div><a target="_blank" href="/story/1034152.html"><img src="http://img2.diglog.com/img/2020/11/thumb_372aac97d3331be3e36a141cbf373bb3.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034152.html">开源项目的安全记分卡</a></div><span class="my_story_list_date">2020-11-10 6:9</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>