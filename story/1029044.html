<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Spacy v3.0夜间</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Spacy v3.0夜间</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-16 00:06:53</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/7fa4c102bfa155d5389c25f019d67535.jpg"><img src="http://img2.diglog.com/img/2020/10/7fa4c102bfa155d5389c25f019d67535.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Spacy v3.0将是一个巨大的发行版！它以新的基于变压器的管道为特色，使Spacy的精确度达到当前最先进的水平，以及一个新的工作流程系统，帮助您将项目从原型带入生产。配置和培训您的管道要容易得多，并且与NLP生态系统的其余部分进行了大量新的和改进的集成。</p><p>我们已经致力于Spacy v3.0将近一年了，如果你把所有投入Thinc的工作都算上的话，差不多有两年了。我们发布这个版本的主要目的是让你自己的模型更容易进入空间，特别是像变形金刚这样的最先进的模型。您可以在PyTorch或TensorFlow等框架中编写支持空间组件的模型，使用我们令人惊叹的新配置系统来描述您的所有设置。由于现代NLP工作流程通常由多个步骤组成，因此有了一个新的工作流程系统来帮助您组织工作。</p><p>我们通过一个单独的渠道，Spacy-Night，发布Spacy的试验性版本和Alpha版本。已安装的包仍可作为Spacy导入和使用。夜间构建反映的是“未来的空间”，并不打算用于生产用途。如果你想试一试，一定要使用一个新的虚拟环境，以防止潜在的冲突。</p><p>今天，我们将把即将发布的版本作为夜间版本提供给您，这样您就可以开始试用了。有关您的平台和设置的详细安装说明，请查看安装快速入门小部件。</p><p>Spacy v3.0采用了所有新的基于变压器的管道，将Spacy的精度带到了当前最先进的水平。您可以使用任何预先训练好的变压器来训练您自己的管道，甚至可以通过多任务学习在多个组件之间共享一个变压器。Spacy的转换器支持与PyTorch和HuggingFace转换器库互操作，使您可以访问数以千计的预先培训的管道模型。有关新管道的概述，请参见下面的内容。</p><p>Spacy允许您在多个组件之间共享单个转换器或其他令牌到向量(“tok2vec”)嵌入层。您甚至可以更新共享图层，执行多任务学习。重用组件之间的嵌入层可以使您的管道运行得更快，并产生更小的模型。</p><p>通过在管道起点附近添加Transformer或Tok2Vec组件，您可以在多个组件之间共享单个变压器或其他令牌到向量模型。管道中稍后的组件可以通过在其模型中包括侦听器层来“连接”到它。</p><p>Spacy v3.0提供了16种语言的再培训模型系列和总共51个经过培训的管道，其中包括5个新的基于变压器的管道。您还可以使用您自己选择的数据和变压器重量来训练您自己的基于变压器的管道。</p><p>Spacy v3.0引入了一个全面且可扩展的系统来配置您的培训运行。单个配置文件描述了您的训练运行的每一个细节，没有隐藏的默认值，使您可以轻松地重新运行您的实验并跟踪更改。</p><p>您可以使用快速入门小部件或init config命令进行入门。您只需将config.cfg文件传递给Spacy Train，而不是在命令行上提供大量参数。</p><p>培训配置文件包括培训您的管道的所有设置和超参数。有些设置也可以是注册函数，您可以将其提取并进行自定义，从而可以轻松地实现您自己的自定义模型和体系结构。</p><p>结构化部分。将配置分组为节，并使用定义嵌套节。记谱法。例如，[Components.ner]定义管道的命名实体识别器的设置。配置可以作为Python字典加载。</p><p>对已注册函数的引用。节可以引用已注册的函数，如模型体系结构、优化器或调度，并定义传递给它们的参数。您还可以注册自己的函数来定义自定义架构或方法，在配置中引用它们并调整它们的参数。</p><p>插值。如果有多个组件使用的超参数或其他设置，请定义它们一次，然后将它们作为变量引用。</p><p>重现性，没有隐藏的默认值。配置文件是“SingleSource of Truth”，包含所有设置。</p><p>自动检查和验证。加载配置时，spacy会检查设置是否完整，以及所有值的类型是否正确。这可以让你及早发现潜在的错误。在您的自定义体系结构中，您可以使用Python类型提示来告诉配置需要哪些类型的数据。</p><p>Spacy的新配置系统使定制不同管道组件使用的神经网络模型变得容易。您还可以通过Spacy的机器学习库Thinc实现您自己的架构，Thinc提供各种层和实用程序，以及PyTorch、TensorFlow和MXNet等框架的薄包装器。所有组件模型都遵循相同的统一模型API，并且每个模型还可以用作更大网络的子层，允许您将不同框架的实现自由组合到单个模型中。</p><p>从THINC的火炬导入nn包装PyTorch模型.api import PyTorchWrappertorch_model=nn.Sequential(nn.线性(32，32)，nn.ReLU()，nn.Softmax(dim=1))model=PyTorchWrapper(TORCH_MODEL)。</p><p>Spacy项目允许您管理和共享不同用例和领域的端到端Spacy工作流，并协调培训、打包和服务您的自定义管道。您可以从克隆预定义的项目模板开始，调整它以满足您的需要，加载您的数据，训练管道，将其导出为Python包，将您的输出上传到远程存储，并与您的团队共享您的结果。</p><p>Spacy项目还可以轻松地与DataScience和机器学习生态系统中的其他工具集成，包括用于数据版本控制的DVC、用于创建标签数据的Prodigy、用于构建交互式应用程序的Streamlight、用于为生产中的模型提供服务的FastAPI、用于并行培训的Ray、用于实验跟踪的权重和偏差，等等！</p><p>使用spacy项目#克隆项目templatepython-m spacy项目克隆管道/tagger_parser_ud tagger_parser_ud#下载数据资产spython-m spacy项目资产#运行工作流python-m spacy项目运行全部。</p><p>要克隆模板，可以运行带有相对路径的spacy project clone命令，例如python-m spacy project clone Pipeline/ner_wikiner。</p><p>权重与偏差是一个流行的实验跟踪平台。Spacy通过WandbLogger与其进行开箱即用的集成，您可以将其添加为培训配置的[Training ing.logger]块。</p><p>然后，每个步骤的结果与完整的培训配置一起记录到您的项目中。这意味着将跟踪每个超参数、注册函数名和参数，您将能够看到它对结果的影响。</p><p>Ray是一个快速而简单的框架，用于构建和运行分布式应用程序。你可以使用Ray在一台或更远程的机器上训练Spacy，潜在地加快了你的训练过程。</p><p>Ray集成由一个轻量级扩展包spacy-ray提供支持，如果您的spacy CLI安装在同一环境中，它会自动将ray命令添加到您的spacy CLI中。然后，您可以运行Spacy Ray Train进行并行训练。</p><p>使用Ray pip并行培训安装spacy-ray--pre#检查CLI是否已注册python-m spacy ray--help#培训管线epython-m spacy ray系列config.cfg--n-worker 2。</p><p>Spacy v3.0包括几个新的可培训和基于规则的组件，您可以将这些组件添加到您的管道中，并根据您的使用案例进行自定义：</p><p>组件，用于在管道中使用转换器模型、访问输出和对齐令牌。通过空间变压器提供。</p><p>现在，定义、配置、重用、训练和分析流水线组件变得更加容易和方便。@Language.component和@Language.Factory装饰器允许您注册组件并定义其默认配置和元数据，如它分配和需要的属性值。培训期间可以包含任何自定义组件，从现有培训管道中采购组件使您可以混合和匹配自定义管道。分析管道方法输出关于当前管道及其组件的结构化信息，包括它们分配的属性、它们在训练期间计算的分数以及是否有任何必需的属性没有设置。</p><p>从spacy导入spacy.language import language@language.component(&#34；my_component&#34；)def my_component(Doc)：return docnlp=spacy.Blank(&#34；en&#34；)#使用其字符串名称添加组件nlp.add_Pipe(&#34；my_component&#34；)#来自其他管道的源组件Other_NLP=spacy.load(&#34；en_core_web_sm&#34；)NLP.add_Pipe(&#34；ner&#34；)。，source=Other_NLP)#分析组件及其属性nlp.Analyze_Pipes(Pretty=True)。</p><p>新的DependencyMatcherer允许您使用Semgrex运算符匹配依赖项解析中的模式。它遵循与基于令牌的匹配器相同的API。添加到依赖匹配器的模式由字典列表组成，每个字典描述一个要匹配的令牌及其与模式中现有令牌的关系。</p><p>从spacy导入Spacy.matcher import DependencyMatchernlp=spacy.load(&#34；en_core_web_sm&#34；)matcher=DependencyMatcher(NLP.vocab)Pattern=[{&#34；right_ID&#34；：&#34；Anch_FOunded&#34；，&#34；Right_ATTRS&#34；：{&#34；Orth&#34；：&#34；Founded&#34；}}，{&#34；Left_ID&#34；：&#34；锚_FOUND&#34；，&#34；REL_OP&#34；：&#34；&&gt;；&#34；&#34；RIGHT_ID&#34；：&#34；SUBJECT&#34；&#34；RIGHT_ATTRS&#34；：{&#34；DEP&#34；：&#34；nsubj&#34；}}，{&#34；LEFT_ID&#34；：&#34；锚_FOUNDED&#34；，&#34；REL_OP&#34；：&#34；&&gt;；&#34；&#34；RIGHT_ID&#34；：&#34；FOUND_OBJECT&#34；，&#34；RIGHT_ATTRS&#34；：{&#34；DEP&#34；：&#34；DOBJ&#34；}}，{&#34；LEFT_ID&#34；：&#34；FOUND_OBJECT&#34；，&#34；REL_OP&#34；：&#34；&&gt;；&#34；&#34；RIGHT_ID&#34；：&#34；FOUND_OBJECT_MODIFIER&#34；，&#34；RIGHT_ATTRS&#34；：{&#34；DEP&#34；：{&#34；IN&#34；：[&#34；amOD&#34；；，&#34；复合&#34；]}]Matcher.add(&#34；成立&#34；，[模式])doc=NLP(&#34；Lee，一位经验丰富的CEO，已经创建了两家人工智能初创公司。&#34；)matches=matcher(Doc)。</p><p>Spacy v3.0正式放弃了对Python2的支持，现在需要Python3.6+。这也意味着代码库可以充分利用类型提示。Spacy的面向用户的API是用纯Python(而不是Cython)实现的，现在提供了类型提示。Spacy的机器学习库Thinc的新版还具有广泛的类型支持，包括模型和数组的自定义类型，以及可用于类型检查模型定义的自定义mypy插件。</p><p>对于数据验证，Spacy v3.0采用pydtic。它还支持Thinc的配置系统的数据验证，允许您使用类型化参数注册自定义函数，在配置中引用它们，并在参数值不匹配时查看验证错误。</p><p>参数验证具有来自spacy的类型提示。language import language from pydantiimport StrictBool@language.Factory(&#34；my_component&#34；)def create_component(nlp：language，name：str，Custom：StrictBool)：。。。</p><p>我们希望能很快发布稳定版。我们每晚在内部进行测试已经有相当一段时间了，我们预计不会有太多变化。我们希望您试试看，并让我们知道您的进展如何！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://explosion.ai/blog/spacy-v3-nightly">https://explosion.ai/blog/spacy-v3-nightly</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/spacy/">#spacy</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>