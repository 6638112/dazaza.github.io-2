<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>以色列排队Israeli Queues</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Israeli Queues<br/>以色列排队</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-22 22:55:07</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/054f16c5d40d756c43d13300f89caf04.png"><img src="http://img2.diglog.com/img/2020/11/054f16c5d40d756c43d13300f89caf04.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>A queue is a data structure that holds up elements for a brief period of time until a peripheral processing system is ready to process them. The most common implementation of a queue is a FIFO queue - First In First Out - that evicts the element that was inserted the first i.e. it evicts the one that has spent the most time in the queue. There are other variations of Queues one of which is called Priority Queue.</p><p>队列是一种数据结构，可在短时间内保留元素，直到外围处理系统准备处理它们为止。队列的最常见实现是FIFO队列-先进先出-逐出最先插入的元素，即逐出在队列中花费最多时间的元素。队列还有其他变体，其中一种称为优先级队列。</p><p> In Priority Queue, every element is associated with a priority, usually provided by the user during enqueueing; This associated priority is used during eviction where the element with the highest priority is evicted first during dequeuing.</p><p> 在Priority Queue中，每个元素都与一个优先级相关联，通常由用户在排队时提供。此关联的优先级用于驱逐期间，在此过程中，具有最高优先级的元素会在出队时首先被驱逐。</p><p> In this essay, we take a detailed look into a variation of Priority Queue, fondly called Israeli Queues, where the priority of the element is defined by the affinity of it with one of its &#34;friends&#34; in the queue. Israeli Queues were first introduced in the paper  Polling with batch service by Boxma, O. J., Wal, van der, J., &amp; Yechiali, U in the year 2007.</p><p> 在本文中，我们详细研究了优先级队列的一种变体，称为“以色列队列”，其中元素的优先级由其与队列中“朋友”之一的亲和力定义。 Boxma，O. J.，Wal，van der，J.和U Yechiali，U在2007年首次在《轮询与批处理》一书中引入了以色列队列。</p><p>  Queues in Israel are usually unorganized, due to which people tend to find their friends, who are already waiting, and instead of adhering to the usual protocol of joining at the back end, they cut through and directly join their friends. Israeli Queues mimic this behavior and hence get this  punny name.</p><p>  以色列的队列通常是不整齐的队列，由于这些队列，人们倾向于找到已经在等待的朋友，他们不遵循后端的常规加入协议，而是直截了当并直接加入了朋友。以色列队列模仿了这种行为，因此得到了这个俗气的名字。</p><p>  Israeli Queues are a variation of  Priority Queues where instead of associating priority with the element to be enqueued, the priority is implicitly derived using the &#34;friend&#34; element and it joins right at the back end of the group that the friend belongs to. The function signature of the enqueue operation is as shown below, while other operations like  dequeue and  peek remains fairly similar.</p><p>  以色列队列是优先级队列的一种变体，在该队列中，不是将优先级与要排队的元素相关联，而是使用“ friend”元素隐式派生了优先级，并且优先级在该朋友所属组的后端加入。入队操作的功能签名如下所示，而其他操作（例如出队和偷看）仍然相当相似。</p><p> // Enqueues the element `e`, a friend of element `f`, // into the queue `q`.  void   (israeli_queue * q, element * e, element * f);</p><p> //将元素“ e”（元素“ f”的朋友）排队入队列“ q”。无效（israeli_queue * q，元素* e，元素* f）;</p><p>  Every Data Structures is designed to solve a niche use case efficiently and Israeli Queues are no different as they prove to be super-efficient where one could batch and process similar elements or where the  set-up cost for a task is high.</p><p>  每个数据结构都旨在有效地解决一个小众用例，以色列队列也不例外，因为事实证明它们是超高效的，它可以批量处理相似的元素，或者任务的设置成本很高。</p><p> Consider a system where a queue is used to hold up heterogeneous tasks and there is a single machine taking care of processing. Now if some of these tasks are similar and have a high  set-up or preparation cost, for example downloading large metafiles, or spinning up a parallel infrastructure, or even setting up persistent connections with device farms, queuing them closer and processing them sequentially or in batch helps in reducing redundant processing and computation by promoting reuse.</p><p>考虑一个系统，在该系统中，队列用于容纳异构任务，并且只有一台机器负责处理。现在，如果其中一些任务相似并且设置或准备成本很高，例如下载大型图元文件，旋转并行基础架构，甚至建立与设备场的持久连接，将它们排队更近并按顺序处理它们，或者批量处理有助于促进重用，从而减少冗余处理和计算。</p><p>  By enqueuing elements in between Israeli Queues reduces redundant processing, but by doing that it makes itself vulnerable to the classical case of starvation. Elements stuck at the rear end of the list could potentially starve for longer durations if elements having &#34;friends&#34; in the queue keep coming in at high frequency.</p><p>  通过在“以色列队列”之间排队元素，可以减少冗余处理，但这样做会使自己容易遭受饥饿的经典情况。如果队列中有“朋友”的元素持续频繁进入，则卡在列表尾端的元素可能会饿死更长的时间。</p><p> The original implementation of Israeli Queues suggests batch processing where instead of processing tasks one at a time, it processes a batch (a group of friends) in one go. This proves to be super-handy when the time required to processes a single task is much lower than the set-up cost for it.</p><p> 以色列队列的原始实现建议批处理，而不是一次处理一个任务，而是一次处理一批（一组朋友）。当处理单个任务所需的时间远低于其设置成本时，这证明是超级方便的。</p><p>  The best way to implement Israeli Queues is by using a  Doubly Linked List with a bunch of pointers pointing to the head and tail of groups within it. Insertion to an existing group happens at the tail of it while if the element has no friend element, then it goes at the tail end of the list and forms its own group.</p><p>  实施“以色列队列”的最佳方法是使用“双链表”，该链表中有一堆指针指向其中的组的头和尾。插入到现有组的末尾是该元素的末尾，而如果该元素没有friend元素，则它会进入列表的末尾并形成自己的组。</p><p> A constraint that could be added during implementation is that the friend element should always be the leader (head) element of the group. Details of the implementation could be tweaked so long the core concept remains unaltered.</p><p> 在实现过程中可能添加的一个约束是，friend元素应始终是组的领导者（head）元素。只要核心概念保持不变，就可以对实现细节进行调整。</p><p>  Israeli Queues were the outcome of a problem statement dealing with Polling Systems. Polling System usually contains  N queues  Q1,  Q2, ...,  Qn where the processing unit visits each queue in cyclic order processing one element at a time i.e.  Q1,  Q2, ...,  Qn,  Q1,  Q2, ...,  Qn, etc.</p><p>  以色列队列是有关轮询系统的问题声明的结果。轮询系统通常包含N个队列Q1，Q2，...，Qn，其中处理单元以循环顺序访问每个队列，一次处理一个元素，即Q1，Q2，...，Qn，Q1，Q2，...， Qn等</p><p> When the server attends a queue instead of processing just one element from it, it processes the entire batch present in the queue utilizing the setup-cost efficiently assuming that time to process an element from a queue is much lesser than the set-up cost.</p><p> 当服务器出席队列而不是仅处理队列中的一个元素时，它假设设置队列中的元素所需的时间比设置成本要少得多，它会利用设置成本有效地处理队列中存在的整个批次。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://arpitbhayani.me/blogs/israeli-queues">https://arpitbhayani.me/blogs/israeli-queues</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/以色列/">#以色列</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/israeli/">#israeli</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/元素/">#元素</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>