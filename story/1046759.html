<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>PHP 8.1的新增功能 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">PHP 8.1的新增功能 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-30 03:07:15</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/1/91030ca9ae99d4fa6022dc5cffea6ed6.png"><img src="http://img2.diglog.com/img/2021/1/91030ca9ae99d4fa6022dc5cffea6ed6.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>PHP 8.1目前正在积极开发中，可能会在2021年11月下旬发布。我们已经知道一些功能，更改和不赞成使用的东西，因此让我们逐一介绍它们。</p><p> 您是否想了解有关PHP 8.1开发的最新信息？订阅我的时事通讯并偶尔收到更新：</p><p>  与每个版本一样，PHP 8.1添加了一些不错的新功能。请记住，该列表将在一年中增长。我还会列出尚未实现的功能，但很有可能最终使用该语言。我将确保始终标记这些功能。</p><p>  数组拆包已在PHP 7.4中允许，但仅适用于数字键。之前不支持字符串键的原因是，关于如何合并数组重复项没有共识。 RFC通过遵循array_merge的语义彻底解决了这个问题：</p><p> $ array1 = [＆＃34; a＆＃34; =＆gt; 1]; $ array2 = [＆＃34; b＆＃34; =＆gt; 2]; $ array = [＆＃34; a＆＃34; =＆gt; 0，... $ array1，... $ array2]; var_dump（$ array）; // [＆＃34; a＆＃34; =＆gt; 1，＆＃34; b＆＃34; =＆gt; 2]</p><p>  您可能不得不偶尔处理一下：确定数组的键是否从索引0开始按数字顺序。就像json_encode决定是将数组编码为数组还是对象一样。</p><p> PHP 8.1添加了一个内置函数来确定数组是否是具有这些语义的列表： </p><p>$ list = [＆＃34; a＆＃34 ;,＆＃34; b＆＃34 ;,＆＃34; c＆＃34;]; array_is_list（$ list）; // true $ notAList = [1 =＆gt; ＆＃34; a＆＃34;，2 =＆gt; ＆＃34; b＆＃34;，3 =＆gt; ＆＃34; c＆＃34;]; array_is_list（$ notAList）; // false $ alsoNotAList = [＆＃34; a＆＃34; =＆gt; ＆＃34; a＆＃34;，＆＃34; b＆＃34; =＆gt; ＆＃34; c＆＃34; =＆gt; ＆＃34; c＆＃34;]; array_is_list（$ alsoNotAList）; //错误</p><p>   现在，您可以使用0o和0O表示八进制数字。前面的表示法也可以使用以0开头的数字作为前缀。</p><p>    即使还没有投票，这个增加枚举的提议还是被热情地接受了。如果您不确定它们增加的价值，可以在这里阅读有关它们的信息。</p><p> 添加枚举将是PHP的重大改进，因此我非常期待看到此RFC进一步发展。为了让您快速预览它们的外观，下面是一个代码示例：</p><p>   class {public function（private Status $ status = Status :: Pending;）{} public function（Status $ status）：{//…}} $ post-＆gt; setStatus（Status :: Active）;</p><p>  虽然PHP 8.1是次要版本，但从技术上讲，会有一些更改可能是重大更改，并且不建议使用。让我们一一讨论。</p><p>  $ GLOBALS的用法稍作更改将对所有阵列操作的性能产生重大影响。 Nikita很好地解释了RFC中的问题和解决方案。该更改意味着$ GLOBALS无法再处理某些边缘情况。 ＆＃34;不再支持对$ GLOBALS进行整体写入。以下所有内容都会产生编译时错误＆＃34 ;： </p><p>Nikita分析了Packagist上排名前2000的软件包，仅发现23个受此更改影响的案例。 我们可以得出结论，此更改（从技术上来说是重大突破）的影响将很小，这就是内部人员决定在PHP 8.1中添加它的原因。 请记住，鉴于代码更改对代码性能的积极影响，我们大多数人都会从中获胜。  这项更改很简单：内部函数当前为不可为空的参数接受null，此RFC弃用了该行为。 例如，这目前是可能的：  在PHP 8.1中，这些类型的错误将引发弃用警告，在PHP 9中，它们将转换为类型错误。  到目前为止，请记住，我会在一年中定期更新此帖子，因此，如果您希望保持关注状态，请确保订阅。 您为PHP 8.1感到兴奋吗？ 在Twitter上告诉我！ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://stitcher.io/blog/new-in-php-81">https://stitcher.io/blog/new-in-php-81</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/新增/">#新增</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/php/">#php</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/更改/">#更改</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>