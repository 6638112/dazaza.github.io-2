<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>SOC2始发七 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">SOC2始发七 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-17 00:32:38</div><div class="page_narrow text-break page_content"><p>因此，您计划有一天将初创公司的产品出售给大公司。恭喜！</p><p> 确实，这可能是您应该关注本文的唯一原因。如果不是您，那就继续生活吧！我们将不再要求您更多的时间。</p><p> 对于其余的人：业内人士谈论很多SOC2，并且它处于准神秘状态，尤其是因为它是准神秘会计行业的产品。但是，归结为：最终您会遇到大公司客户，要求提供SOC2报告以完成销售。您知道这一点并担心它。</p><p> 这是我们将尝试提供的帮助：现在，您可以做七件事，这将简化SOC2，同时使您的生活（或至少是安全状况）立即得到改善。</p><p> 我们将紧追其后，将其列出来，然后深入解释。</p><p>  您将要注册Okta或Google Cloud Identity，将尽可能多的应用程序（第一方和第三方）绑定到其中，并强制执行2FA。</p><p>  您已经在执行此操作，但是请确保：锁定您的部署分支并要求PR批准才能合并到该分支，并且您将自动进行部署。 </p><p>您将选择带有警报的日志记录服务，并尽可能将其用于所有活动。</p><p>  您将使用Terraform之类的工具进行所有云配置，并将配置保留在Github中，并使用与代码相同的PR流程。</p><p>  您将设置CloudTrail日志，并要求您的团队使用AssumeRole来获取AWS配置中的任何有趣内容。</p><p>  您将选择一个MDM系统-可能是Jamf Pro-并将其安装在所有台式机和笔记本电脑上，然后使用它来确保每个人都拥有加密的磁盘和最新的补丁程序。</p><p>  您将开始跟踪您订阅，购买或安装在电子表格中的所有软件，并开始进行一些简单的风险跟踪。</p><p> 完成这七件事，然后编写一些基本的政策文档，您已经处于与SOC2认证或与之交谈或与之合作的公司的成熟水平上。由于这些都是您应做的事情，因此，最好在它们易于推广时尽早进行。我们已经完成了“改造单一登录”或“更改3年内收集所有日志的方式”的练习，这些都是可以避免的噩梦，因此请避免使用。</p><p>  现在，在我们深入探讨“七件事”之前，请先对SOC2进行一些思考。 </p><p>第一：对我们而言，SOC2与销售有关。您将遇到关于SOC2的其他想法的人。示例：“ SOC2将帮助您整顿安全机构并为安全工程奠定基础”。不。走到外面，转三圈然后吐。合规性是安全工程的副产品。好的安全工程与合规性无关。 SOC2并不是特别好。因此，请将概念分开。</p><p> 这不是获得SOC2认证的说明指南。不过，该指南的内容很简短：“找到$ 15,000，与您的获得认证的朋友交谈，介绍给最好的朋友，最好的朋友请给信誉好的审计师，然后提供他们的钱，也许是绑在Peter Gabriel的那把繁荣录音带上你在他们办公室外面高高举起”。</p><p> 如果对SOC2审核有什么了解，那就是：SOC2与文档有关，而不是现实。 SOC2审核由会计师而不是渗透测试人员执行。您将告诉您的审核团队您打算采取哪些安全措施。在萨满会计的仪式上，他们将呼吁本体的四个基本方向。他们会告诉您那些安全事项就可以了。然后，他们会根据您告诉他们您所做的事情，以某种神秘的方式为您提供52,000行的调查表，称为信息请求列表（IRL）。然后您将填写它。您将开会几次，然后给他们写一张支票。他们会将您的公司名称记录在报告中。</p><p> 我们已经接近可以为您提供一些实用的SOC2建议的地步，但是在我们可以提供之前，您还需要两个概念。</p><p> 看到，有两种类型的SOC2审核初创公司要经历：类型1和类型2。这两个审核的主题是相同的。不同之处在于类型1审核为您的公司设定了标准，而类型2审核则衡量了您对该标准的遵守程度。类型1审核是“简单”审核，也是许多初创企业最初关心的唯一审核。</p><p> 而且，有几个不同的SOC2审核“范围”。您应该关注“安全性”和“机密性”。无论您如何设置，SOC2审核都将涉及大量业务文档。我们不在乎这里的东西；我们是安全工程师，正在与其他工程师交谈。因此，我们将只关注安全细节；而且，无论如何，安全是您的大公司销售潜在客户在索要SOC2报告时所关心的。</p><p> 现在，提供一些实用建议：您的1类审核为以后的2类审核设置了一个标准。最终，您将在树林里遇到一个愤怒的熊，熊会暂缓您的试验项目采购订单，直到您生产出Type2。那天，如果您在Type 1中做一些事情来简化Type 2，您可能会更开心。 。在Type 1之后添加新的安全控件很容易。对于审核员来说，更多的控件越好。从类型1中删除安全控制并不是那么容易。审计员可能会问您为什么这样做。 </p><p>一个明显的结论是，在合理范围内，您应该考虑尽量减少选择要体现在Type 1中的安全控制。</p><p> 无论如何，如果您最终要使用SOC2，则有一种简单的方法来判断安全任务的ROI：您想要的东西（1）本身具有宝贵的价值，（2）您可以无限期地做的事情， （3）为IRL产生大量证据。</p><p>   设置Okta。将所有第三方应用程序链接到它。打开强制2FA。可以在许多应用程序上禁用非Okta登录。现在，编写简短的入职/离职脚本，并保留一个电子表格记录您已离职的人员。</p><p> 不必一定要Okta。它可以是GSuite，或者，如果您是贪食的glut嘴，甚至可以运行自己的Shibboleth实例。重要的是只有一个，并且已将尽可能多的应用程序链接到该应用程序。</p><p> 即使您未使用SOC2，我们也会告诉您执行此操作。您需要一个应用程序清单，一个用于禁止用户访问的位置以及一种在尽可能多的位置强制使用2FA的方法。另一种选择是疯狂。我们要求的每位CSO都将SSO排在前5名“他们在新公司要做的第一件事”。</p><p> 我们知道：这要花钱。 Okta将按用户向您收费。他们甚至可能为2FA收取更多费用。您的SAAS订阅将使您征税以要求SSO。真烦人但是这笔钱可能并不重要，您应该花掉它。</p><p> 关于它对SOC2为何重要：它可能会解决IRL中的许多“访问控制”行项目。而“访问控制”是大多数审核。您与审核员进行的大部分会议可能只是在Okta设置中进行，其中许多（例如密码锁定）是SSO默认情况下可以正确配置的事情。 </p><p>在Github中为您的主/部署分支启用保护分支。设置一个CI系统并通过它运行所有部署。要求对合并到生产中的PR进行审查。让您的配置项进行一些测试；对您的审核员进行哪种测试可能并不重要。</p><p> 我们甚至可能不需要告诉您这一点。大多数专业的工程车间就是这样运作的。但是，如果您是一个三人团队，请立即进行设置，而当您的团队如雨后春笋般建立新流程时，您不必担心。</p><p> 如果大多数SOC2安全审核与访问控制有关，则其余大部分与“变更管理”有关。解决变更管理的理智方法是将所有内容放入Github，然后使用Github功能。</p><p> 您可以在这里获得一个简单的奖励积分：编写一个简单的PR安全清单。 “如果PR涉及更改任何SQL查询，则需要额外的签署”是该清单可能包含的示例。或者，“如果此PR危险地调用SetInnerHTML，则进行额外审查”。现在核对清单的详细程度无关紧要；您只想开始该过程。您将（从自己的错误中）长期学习其中的内容。</p><p>  注册或设置集中式日志记录服务。没关系。用管道将所有日志发送到它。设置一些警报-再次，在此阶段，什么都无所谓；你只想增强肌肉。</p><p> 从长远来看，您的许多安全监视都将涉及日志压缩。如果您可以设置一个日志捕获警报，将其吐到Slack通道上，那么您想要构建的东西（例如客户欺诈检测）将变得简单得多。我觉得我不需要在集中式日志记录上出售任何人，但是，我在这里这样做。</p><p> 如果SOC2的大部分是访问控制，而其余的大部分是变更管理，则其余的大多数是“控制的监视”，而灵活的集中式日志记录系统将回答审计员要求的每个监视控制项关于。 </p><p>如果您有定期运行的控件检查并生成文件或某些JSON，则也可以将其放在S3中，然后打开版本控制。 Presto：化石记录。我们这样做是因为Latacora的许多控件，审核员似乎都喜欢它。您的政策是否表示您会每X次审核一次？太好了，有一个单独的CloudTrail，对S3读取事件的保留较少。</p><p>  我假设您正在使用AWS，但是您可以将其音译为GCP；这都一样。</p><p>  取而代之的是，使用Terraform部署所有内容（或使用有趣的孩子，但可能仍然只是Terraform）。显然，将您的Terraform配置保留在Github中。</p><p> 您希望所有基础结构更改都得到跟踪，记录和可重复。这就是为什么人们首先使用Terraform的原因。即使对于业余项目，Terraform还是值得的。有时会使您烦死；它使每个人都精疲力尽，他们仍然使用它，因为它比没有它要好。</p><p> 当然，我们在这里为SOC2做的是确保您的基础架构工作可以起草您的开发工作已经使用的访问控制和变更管理。</p><p>  打开CloudTrail。只能使用IAM帐户。最小化您直接授予用户的访问权限，并尽可能使用角色假设。用户将调用假定角色以获取可以在AWS中完成任何有意义的工作的AWS会话。</p><p> 现在，您具有用于AWS工程更改的审核日志，从某种意义上说，它表明工程师进行更改时的意图。您还可以通过一种简单的方法来查看每个工程师所拥有的权限。 </p><p>首先，设置多个AWS账户；将CloudTrail日志从您的子帐户供稿转换为您授予了受限访问权限的父帐户。上级帐户的作用不大，而且不太可能受到损害。子账户会做很多随机的事情，并且很可能会实际发生AWS妥协。您现在可以抵御妥协中可能发生的某些情况。</p><p> 其次，强制执行A​​WS MFA，并让您的工程团队使用aws-vault。 aws-vault将AWS凭证存储在您的操作系统钥匙串中，并根据需要从中触发新的会话。实际上，它比AWS“凭证”文件更易于使用，并且更加安全。</p><p> 老实说，您可能不必完成所有这些工作即可清除SOC2审核。我们已经看到了每个人都拥有AdministratorAccess清晰审核的组织，而没有任何问题。但这只是我们的主题：从一开始就对初创公司具有很高价值的事情，并且将解决审计师的问题。这些东西具有很高的投资回报率，您应该这样做。</p><p>  您可能都是Macbook。因此，请在所有笔记本电脑上安装Jamf Pro。使用它需要硬盘加密，并推出操作系统更新以及您提供的任何标准安全工具。</p><p> 与上一个项目（SOC2不需要）不同，它可能是这样。或更确切地说，类似的东西就是MDM（这就是Jamf），它是满足要求的最友好的方法。</p><p> 从安全性和合规性的角度来看，您需要一种在所有端点上都保持正确状态的方法。不用说，您的所有端点都由您的初创公司拥有，没有人使用他们的个人笔记本电脑来访问AWS或您的管理控制台。启动安全性工程的基本规则是，您希望减少因不舒服而可能要求员工个人设备的事后文件系统映像的情况。</p><p> 出于SOC2的目的，MDM将解决许多复杂的端点安全性问题。一个简单的例子：您的操作系统将具有基本的反恶意软件控件。 SOC2关心反恶意软件（这是SOC2知道的少数技术安全问题之一）。您宁愿通过记录Jamf如何配置每个人的操作系统以启用反恶意软件来解决审计人员的疑虑，而不是证明自己在所有台式机上都安装了令人讨厌的Mac AV程序。 </p><p>另一个好处是：标准化Chrome上的所有人。我们不必抱怨为什么；我们将观察到，几乎每个安全团队都会这样做。现在，您可以使用Jamf来清点您团队正在运行的所有Chrome扩展程序。此外，您不必担心浏览器漏洞。</p><p>   Vendorsec听起来很酷而且神秘，但是在游戏的这个阶段，这实际上只是引用要保留的电子表格的一种好方法。该电子表格将列出所有第三方应用程序-SAAS订阅，桌面应用程序，Chrome扩展程序以及您使用的几乎所有其他软件（软件开发库除外）。</p><p> 当您注册更多SAAS订阅时，开始要求提供安全性文档。有两个合理的要求：上一次公开渗透测试的报告和SOC2报告（SOC2具有传染性，就像GPL一样；您的审核员希望从您的供应商那里查看SOC2报告）。将它们收集在Google云端硬盘文件夹中。</p><p> 您想开始考虑如何审核供应商。例如：您可以提出有关Chrome扩展程序的一些基本规则； “如果要访问DOM，则必须在自己的Chrome个人资料中运行”。或对于桌面应用程序：“如果绑定了本地端口，则该端口必须包含在计算机的防火墙规则中”。这些都是好东西，您应该尽其所能。您稍后会感谢您。</p><p> 但是首先，您只想记录下来。审核员的IRL绝对会要求您提供有关您注册了哪些第三方应用程序以及您如何做出决定的证据。您的vendorec电子表格也将是“风险评估”中非常有价值的一部分，而“风险评估”本身只是一个很大的电子表格。</p><p>  您还可以尽早开始使用其他合理的安全工程技术，其中许多技术都可以在特别勤奋的SOC2审核中发挥良好的作用。例如：</p><p>  您可以将管理控制台放在VPN后面，将VPN链接到您的SSO系统，然后任何人都可以通过SSO来获得任何管理员权限。 </p><p>您可以开始跟踪Github为您提供的有关易受依赖项的警报。即使您运行受影响的组件，大多数也不适用于您；无论如何都要在电子表格中跟踪它们。进行一些空运行的基本映像更新。</p><p>  您可以进行第三方渗透测试。就审核员而言，任何测试都将算在内。您可以花更多的钱来进行评估，这实际上对您的团队很重要，并且可以找到真正的错误。</p><p>  您可以获得样板安全策略和员工手册（您的薪资提供者可能会给您手册）。大多数策略的细节无关紧要（拥有它们比精确调整它们更为重要），但是事件响应策略确实很重要；查看并自定义它。获取员工签署的政策和手册。</p><p>  每当发生任何与安全性相关的事件时，您都可以为事件指定一个专用的Slack频道。最常见的事件是“员工丢失电话”之类的，而响应则“无关紧要，因为电话已加密，访问被撤销且日志已被审查”。</p><p>  您可以开始举行每月一次的会议，将其记录在电子表格中，或者查看每个人对事物的访问权限（希望这只是您的SSO配置和IAM角色权限的一部分）。</p><p> 这些都是好东西，可能会对您的审核有所帮助（不过请记住，不要为自己不想在明年清除的门槛设下标准）。但是，您不必为了获得Type 1报告而做所有这些事情。</p><p>  您可以做一些安全的事情，但是对SOC2根本不重要。在有意义的时候去做。不要这样做，因为您认为必须这样做才能获得SOC2。 </p><p>SSH CA：聪明的孩子使用CA而不是临时的SSH密钥对来控制对服务器的访问。这会产生证据，展示控制权并简化工程流程。 SSH CA非常棒。但是几乎每个SOC2公司都没有一家。</p><p> 面向客户的安全功能：有意义的是，适用于所有客户的MFA是一项很棒的功能，但审计人员可能不太喜欢它。</p><p> 主机强化：您应该强化主机，设置审核或EBPF性能事件，并调整seccomp-bpf配置文件。但是当您尝试解释这些内容时，审计人员甚至都不知道您在说什么。</p><p> 流日志：AWS将为您提供实例之间所有流量的细粒度连接日志。他们花钱。如果您有针对这些日志的实际计划，以使它们对您有实际帮助，请启用它们。但是审计师并不知道流程是什么。</p><p>  安全工程方面有些问题，例如资本家和共产主义者，以及他们听说过的许多事情，您的SOC2审核员可能会提出来。</p><p> 这里值得记住的是SOC2的基本概念：您将告诉审计人员所做的安全性工作。他们将制定一项神圣的仪式，在有风的荒地上用牛皮纸书写在血腥的地方，库珀第一次见到Lybrand，然后给您一份调查表以供填写。当您的审计师询问这些事情或将其放入IRL时，您可以说“我们不做那件事，这就是原因”。您对安全工程的了解远胜于他们。</p><p>  IDS / IPS：请勿安装IDS。您有日志，MDM和安全组，它们生成的证据将满足此关注。 AWS GuardDuty的定价是荒谬的，但是，如果情况变得更糟，如果有人抱怨，它将着重满足这一要求。您的SOC2审核员可能不会，但是一些富裕的《财富》 500强合规人员会。或者，使用草率的启动版本：类似StreamAlert的东西：便宜得多，交钥匙要少得多，而且预算花少的审核人员无法将两者区分开。无论哪种方式：都不是SOC2的优先级。 </p><p>防火墙：您在AWS中； 它是内置的，在通常情况下，可能已经拒绝默认设置。  Web应用程序防火墙：大多数SOC2公司不使用它们，大多数WAF根本不起作用。  Endpoint Protection和AV：您已经拥有MDM和macOS / Windows完整的安全功能补充，并且可以强制启用这些功能。 AV软件是一场噩梦； 尽你所能避免。  防止数据丢失：您可以将生产数据保留在生产环境中，并记录其遗留的情况。 因此，与拥有昂贵DLP工具的财富500强公司相比，您拥有更好的DLP。 DLP工具太糟糕了； 避免他们。  威胁管理工具：大多数告诉您威胁源对于SOC2至关重要的人都在出售威胁源。 其余大多数都在合理化他们购买的威胁工具。 让那成为他们的问题。  风险管理  ...... </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://latacora.micro.blog/">https://latacora.micro.blog/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/soc2/">#soc2</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>