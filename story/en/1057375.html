<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Linux BPF VM中的漏洞允许任何本地用户运行内核级代码 Vulnerabilities in the Linux BPF VM Lets Any Local User Run Kernel-Level Code</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Vulnerabilities in the Linux BPF VM Lets Any Local User Run Kernel-Level Code<br/>Linux BPF VM中的漏洞允许任何本地用户运行内核级代码 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-04-10 04:38:21</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/4/f304e711065a4d0665c18060845163cf.jpg"><img src="http://img2.diglog.com/img/2021/4/f304e711065a4d0665c18060845163cf.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Jump to navigation Jump to search A new Linux kernel vulnerability identified as CVE-2021-29154 allows regular unprivileged system users on any modern GNU/Linux users to run code in kernel-mode. Proof of concept exploit code exists. The vulnerability is present up to and including Linux 5.11.12, the Linux kernel developers have yet to release a safe version. A patch and workarounds do exist.</p><p>跳转到导航跳转以搜索识别为CVE-2021-29154的新Linux内核漏洞，允许任何现代GNU / Linux用户在内核模式下运行代码的常规未经特权的系统用户。概念漏洞验证的验证存在。该漏洞最多可包含Linux 5.11.12，Linux内核开发人员尚未发布安全版本。确实存在补丁和解决方法。</p><p>   The Linux kernel has a built-in virtual machine called the  extended Berkeley Packet Filter (eBPF). It was primarily intended for firewall-related purposes, but it has become much more than that. It is, in essence, a simple general-purpose virtual machine within the Linux kernel.</p><p>   Linux内核具有一个内置虚拟机，称为扩展伯克利数据包过滤器（EBPF）。它主要用于防火墙相关的目的，但它已经变得远远不止于此。本质上是Linux内核中的简单通用虚拟机。</p><p> It turns out that the Linux kernels eBPF virtual machine can be tricked into running code it shouldn&#39;t due to the way BPF JIT compilers for some architectures compute branch displacements when generating machine code. It is possible to create specially crafted machine code that is executed in kernel mode, thus allowing attackers to execute all sorts of malicious code  in kernel mode.</p><p> 事实证明，Linux内核eBPF虚拟机可以欺骗到运行代码，它不应＆＃39; t由于某些架构的BPF JIT编译器的方式，在生成机器代码时计算分支位移。可以在内核模式下创建专门制作的机器代码，从而允许攻击者在内核模式下执行各种恶意代码。</p><p> Piotr Krysiuk has developed Proof Of Concept exploit code and two loophole-closing patches for the Linux kernels BPF sub-system ( patch1,  patch2). The PoC code is not yet publicly available. The vulnerability is assigned CVE number  CVE-2021-29154.</p><p> Piotr Krysiuk已开发出概念的证明，用于Linux内核BPF子系统（Patch1，Patch2）的两个漏洞关闭补丁。 PoC代码尚未公开可用。该漏洞已分配CVE号码CVE-2021-29154。</p><p>     The first of these workarounds disable the BPF JIT engine. The second disables unprivileged access to the bpf () syscall entirely. No access, no problem.</p><p>     这些解决方法中的第一个禁用了BPF JIT引擎。第二个禁用完全对BPF（）SYSCALL的无特势率访问。没有访问，没问题。</p><p> The Linux kernel developers have yet to release new updated Linux versions without this vulnerability. The latest Linux 5.11.12 kernel  is vulnerable. We recommend that administers of systems  where random users have access disable BPF for regular users  unless it is actually needed for some reason. It&#39;s likely not. Regular hobbyist users should do the same, though there is far less reason to worry or care if you are a Linux desktop user and you are the only one with a user-account on your machine.</p><p> Linux内核开发人员尚未在此漏洞中发布新更新的Linux版本。最新的Linux 5.11.12内核很脆弱。我们建议管理随机用户对常规用户访问禁用BPF的系统，除非实际需要某种原因。它可能没有。常规爱好者用户应该这样做，但如果您是Linux桌面用户，则担心或关心的理由较少，并且您是您的计算机上唯一的用户帐户。</p><p>  LinuxReviews welcomes  all comments. If you do not want to be anonymous,  register or  log in. It is free.</p><p>  Linuxreviews欢迎所有评论。如果您不想成为匿名，注册或登录。它是免费的。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://linuxreviews.org/Vulnerabilities_In_The_Linux_Kernels_BPF_Virtual_Machine_Lets_Any_Local_User_Run_Kernel-Level_Code">https://linuxreviews.org/Vulnerabilities_In_The_Linux_Kernels_BPF_Virtual_Machine_Lets_Any_Local_User_Run_Kernel-Level_Code</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/代码/">#代码</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/漏洞/">#漏洞</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/bpf/">#bpf</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/level/">#level</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>