<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>UXN是8位虚拟堆栈计算机 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">UXN是8位虚拟堆栈计算机 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-02-25 14:52:47</div><div class="page_narrow text-break page_content"><p>该项目的目标是创建一个能够托管各种工具和游戏的便携式虚拟机。它的设计最多应具有6502的复杂性，并且其汇编语言应易于阅读，并允许创建鼠标和键盘驱动的应用程序。 Uxn项目的分发应该类似于为控制台模拟器下载rom。</p><p> 薄层是＆＃34; Uxn仿真器＆＃34;应该是该项目中唯一需要移植的部分，以使该设备可在任何新平台上使用。因此，Uxn的设计必须注重可移植性，以便它欢迎任何人尝试构建自己的实现。当前的仿真器是仅依靠SDL2的400线C89。</p><p> 虽然目的是分发汇编的二进制文件，但要尊重工具生态系统的原理，但汇编源应与rom一起打包。与仿真器类似，汇编器的实现应极其简化，以免妨碍重新实现。 C89汇编器也是400行，没有依赖性。</p><p> 状态寄存器的分布如下，它与寄存器选择器共享相同的字节。 BRK指令使用停止标志来停止cpu，short标志用于16个操作，当一条指令需要非零堆栈值进行操作时，将设置cond标志，而当操作员需要操作符时，将设置符号标志应该使用带符号的整数。</p><p> T C S H | | | + ----停止0x01 | | + ------短0x02 | + --------符号0x04 + ----------导线0x08</p><p>  存储器末尾的地址用于将各种入口点保留在程序中。复位向量运行一次，每帧运行一次帧向量，并且在发生错误时运行一次错误向量。</p><p>   CPU可以隧穿128个子例程，并通过返回堆栈找到返回的路径，跳转到子例程的操作码是JSR，从子例程返回的操作码是RTS。工作堆栈上的项目可以通过WSR临时发送到返回堆栈，并通过RSW返回。 Uxn会自动保留从一个堆栈移动到另一个堆栈的项目计数，如果尝试返回或转移到所有已返回的项目之前跳转到子例程，程序将停止。 </p><p>有32个操作码，每个操作码占用一个字节的5位，其余3位用于选择堆栈中值的寻址模式。</p><p>  指向存储器中地址的操作码一次从堆栈中拉出16位，并且表示为[a b]，其中a和b字节组合成一个短字节。例如，[0xAB 0xCD]指向存储器地址0xABCD。</p><p>     （hello world）：dev / w fff9（常量写入端口）| 0100 @RESET＃00 = dev / w（将dev / write设置为控制台），text1，print-label JSR（打印至控制台）BRK @ print-label（文本）@cliloop DUP2 LDR IOW（向控制台写入指针值）＃0001 ADD2（增量字符串指针）DUP2 LDR＃00 NEQ，cliloop ROT JMP吗？ POP2（而* ptr！= 0转到循环）POP2 RTS @ text1 [Hello World]＆lt; 1 .00（将文本添加到内存，返回1个字节，添加空字节）| c000 @FRAME | d000 @ERROR | FFF0 [f3f0 [f30b f30a]（调色板）| FFFA.RESET.FRAME.ERROR</p><p>  每个操作为1字节（8位）。为了区分数字运算和运算，LIT操作码将文字模式切换为1个评估长度，而16位模式LIT2操作码将文字模式切换为2帧长度。</p><p>   通过使用SHORT2模式，可以一次以16位（2字节）使用操作。</p><p>   每个操作都有可能使用COND有条件地进行操作吗？模式，在下面的分支示例中，如果第一个值大于第二个值，则将值0xff添加到堆栈中，否则将添加0xee。</p><p> ROT用于将GTH的结果带到堆栈的顶部，有条件的JMP之后使用POP2除去堆栈上剩余的标签@那里的地址。 </p><p>＃06＃05 GTH，有ROT JMP吗？ POP2 @ here（小于或等于）#ee BRK @ there（大于或等于）#ff BRK  最多有256个设备可供两个I / 0运算符IOR（读取）和IOW（写入）访问，这些I / 0运算符用于与设备（例如屏幕，鼠标，键盘等）进行接口连接。 在设备中，必须在存储器中分配输入端口（fff8）和输出端口（fff9）字节。  屏幕一次支持4种颜色，这些颜色在特殊地址fff0-fff5中定义。  通过发送内存地址，位置和颜色字节，Uxn的sprite设备可以更轻松地将字符和图标绘制到屏幕上。  Sprite设备的颜色字节定义了要绘制的图层，要绘制的数据类型以及要使用的颜色。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://wiki.xxiivv.com/site/uxn.html">https://wiki.xxiivv.com/site/uxn.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/虚拟/">#虚拟</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/bit/">#bit</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/堆栈/">#堆栈</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1040026.html"><img src="http://img2.diglog.com/img/2020/12/thumb_fb74bcd5338211b1506cfe360afb1b73.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1040026.html">许多学生说，他们发现今年的虚拟校园招聘会在技术上具有挑战性，但比面对面举办的活动更令人生畏，效率更高 </a></div><span class="my_story_list_date">2020-12-16 16:54</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037340.html"><img src="http://img2.diglog.com/img/2020/12/thumb_b5626ce6f295be8dc038ab89607858f5.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037340.html">Salut为其虚拟健身服务筹集了125万美元</a></div><span class="my_story_list_date">2020-12-1 1:18</span></div><div class="col-sm"><div><a target="_blank" href="/story/1029210.html"><img src="http://img2.diglog.com/img/2020/10/thumb_5925304013ff78f764557c09dd8e821a.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1029210.html">奇点近在咫尺：库兹韦尔的预测结果如何</a></div><span class="my_story_list_date">2020-10-16 19:50</span></div><div class="col-sm"><div><a target="_blank" href="/story/1027152.html"><img src="http://img2.diglog.com/img/2020/9/thumb_c8f0852c7bc8754dd63f271cbd3bbef8.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1027152.html">
亚马逊推出虚拟旅游和体验平台，Amazon Explore</a></div><span class="my_story_list_date">2020-9-30 6:8</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>