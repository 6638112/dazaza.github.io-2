<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>当咖啡机索要赎金时，你知道万物互联就完蛋了</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">当咖啡机索要赎金时，你知道万物互联就完蛋了</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-09-26 23:37:22</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/9/55a643a7204971ca78b7b4250bbb901d.jpg"><img src="http://img2.diglog.com/img/2020/9/55a643a7204971ca78b7b4250bbb901d.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>有了Smarter这个名字，你可能会认为一家联网厨房电器制造商会比销售传统电器的公司更聪明。但就Smarter的物联网咖啡机而言，你就大错特错了。</p><p>作为一项思维实验，安全公司Avast的研究员马丁·赫伦(Martin Hron)对其中一台价值250美元的设备进行了反向工程，看看他能做什么类型的黑客攻击。经过短短一周的努力，毫无保留的回答是：相当多。具体地说，他可以触发咖啡机打开燃烧器，分配水，旋转磨豆机，并显示赎金信息，所有这些都是在重复嘟嘟声的同时进行的。哦，顺便说一下，阻止混乱的唯一方法就是拔掉电源线。就像这样：</p><p>“这是有可能的，”Hron在接受采访时说。“这样做是为了指出，这种情况确实发生了，也可能发生在其他物联网设备上。这是开箱即用问题的一个很好的例子。您不必配置任何内容。通常情况下，供应商不会考虑这一点。“。</p><p>当Hron第一次插入他的Smarter咖啡机时，他发现它立即充当了Wi-Fi接入点，使用不安全的连接与智能手机应用程序通信。反过来，这款应用程序用于配置设备，如果用户选择，还可以将其连接到家庭Wi-Fi网络。在没有加密的情况下，研究人员毫不费力地了解了手机是如何控制咖啡机的，而且由于也没有身份验证，流氓手机应用程序可能会做同样的事情。</p><p>这种能力仍然只给赫伦留下了一个很小的命令菜单，没有一个是特别有害的。因此，他随后检查了咖啡机用来接收固件更新的机制。事实证明，它们是从手机收到的-你猜到了-没有加密，没有身份验证，也没有代码签名。</p><p>这些明显的疏漏恰恰创造了赫伦所需要的机会。由于最新的固件版本存储在Android应用程序中，他可以将其下载到计算机上，并使用软件分析、调试和反汇编程序IDA进行反向工程，IDA是反向工程师最好的朋友之一。几乎立刻，他就找到了人类可读的字符串。</p><p>“从这一点，我们可以推断没有加密，固件很可能是直接上传到咖啡机闪存中的‘明文’图像，”他在这篇概述黑客攻击的详细博客中写道。</p><p>要真正地反汇编固件-也就是说，要将二进制代码转换成与硬件通信的底层汇编语言，Hron必须知道咖啡机使用的CPU是什么。这需要他拆开设备内部，找到电路板，并识别芯片。下面两张图片显示了他的发现：</p><p>有了拆卸固件的能力，这些部件就开始组装在一起了。Hron能够反转最重要的功能，包括检查燃烧器上是否有瓶子的功能，使设备发出嘟嘟声，以及-最重要的-安装更新。以下是咖啡机主要部件的框图：</p><p>Hron最终获得了足够的信息来编写一个模仿更新过程的python脚本。使用稍加修改的固件版本，他发现它可以工作。这是他的某种“你好世界”：</p><p>“最初，我们想证明这个设备可以挖掘加密货币，”Hron写道。“考虑到CPU和架构，这当然是可行的，但在8 MHz的速度下，这没有任何意义，因为这样的矿工的产值可以忽略不计。”</p><p>因此，研究人员选择了其他东西-一台机器，如果主人希望它不再像视频中显示的那样发生惊人的故障，它会收取赎金。得益于硅中一些未使用的存储空间，Hron增加了几行代码，这些代码引起了所有的骚动。</p><p>“我们认为这足以吓坏任何用户，让它成为一种非常有压力的体验。此时，用户唯一能做的就是从电源插座上拔下咖啡机插头。“。</p><p>一旦有效的更新脚本和修改后的固件被编写并加载到Android手机上(iOS会更难，如果不是因为它的封闭性而令人望而却步)，有几种方法可以实施攻击。最简单的方法是在Wi-Fi覆盖范围内找到易受攻击的咖啡机。如果设备没有配置为连接到Wi-Fi网络，这就像查找咖啡机广播的SSID一样简单。</p><p>一旦设备连接到家庭网络，配置咖啡机和启动任何更新所需的此临时SSID将不再可用。绕过此限制的最直接方法是，如果攻击者知道给定网络上正在使用咖啡机。然后，攻击者会向网络发送一个解除授权数据包，这将导致咖啡机断开连接。一旦发生这种情况，设备将再次开始广播临时SSID，使攻击者可以自由地使用恶意固件更新设备。</p><p>此矢量的一个更具机会主义色彩的变体是向Wi-Fi范围内的每个SSID发送取消授权数据包，然后等待是否出现任何临时广播(SSID始终为“Smarter Coffee：xx”，其中xx与设备MAC地址的最低字节相同)。</p><p>对许多人来说，这种攻击的局限性是，只有当攻击者可以找到易受攻击的咖啡机，并且在它的Wi-Fi范围内时，它才会起作用。Hron说，解决这一问题的一种方法是侵入Wi-Fi路由器，并将其用作攻击咖啡机的滩头阵地。这种攻击可以远程进行，但如果攻击者已经破坏了路由器，则网络所有者需要担心的事情比故障的咖啡机更糟糕。</p><p>无论如何，Hron说赎金袭击只是攻击者可以做的事情的开始。他认为，通过更多的工作，攻击者可以编程咖啡机-可能还有Smarter制造的其他设备-来攻击连接到同一网络的路由器、计算机或其他设备。攻击者很可能可以在没有任何明显迹象的情况下做到这一点。</p><p>由于这些限制，这次黑客攻击并不代表真正或直接的威胁，尽管对一些人(包括我自己)来说，这足以让我远离Smarter产品，至少只要当前的型号(Hron使用的是较旧的)不使用加密、身份验证或代码签名。公司代表没有立即回复询问的消息。</p><p>相反，正如这篇文章的顶部指出的那样，黑客攻击是一次思想实验，旨在探索咖啡机、冰箱和所有其他家用设备都连接到互联网的世界中的可能性。这里被黑客攻击的咖啡机有一个有趣的地方，那就是它不再有资格接收固件更新，所以用户对Hron发现的弱点无能为力。</p><p>此外，此案例还展示了现代物联网设备最令人担忧的问题之一：“典型冰箱的寿命是17年，您认为供应商会为其智能功能支持软件多久？”当然，即使它不再获得更新，你也可以使用它，但随着物联网爆炸的速度和糟糕的支持态度，我们正在创造一支被遗弃的易受攻击的设备大军，这些设备可能被滥用于邪恶的目的，如网络入侵、数据泄露、勒索软件攻击和DDoS。</p><p>还有一个问题是知道如何应对物联网爆炸。假设你有一个物联网小工具，很容易让人认为，呃，更明智的做法是根本不把设备连接到互联网上，让它像正常的、非联网的设备一样运行。</p><p>但就这里的咖啡机而言，这实际上会使您更容易受到攻击，因为它只会广播即席SSID，这样做可以为黑客省去几个步骤。除了使用老式咖啡机，更好的方法是将设备连接到虚拟局域网，这意味着与通常使用的SSID是分开的。</p><p>上面链接的Hron的文章提供了4000多字的丰富细节，其中许多太过技术性，无法在这里记录下来。构建物联网设备的任何人都应该阅读该文档。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://arstechnica.com/information-technology/2020/09/how-a-hacker-turned-a-250-coffee-maker-into-ransom-machine/">https://arstechnica.com/information-technology/2020/09/how-a-hacker-turned-a-250-coffee-maker-into-ransom-machine/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/互联/">#互联</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/makers/">#makers</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/咖啡机/">#咖啡机</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>