<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Android 13虚拟化黑客在Android上的虚拟机上运行Windows（和Doom）Android 13 Virtualization Hack Runs Windows (and Doom) In a VM On Android</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Android 13 Virtualization Hack Runs Windows (and Doom) In a VM On Android<br/>Android 13虚拟化黑客在Android上的虚拟机上运行Windows（和Doom）</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2022-02-22 10:04:18</div><div class="page_narrow text-break page_content"><p>Here&#39;s a fun new feature of  Android 13: working virtualization support. Google is building virtualization into Android for its own reasons, but Android developer  kdrag0n has commandeered the feature to boot ARM  Windows 11 and desktop  Linux. The developer even got the Windows version of   Doom running, all inside a VM on the Pixel 6.</p><p>这里&#39；这是安卓13的一个有趣的新功能：工作虚拟化支持。谷歌出于自身原因正在Android中构建虚拟化，但Android开发者kdrag0n已征用该功能来启动ARM Windows 11和桌面Linux。开发人员甚至让Windows版本的Doom运行，都在Pixel 6上的虚拟机中。</p><p> kdrag0n says that Android 13 has &#34;full KVM functionality&#34; at &#34;near-native performance.&#34; You need root to enable the functionality, which doesn&#39;t support GPU acceleration. The functionality also doesn&#39;t support nested virtualization, so while you can now run  Android on Windows and Windows on Android, making an infinitely nested OS turducken is out of the question.</p><p>kdrag0n说Android 13有&#34；完整的KVM功能&#34；34岁；近乎本土的表演&#34; 您需要root才能启用该功能，这不会&#39；不支持GPU加速。该功能也没有&#39；我们不支持嵌套虚拟化，所以虽然现在你可以在Windows上运行Android，在Android上运行Windows，但制作一个无限嵌套的操作系统turducken是不可能的。</p><p> This makes for a neat demo that&#39;s not at all what Google wants to do with Android&#39;s upcoming VM support. Esper&#39;s  Mishaal Rahman has been meticulously tracking Android&#39;s virtualization progress for some time now, and the apparent plan is to someday (maybe in Android 13) use virtual machines as a security and privacy sandbox for various features. Imagine instead of processing sensitive data at the normal app permission level, the data could be processed in a separate OS, so any attackers would have to break through the app security model, then Android, then the hypervisor, then this other, private OS.</p><p>这是一个简洁的演示&#39；这根本不是谷歌想用Android做的事；这是即将到来的虚拟机支持。埃斯珀和#39；s Mishaal Rahman一直在仔细追踪Android&#39；s的虚拟化进程已经持续了一段时间，而显而易见的计划是有朝一日（可能在Android 13中）将虚拟机用作各种功能的安全和隐私沙箱。想象一下，不需要在正常的应用程序权限级别处理敏感数据，数据可以在单独的操作系统中处理，因此任何攻击者都必须突破应用程序安全模型，然后是Android，然后是虚拟机监控程序，然后是另一个私有操作系统。</p><p> Yes, it runs Doom (connecting to the phone&#39;s Windows VM from my computer for keyboard input)  pic.twitter.com/6PORUnJk8m</p><p>是的，它运行Doom（从我的电脑连接到手机的Windows虚拟机进行键盘输入）pic。啁啾com/6PORUnJk8m</p><p> The first part of Google&#39;s virtualization work is standardizing the Linux kernel shipped with an Android device. Today, the kernel on Android is Android&#39;s usual story of fragmentation, with every individual phone model shipping a custom version of the Linux kernel loaded with specific changes and drives. Kernels basically never get updated, and it&#39;s very hard to roll out any virtualization features at an OS level when literally 10,000+ different Android kernels are out there. Google&#39;s plan to standardize the Linux kernel is called  the &#34;GKI&#34; or &#34;Generic Kernel Image.&#34;</p><p>谷歌的第一部分&#39；s的虚拟化工作是标准化Android设备附带的Linux内核。如今，Android上的内核是Android&#39；这是一个常见的碎片化故事，每个手机型号都会提供一个定制版本的Linux内核，其中加载了特定的更改和驱动器。内核基本上永远不会更新，而且它&#39；当有超过10000个不同的Android内核时，很难在操作系统级别推出任何虚拟化功能。谷歌&#39；s将Linux内核标准化的计划称为&#34；GKI和#34；或&#34；通用内核映像&#34;</p><p>    The Generic Kernel is the Android kernel with as few changes as possible, and any manufacturer changes or hardware support is done via a module system. Now the main kernel is standardized and has a known set of features. One day, the kernal may even be updatable. The GKI is shipping first on the Pixel 6, which is why the Pixel 6 is the first (and so far only) Android phone that can do this.</p><p>通用内核是安卓内核，改动尽可能少，任何制造商的改动或硬件支持都是通过模块系统完成的。现在，主内核已经标准化，并具有一组已知的功能。有一天，内核甚至可能是可更新的。GKI率先推出Pixel 6，这就是为什么Pixel 6是第一款（也是迄今为止唯一一款）能够做到这一点的Android手机。</p><p>  Google is adopting the Linux kernel&#39;s KVM and Chrome OS&#39;s virtual machine manager, crosvm. The company is also building a headless, stripped-down version of Android to run in a VM.</p><p>谷歌正在采用Linux内核#39；s KVM和Chrome操作系统&#39；s虚拟机管理器，crosvm。该公司还正在打造一款无头、精简版的安卓系统，以便在虚拟机上运行。</p><p> Previously, this tiny OS was thought to go by the name &#34;Microdroid,&#34; but that moniker just seems to be a label in Google&#39;s VM software. The more accurate name appears to be &#34;CompOS,&#34; as in an OS meant for performing isolated compilation. All of this code will eventually be shipped to every Android phone via a new &#34;virt&#34;  Mainline module.</p><p>此前，人们认为这个微型操作系统的名字是&#34；微型机器人&34；但这个名字似乎只是谷歌的一个标签&#39；s虚拟机软件。更准确的名字似乎是&#34；康波斯和#34；在一个用于执行独立编译的操作系统中。所有这些代码最终将通过新的&#34；维特&#34；主线模块。</p><p> Google imagines running the main Android distribution and the protected VM on the device hypervisor, making the VM data a whole extra level of private and secure from even the most restrictive Android settings. For starters, Google wants to use it as a replacement for ARM&#39;s TrustZone (running things like DRM) and cryptography work. Google wants to get rid of TrustZone because TrustZone is full of highly-privileged, third-party proprietary code, and because TrustZone is slow. With a faster secure environment to do work in, Google could start doing more time-sensitive tasks like voice recognition in one of these private VMs. So far, the company seems like it&#39;s making progress!</p><p>谷歌设想在设备管理程序上运行主要的安卓发行版和受保护的虚拟机，使虚拟机数据具有更高级别的私密性和安全性，即使是最严格的安卓设置。首先，谷歌想用它取代ARM&#39；s TrustZone（运行DRM之类的东西）和密码工作。谷歌想要摆脱TrustZone，因为TrustZone充满了高度特权的第三方专有代码，而且TrustZone运行缓慢。有了一个更快的安全环境，谷歌可以开始在其中一个私人虚拟机上执行更具时间敏感性的任务，比如语音识别。到目前为止，该公司似乎是&#39；他正在进步！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/黑客/">#黑客</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/android/">#android</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/虚拟机/">#虚拟机</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/虚拟化/">#虚拟化</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>