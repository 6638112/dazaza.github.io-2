<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Docker中的全栈但简单的邮件服务器（SMTP，IMAP，反垃圾邮件，防病毒..）A fullstack but simple mail server (SMTP, IMAP, Antispam, Antivirus..) in Docker</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">A fullstack but simple mail server (SMTP, IMAP, Antispam, Antivirus..) in Docker<br/>Docker中的全栈但简单的邮件服务器（SMTP，IMAP，反垃圾邮件，防病毒..）</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-23 00:16:49</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/f5529251005900f0f2eaa3cb45ec233c.jpeg"><img src="http://img2.diglog.com/img/2020/11/f5529251005900f0f2eaa3cb45ec233c.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>A fullstack but simple mail server (SMTP, IMAP, Antispam, Antivirus...).Only configuration files, no SQL database. Keep it simple and versioned.Easy to deploy and upgrade.</p><p>完整但简单的邮件服务器（SMTP，IMAP，反垃圾邮件，防病毒...）。仅配置文件，无SQL数据库。保持简单和版本化。易于部署和升级。</p><p>    Since version  v7.1.0, the use of default variables has changed slightly. Please consult the  environment Variables sections</p><p>    从v7.1.0版本开始，默认变量的使用已略有更改。请查阅环境变量部分</p><p>  Dovecot for SASL, IMAP (and optional POP3) with SSL support, with LDAP auth, Sieve and  quotas</p><p>  具有SSL支持，LDAP身份验证，筛选和配额的Dovecot for SASL，IMAP（和可选的POP3）</p><p>                 Plus addressing (a.k.a.  extension delimiters)works out of the box: email for  you+extension@example.com go to  you@example.com</p><p>                 加上地址（也就是扩展名分隔符）可以直接使用：给您的电子邮件+extension@example.com转到you@example.com</p><p>  Before opening an issue, please have a look this  README, the  Wiki and the Postfix/Dovecot documentation.</p><p>  在打开问题之前，请查看此自述文件，Wiki和Postfix / Dovecot文档。</p><p>       Note: You&#39;ll need to deactivate some services like ClamAV to be able to run on a host with 512MB of RAM. Even with 1G RAM you may run into problems without swap, see  FAQ.</p><p>       注意：您需要停用某些服务，例如ClamAV才能在具有512MB RAM的主机上运行。即使使用1G RAM，您也可能在没有交换的情况下遇到问题，请参阅FAQ。</p><p>       Note: Variables in  .env are expanded in the  docker-compose.yml file  only and  not in the container. The file  mailserver.env serves this case where environment variables are used in the container.</p><p>       注意：.env中的变量仅在docker-compose.yml文件中扩展，而不在容器中扩展。在容器中使用环境变量的情况下，文件mailserver.env用于这种情况。</p><p> Note: If you want to use a bare domain (host name equals domain name) see  FAQ.</p><p>注意：如果要使用裸域（主机名等于域名），请参阅FAQ。</p><p>     Edit the files  .env and  docker-compose.yml. In  .env uncomment the variable  SELINUX_LABEL. If you want the volume bind mount to be shared among other containers switch  -Z to  -z. In  docker-compose.yml, uncomment the line that contains  ${SELINUX_LABEL} and comment out or remove the line above.</p><p>     编辑文件.env和docker-compose.yml。在.env中，取消注释变量SELINUX_LABEL。如果要在其他容器之间共享卷绑定安装，请将-Z切换为-z。在docker-compose.yml中，取消注释包含$ {SELINUX_LABEL}的行，并注释掉或删除上面的行。</p><p> Note: When using  setup.sh use the option  -z or  -Z. This should match the value of  SELINUX_LABEL in the  .env file. See the  wiki for more information regarding  setup.sh.</p><p> 注意：使用setup.sh时，请使用选项-z或-Z。该值应与.env文件中SELINUX_LABEL的值匹配。请参阅Wiki，以获取有关setup.sh的更多信息。</p><p>   Now that the keys are generated, you can configure your DNS server by just pasting the content of  config/opendkim/keys/domain.tld/mail.txt in your  domain.tld.hosts zone.</p><p>   现在已经生成了密钥，您只需将config / opendkim / keys / domain.tld / mail.txt的内容粘贴到domain.tld.hosts区域中即可配置DNS服务器。</p><p>    You&#39;re done! And don&#39;t forget to have a look at the remaining functions of the  setup.sh script with  ./setup.sh -h.</p><p>    你完成了！并且不要忘记使用./setup.sh -h来查看setup.sh脚本的其余功能。</p><p>  If you got any problems with SPF and/or forwarding mails, give  SRS a try. You enable SRS by setting  ENABLE_SRS=1. See the variable description for further information.</p><p>  如果您在SPF和/或转发邮件方面遇到任何问题，请尝试SRS。您可以通过设置ENABLE_SRS = 1来启用SRS。有关更多信息，请参见变量描述。</p><p>   A connection  may be secured over TLS when both ends support  STARTTLS. On ports 110, 143 and 587,  docker-mailserver will reject a connection that cannot be secured. Port 25 is  required to support insecure connections.</p><p>   当两端都支持STARTTLS时，可以通过TLS保护连接。在端口110、143和587上，docker-mailserver将拒绝无法保护的连接。需要端口25支持不安全的连接。</p><p> Receives email and filters for spam and viruses. For submitting outgoing mail you should prefer the submission ports(465, 587), which require authentication. Unless a relay host is configured, outgoing email will leave the server via port 25(thus outbound traffic must not be blocked by your provider or firewall).</p><p>接收电子邮件并过滤垃圾邮件和病毒。要提交外发邮件，您应该首选需要身份验证的提交端口（465，587）。除非配置了中继主机，否则传出电子邮件将通过端口25离开服务器（因此，出站流量不得被您的提供商或防火墙阻止）。</p><p>    version:   &#39;3.8 &#39; services:  mail:  image:  tvial/docker-mailserver:latest  hostname:  mail   # ${HOSTNAME}  domainname:  domain.com   # ${DOMAINNAME}  container_name:  mail   # ${CONTAINER_NAME}  ports: -   &#34;25:25 &#34; -   &#34;143:143 &#34; -   &#34;587:587 &#34; -   &#34;993:993 &#34;  volumes: -  maildata:/var/mail -  mailstate:/var/mail-state -  maillogs:/var/log/mail -  ./config/:/tmp/docker-mailserver/  environment: -  ENABLE_SPAMASSASSIN=1 -  SPAMASSASSIN_SPAM_TO_INBOX=1 -  ENABLE_CLAMAV=1 -  ENABLE_FAIL2BAN=1 -  ENABLE_POSTGREY=1 -  ONE_DIR=1 -  DMS_DEBUG=0  cap_add: -  NET_ADMIN -  SYS_PTRACE  restart:  always volumes:  maildata:  mailstate:  maillogs:</p><p>    版本：'3.8'服务：邮件：图片：tvial / docker-mailserver：最新主机名：邮件＃$ {HOSTNAME}域名：domain.com＃$ {DOMAINNAME}容器名：邮件＃$ {CONTAINER_NAME}端口：-“ 25： 25“-” 143：143“-” 587：587“-” 993：993“卷：-邮件数据：/ var / mail-邮件状态：/ var / mail-state-邮件日志：/ var / log / mail-./ config /：/ tmp / docker-mailserver /环境：-ENABLE_SPAMASSASSIN = 1-SPAMASSASSIN_SPAM_TO_INBOX = 1-ENABLE_CLAMAV = 1-ENABLE_FAIL2BAN = 1-ENABLE_POSTGREY = 1-ONE_DIR = 1-DMS_DEBUG = 0 cap_add：-NET_EMIN-始终重新启动：SYS_PTRAC ：maildata：mailstate：maillogs：</p><p>  version:   &#39;3.8 &#39; services:  mail:  image:  tvial/docker-mailserver:latest  hostname:  mail   # ${HOSTNAME}  domainname:  domain.com   # ${DOMAINNAME}  container_name:  mail   # ${CONTAINER_NAME}  ports: -   &#34;25:25 &#34; -   &#34;143:143 &#34; -   &#34;587:587 &#34; -   &#34;993:993 &#34;  volumes: -  maildata:/var/mail -  mailstate:/var/mail-state -  maillogs:/var/log/mail -  ./config/:/tmp/docker-mailserver/  environment: -  ENABLE_SPAMASSASSIN=1 -  SPAMASSASSIN_SPAM_TO_INBOX=1 -  ENABLE_CLAMAV=1 -  ENABLE_FAIL2BAN=1 -  ENABLE_POSTGREY=1 -  ONE_DIR=1 -  DMS_DEBUG=0 -  ENABLE_LDAP=1 -  LDAP_SERVER_HOST=ldap   # your ldap container/IP/ServerName -  LDAP_SEARCH_BASE=ou=people,dc=localhost,dc=localdomain -  LDAP_BIND_DN=cn=admin,dc=localhost,dc=localdomain -  LDAP_BIND_PW=admin -  LDAP_QUERY_FILTER_USER=(&amp;(mail=%s)(mailEnabled=TRUE)) -  LDAP_QUERY_FILTER_GROUP=(&amp;(mailGroupMember=%s)(mailEnabled=TRUE)) -  LDAP_QUERY_FILTER_ALIAS=(|(&amp;(mailAlias=%s)(objectClass=PostfixBookMailForward))(&amp;(mailAlias=%s)(objectClass=PostfixBookMailAccount)(mailEnabled=TRUE))) -  LDAP_QUERY_FILTER_DOMAIN=(|(&amp;(mail=*@%s)(objectClass=PostfixBookMailAccount)(mailEnabled=TRUE))(&amp;(mailGroupMember=*@%s)(objectClass=PostfixBookMailAccount)(mailEnabled=TRUE))(&amp;(mailalias=*@%s)(objectClass=PostfixBookMailForward))) -  DOVECOT_PASS_FILTER=(&amp;(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n)) -  DOVECOT_USER_FILTER=(&amp;(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%n)) -  ENABLE_SASLAUTHD=1 -  SASLAUTHD_MECHANISMS=ldap -  SASLAUTHD_LDAP_SERVER=ldap -  SASLAUTHD_LDAP_BIND_DN=cn=admin,dc=localhost,dc=localdomain -  SASLAUTHD_LDAP_PASSWORD=admin -  SASLAUTHD_LDAP_SEARCH_BASE=ou=people,dc=localhost,dc=localdomain -  SASLAUTHD_LDAP_FILTER=(&amp;(objectClass=PostfixBookMailAccount)(uniqueIdentifier=%U)) -  POSTMASTER_ADDRESS=postmaster@localhost.localdomain -  POSTFIX_MESSAGE_SIZE_LIMIT=100000000  cap_add: -  NET_ADMIN -  SYS_PTRACE  restart:  always volumes:  maildata:  mailstate:  maillogs:</p><p>  版本：'3.8'服务：邮件：图片：tvial / docker-mailserver：最新主机名：邮件＃$ {HOSTNAME}域名：domain.com＃$ {DOMAINNAME}容器名：邮件＃$ {CONTAINER_NAME}端口：-“ 25： 25“-” 143：143“-” 587：587“-” 993：993“卷：-邮件数据：/ var / mail-邮件状态：/ var / mail-state-邮件日志：/ var / log / mail-./ config /：/ tmp / docker-mailserver /环境：-ENABLE_SPAMASSASSIN = 1-SPAMASSASSIN_SPAM_TO_INBOX = 1-ENABLE_CLAMAV = 1-ENABLE_FAIL2BAN = 1-ENABLE_POSTGREY = 1-ONE_DIR = 1-DMS_DEBUG = 0-ENABLE_LDAP = 1-LDAP_SERVER_HOST = ld ldap容器/ IP /服务器名称-LDAP_SEARCH_BASE = ou = people，dc = localhost，dc = localdomain-LDAP_BIND_DN = cn = admin，dc = localhost，dc = localdomain-LDAP_BIND_PW = admin-LDAP_QUERY_FILTER_USER =（＆（mail =％s）（ mailEnabled = TRUE））-LDAP_QUERY_FILTER_GROUP =（＆（mailGroupMember =％s）（mailEnabled = TRUE））-LDAP_QUERY_FILTER_ALIAS =（|（＆（mailAlias =％s）（objectClass = PostfixBookMailForward））（＆（mailAlias =％s）（ objectClass =发布fixBookMailAccount）（mailEnabled = TRUE）））-LDAP_QUERY_FILTER_DOMAIN =（|（＆（mail = * @％s）（objectClass = PostfixBookMailAccount）（mailEnabled = TRUE））（＆（mailGroupMember = * @％s）（objectClass = PostfixBookMailAccount） （mailEnabled = TRUE））（＆（mailalias = * @％s）（objectClass = PostfixBookMailForward））-DOVECOT_PASS_FILTER =（＆（objectClass = PostfixBookMailAccount）（uniqueIdentifier =％n）-DOVECOT_USER_FILTER =（＆（objectClass = PostfixBookMailAccount） （uniqueIdentifier =％n））-ENABLE_SASLAUTHD = 1-SASLAUTHD_MECHANISMS = ldap-SASLAUTHD_LDAP_SERVER = ldap-SASLAUTHD_LDAP_BIND_DN = cn = admin，dc = localhost，dc =本地域-SASLAUTHD_LDAP_PASSWORD = admin-SASLAUTHD = LDAP，people = localdomain-SASLAUTHD_LDAP_FILTER =（＆（objectClass = PostfixBookMailAccount）（uniqueIdentifier =％U））-POSTMASTER_ADDRESS=postmaster@localhost.localdomain-POSTFIX_MESSAGE_SIZE_LIMIT = 100000000 cap_add：-NET_ADMIN-SYS_PTRACE重新启动：始终是卷：maildata邮件状态：</p><p>  If an option doesn&#39;t work as documented here, check if you are running the latest image! Values in  bold are the default values.</p><p>  如果某个选项无法如本文所述工作，请检查您是否正在运行最新的映像！粗体为默认值。</p><p> Note: Since  docker-mailserver v7.1.0, comparisons for environment variables are executed differently. If you previously used  VARIABLE=&#39;&#39; as the  empty value, please  update to now use  VARIABLE=.</p><p> 注意：自docker-mailserver v7.1.0起，环境变量的比较以不同的方式执行。如果您以前使用VARIABLE =''作为空值，请更新为现在使用VARIABLE =。</p><p>        1 =&gt; consolidate all states into a single directory ( /var/mail-state) to allow persistence using docker volumes</p><p>        1 =>将所有状态合并到一个目录（/ var / mail-state）中，以允许使用Docker卷进行持久化</p><p>              old =&gt; NOT implemented. If you really need it, then customize the TLS ciphers overriding postfix and dovecot settings  wiki</p><p>              旧=>未实现。如果确实需要，请自定义覆盖后缀和dovecot设置Wiki的TLS密码</p><p>   empty =&gt; Mail address spoofing allowed. Any logged in user may create email messages with a forged sender address. See also  Wikipedia(not recommended, but default for backwards compatibility reasons)</p><p>空=>允许邮件地址欺骗。任何登录的用户都可以使用伪造的发件人地址创建电子邮件。另请参阅Wikipedia（不建议使用，但出于向后兼容的原因而为默认）</p><p> 1 =&gt; (recommended) Mail spoofing denied. Each user may only send with his own or his alias addresses. Addresses with  extension delimiters are not able to send messages.</p><p> 1 =>（推荐）拒绝邮件欺骗。每个用户只能发送自己的别名地址。具有扩展名分隔符的地址无法发送消息。</p><p>  Enables the Sender Rewriting Scheme. SRS is needed if your mail server acts as forwarder. See  postsrsd for further explanation.</p><p>  启用发件人重写方案。如果您的邮件服务器充当转发器，则需要SRS。有关更多说明，请参见postsrsd。</p><p>   Set different options for mynetworks option (can be overwrite in postfix-main.cf)  WARNING: Adding the docker network&#39;s gateway to the list of trusted hosts, e.g. using the  network or  connected-networks option, can create an   open relay,  for instance if IPv6 is enabled on the host machine but not in Docker.</p><p>   为mynetworks选项设置不同的选项（可以在postfix-main.cf中覆盖）警告：将Docker网络的网关添加到受信任主机列表中，例如使用network或connected-networks选项，可以创建一个开放中继，例如，如果在主机上启用了IPv6，但在Docker中未启用IPv6。</p><p> network =&gt; Add the docker default bridge network (172.16.0.0/12);  WARNING:  docker-compose might use others (e.g. 192.168.0.0/16) use  PERMIT_DOCKER=connected-networks in this case</p><p> 网络=>添加docker默认桥接网络（172.16.0.0/12）;警告：在这种情况下，docker-compose可能会使用其他主机（例如192.168.0.0/16）使用PERMIT_DOCKER = connected-networks</p><p>   In case your network interface differs from  eth0, e.g. when you are using HostNetworking in Kubernetes, you can set this to whatever interface you want. This interface will then be used.</p><p>   如果您的网络接口与eth0不同，例如在Kubernetes中使用HostNetworking时，可以将其设置为所需的任何接口。然后将使用此接口。</p><p>      This Option is activating the Usage of POSTFIX_DAGENT to specify a ltmp client different from default dovecot socket.</p><p>      此选项正在激活POSTFIX_DAGENT的用法，以指定不同于默认dovecot套接字的ltmp客户端。</p><p>      Set the mailbox size limit for all users. If set to zero, the size will be unlimited (default).</p><p>设置所有用户的邮箱大小限制。如果设置为零，则大小将不受限制（默认）。</p><p>      Set the message size limit for all users. If set to zero, the size will be unlimited (not recommended!)</p><p>      设置所有用户的邮件大小限制。如果设置为零，则大小将不受限制（不建议！）</p><p>     =&gt; Specify a fully-qualified domainname to serve mail for. This is used for many of the config features so if you can&#39;t set your hostname (e.g. you&#39;re in a container platform that doesn&#39;t let you) specify it in this environment variable.</p><p>     =>指定要为其提供邮件的标准域名。这用于许多配置功能，因此，如果您无法设置主机名（例如，您在不允许的容器平台中），请在此环境变量中进行指定。</p><p>    enforce =&gt; Allow other tests to complete. Reject attempts to deliver mail with a 550 SMTP reply, and log the helo/sender/recipient information. Repeat this test the next time the client connects.</p><p>    强制=>允许其他测试完成。拒绝尝试发送带有550 SMTP答复的邮件的尝试，并记录helo / sender /收件人信息。下次客户端连接时重复此测试。</p><p> drop =&gt; Drop the connection immediately with a 521 SMTP reply. Repeat this test the next time the client connects.</p><p> drop =>立即使用521 SMTP回复删除连接。下次客户端连接时重复此测试。</p><p> ignore =&gt; Ignore the failure of this test. Allow other tests to complete. Repeat this test the next time the client connects. This option is useful for testing and collecting statistics without blocking mail.</p><p> 忽略=>忽略此测试的失败。允许其他测试完成。下次客户端连接时重复此测试。此选项对于测试和收集统计信息而不阻止邮件很有用。</p><p>  mdbox ==&gt; (experimental) uses Dovecot high-performance mailbox format, multiple messages per file and multiple files per box</p><p>  mdbox ==>（实验性）使用Dovecot高性能邮箱格式，每个文件多个消息，每个框多个文件</p><p> This option has been added in November 2019. Using other format than Maildir is considered as experimental in docker-mailserver and should only be used for testing purpose. For more details, please refer to  Dovecot Documentation.</p><p>该选项已在2019年11月添加。在docker-mailserver中使用Maildir以外的其他格式被认为是实验性的，仅应用于测试目的。有关更多详细信息，请参阅Dovecot文档。</p><p>        This is a new option. The old REPORT options are still supported for backwards compatibility.If this is not set and reports are enabled with the old options, logrotate will be used.</p><p>        这是一个新选项。仍然支持旧的REPORT选项以实现向后兼容性。如果未设置此选项，并且使用旧选项启用了报告，则将使用logrotate。</p><p>                    Changes the interval in which logs are rotated and a report is being sent (deprecated).</p><p>                    更改轮换日志和发送（不建议使用）报告的时间间隔。</p><p>  Note: This variable used to control logrotate inside the container and sent the pflogsumm report when the logs were rotated.It is still supported for backwards compatibility, but the new option LOGROTATE_INTERVAL has been added that only rotatesthe logs.</p><p>  注意：此变量用于控制容器内的logrotate旋转并在日志旋转时发送pflogsumm报告。为了向后兼容，仍支持该变量，但添加了新选项LOGROTATE_INTERVAL，仅旋转日志。</p><p>    Note that only the log inside the container is affected.The full log output is still available via  docker logs mail (or your respective container name).If you want to control logrotation for the docker generated logfile see:  Docker Logging Drivers.</p><p>    请注意，只有容器内部的日志会受到影响。完整的日志输出仍可通过docker logs邮件（或您各自的容器名称）获得。如果要控制docker生成的日志文件的logrotation，请参阅：Docker Logging Drivers。</p><p> Also note that by default the logs are lost when the container is recycled. To keep the logs, mount a volume.</p><p> 另请注意，默认情况下，回收容器时日志会丢失。要保留日志，请挂载卷。</p><p> Finally the logrotate interval  may affect the period for generated reports. That is the case when the reports are triggered by log rotation.</p><p> 最后，logrotate间隔可能会影响生成报告的时间。当报告由日志轮换触发时就是这种情况。</p><p>    /!\ Spam delivery: when Spamassassin is enabled, messages marked as spam WILL NOT BE DELIVERED.Use  SPAMASSASSIN_SPAM_TO_INBOX=1 for receiving spam messages.</p><p>/！\垃圾邮件发送：启用垃圾邮件处理程序后，标记为垃圾邮件的邮件将不会被发送。使用SPAMASSASSIN_SPAM_TO_INBOX = 1接收垃圾邮件。</p><p>  1 =&gt; Spam messages will be delivered to the inbox and tagged as spam using  SA_SPAM_SUBJECT.</p><p>  1 =>垃圾邮件将发送到收件箱，并使用SA_SPAM_SUBJECT标记为垃圾邮件。</p><p>            Note: this spamassassin setting needs  ENABLE_SPAMASSASSIN=1. By default, the mailserver is configured to quarantine spam emails. If emails are quarantined, they are compressed and stored in a location dependent on the ONE_DIR setting above. If  ONE_DIR=1 the location is /var/mail-state/lib-amavis/virusmails/. If  ONE_DIR=0 it is /var/lib/amavis/virusmails/. These paths are inside the docker container. To inhibit this behaviour and deliver spam emails, set this to a very high value e.g. 100.0.</p><p>            注意：此spamassassin设置需要ENABLE_SPAMASSASSIN = 1。默认情况下，邮件服务器配置为隔离垃圾邮件。如果隔离了电子邮件，则将它们压缩并存储在取决于上述ONE_DIR设置的位置。如果ONE_DIR = 1，则位置为/ var / mail-state / lib-amavis / virusmails /。如果ONE_DIR = 0，则为/ var / lib / amavis / virusmails /。这些路径在docker容器内。要禁止这种行为并发送垃圾邮件，请将其设置为很高的值，例如100.0。</p><p>   Note: this spamassassin setting needs  ENABLE_SPAMASSASSIN=1. Add the spamassassin score to the subject line by inserting the keyword  SCORE:  ***SPAM( SCORE)***.</p><p>   注意：此spamassassin设置需要ENABLE_SPAMASSASSIN = 1。通过插入关键字SCORE：*** SPAM（SCORE）***，将spamassassin分数添加到主题行。</p><p>    Note: activate this only if you are confident in your bayes database for identifying spam.</p><p>    注意：仅当您对贝叶斯数据库有信心来识别垃圾邮件时才激活它。</p><p>    Note: activate this only if you are confident in your bayes database for identifying ham.</p><p>    注意：仅当您对贝叶斯数据库有信心识别火腿时，才激活此选项。</p><p>        NOTE: For preparing the ldap server to use in combination with this container  this article may be helpful</p><p>        注意：为了准备将ldap服务器与此容器结合使用，本文可能会有所帮助</p><p>    NOTE: If you going to use the mailserver in combination with docker-compose you can set the service name here</p><p>注意：如果要结合使用邮件服务器和docker-compose，可以在此处设置服务名称</p><p>                                    Note: The left-hand value is the directory attribute, the right hand value is the dovecot variable.</p><p>                                    注意：左边的值是目录属性，右边的值是dovecot变量。</p><p>    Note: The left-hand value is the directory attribute, the right hand value is the dovecot variable.</p><p>    注意：左边的值是目录属性，右边的值是dovecot变量。</p><p>        35 =&gt; delete entries older than N days since the last time that they have been seen</p><p>        35 =>删除自上次被看到以来早于N天的条目</p><p>              e.g. with SASLAUTHD_MECHANISMS rimap you need to specify the ip-address/servername of the imap server ==&gt; xxx.xxx.xxx.xxx</p><p>              例如使用SASLAUTHD_MECHANISMS rimap，您需要指定imap服务器的IP地址/服务器名称==> xxx.xxx.xxx.xxx</p><p>                 An email has an &#34;envelope&#34; sender (indicating the sending server) and a&#34;header&#34; sender (indicating who sent it). More strict SPF policies may requireyou to replace both instead of just the envelope sender.</p><p>                 电子邮件具有“信封”发件人（指示发送服务器）和“标头”发件人（指示发送者）。更严格的SPF政策可能要求您同时替换这两者，而不仅仅是信封发送者。</p><p>      you may specify multiple keys, comma separated. the first one is used for signing and the remaining will be used for verification. this is how you rotate and expire keys</p><p>      您可以指定多个键，以逗号分隔。第一个用于签名，其余的用于验证。这就是您旋转和到期密钥的方式</p><p>  Set this if auto-detection fails, isn&#39;t what you want, or you wish to have a separate container handle DSNs</p><p>如果自动检测失败，不是您想要的或希望有单独的容器处理DSN，请设置此选项</p><p>   default host and port to relay all mail through.Format:  [example.com]:587 (don&#39;t forget the brackets if you need this tobe compatible with  $RELAY_USER and  $RELAY_PASSWORD, explained below).</p><p>   默认主机和端口，以中继所有邮件。格式：[example.com]：587（如果需要与$ RELAY_USER和$ RELAY_PASSWORD兼容，请不要忘记括号，如下所述）。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/tomav/docker-mailserver">https://github.com/tomav/docker-mailserver</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/病毒/">#病毒</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/docker/">#docker</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/全栈/">#全栈</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/服务器/">#服务器</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/simple/">#simple</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>