<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>预定于2022年2月1日发布的Go 1.18中的Go类型参数（泛型）Go type parameters (generics) scheduled for Go 1.18, Feb 1 2022 release</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Go type parameters (generics) scheduled for Go 1.18, Feb 1 2022 release<br/>预定于2022年2月1日发布的Go 1.18中的Go类型参数（泛型）</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-21 20:27:04</div><div class="page_narrow text-break page_content"><p>unread, 1:28 AM (yesterday)  1:28 AM    Either email addresses are anonymous for this group or you need the view member email addresses permission to view the original message</p><p>未读，1:28 AM（昨天）1:28 AM this该组的电子邮件地址是匿名的，或者您需要查看成员电子邮件地址的权限才能查看原始消息</p><p> Hi all,    The freeze is going well, and we are looking ahead to getting large changes ready to merge when the window opens at the start of the release, as we do for all large changes. In the compiler, we are working on two different large changes:</p><p>大家好，冻结进展顺利，我们期待着在发布开始时窗口打开时准备合并大的更改，就像我们对所有大的更改一样。在编译器中，我们正在进行两个不同的大更改：</p><p>  - register ABI work to land at the start of Go 1.17 (Feb 1 2021 work begins, Aug 1 2021 release)</p><p>-在Go 1.17开始时注册ABI工作以着陆（2021年2月1日工作开始，2021年8月1日发布）</p><p> - type parameters work to land at the start of Go 1.18 (Aug 1 2021 work begins, Feb 1 2022 release)</p><p>-类型参数在Go 1.18开始时着陆（2021年8月1日开始工作，2022年2月1日发布）</p><p>  We are landing register ABI work in dev.regabi and type parameter work in dev.typeparams. The former is new. Up until now, we were merging master into dev.typeparams. Starting now, we&#39;ll merge master into dev.regabi and dev.regabi into dev.typeparams. When Go 1.17 opens, we will merge dev.regabi into master and be back down to just dev.typeparams.</p><p>我们将在dev.regabi中登陆寄存器ABI，在dev.typeparams中登陆类型参数。前者是新的。到目前为止，我们正在将master合并到dev.typeparams中。从现在开始，我们将master合并到dev.regabi中，并将dev.regabi合并到dev.typeparams中。当Go 1.17打开时，我们会将dev.regabi合并到master中，然后又回到dev.typeparams。</p><p>  Type parameters will require a lot of new work in the compiler frontend, and we&#39;ve prototyped some cleanups to cmd/compile that will make that a lot easier and less error-prone. Roughly speaking, the cleanups are (1) replacing Mpint, Mpfloat etc with the go/constant package, (2) replacing cmd/compile/internal/types with types2, and (3) replacing Node with more specific data structures and interfaces. Again, the rationale for these changes is to make the typeparams work easier and less error-prone, and so the changes are limited to that as well.</p><p>类型参数将需要在编译器前端中进行大量新工作，并且我们已经对cmd / compile进行了一些原型清理，这将使此操作变得更加容易且不易出错。粗略地说，清理工作是（1）用go / constant包替换Mpint，Mpfloat等；（2）用type2替换cmd / compile / internal / types；以及（3）用更具体的数据结构和接口替换Node。同样，进行这些更改的理由是使typeparams更容易工作并且不易出错，因此更改也仅限于此。</p><p>  The cleanups will edit approximately every line of code in cmd/compile/internal/gc. If we landed that work onto dev.typeparams, we&#39;d then have to merge all the dev.regabi work along with all Go 1.17 development into that edited code, which would be rife with error-prone merge conflicts. Instead, we plan to land the cleanups in dev.regabi, so that they will land at the start of Go 1.17. Similarly, wherever we can add new functionality to cmd/compile in support of type parameters that makes sense to land in Go 1.17, we will do it in the dev.regabi branch, to reduce the divergence between Go 1.17 and dev.typeparams and therefore the amount of merging work required over the next 8 months.</p><p>清理将编辑cmd / compile / internal / gc中的几乎每一行代码。如果将工作放到dev.typeparams上，那么我们将不得不将所有dev.regabi工作以及所有Go 1.17开发合并到该已编辑的代码中，这将容易出错。相反，我们计划将清理工作放到dev.regabi中，以便它们将在Go 1.17开始时着陆。同样，无论何时我们可以在cmd / compile中添加新功能以支持在Go 1.17中有意义的类型参数，我们都将在dev.regabi分支中进行，以减少Go 1.17和dev.typeparams之间的差异，因此未来8个月所需的合并工作量。</p><p>  We are keeping these branches limited to just the work described above. Please don&#39;t send CLs to dev.regabi or dev.typeparams that are unrelated to the register work, the type parameter work, or the (limited scope) cleanup. Such unrelated work should be merged directly to master when the main tree opens.</p><p>我们将这些分支限制为仅限于上述工作。请不要将CL发送到与注册工作，类型参数工作或（有限范围）清理无关的dev.regabi或dev.typeparams。当主树打开时，此类无关的工作应直接合并到master。</p><p>  Again, the point of this mail is just to give a heads up for people who watch Gerrit closely and wonder about the rationale behind the activity on the two branches over the next while. No action is required.</p><p>再说一遍，这封邮件的目的只是为了让那些密切关注Gerrit并想知道接下来一段时间内两个分支机构开展活动的理由的人们感到震惊。无需采取任何措施。</p><p> unread, 5:02 PM (3 hours ago)  5:02 PM    Either email addresses are anonymous for this group or you need the view member email addresses permission to view the original message</p><p>未读，5:02 PM（3小时前）5:02 PM this该群组的电子邮件地址是匿名的，或者您需要查看成员电子邮件地址的权限才能查看原始消息</p><p> GO has first-class functions and it will make implementation of typeparameters very complicated in real compiler. Look at C#: Microsoftsome years ago promised to prepare compiler from MSIL into nativemachine codes. This idea failed because the language has typeparameters and delegates. It will be nice if you’ll find thesolution but I am afraid that it is impossible.</p><p>GO具有一流的功能，它将实现类型参数在实际编译器中非常复杂。看一下C＃：Microsoft几年前承诺将编译器从MSIL转换为本机机器码。这个想法失败了，因为该语言具有参数和委托。如果您会发现解决方案，但恐怕是不可能的。</p><p>  You would implementC style macro-commands instead of wasting time on very complicatedproblem. Two-pass compiler will supply even more flexible solutionsfor creating containers and generic functions comparing it withparameterized types. Moreover you can use solutions that arepublished in GCC compiler’s sources.</p><p>您将实施C样式宏命令而不是在非常复杂的时间上浪费时间问题。两遍编译器将提供更加灵活的解决方案用于创建容器和与之比较的通用函数参数化类型。此外，您可以使用以下解决方案在GCC编译器的来源中发布。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://groups.google.com/g/golang-dev/c/U7eW9i0cqmo/m/ffs0tyIYBAAJ">https://groups.google.com/g/golang-dev/c/U7eW9i0cqmo/m/ffs0tyIYBAAJ</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/发布/">#发布</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/参数/">#参数</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>