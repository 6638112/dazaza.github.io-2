<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>梅尔塔诺（Meltano）：点时代的腰带 Meltano: ELT for the DataOps era</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Meltano: ELT for the DataOps era<br/>梅尔塔诺（Meltano）：点时代的腰带 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-01 13:02:24</div><div class="page_narrow text-break page_content"><p>Pipelines are code,ready to be version controlled, containerized, and deployed continuously.Develop and test locally,then deploy in productionalong with the built-in Airflow integration,or inside your orchestrator of choice.</p><p>管道是代码，易于版本控制，容器化和连续部署。在本地进行开发和测试，然后与内置的Airflow集成一起在生产环境中部署，或者在您的协调器内部部署。</p><p>  Meltano  embraces the  Singer     standard and its community-maintained library of open source extractors and loaders,and leverages  dbt     for  transformation.</p><p>  Meltano包含Singer标准及其由社区维护的开源提取程序和加载程序库，并利用dbt进行转换。</p><p>  # For these examples to work, ensure that: # - you are running Linux or macOS # - Python 3.6, 3.7 or 3.8 has been installedpython3 --version # Create directory for Meltano projects mkdir meltano-projects  meltano-projects # Create and activate virtual environmentpython3 -m venv .venv  .venv/bin/activate # Install Meltanopip3  install meltano</p><p>  ＃为了使这些示例正常工作，请确保：＃-您正在运行Linux或macOS＃-已安装Python 3.6、3.7或3.8 python3 --version＃为Meltano项目创建目录mkdirmeltanoano-projectsmelanoano-projects＃创建并激活虚拟environmentpython3 -m venv .venv .venv / bin / activate＃安装Meltanopip3安装melano</p><p>    At the core of the Meltano experience is your Meltano project,which represents the single source of truth regarding your ELT pipelines:how data should be  integrated and  transformed,how the pipelines should be  orchestrated,and how the various  plugins that make up your pipelines should be  configured.</p><p>    Meltano体验的核心是您的Meltano项目，该项目代表有关ELT管道的唯一事实来源：应如何集成和转换数据，应如何协调管道以及应如何构成管道的各种插件被配置。</p><p>  Since a Meltano project is just a directory on your filesystem containingtext-based files, you can treat it like any other software development projectand benefit from DataOps best practices such as version control, code review,and continuous integration and deployment (CI/CD).</p><p>  由于Meltano项目只是文件系统上包含基于文本的文件的目录，因此您可以将其视为任何其他软件开发项目，并从DataOps最佳实践中受益，例如版本控制，代码审查以及持续集成和部署（CI / CD）。</p><p>  # Before using a `meltano` command, ensure that: # - you have navigated to your Meltano project  demo-project # - you have activated the virtual environment   ../.venv/bin/activate</p><p>  ＃使用`meltano`命令之前，请确保：＃-您已导航到Meltano项目演示项目＃-您已激活虚拟环境../.venv/bin/activate</p><p>  You can use existing Singer  taps and  targetsor  easily write your own to extractdata from any SaaS tool or database and load it into any data warehouse or file format.</p><p>  您可以使用现有的Singer水龙头和目标器，也可以轻松地编写自己的数据，以从任何SaaS工具或数据库中提取数据并将其加载到任何数据仓库或文件格式中。 </p><p>  Meltano  manages your tap and target configuration for you,makes it easy to  select which entities and attributes to extract,and keeps track of  the incremental replication state,so that subsequent pipeline runs with the same job ID will always pick up right wherethe previous run left off.</p><p>Meltano可以为您管理分接和目标配置，使您轻松选择要提取的实体和属性，并跟踪增量复制状态，从而使具有相同作业ID的后续管道始终在上一个运行位置的右边继续运行。离开。</p><p>  # Add GitLab extractor to your projectmeltano  add extractor tap-gitlab # Configure tap-gitlab to extract data from... # - the https://gitlab.com/meltano/meltano projectmeltano config tap-gitlab   projects meltano/meltano # - going back to May 1st, 2020meltano config tap-gitlab   start_date  2020-05-01T00:00:00Z # Select all attributes of the &#34;tags&#34; entitymeltano  select tap-gitlab tags  &#34;*&#34; # Add JSONL loadermeltano  add loader target-jsonl # Ensure target-jsonl output directory exists mkdir -p output # Run data integration pipelinemeltano elt tap-gitlab target-jsonl --job_id =gitlab-to-jsonl # Read latest tag head -n  1 output/tags.jsonl</p><p>  ＃将GitLab提取器添加到您的项目中meltano添加提取器tap-gitlab＃配置tap-gitlab以从...中提取数据＃-https://gitlab.com/meltano/meltano projectmeltano config tap-gitlab项目meltano / meltano＃-进行返回2020年5月1日，meltano config tap-gitlab start_date 2020-05-01T00：00：00Z＃选择＆＃34; tags＆＃34;的所有属性entitymeltano选择tap-gitlab标签＆＃34; *＆＃34; ＃添加JSONL loadermeltano添加loader target-jsonl＃确保target-jsonl输出目录存在mkdir -p output＃运行数据集成管道meltano elt tap-gitlab target-jsonl --job_id = gitlab-to-jsonl＃读取最新标签头-n 1输出/ tags.jsonl</p><p>  Once your raw data has arrived in your data warehouse, its schema will likelyneed to be transformed to be more appropriate for analysis.</p><p>  一旦原始数据到达数据仓库，就可能需要转换其架构以使其更适合于分析。</p><p>  Meltano helps you out here as well, with built-in (but optional!) support for running dbt     models as part of your pipeline.</p><p>  Meltano还通过内置（但可选！）支持为运行dbt模型提供了内置（但可选！）支持，这是您的管道的一部分。</p><p>  When you add the  dbt transformer to your project, a full-fledged dbt project    will automatically be initialized in the  transform directory.Any transform plugins added to your Meltano project will automatically beadded to the dbt project as well, but you can easily install existing dbt models from packages    or  write your own.</p><p>  当您将dbt转换器添加到项目中时，完整的dbt项目将自动在transform目录中初始化。添加到Meltano项目中的任何transform插件也将自动添加到dbt项目中，但是您可以轻松地安装现有的dbt从包中建模或自己编写。</p><p>  # For these examples to work, ensure that: # - you have PostgreSQL running somewhere # - you have created a new database # - you change the configuration below as appropriate # Add PostgreSQL loadermeltano  add loader target-postgres --variant meltano # Configure target-postgres through the environment   TARGET_POSTGRES_HOST =localhost   TARGET_POSTGRES_PORT = 5432   TARGET_POSTGRES_USER =meltano   TARGET_POSTGRES_PASSWORD =meltano   TARGET_POSTGRES_DBNAME =demo-warehouse # Add dbt transformer and initialize dbt projectmeltano  add transformer dbt # Add PostgreSQL-compatible dbt models for tap-gitlabmeltano  add transform tap-gitlab # Select all attributes of all entitiesmeltano  select tap-gitlab  &#34;*&#34;  &#34;*&#34; # Run data integration and transformation pipelinemeltano elt tap-gitlab target-postgres --transform =run --job_id =gitlab-to-postgres # Start `psql` shell connected to warehouse database PGPASSWORD = $TARGET_POSTGRES_PASSWORD psql -U  $TARGET_POSTGRES_USER -h  $TARGET_POSTGRES_HOST -p  $TARGET_POSTGRES_PORT -d  $TARGET_POSTGRES_DBNAME</p><p>  ＃为了使这些示例正常工作，请确保：＃-您在某个地方运行PostgreSQL＃-您创建了一个新数据库＃-您在下面适当地更改了以下配置＃添加PostgreSQL loadermeltano添加loader target-postgres --variantmeltano＃配置目标-在环境中的Postgres TARGET_POSTGRES_HOST =本地主机TARGET_POSTGRES_PORT = 5432 TARGET_POSTGRES_USER = meltano TARGET_POSTGRES_PASSWORD = meltano TARGET_POSTGRES_DBNAME =演示仓库＃添加dbt转换器并初始化dbt projectmeltano添加与dbt兼容的转换器-为dbt＃添加模型选择所有实体的所有属性meltano select tap-gitlab＆＃34; *＆＃34; ＆＃34; *＆＃34; ＃运行数据集成和转换管道meltano elt tap-gitlab target-postgres --transform = run --job_id = gitlab-to-postgres＃启动连接到仓库数据库PGPASSWORD的psql shell PGPASSWORD = $ TARGET_POSTGRES_PASSWORD psql -U $ TARGET_POSTGRES_USER -h $ TARGET_POSTGRES_HOST -p $ TARGET_POSTGRES_PORT -d $ TARGET_POSTGRES_DBNAME</p><p>  project_id | commit_id | tag_name | target | message------------+------------------------------------------+----------+------------------------------------------+--------- 7603319 | c82160a5c74aa76489d304a114617c02598f4e81 | v1.70.0 | c82160a5c74aa76489d304a114617c02598f4e81 |(1 row)</p><p>  project_id | commit_id | tag_name |目标|消息------------ + ------------------------------------ ------ + ---------- + -------------------------------- ---------- + --------- 7603319 | c82160a5c74aa76489d304a114617c02598f4e81 | v1.70.0 | c82160a5c74aa76489d304a114617c02598f4e81 |（1行） </p><p>  Once you&#39;ve managed to successfully run your ELT pipeline once, you&#39;ll probablywant to run it again, and again, and again.</p><p>一旦设法成功运行一次ELT管道，您可能会想一次又一次地运行它。</p><p>  Meltano lets you set up pipeline schedules that can then automatically be fedto and run by a supported orchestrator like  Apache Airflow    .</p><p>  Meltano允许您设置管道计划，然后由受支持的协调器（如Apache Airflow）自动将其排入并运行。</p><p>  When you add the  airflow orchestrator to your project, a Meltano DAG generator    will automatically be added to the  orchestrate/dags directory, where Airflowwill look for  DAGs     by default.If the default behavior of simply running   meltano elt on aschedule is not going to cut it, you can easily modify the DAG generator or add your own.</p><p>  当您将气流编排器添加到项目中时，Meltano DAG生成器将自动添加到orchestrate / dags目录中，默认情况下Airflow将在其中查找DAG。 ，您可以轻松修改DAG生成器或添加自己的DAG生成器。</p><p>  # Schedule pipelinesmeltano schedule gitlab-to-jsonl tap-gitlab target-jsonl @hourlymeltano schedule gitlab-to-postgres tap-gitlab target-postgres @daily --transform =run # List scheduled pipelinesmeltano schedule list # Add Airflow orchestrator and default DAG generatormeltano  add orchestrator airflow # Start the Airflow scheduler (add `-D` to background)meltano invoke airflow scheduler</p><p>  ＃调度管道meltano调度gitlab-to-jsonl tap-gitlab target-jsonl @hourlymeltano调度gitlab-to-postgres tap-gitlab target-postgres @daily --transform = run＃列出调度的管道meltano调度列表＃添加Airflow Orchestrator和默认的DAG generatormeltano添加Orchestrator airflow＃启动Airflow Scheduler（在后台添加`-D`）meltano调用airflow scheduler</p><p>  Now that you&#39;ve got your pipelines running locally, it&#39;ll be time to repeat this trick in production!</p><p>  现在您已经在本地运行了管道，现在该在生产中重复此技巧了！</p><p>  Since your Meltano project is your  single source of truth, deploying your pipelines in production is pretty straightforward, butyou can greatly simplify this process (and prevent issues caused by inconsistencies between environments!)by wrapping them all up into a project-specific Docker container image    :&#34;a lightweight, standalone, executable package of software that includes everythingneeded to run an application: code, runtime, system tools, system libraries and settings.&#34;</p><p>  由于您的Meltano项目是唯一的事实来源，因此在生产中部署管道非常简单，但是您可以通过将它们全部包装到特定于项目的Docker容器映像中来极大地简化此过程（并防止环境之间的不一致引起的问题！）。 ：轻巧，独立，可执行的软件包，其中包含运行应用程序所需的一切：代码，运行时，系统工具，系统库和设置。</p><p>  This image can then be used on any environment running  Docker    (or a compatible tool like  Kubernetes    ) to directly run       meltano commandsin the context of your project, without needing to separately manage the installation ofMeltano, your project&#39;s plugins, or any of their dependencies.</p><p>  然后，可以在运行Docker的任何环境（或兼容的工具，如Kubernetes）上使用此映像，以在项目上下文中直接运行meltano命令，而无需分别管理Meltano，项目的插件或任何其他项目的安装。他们的依赖性。 </p><p>  # For these examples to work, ensure that # Docker has been installeddocker --version # Add Docker files to your projectmeltano  add files docker # Build Docker image containing # Meltano, your project, and all of its pluginsdocker build --tag meltano-demo-project:dev</p><p>＃为了使这些示例正常工作，请确保＃已安装Docker docker --version＃将Docker文件添加到您的项目中meltano添加文件docker＃构建包含＃Meltano，您的项目及其所有插件的Docker镜像docker build --tagmeltano-demo -项目：开发</p><p>   # View Meltano versiondocker run meltano-demo-project:dev --version # Run gitlab-to-jsonl pipeline with # mounted volume to exfiltrate target-jsonl outputdocker run  \ --volume   $(  )/output:/project/output  \ meltano-demo-project:dev  \ elt tap-gitlab target-jsonl --job_id =gitlab-to-jsonl</p><p>   ＃查看Meltano版本docker运行meltano-demo-project：dev --version＃运行gitlab-to-jsonl管道并＃挂载卷以提取目标jsonl输出docker run \ --volume $（）/ output：/ project / output \ meltano -demo-project：dev \ elt tap-gitlab target-jsonl --job_id = gitlab-to-jsonl</p><p>  In line with  our current focus on data engineers comfortable with CLIs and version control,Meltano is optimized for usage through the   meltano CLIand direct changes to the   meltano.yml project file.</p><p>  与我们目前关注于能够使用CLI和版本控制的数据工程师一致，Meltano已针对meltano CLI的使用进行了优化，并直接更改了melano.yml项目文件。</p><p>  However, a web-based UI is also available for when you want to quickly check thestatus and most recent logs of your project&#39;s  scheduled pipelines,or if you want to give less technical team members or clients the option to  configure theirextractors, loaders, and pipelines themselves.</p><p>  但是，当您要快速检查项目的计划管道的状态和最新日志时，或者要让较少的技术团队成员或客户选择配置其提取程序的选项时，也可以使用基于Web的UI，加载程序和管道本身。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://meltano.com/">https://meltano.com/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/时代/">#时代</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/elt/">#elt</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/meltano/">#meltano</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>