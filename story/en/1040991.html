<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Bash 5.1已发布 Bash 5.1 has been released</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Bash 5.1 has been released<br/>Bash 5.1已发布 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-21 14:26:53</div><div class="page_narrow text-break page_content"><p>Introduction============The first public release of bash-5.1 is now available with the URLs ftp://ftp.cwru.edu/pub/bash/bash-5.1.tar.gz ftp://ftp.gnu.org/pub/gnu/bash/bash-5.1.tar.gzand from the master branch of the bash git repository( http://git.savannah.gnu.org/cgit/bash.git/log/)and the usual GNU mirror sites.Bash is the GNU Project&#39;s Bourne Again SHell, a completeimplementation of the POSIX shell spec, but also with interactivecommand line editing, job control on architectures that support it,csh-like features such as history substitution and brace expansion,and a slew of other features. For more information on the featuresof Bash that are new to this type of shell, see the file`doc/bashref.texi&#39;. There is also a large Unix-style man page. Theman page is the definitive description of the shell&#39;s features. This tar file includes the formatted documentation (pdf, postscript,dvi, info, and html, plus nroffed versions of the manual pages). Please use `bashbug&#39; to report bugs with this version. It is builtand installed at the same time as bash.Installation============Please read the README file first.Installation instructions are provided in the INSTALL file.New Features============This is the fifth major release of bash.Read the file NEWS in the bash-5.1 distribution for a complete descriptionof the new features. A copy of the relevant portions is included below. This release fixes several outstanding bugs in bash-5.0 and introducesseveral new features. The most significant change is a return to thebash-4.4 behavior of not performing pathname expansion on a word thatcontains backslashes but does not contain any unquoted globbing specialcharacters. This comes after a long POSIX discussion that resulted in achange to the standard. There are several changes regarding trap handlingwhile reading from the terminal (e.g, for `read&#39; and `select&#39;.) There are anumber of bug fixes, including several bugs that caused the shell to crash. Details are appended. The most notable new features are in the random number engine. There is anew variable, SRANDOM, which gets its random data from the system&#39;s entropyengine and so is not linear and cannot be reseeded to get an identicalrandom sequence. The PROMPT_COMMANDS array variable can be used to runmultiple commands before printing the primary prompt. Associative arrays maybe assigned using a series of key-value pairs within a compound assignment.`wait&#39; has a new `-p&#39; option which stores PID information about the processreaped by `wait -n&#39;. Process substitution is now available in posix mode.There are new parameter transformation operators. There is no new `compat50&#39;option; use the BASH_COMPAT variable to select the compatibility level.All the new features are described below.The most visible new feature is in Readline: the addition of `faces&#39;, whichhighlights the text between the point and mark (the region, so this is alsocalled the &#39;active region&#39;). This was added to show visibly the textinserted by bracketed paste, and also marks the text found by incrementaland non-incremental history searches. Faces are currently tied tobracketed paste and are enabled and disabled along with bracketed pastemode. Bracketed paste mode is enabled by default. There are a few incompatible changes between bash-5.0 and bash-5.1. Thechange to pathname expansion means that words containing backslashes, but nospecial globbing characters, will not undergo pathname expansion. Whilethe bash-5.0 behavior was POSIX-conformant, the change was not well-received.Changes to the random number engines mean that seeding RANDOM will producea different numeric sequence. Set the compatibility level to 50 to revertto the bash-5.0 behavior.Bash can be linked against an already-installed Readline library ratherthan the private version in lib/readline if desired. Only readline-8.1 andlater versions are able to provide all of the symbols that bash-5.1 requires;earlier versions of the Readline library will not work correctly. A complete list of changes between bash-5.0 and bash-5.1 is available inthe file CHANGES; the complete list is too large to include in thismessage. Readline========Also available is a new release of the standalone Readline library,version 8.1, with its own configuration scripts and Makefiles. It can be retrieved with the URLs ftp://ftp.cwru.edu/pub/bash/readline-8.1.tar.gz ftp://ftp.gnu.org/pub/gnu/readline/readline-8.1.tar.gzand from the master branch of the GNU readline git repository( http://git.savannah.gnu.org/cgit/readline.git/log/)and the usual GNU mirror sites.The formatted Readline documentation is included in the readlinedistribution tar file.A separate announcement listing the changes in Readline is beingdistributed.As always, thanks for your help.Chet+========== NEWS ==========+This is a terse description of the new features added to bash-5.1 sincethe release of bash-5.0. As always, the manual page (doc/bash.1) isthe place to look for complete descriptions.1. New Features in Basha. `bind -x&#39; now supports different bindings for different editing modes and keymaps.b. Bash attempts to optimize the number of times it forks when executing commands in subshells and from `bash -c&#39;.c. Here documents and here strings now use pipes for the expanded document if it&#39;s smaller than the pipe buffer size, reverting to temporary files if it&#39;s larger.d. There are new loadable builtins: mktemp, accept, mkfifo, csv, cut/lcute. In posix mode, `trap -p&#39; now displays signals whose disposition is SIG_DFL and those that were SIG_IGN when the shell starts.f. The shell now expands the history number (e.g., in PS1) even if it is not currently saving commands to the history list.g. `read -e&#39; may now be used with arbitrary file descriptors (`read -u N&#39;).h. The `select&#39; builtin now runs traps if its internal call to the read builtin is interrupted by a signal.i. SRANDOM: a new variable that expands to a 32-bit random number that is not produced by an LCRNG, and uses getrandom/getentropy, falling back to /dev/urandom or arc4random if available. There is a fallback generator if none of these are available.j. shell-transpose-words: a new bindable readline command that uses the same definition of word as shell-forward-word, etc.k. The shell now adds default bindings for shell-forward-word, shell-backward-word, shell-transpose-words, and shell-kill-word.l. Bash now allows ARGV0 appearing in the initial shell environment to set $0.m. If `unset&#39; is executed without option arguments, bash tries to unset a shell function if a name argument cannot be a shell variable name because it&#39;s not an identifier.n. The `test -N&#39; operator uses nanosecond timestamp granularity if it&#39;s available.o. Bash posix mode now treats assignment statements preceding shell function definitions the same as in its default mode, since POSIX has changed and no longer requires those assignments to persist after the function returns (POSIX interp 654).p. BASH_REMATCH is no longer readonly.q. wait: has a new -p VARNAME option, which stores the PID returned by `wait -n&#39; or `wait&#39; without arguments.r. Sorting the results of pathname expansion now uses byte-by-byte comparisons if two strings collate equally to impose a total order; the result of a POSIX interpretation.s. Bash now allows SIGINT trap handlers to execute recursively.t. Bash now saves and restores state around setting and unsetting posix mode, instead of having unsetting posix mode set a known state.u. Process substitution is now available in posix mode.v. READLINE_MARK: a new variable available while executing commands bound with `bind -x&#39;, contains the value of the mark.w. Bash removes SIGCHLD from the set of blocked signals if it&#39;s blocked at shell startup.x. `test -v N&#39; can now test whether or not positional parameter N is set.y. `local&#39; now honors the `-p&#39; option to display all local variables at the current context.z. The `@a&#39; variable transformation now prints attributes for unset array variables.aa. The `@A&#39; variable transformation now prints a declare command that sets a variable&#39;s attributes if the variable has attributes but is unset.bb. `declare&#39; and `local&#39; now have a -I option that inherits attributes and value from a variable with the same name at a previous scope.cc. When run from a -c command, `jobs&#39; now reports the status of completed jobs.dd. New `U&#39;, `u&#39;, and `L&#39; parameter transformations to convert to uppercase, convert first character to uppercase, and convert to lowercase, respectively.ee. PROMPT_COMMAND: can now be an array variable, each element of which can contain a command to be executed like a string PROMPT_COMMAND variable.ff. `ulimit&#39; has a -R option to report and set the RLIMIT_RTTIME resource.gg. Associative arrays may be assigned using a list of key-value pairs within a compound assignment. Compound assignments where the words are not of the form [key]=value are assumed to be key-value assignments. A missing or empty key is an error; a missing value is treated as NULL. Assignments may not mix the two forms.hh. New `K&#39; parameter transformation to display associative arrays as key- value pairs.ii. Writing history to syslog now handles messages longer than the syslog max length by writing multiple messages with a sequence number.jj. SECONDS and RANDOM may now be assigned using arithmetic expressions, since they are nominally integer variables. LINENO is not an integer variable.kk. Bash temporarily suppresses the verbose option when running the DEBUG trap while running a command from the `fc&#39; builtin.ll. `wait -n&#39; now accepts a list of job specifications as arguments and will wait for the first one in the list to change state.mm. The associative array implementation can now dynamically increase the size of the hash table based on insertion patterns.nn. HISTFILE is now readonly in a restricted shell.oo. The bash malloc now returns memory that is 16-byte aligned on 64-bit systems.pp. If the hash builtin is listing hashed filenames portably, don&#39;t print anything if the table is empty.qq. GLOBIGNORE now ignores `.&#39; and `..&#39; as a terminal pathname component.rr. Bash attempts to optimize away forks in the last command in a function body under appropriate circumstances.ss. The globbing code now uses fnmatch(3) to check collation elements (if available) even in cases without multibyte characters.tt. The `fg&#39; and `bg&#39; builtins now return an error in a command substitution when asked to restart a job inherited from the parent shell.uu. The shell now attempts to unlink all FIFOs on exit, whether a consuming process has finished with them or not.vv. There is a new contributed loadable builtin: asort.2. New Features in Readlinea. If a second consecutive completion attempt produces matches where the first did not, treat it as a new completion attempt and insert a match as appropriate.b. Bracketed paste mode works in more places: incremental search strings, vi overstrike mode, character search, and reading numeric arguments.c. Readline automatically switches to horizontal scrolling if the terminal has only one line.d. Unbinding all key sequences bound to a particular readline function now descends into keymaps for multi-key sequences.e. rl-clear-display: new bindable command that clears the screen and, if possible, the scrollback buffer (bound to emacs mode M-C-l by default).f. New active mark and face feature: when enabled, it will highlight the text inserted by a bracketed paste (the `active region&#39;) and the text found by incremental and non-incremental history searches. This is tied to bracketed paste and can be disabled by turning off bracketed paste.g. Readline sets the mark in several additional commands.h. Bracketed paste mode is enabled by default.i. Readline tries to take advantage of the more regular structure of UTF-8 characters to identify the beginning and end of characters when moving through the line buffer.j. The bindable operate-and-get-next command (and its default bindings) are now part of readline instead of a bash-specific addition.k. The signal cleanup code now blocks SIGINT while processing after a SIGINT.-- ``The lyf so short, the craft so long to lerne.&#39;&#39; - Chaucer ``Ars longa, vita brevis&#39;&#39; - HippocratesChet Ramey, UTech, CWRU chet@case.edu  http://tiswww.cwru.edu/~chet/</p><p>Warning: Can only detect less than 5000 characters</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://lists.gnu.org/archive/html/info-gnu/2020-12/msg00003.html">https://lists.gnu.org/archive/html/info-gnu/2020-12/msg00003.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/发布/">#发布</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/bash/">#bash</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/warning/">#warning</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>