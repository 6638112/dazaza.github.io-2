<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我被黑客入侵，丢失了密码，以及它对苹果安全的影响。第1部分</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">我被黑客入侵，丢失了密码，以及它对苹果安全的影响。第1部分</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-25 23:35:13</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/bb450f3c4ce0e78b8a9885b9cad6308d.jpeg"><img src="http://img2.diglog.com/img/2020/10/bb450f3c4ce0e78b8a9885b9cad6308d.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>I was hacked. The attacker gained access to several of my accounts (Apple Cloud, Yahoo, Gmail, Telegram), found private keys, mnemonic seeds and drained several thousand dollars worth of crypto.</p><p>我被黑了。攻击者进入了我的几个账户(Apple Cloud、雅虎、Gmail、Telegram)，发现了私钥、助记符种子，并盗走了价值数千美元的密码。</p><p> In this article, I’ll try to recreate the exact timeline of events, the damage, commentary on how this could have happened. I’ll also talk about a few moments that I don’t yet understand (mostly around 2FA) and hope my readers will be able to help me out. I’ll also share a few tips about what you can do today to protect yourself from the attack that happened to me.</p><p>在这篇文章中，我将试图重现事件的确切时间线，损失，以及对这一事件如何发生的评论。我还会讲几个我还不明白的时刻(大部分在2FA左右)，希望我的读者能帮助我。我还将分享一些小贴士，告诉你今天可以做些什么来保护自己免受发生在我身上的攻击。</p><p>  T he events took place on Sunday morning,  October 4th, 2020. Between  9am and 11am, GMT+8. I was not home, far away from my two MacBooks. They were in hibernate mode, locked, lids closed, at home. The night before, I finished setting up my brand new MacBook Pro (2020).</p><p>这些活动发生在2020年10月4日星期日上午。早上9点到11点，格林尼治标准时间+8。我不在家，离我的两台MacBook很远。他们在家中处于冬眠模式，锁着，盖上了盖子。前一天晚上，我完成了我全新的MacBook Pro(2020)的安装。</p><p> I received my new (certified refurbished, directly from Apple) MacBook on Friday (Oct 2nd). Saturday ~8pm I finished setting it up. Sunday, ~9:14am the attack started. I suddenly started receiving 2FA SMS notifications on my phone. Here we go:</p><p>我在周五(10月2日)收到了我的新MacBook(认证翻新，直接来自苹果)。周六晚上8点，我完成了设置。周日上午9点14分，袭击开始。我突然开始收到手机上的2FA短信通知。我们开始吧：</p><p> 9:14am — I receive a notification of a new login into my Telegram. Prior to that I  did not receive any 2FA code from Telegram through SMS, or Telegram’s chat history. (Did the attacker delete the code? Telegram doesn’t send you confirmation SMS codes if you are logged in on several devices and instead sends the code within the app.</p><p>上午9：14-我收到新登录电报的通知。在此之前，我没有通过短信收到Telegram的任何2FA代码，也没有收到Telegram的聊天记录。(攻击者是否删除了代码？如果你登录了多个设备，Telegram不会向你发送确认短信代码，而是在应用程序内发送代码。</p><p>    9.18am — Immediately after, I got this login confirmation email from Yahoo. “We sent a code to &lt;phone number&gt;  which was used to sign in to your Yahoo account”:</p><p>上午9点18分--刚过，我就收到了雅虎发来的登录确认电子邮件。“我们向&lt；电话号码&gt；发送了一个代码，该代码用于登录您的Yahoo帐户”：</p><p>      The attacker synched their Chrome with the account. Which means all the passwords that were stored in the Googles Password Manager of that account leaked. Chrome provides an easy CSV export of all your stored passwords. I assume the attacker used just that. Exported passwords were used as a dictionary in the following steps of the attack.</p><p>攻击者将他们的Chrome与账户同步。这意味着存储在该帐户的Google密码管理器中的所有密码都泄露了。Chrome为您存储的所有密码提供轻松的CSV导出。我猜袭击者就是这么用的。在攻击的以下步骤中，导出的密码被用作字典。</p><p>  9.28am — Apple 2FA call. I pickup. The robo-voice reads out my 2FA and the line drops.</p><p>上午9点28分-苹果公司2FA电话。我来接电话。机器人的声音读出了我的2FA，线就掉了下来。</p><p>    By  9.40am I reached home. Stress is through the roof + I was sweaty after the ~3hour morning cycle. I’m opening my laptops, trying to understand what’s going on. Started changing more passwords. When suddenly:</p><p>上午9点40分，我回到了家。压力是通过屋顶的+我在大约3小时的早晨循环后大汗淋漓。我正在打开我的笔记本电脑，试着了解发生了什么事。开始更改更多密码。突然间：</p><p> 10:09am — I’m receiving notifications that some tokens moved from one of my wallets.</p><p>上午10点09分-我收到通知说，我的一个钱包里有一些代币被拿走了。</p><p>      The hacker moved ~$800 ETH, ~$1700 hard-earned UNIs, ~$209.73 ETH/BTC RSI set, ~$40 worth of WBTC, 27 DAI, etc… totalling $3k++</p><p>黑客移动了约800ETH、约1700美元辛苦赚取的UNI、约209.73 ETH/BTC RSI套装、价值约40美元的WBTC、27 DAI等…。总计$3000++。</p><p>  I had some old hot wallets stored in my iCloud. Some as a file. Some as a password protected note in Apple Notes. I’m quickly realizing that the issue got escalated to a whole new level. And a few seconds later I realized that I should start withdrawing funds myself from all the wallets that ever touched my iCloud. Transferring crypto is stressful on its own — there is always a risk of sending money to a wrong address, and losing them forever. Doing transfers under pressure, where every second counts, is next level. I did my best. “Do I transfer all the tokens first? Or all the ether? What’s more valuable? What will the hacker go after first?” — a thousand thoughts race through my head.</p><p>我的iCloud里储存了一些旧的热钱包。有些是以文件的形式存在的。有些在Apple Notes中作为受密码保护的笔记。我很快意识到这个问题已经升级到了一个全新的水平。几秒钟后，我意识到我应该开始从所有触碰过我的iCloud的钱包中提取资金。转移密码本身就有压力-总是有把钱寄到错误的地址，并永远失去它们的风险。在压力下进行转会，在那里每一秒都很重要，是下一个层次。我已经尽力了。“我要先把所有的代币都转账吗？还是所有的乙醚？哪个更值钱？黑客首先要找的是什么？“--千头万绪掠过我的脑海。</p><p> Tuesday — I try investigating what happened. Just in case someone physically accessed my laptops, I decided to look at the logs.</p><p>星期二-我试着调查发生了什么。为了以防万一有人访问了我的笔记本电脑，我决定看看日志。</p><p>   I didn’t notice any activity during the hours I was hacked. My laptops were asleep. Lids were closed. I do recall some battery activity, but I didn’t find it meaningful. Most macs wake up for a few seconds or ms to perform some maintenance activity.</p><p>在我被黑客攻击的几个小时里，我没有注意到任何活动。我的笔记本电脑睡着了。盖子是合上的。我确实记得有一些电池活动，但我觉得没有什么意义。大多数MAC唤醒几秒钟或几毫秒以执行一些维护活动。</p><p> Wednesday night — my old laptop is acting a bit slow (as usual), and I decided to restart it. When it started booting up, it went into “Installation” mode. That while screen when mac has a major OS X update. I don’t remember any new OS X versions coming out, or any update pending installation… naturally, I became suspicious. After waiting a few minutes for installation to complete, it wasn’t making much progress. I thought that, given the recent hack, I better not risk it. Last thing I want is for some malware to format my hard drive. So I force-shut down my mac. And took it to the Apple store the next day.</p><p>星期三晚上-我的旧笔记本电脑有点慢(和往常一样)，我决定重新启动它。当它开始启动时，它进入了“安装”模式。当Mac有一个重大的OS X更新时，它就会显示出来。我不记得有任何新的OS X版本问世，也没有任何等待安装…的更新。自然，我产生了怀疑。在等待安装完成几分钟后，没有取得太大进展。我想，考虑到最近的黑客攻击，我最好不要冒险。我最不想看到的就是一些恶意软件格式化我的硬盘。所以我强行关闭了我的Mac。第二天就把它带到了苹果店。</p><p> Thursday — I got to the Apple Store. I’m quite surprised that no one at Apple seems to understand how to even work with the CLI, once rebooting the computer. The Genius that was assisting me, said that I’m more knowledgeable than he was after 10 mins of conversation. (He was very nice though.) Not what I wanted to hear at that moment. Anywho. We rebooted up the machine with an external hard drive. I moved my important files out. And we proceeded to reboot my laptop up again. After 20 min or so, my laptop finally starts. Nothing was formatted. I was happy… for a moment.</p><p>星期四--我去了苹果专卖店。令我相当惊讶的是，在重启电脑之后，苹果公司似乎没有人理解如何使用CLI。协助我的天才说，经过10分钟的交谈，我比他更有见识。(不过他人很好。)。这不是我当时想听到的。不管是谁。我们用外置硬盘重新启动了机器。我把我的重要文件搬出去了。然后我们又重新启动了我的笔记本电脑。大约20分钟后，我的笔记本电脑终于启动了。未格式化任何内容。我很高兴，…。就一会儿。</p><p> Apple Genius managed to find amore Senior Genius and handed over the case to him. Just by a coincidence that guy has a background in cyber forensics. However, Apple retail store policies don’t allow him to share his own opinion or interact with my machines beyond a basic “let’s re-install the OS” level.</p><p>苹果天才设法找到了更多的资深天才，并将案件交给了他。只是巧合那家伙有网络取证背景。然而，苹果零售店的政策不允许他分享自己的观点或与我的机器互动，这超出了基本的“让我们重新安装操作系统”的级别。</p><p>  if you are storing private keys or mnemonics in your Apple Notes or iCloud — they are up for grabs. Even if you have 2FA. Even if your Notes are password protected. Use a hardware wallet for everything, no matter how much crypto you hodl.</p><p>如果您将私钥或助记符存储在您的Apple Notes或iCloud中，您可以随时使用它们。即使你有2FA。即使您的笔记受密码保护。任何东西都要用硬件钱包，不管你有多少密码。</p><p> Do set up Telegram 2FA password now. If your Telegram gets hacked and you don’t have a password set — hackers  will set it for you. And the only way to reset it would be to reset your whole account.</p><p>请立即设置电报2FA密码。如果您的电报遭到黑客攻击，而您没有密码设置，黑客会为您设置密码。重置它的唯一方法就是重置你的整个账户。</p><p> Make sure you don’t have any password reuse. Not even partial. Have unique passwords for every new service you sign up for. Store them in a password manager. Don’t store your main email in the password manager. Remember some main master passwords and don’t reuse them either.</p><p>确保您没有任何密码重复使用。甚至不是部分的。为您注册的每项新服务设置唯一的密码。将它们存储在密码管理器中。不要将您的主电子邮件存储在密码管理器中。记住一些主要的主密码，也不要重复使用它们。</p><p> Do not save passwords in your Chrome. Or, if you do, make sure your Google account has multiple levels of 2FA. SMS is not one of them.</p><p>不要将密码保存在您的Chrome中。或者，如果你这样做了，确保你的谷歌账户有多个级别的2FA。短信不是其中之一。</p><p>  When you leave your laptop unattended, or close it for the night, make sure to turn WiFi off. Or, better, shut it down completely.  Closing the lid and putting it in the hibernate mode is not enough. Your laptop can wake up at any time, even when the lid is close and remote code can be executed.</p><p>当你的笔记本电脑无人看管或晚上关机时，一定要关掉WiFi。或者，更好的做法是完全关闭它。合上盖子并将其置于休眠模式是不够的。您的笔记本电脑可以随时唤醒，即使在盖子关闭并且可以执行远程代码的情况下也是如此。</p><p>  MalwareBytes — that’s what Apple recommends and it works. Free version is good enough for a periodic check.</p><p>Malwarebytes--这是苹果推荐的，而且很管用。免费版本对于定期检查来说已经足够好了。</p><p>  In Part 2 I’ll write about  incident response,  forensics,  chain analysis, and hopefully an  identification of the attacker. I’ve reached out to a few friends from cyber sec and blockchain space to help me out and piece together the puzzle. If you’d like to participate, help analyse the attack and (hopefully) identify the attacker please contact me on Twitter ( https://twitter.com/ksaitor) and jump in to our  Google Doc.</p><p>在第2部分中，我将介绍事件响应、取证、链分析以及攻击者的身份识别。我已经联系了几个来自网络安全和区块链领域的朋友，帮助我解决问题，拼凑出这个谜团。如果你想参与，帮助分析攻击并(希望)识别攻击者，请在推特(https://twitter.com/ksaitor))上与我联系，并跳转到我们的Google Doc。</p><p>  James Pavur,  Daniel Aaron,  Tushar Singal,  Sebastien Couture,  Hitesh Suresh — thank you guys for providing feedback and helping bring more clarity to this incident!</p><p>James Pavur，Daniel Aaron，Tushar Singal，Sebastien Couture，Hitesh Suresh-感谢你们提供反馈并帮助澄清这一事件！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://ksaitor.medium.com/how-i-got-hacked-lost-crypto-and-what-it-says-about-apples-security-part-1-83c107beae9">https://ksaitor.medium.com/how-i-got-hacked-lost-crypto-and-what-it-says-about-apples-security-part-1-83c107beae9</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/黑客/">#黑客</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/密码/">#密码</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/安全/">#安全</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1031100.html"><img src="http://img2.diglog.com/img/2020/10/thumb_55364cf3c63fbb00b567a63956745264.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031100.html">黑客劫持并公布数百人的心理健康数据</a></div><span class="my_story_list_date">2020-10-25 23:4</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030875.html"><img src="http://img2.diglog.com/img/2020/10/thumb_ae46367f63616c73317585a3e56e0732.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030875.html">威胁生命的化学品制造商攻击背后的黑客受到制裁</a></div><span class="my_story_list_date">2020-10-24 7:52</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030845.html"><img src="http://img2.diglog.com/img/2020/10/thumb_0f92905f84f6ac2fac3a999f9f219b43.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030845.html">官员们说，俄罗斯黑客组织Energy Bear在3月份的一次攻击中侵入了SFO工作人员和旅行者用来访问机场Wi-Fi的系统</a></div><span class="my_story_list_date">2020-10-24 7:41</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030626.html"><img src="http://img2.diglog.com/img/2020/10/thumb_af0edc26e8e5ed09a1f1e6c52f22308b.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030626.html">黑客说他猜对了特朗普的推特密码--密码是“maga2020！”</a></div><span class="my_story_list_date">2020-10-23 2:14</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>