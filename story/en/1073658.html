<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Matplotlib简介：制作心脏信息跟踪器A Brief Intro to Matplotlib: Making a Heart Information Tracker</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">A Brief Intro to Matplotlib: Making a Heart Information Tracker<br/>Matplotlib简介：制作心脏信息跟踪器</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2022-02-17 01:27:50</div><div class="page_narrow text-break page_content"><p>I’ve spent a bit more time interacting with doctors lately than I would usually prefer, and they always tell me I have high blood pressure. I thought it was  white coat syndrome. So, I decided to take my blood pressure every day for a week, record the information, and plot my results (to prove I’m right). Here’s a quick guide on how I used  matplotlib to create a heart rate tracker.</p><p>我最近花在与医生互动上的时间比我通常希望的要多，他们总是告诉我我有高血压。我以为是白大衣综合症。因此，我决定在一周内每天测量血压，记录信息，并绘制结果图（以证明我是对的）。下面是我如何使用matplotlib创建心率跟踪器的快速指南。</p><p>  Some quick information about blood pressure: when reading blood pressure, the higher number is the systolic reading and the lower number is the diastolic reading. More information on both can be found  here. Both readings are measured in millimeters per mercury (mmHg), and how we fit a planet into our blood is beyond me…</p><p>一些关于血压的快速信息：当读取血压时，较高的数字是收缩压读数，较低的数字是舒张压读数。更多关于这两方面的信息可以在这里找到。这两个读数都是以毫米每汞柱（mmHg）为单位测量的，我们如何让一颗行星融入我们的血液是我无法理解的…</p><p>   I used Python with  NumPy and  Matplotlib to parse and plot my data. Numpy is widely used in the scientific community as an open-source library for array manipulation and numerical computing. Matplotlib is a community-developed plotting library for Python that takes advantage of NumPy. I captured my data using a standard blood pressure reader.</p><p>我将Python与NumPy和Matplotlib结合使用来解析和绘制数据。Numpy作为一个用于阵列操作和数值计算的开源库，在科学界被广泛使用。Matplotlib是一个社区开发的Python绘图库，它利用了NumPy。我用标准的血压读数器获取了数据。</p><p>   I recorded my data in an external file and formatted it as  json. I then imported it into my program and parsed the data. You may record your data in similar ways or simply hardcode the data into the program.  My data looks something like this:</p><p>我将数据记录在一个外部文件中，并将其格式化为json。然后我将其导入我的程序并解析数据。您可以用类似的方式记录数据，或者简单地将数据硬编码到程序中。我的数据如下所示：</p><p>  I then iterated over my data and populated the NumPy arrays. Matplotlib requires NumPy arrays to plot data. In this case, I am pulling the dates and the heart information out of my data.</p><p>然后我迭代我的数据并填充NumPy数组。Matplotlib需要NumPy数组来打印数据。在本例中，我从数据中提取日期和心脏信息。</p><p> def parse_data_dates_sys_dia_pulse(json_data): dates =[] systolic_data = []  diastolic_data = []  pulse_data = []  for data in json_data[&#39;heart_info&#39;]: dates = np.append(dates, data[&#39;date&#39;]) systolic_data = np.append(systolic_data, data[&#39;systolic&#39;]) diastolic_data = np.append(diastolic_data, data[&#39;diastolic&#39;]) pulse_data = np.append(pulse_data, data[&#39;pulse&#39;]) return dates,systolic_data, diastolic_data,pulse_data</p><p>def解析数据日期系统直径脉冲（json数据）：</p><p>  I can now start plotting! I’ll be using my “dates” array as my x-axis. If I wanted to do a very basic plot, I could simply plot my dates and my systolic reading on those days. I do that by running the following code:</p><p>我现在可以开始策划了！我将使用“日期”数组作为x轴。如果我想画一个非常基本的曲线图，我可以简单地画出我的日期和那些日子的收缩指数。我通过运行以下代码来实现这一点：</p><p>    Now I have a simple plot! This means very little though, so let’s add more information. I can add labels to my plot using these functions:</p><p>现在我有一个简单的情节！这意味着非常少，所以让我们添加更多信息。我可以使用以下功能将标签添加到绘图中：</p><p>  In addition to my systolic readings, I want to plot my diastolic readings over the week (preferably on the same graph). It’s as easy as calling the plot function a second time but with diastolic data instead. The code looks like this:</p><p>除了收缩压读数，我还想绘制一周的舒张压读数（最好在同一张图上）。这就像第二次调用plot函数一样简单，但使用的是舒张数据。代码如下所示：</p><p>    Now, that’s difficult to decipher and read, so let’s style the lines and provide a legend. We can add a label to the lines and legend by passing a  label value to the plot call. We can also style the lines by passing a  linestyle value to the plot call. Below is the final graph:</p><p>现在，这很难理解和阅读，所以让我们设计线条并提供一个图例。通过向绘图调用传递标签值，我们可以向线条和图例添加标签。我们还可以通过将linestyle值传递给plot调用来设置线条的样式。下面是最终的图表：</p><p>   plt.title(&#34;Blood pressure&#34;)plt.xlabel(&#34;dates&#34;)plt.ylabel(&#34;mmHg&#34;)plt.plot(dates, systolic_data, label = &#34;systolic&#34;, linestyle=&#34;solid&#34;)plt.plot(dates, diastolic_data, label = &#34;diastolic&#34;, linestyle=&#34;dashed&#34;)plt.legend()plt.show()</p><p>plt。标题（&#34；血压&#34；）</p><p>  During this week I also recorded my pulse, so here is a graph I created showing my pulse rate:</p><p>这周我还记录了我的脉搏，下面是我创建的一个图表，显示了我的脉搏率：</p><p> Originally I thought about putting all three readings on the same graph to show correlation. However, blood pressure and pulse rate are measured in two different units, beats per minute and planets per millimeter. I broke the data off into two different charts because, well, Mercury can’t fit on a graph, but mostly to keep the data consistent and legible.</p><p>起初，我想把所有三个读数放在同一个图表上，以显示相关性。然而，血压和脉搏率是以两种不同的单位测量的，即每分钟的心跳数和每毫米的行星数。我把数据分成了两个不同的图表，因为水星不能放在图表上，但主要是为了保持数据的一致性和易读性。</p><p>  I hope this was a helpful introduction to Matplotlib. It was a great opportunity for me to revisit some quick hobby programming and prove myself right at the same time. You can take this code further by providing annotations or jazzing up the display. I plan to eventually host this information on a website to show to my doctors! Turns out I just have White Coat Syndrome.</p><p>我希望这是对Matplotlib的有益介绍。这对我来说是一个很好的机会，让我重新审视一些快速的业余爱好编程，同时证明自己是对的。您可以通过提供注释或增强显示效果来进一步理解这段代码。我计划最终在一个网站上发布这些信息，展示给我的医生！结果我只是得了白大衣综合症。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/简介/">#简介</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/数据/">#数据</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>