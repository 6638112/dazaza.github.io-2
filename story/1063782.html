<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ZLD：进入，更快的Apple链接器版本 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">ZLD：进入，更快的Apple链接器版本 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-06 07:51:34</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/6/b085dbf7abf28967f5ea054b01fc18ac.png"><img src="http://img2.diglog.com/img/2021/6/b085dbf7abf28967f5ea054b01fc18ac.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>对于大型项目，链接阶段（说明）可以显着增加增量构建时间。该项目是Apple Linker，LD的叉子。这是一个可以大大速度的替代品。</p><p>    如果您发现链接的链接至少为40％，请随时提交问题（确保连续运行两次以确保已生成缓存）。这里可以在此处找到进一步的基准详细信息。</p><p>  这一切都取决于您的风险容忍度以及您在增量构建时重视加速度的风险。当链接需要超过一秒钟时，i＆＃39; d用这个新的链接器削减该时间一半。如果这种差异对你有引人注目的话，那么它就值得尝试。就个人而言，我在具有现有链接时间的项目中使用它甚至可以为500ms（但是我是一个不耐烦的迂腐器）。</p><p>  ZLD从最近开放的LD版本中叉。在世界上许多最大的应用程序中，成千上万的开发人员使用了它＆＃39;在哈希周围没有一些优化，它会将与开源源相同的可执行文件生成字节。虽然它并不理想的混合编译器和链接工具链版本，但开源是最近的。 ZLL将继续使用每个新版本的LD更新，因为它被发布。</p><p>        获取zld的zld的路径，然后添加-fuse-ld =＆lt; zld＆gt; -wl，-zld_original_ld_path，$（dt_toolchain_dir）/ usr / bin / ld to＆＃34;其他链接器标志＆＃34;在构建设置（调试配置）中。那个-zld_original_ld_path提供链接器Xcode的路径将使用，否则将使用，这是重要的，因为存在某些已知的情况（例如ARM64_32和Catalyst），其中ZLD知道它具有问题，并且将默默地使用该链接器。修复这些情况是一项工作中的工作（大量阻止苹果缓慢释放源代码）。</p><p>    请注意，您需要禁用Sandbox以便现在工作。此外，为了使链接动作可缓存，必须确定到ZLD的路径（例如，例如/ TMP / ZLD-09EA158，其中09EA158是ZLD版本）。</p><p>     默认情况下，ZLD存储在/ TMP / ZLD -...中的某些元数据以加速。这是使ZLD成为真正增量链接器的第一步。目前，存储的唯一物品是对象文件和库名称。 </p><p>Apple＆＃39; S方法是一种非常合理的方法，使用具有STL数据结构的C ++。但是，有许多方法可以在其中筛选出来，例如：</p><p> 围绕字符串的散列优化（使用更好的散列函数等缓存哈希函数等）</p><p>  无论您是否使用此项目，还有许多可以加速链接的东西（再次，这仅用于调试版本）：</p><p> 链接器标志-wl，-random_uuid，它禁用基于内容散列的UUID创建，然后使用随机uuid（使用-no_uuid会在LLDB附加到二进制时降低性能）</p><p>  对于可执行文件和XCTEST捆绑包，禁用DYLD导出与-wl，-exported_symbols_list，/ dev / null导出trie创建（无法通过为xctest提供符号的测试主机应用程序使用）</p><p> -wl，-no_deduplicate，禁用重复数据删除通过。在Xcode中，默认情况下添加此标志进行调试构建。</p><p> -wl，-no_compact_unwind，它禁用Compact Beakind Info的创建。请注意，如果在未展开的异常展开，则无需其紧凑的展开信息，已链接的Objective-C和C ++功能可能会崩溃，而不是继续展开。然而，SWIFT函数不受影响（即使Objective-C / C ++异常展开）。所以，它最适合纯粹的Swift项目。它也可以破坏崩溃报告。 </p><p>-wl，-x，禁用将非全局符号放入符号表中。 只要仍然启用了调试信息，就会赢得＆＃39; t影响调试。  为zld做出贡献的最大方法是提交问题！ 如果您遇到任何问题，请随时提交问题，您可以预期响应提示。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/michaeleisel/zld">https://github.com/michaeleisel/zld</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/链接/">#链接</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/drop/">#drop</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1063695.html"><img src="http://img2.diglog.com/img/2021/6/thumb_9a3ebe2c08c0bfe080d05f4f3d3d72d6.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1063695.html">Apple，Mozilla，Google，Microsoft表单组标准化浏览器插件 </a></div><span class="my_story_list_date">2021-6-5 18:33</span></div><div class="col-sm"><div><a target="_blank" href="/story/1063683.html"><img src="http://img2.diglog.com/img/2021/6/thumb_53ba3fa08f5cf76f4705124cd1cb3277.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1063683.html">Apple员工呼吁以字母到Tim Cook的更灵活的遥控工作策略 </a></div><span class="my_story_list_date">2021-6-5 15:54</span></div><div class="col-sm"><div><a target="_blank" href="/story/1063680.html"><img src="http://img2.diglog.com/img/2021/6/thumb_e5dce62858175ca43733378331eda9d7.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1063680.html">Apple解决了M1 Mac SSD在MacOS中的报告问题11.4 </a></div><span class="my_story_list_date">2021-6-5 15:14</span></div><div class="col-sm"><div><a target="_blank" href="/story/1063674.html"><img src="http://img2.diglog.com/img/2021/6/thumb_f477f648b08c281e33ed55ddeecc554e.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1063674.html">在给Tim Cook的一封信中，由大约80人写作和编辑，Apple员工推回一项要求他们于9月份返回办公室的政策 </a></div><span class="my_story_list_date">2021-6-5 13:14</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>