<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我希望在建立一个shopify app之前知道的 What I wish I knew before building a Shopify App</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">What I wish I knew before building a Shopify App<br/>我希望在建立一个shopify app之前知道的 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-20 09:16:21</div><div class="page_narrow text-break page_content"><p>I spent the last week building an App for the Shopify Marketplace. It was unlike anything I&#39;ve done before on the Web. Knowing some of the things I&#39;m going to share, before you start building, could save you some headache.</p><p>我花了上周为Shopify Marketplace构建一个应用程序。它是不像在网上完成的任何事情。了解我在开始建设之前要分享的一些事情，可以节省一些头痛。</p><p>    Once you start studying the documentation and examples you&#39;ll quickly notice all the examples use NodeJS and React. No big deal, right? That&#39;s what&#39;s all the rage these days, so it makes sense to build the docs to match that.</p><p>    一旦您开始研究文档和示例，请＆＃39; ll快速注意到所有示例都使用nodejs并反应。没什么大不了的，对吗？这＆＃39;这几天的所有愤怒都是什么样的愤怒，因此构建文档来匹配它是有意义的。</p><p> What wasn&#39;t so obvious to me is that the way their API, permissions and App requirements are setup result in making it really hard to use anything other than a Single Page Application (SPA).</p><p> 对我来说是什么＆＃39;它是对我来说显而易见的是，它的API，权限和应用程序要求的方式是设置的，结果使其真正难以使用单个页面应用程序（SPA）以外的任何内容。</p><p> If you think about it, it makes sense why. You&#39;re going to integrate your code into their proprietary platform, so they need the integration to be as straight forward as possible. Thus an SPA is a very good candidate.</p><p> 如果你想到它，它会有意义。您＆＃39;重新将代码集成到他们的专有平台中，因此他们需要整合尽可能直接。因此，水疗中心是一个非常好的候选人。</p><p> My problem wasn&#39;t as much that this requirement exists, but that this requirement is not made very obvious from the beginning. I chose to use technologies I am familiar (more backend focused). That came back to haunt me bigtime.</p><p> 我的问题不是这个要求存在的问题，但这要求从一开始就没有非常明显。我选择使用我熟悉的技术（更多的后端专注）。那回来困扰我的大休眠时间。</p><p>  Shopify offers a design framework for you to work with, in an effort to make all Shopify Apps on the marketplace look the same. Or at least very similar. This framework is called  Polaris. That is awesome!</p><p>  Shopify提供了一个设计框架，供您使用，努力使所有购物应用程序在市场上看起来相同。或者至少非常相似。此框架称为Polaris。太棒了！</p><p> Since I&#39;m more of a backend guy, I loved the idea of having a design framework to pick and choose components from. In a sense it&#39;s very similar to using bootstrap — or so I thought.</p><p> 自从我和一个后端的家伙中更多，我喜欢拥有设计框架来选择和选择组件的想法。在某种意义上，它非常类似于使用引导 - 或者我认为。 </p><p> It turns out the only components they offer are for react. There is no CSS file you can download, no HTML reference, no other implementation guide outside react. You can download the design files with the components, but as a developer that&#39;s an even bigger hurdle than the react components.</p><p>事实证明他们提供的唯一组件是为了做出反应。没有CSS文件可以下载，没有HTML参考，没有其他实施指南外部反应。您可以使用组件下载设计文件，而是作为比反应组件更大的障碍的开发人员。</p><p> For my App I decided to use community resources that support my chosen technology (VueJS). But it quickly turned out the community resources were outdated and incomplete. That fact is probaly also related a later point in this article (Their API is constantly changing).</p><p> 对于我的应用程序，我决定使用支持我所选择的技术的社区资源（Vuejs）。但它迅速证明社区资源过时和不完整。这个事实是Probily也相关的是本文中的稍后（他们的API不断变化）。</p><p>  Making an App for an ecommerce store will probably fall into one of two categories: Either you&#39;re making an App to export Data (to an ERP, custom PoS, CRM, PIM, etc) or to modify the customer experience on the store itself. Making an app in the first category is straight forward enough, you probably don&#39;t even need to make an &#34;embeded&#34; app. All you need is a server somewhere talking to the Shopify API.</p><p>  为电子商务商店制作一个应用程序可能会落入两类中的一个：您＆＃39;重新制作一个应用程序以导出数据（到ERP，自定义POS，CRM，PIM等）或修改客户体验存储自己。在第一类中制作一个应用程序直截了当，您可能不会＆＃39; t甚至需要制作一个＆＃34;嵌入＆＃34;应用程序。您所需要的只是某处与Shopify API交谈的服务器。</p><p> On the other hand, making an App to modify the customer experience on the shop is on a whole other level. Yet again the main problem seems to be the fact that shopify is a  proprietary platform.</p><p> 另一方面，制作一个应用程序来修改商店的客户体验是在整个其他层面上。然而，主要问题似乎是购物是一个专有平台的事实。</p><p> They offer excellent tools to modify your shop in the form of a Theme Editor, Template Editor and purchasable themes. Integrating with these solutions is very hard though.</p><p> 它们提供了优秀的工具，以以主题编辑器，模板编辑器和可购买的主题的形式修改您的商店。尽管如此，与这些解决方案集成非常困难。</p><p> Early on I decided that I don&#39;t want to require the user to install a custom theme that enables new features (because they&#39;d have to move away from their existing theme) and I don&#39;t want to require them to edit any template files. The reason is that I don&#39;t expect the user to be able to do anything beyond insertings a single tag (like for Google Analytics) and that can be one as a custom HTML element in the theme designer.</p><p> 我早些时候决定我想要求用户安装一个自定义主题，它能够实现新功能（因为它们＆＃39; d必须远离他们现有的主题），我不想要求他们编辑任何模板文件。原因是我不希望用户能够在插入单个标签（类似于Google Analytics）之外的任何事情，并且可以是主题设计器中的自定义HTML元素。</p><p> So that&#39;s the way I went: Installing my app only requires you to add a single HTML element to your page. Easy for the user, but harder for me to implement. I needed to build a widget that can hook itself into an existing page with a single script tag. It didn&#39;t turn out to be impossible, but definitely not something I&#39;ve done before.</p><p> 所以我去的方式＆＃39;安装我的应用程序只需要您将单个HTML元素添加到您的页面。容易对用户来说，但对我来说更难实现。我需要构建一个窗口小部件，可以使用单个脚本标记将其自身挂钩到现有页面中。它没有成为不可能的，但绝对不是我之前完成的。 </p><p>  Webhooks are a widley used technology and generally accepted as a good solution. This also applies to Shopify: Once you&#39;re all setup they work exactly as expected.</p><p>Webhooks是一个宽阔的使用技术，通常被接受为一个好的解决方案。这也适用于购物：一旦你＆＃39;重新设置他们完全按预期工作。</p><p> What came as a surprise to me is the way they need to be setup. Each and every webhook you want to listen to has to be setup via the REST API for  each Shop that has your App installed. That means you need to have some sort of install and update routine to manage the webhooks for each client.</p><p> 令我惊讶的是他们需要设置的方式。您想要通过REST API安装所安装应用程序的每个商店的每一个和每个Webhook都必须进行。这意味着您需要有某种安装和更新例程来管理每个客户端的Webhook。</p><p> I much prefer the way Stripe has solved this: You setup your webhook once in the backend and select the events you want from the UI. It&#39;s a onetime thing and I don&#39;t need to write any code.</p><p> 我更喜欢条纹已经解决的方式：您在后端中设置了Webhook一次，然后从UI中选择所需的事件。它＆＃39;是一个oneTime的东西，我不需要编写任何代码。</p><p> A big surprise was also the fact that there are  mandatory webhooks. They are related to GDPR and handle things like providing and deleting user data. Again, I think this is a good thing but came as a surprise and additional time spent on non-customer related things.</p><p> 一个大惊喜也是有强制性的Webhooks。它们与GDR相关，并处理提供和删除用户数据的内容。再次，我认为这是一件好事，但令人惊讶的是，在非客户相关的事情上花费了额外的时间。</p><p>  One of the reasons I wanted to try Shopify was the hope that they make a lot of the &#34;boring&#34; stuff easy. If you&#39;ve ever thought about starting a product you might know there are a bunch of things to consider: payments, refunds, a Privacy Policy, Terms of Service, accounts, forgotten passwords, cancellations, etc.</p><p>  我想要购物的原因之一是他们希望他们赚了很多＆＃34;无聊＆＃34;东西容易。如果您曾经考虑过启动产品，则可能知道有一堆需要考虑的事项：付款，退款，隐私政策，服务条款，账户，忘记密码，取消等。</p><p> This actually held true for almost everything. The only thing I found was strange, was the fact that you need to implement a payment workflow in your app. Right now I simply redirect to the payment page right after installation of the app. Then I need to check if the payment was complete and decide if I want to let the user on the app. Why can&#39;t Shopify handle this flow on their side? Sure, more control is probably great for some Apps, but why require each app to implement it&#39;s own payment flow, instead of having at least one built-in way of doing things?</p><p> 这实际上是几乎所有的一切。我发现的唯一是奇怪的事实是您需要在您的应用程序中实施付款工作流程。现在我只是在安装应用程序后重定向到付款页面。然后我需要检查付款是否完成并决定是否要让用户在应用程序上。为什么可以＆＃39; t购物在他们身边的流动？当然，一些应用程序可能很棒，但为什么需要每个应用程序来实现它＆＃39;自己的支付流，而不是至少有一个内置的做事方式？</p><p>  A new version of the Shopify API is released every  3 months. In general it&#39;s great how they have a steady and scheduled improvement cycle. But looking at their  changelog you get a different view on their pace of change. Most recently they annoucened  big changes for embeded apps.</p><p>  每3个月发布一次新版本的Shopify API。一般＆＃39;很大，他们如何具有稳定和预定的改进周期。但是看着他们的变更记录，你会在改变的步伐上得到不同的看法。最近，他们对嵌入式应用程序进行了大的变化。 </p><p> The point I&#39;m trying to make is that Shopify is a constantly changing ecosystem. That&#39;s great for existing clients and developers, but it also makes a lot of information and community resources outdated at an extreme rate. If you&#39;re new to the platform you might find perfectly functional and documented features deprecated only a few weeks after you start working with it.</p><p>点i＆＃39; m试图制作的是，购物是一个不断变化的生态系统。这对于现有的客户和开发人员而言，这也很棒，但它也使得很多信息和社区资源以极端的速度过时。如果您＆＃39;重新到达该平台的新功能，您可能会发现完美的功能和记录的功能，只需几周就在您开始使用它之后。</p><p>  As you can imagine I was refreshing my App a lot during development. With each refresh the app made a request to a resource. To my surprise every 10 refreshes or so, I would get a 404 error. For the hardcoded resource no less! It&#39;s frustrating to work with an API that already seems unreliable when testing locally.</p><p>  正如您可以想象在开发期间我正在刷新我的应用程序。每次刷新都会对资源提出了请求。每10个刷新左右，我会得到404错误。对于硬编码资源不太少！它令人沮丧的是，在本地测试时已经似乎已经不可靠的API令人沮丧。</p><p> I don&#39;t know if this was just a strange coincidence. Every Platform has some hiccups once in a while, but this didn&#39;t leave the best impression.</p><p> 我不知道这是否只是一个奇怪的巧合。每个平台有一段时间内有一些打嗝，但这没有留下最好的印象。</p><p>  During the development I have a few issues that forced me to take a break for a while. Not because I was frustrated, but because the Shopify Portal stopped working.</p><p>  在开发期间，我有一些问题迫使我休息一会儿。不是因为我受到了沮丧，而是因为购物门户停止工作。</p><p> One issue was that after merging my Trial Account into a Partner account, all pages simply errored out and I couldn&#39;t view any authenticated pages anymore. I had to delete all cookies for all shopify domains to get things to work agian.</p><p> 一个问题是，将我的试用账户合并到合作伙伴账户后，所有页面都已错误地出错，我可以再次查看任何经过身份验证的页面。我不得不删除所有购物域的所有cookie，以便到Agian。</p><p> Another issue was during the testing of my App. I was installing the App on my development store again and again (to test the installation procedure) and suddenly the Partner Portal stopped working alltogether. I took a break for an hour or so and things were back to normal, but left a bad impression.</p><p> 另一个问题是在测试我的应用程序期间。我再次在我的开发商店安装应用程序（要测试安装过程），突然间，Partner Portal停止了Work Alygether。我休息了一个小时左右，事情恢复正常，但留下了糟糕的印象。</p><p>  As mentioned above your App will be integrated into the Shopify backend. They achieve this via an iframe. In development you have two choices of working on your app:</p><p>  如上所述，您的应用程序将集成到Shopify后端。他们通过iframe实现了这一点。在开发中，您有两种在您的应用程序工作的选择： </p><p> Either you work in the Shopify Admin which is slower and requires a public HTTPS connection (usually solved via ngrok, as per the docs). Or, if you don&#39;t want to pay for yet another service, you can develop the App on your local machine like you&#39;re probably used to.</p><p>要么您在ShopIfy管理员中工作，速度较慢，需要公共HTTPS连接（通常根据文档通过NGROK解决）。或者，如果你不想支付又一位服务，你可以像你一样在本地机器上开发应用程序。＆＃39可能习惯了。</p><p> The later way of doing things has the downside that you might run into a few gotchas when testing your app for real. The iframe technique requires you to do a few things like framebusting for payment or oauth flows. Both things you&#39;ll probably never notice when developing locally.</p><p> 后来的做法的方式有缺点，你可能会在测试你的应用程序时遇到一些塔。 IFRAME技术要求您执行框架，以便付款或OAuth流程等一些事情。你的两者＆＃39; ll可能从来没有注意到当地开发。</p><p>  The last things that surprised me is that the SaaS part of shopify has zero (0) ways of modifying the checkout. The only way you can change things on the checkout page is via  Shopify Plus. Since that plan is marketed towards enterprise and doesn&#39;t even have a price listed on their landing page, I wouldn&#39;t call it the target audience for your typical Shopify Marketplace App. I suspect most of the Plus clients will have their own Shopify developers inhouse or via an Agency.</p><p>  我惊讶的最后一件事是Shopify的SaaS部分具有零（0）方式来修改结账。您可以通过shopify plus更改结帐页面上的唯一方法。自该计划以企业销售而且甚至在其着陆页上销售，我甚至在其着陆页上列出了价格，我将＆＃39; t称为您典型的Shopify Marketplace应用程序的目标受众。我怀疑大多数加上客户都将自己的购物者提供更多的人或通过代理商。</p><p>  Contrary to what this article might imply, I have a lot of good impressions about the Shopify Platform. The biggest downside I see is the focus on very specific technologies (such as React) that just aren&#39;t attractive to me and due to the staggering speed of change, community resources on other technologies are quickly outdated.</p><p>  与本文可能意味着什么相反，我对Shopify平台有很多良好的印象。我看到的最大的缺点是刚刚对我的特定技术（如反应）的重点是刚刚且对我有吸引力的，并且由于交错的变化速度，其他技术的社区资源很快过时了。</p><p>    I hope you enjoyed the article and maybe even learned something. If you would like to stay in contact I have a  mailing list or you can reach out to me via  social media.</p><p>    我希望你喜欢这篇文章，也许甚至学到了一些东西。如果您想留在联系我，我有一个邮件列表，或者您可以通过社交媒体与我联系。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://ma.ttias.ch/what-i-wish-i-knew-before-building-a-shopify-app.html">https://ma.ttias.ch/what-i-wish-i-knew-before-building-a-shopify-app.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/希望/">#希望</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/building/">#building</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/应用程序/">#应用程序</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>