<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Apache Spark的AutoML库</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Apache Spark的AutoML库</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-09-10 03:03:05</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/9/22c8d8eb40a7ff4515ebb6af66751af2.png"><img src="http://img2.diglog.com/img/2020/9/22c8d8eb40a7ff4515ebb6af66751af2.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>TransmogrifAI(发音为trăns-mŏgˈrə-fī)是一个运行在Apache Spark之上的用scala编写的automl库。它的开发重点是通过机器学习自动化和强制执行编译时类型安全性、模块性和重用的API来加速机器学习开发人员的工作效率。通过自动化，它实现了接近手动调整模型的精度，时间减少了近100倍。</p><p>泰坦尼克号数据集是机器学习社区中经常被引用的数据集。目标是建立一个机器学习模型，预测泰坦尼克号乘客名单中的幸存者。下面是如何使用TransmogrifAI构建模型：</p><p>导入COM。Salesforce公司。执行任务。_导入COM。Salesforce公司。执行任务。读者。_导入COM。Salesforce公司。执行任务。特征。_导入COM。Salesforce公司。执行任务。特征。类型。_导入COM。Salesforce公司。执行任务。舞台。实施。分类。_导入组织。阿帕奇人。火花。SparkConf导入组织。阿帕奇人。火花。SQL。SparkSession隐式Val Spark=SparkSession.builder.config(new SparkConf()).getOrCreate()import Spark。暗示。_//将泰坦尼克号数据作为DataFrame Val客运数据读取Data=DataReaders。Simple.csvCase[Passenger](path=pathToData).readDataset().toDF()//提取响应和预测器特征值(存活的，预测的)=FeatureBuilder.fromDataFrame[RealNN](乘客数据，响应=&#34；存活&#34；)//自动特征工程ValFeature Vector=Predictors.Transmogrify()//自动特征验证和选择Val CheckedFeature=Survied.sanityCheck(Feature ureVector，removeBadFeature=True)//自动模型选择ValPred=BinaryClassificationModelSelector().setInput(survived，CheckedFeature).getOutput()//设置TransmogrifAI工作流并训练模型VAL model=new OpWorkflow().setInputDataset(passengersData).setResultFeatures(pred).train()println(&#34；模型摘要：\n&#34；+Model.Summary。</p><p>评价3个Logistic回归模型，评价AUPR在[0.6751930383321765，0.7768725281794376]之间的16个随机森林模型，评价AUPR在[0.7781671467343991，0.8104798040316159]带有parameters：|---|-||模型参数的选定模型随机林分类器|值||-|模型类型|随机森林||功能子集策略|AUTO|杂质|GINI||MaxBins|32||MaxDepth|12||minInfoGain|0。001||MinInstancesPerNode|10||NumTrees|50||subsamplingRate|1.0||---|-|Model评估metrics：|-||指标名称|保留。输出集值|训练集值||-||精度|0.85|0.773851590106007||召回|0.6538461538461539|0.6930379746835443||F1|0.7391304347826088|0.7312186978297163||AUROC|0.8821603927986905|0.8766642291593114||AUPR|0.8225075757571668|0.850331080886535||错误|0.1643835616438356。|0.19682151589242053||TP|17.0|219.0||TN|44.0|438.0||FP|3.0|64.0||FN|9.0|97.0按相关性计算的||-|Top模型洞察力：|。-|-|最正面的见解|Correlation||---|--||性别=&#34；女性&#34；|0.5177801026737666||船舱=&#34；其他&#34；|0.3331391338844782||pClass=1|0.3059642953159715||---|--||顶级负面洞察力|相关||---|--||性别=&#34；男性&#34；|-0.5100301587292186||pClass=3|-0.5075774968534326||CABLOIN=NULL|-0.31463114463832633||---|--|Top模型洞察力使用CramersV：|---|-计算。-||最具洞察力|CramersV||---|--||性感|0.525557139885501||登上|0.31582347194683386||年龄|0.21582347194683386||---|--|。</p><p>虽然这可能看起来有点太神奇了，但对于那些想要更多控制的人来说，TransmogrifAI还提供了灵活性，可以完全指定要提取的所有特征和正在ML管道中应用的所有算法。有关完整文档、入门、示例、常见问题和其他信息，请访问我们的文档站点。</p><p>您只需将TransmogrifAI作为常规依赖项添加到现有项目即可。首先，从下面的版本矩阵中选择与您的项目依赖项匹配的TransmogrifAI版本(如果不确定，请选择稳定版本)：</p><p>存储库{jcenter()mavenCentral()}依赖项{//TransmogrifAI核心依赖项编译&#39；com.salesforce.transmogrifai:transmogrifai-core_2.11:0.7.0；//TransmogrifAI预先训练的模型，例如OpenNLP POS/NER模型等(Opti</p><p>//TransmogrifAI功能：要素类型、要素构建器、要素DSL、阅读器、聚合器等导入COM。Salesforce公司。执行任务。_导入COM。Salesforce公司。执行任务。聚合器。_导入COM。Salesforce公司。执行任务。特征。_导入COM。Salesforce公司。执行任务。特征。类型。_导入COM。Salesforce公司。执行任务。读者。_//火花丰富(可选)导入COM。Salesforce公司。执行任务。公用事业。火花。RichDataset。_导入COM。Salesforce公司。执行任务。公用事业。火花。RichRDD。_导入COM。Salesforce公司。执行任务。公用事业。火花。里希罗。_导入COM。Salesforce公司。执行任务。公用事业。火花。RichMetadata。_导入COM。Salesforce公司。执行任务。公用事业。火花。RichStructType。_</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/salesforce/TransmogrifAI">https://github.com/salesforce/TransmogrifAI</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/spark/">#spark</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/library/">#library</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/模型/">#模型</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>