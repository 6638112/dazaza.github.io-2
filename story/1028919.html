<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>签名交换(SXG)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">签名交换(SXG)</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-15 06:30:34</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/a2d565a2aac08ffdaaf5dbbd0406132e.jpg"><img src="http://img2.diglog.com/img/2020/10/a2d565a2aac08ffdaaf5dbbd0406132e.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>签名交换(SXG)是一种交付机制，它可以独立于资源的交付方式来验证资源的来源。本文提供了SXG的概述。</p><p>基于Chromium的浏览器支持SXG(从版本：Chrome 73、Edge 79和Opera 64开始)。</p><p>签名交换(SXG)允许站点对请求/响应对(HTTP交换)进行加密签名，从而使浏览器能够独立于内容的分发方式来验证内容的来源和完整性。因此，浏览器可以在地址栏中显示源站点的URL，而不是传递内容的服务器的URL。将内容归属与内容分发分开，可改进各种用例，如隐私保护预取、离线互联网体验和提供来自第三方缓存的内容。</p><p>SXG封装在一个二进制编码的文件中，该文件有两个主要组件：HTTP交换和签名。HTTP交换由请求URL、内容协商信息和HTTP响应组成。</p><p>格式版本：1B3Request：Method：Get URI：https://example.org/Header：Response：Status：200Header：Cache-Control：Max-Aage=604800摘要：mi-sha256-03=kcwVP6aOwYmA/j9JbUU0GbuiZdnjaBVB/1ag6miNUMY=Expires：Mon，Aug.24 2020 16：08：24 GMT Content-Type：Text/HTML；Charset=Utf-8 Content-Encoding：MI-sha256-03 Date：Mon，Aug 17 2020 16：08：24 GMT Variable：Accept-Encoding Signature：label；cert-sha256=*ViFgi0WfQ+NotPJf8PBo2T5dEuZ13NdZefPybXq/HhE=*；Cert-URL=&#34；Https://test.web.app/ViFgi0WfQ-NotPJf8PBo2T5dEuZ13NdZefPybXq_HhE&#34；；date=1597680503；expires=1598285303；integrity=&#34；digest/mi-sha256-03&#34；；sig=*MEUCIQD5VqojZ1ujXXQaBt1CPKgJxuJTvFlIGLgkyNkC6d7LdAIgQUQ8lC4eaoxBjcVNKLrbS9kRMoCHKG67MweqNXy6wJg=*；validity-url=&#34；https://example.org/webpkg/validity&#34；标头完整性：sha256-Gl9bFHnNvHppKsv+bFEZwlYbbJ4vyf4MnaMMvTitTGQ=交换具有有效签名。有效负载[1256字节]：&lt；！&gt；SXG示例正文{Background-color：#f0f0f2；March：0；PADDING：0；}您好。</p><p>签名中的Expires参数表示SXG的到期日期。ASXG的有效期最长为7天。如果SXG的过期日期在未来超过7天，浏览器将拒绝该SXG。在签名的HTTP Exchange规范中找到有关签名头的更多信息。</p><p>SXG是更广泛的WebPackaging规范提案家族的一部分。除了SXG，Web打包规范的另一个主要组件是Web捆绑包(捆绑的HTTP交换)。Web捆绑包是HTTP资源和解释捆绑包所需的元数据的集合。</p><p>SXG和Web捆绑包之间的关系是一个共同的混淆之处。SXGS和Web捆绑包是两种截然不同的技术，并不相互依赖-Web捆绑包既可以与签名的交换一起使用，也可以与未签名的交换一起使用。SXGS和Web捆绑包的共同目标是创建一种Web打包格式，允许整个站点共享以供离线消费。</p><p>SXG是基于Chromium的浏览器将实现的Web打包规范的第一部分。</p><p>最初，SXG的主要用例可能是作为页面主文档的交付机制。对于此用例，可以使用&lt；link&gt；或&lt；a&gt；标记以及LinkHeader引用SXG。</p><p>尽管理论上可以使用&lt；脚本&gt；或&lt；img&gt；标记引用SXG，但这不是使用SXG加载子资源的推荐方法。对SXG子资源加载的工具支持还不够成熟，因此本文档不涉及此用例-不过，您可以在签名Exchange子资源替代中阅读更多信息。</p><p>与其他资源一样，SXG可以通过在浏览器的地址栏中输入其URL来加载。</p><p>内容协商是一种机制，用于根据客户端的能力和偏好在相同的URL上提供相同资源的不同表示-例如，将资源的gzip版本提供给一些客户端，但将Brotli版本提供给其他客户端。内容协商使得根据浏览器的功能同时提供相同内容的SXG和非SXG表示成为可能。</p><p>Web浏览器使用AcceptRequest头来传达它们支持的MIME类型。如果浏览器支持SXGS，则MIME类型应用程序/签名交换将自动包括在此值列表中。</p><p>该字符串的application/sign-exchange；v=b3；q=0.9部分通知Web服务器Chrome支持SXGS-具体地说是b3版本。最后一部分q=0.9表示Q值。</p><p>Q值使用从0到1的小数位数表示浏览器对特定格式的相对偏好，1代表最高优先级。当没有为格式提供Q值时，1是隐含的值。</p><p>当Accept报头指示应用程序/签名交换的Q值大于或等于text/html的Q值时，服务器应该服务SXG。</p><p>以下正则表达式可用于匹配应用作SXG的请求的Accept标头：</p><p>请注意，子表达式(，|$)与省略了SXG的q值的头匹配；此省略意味着SXG的q值为1。尽管理论上Accept标头可以包含子字符串q=1，但实际上浏览器不会显式列出具有默认值1的格式的Q值。</p><p>可以通过在Chrome DevTools的“网络”面板的“类型”列中查找已签名的交换来标识已签名的交换。</p><p>从高层次上讲，实现SXG包括生成对应于给定URL的SXG，然后将该SXG提供给用户。要生成SXG，您需要一个可以签署SXG的证书。</p><p>证书将实体与公钥相关联。使用证书对SXG进行签名允许内容与实体相关联。</p><p>SXG的生产使用需要支持CanSignHttpExchange扩展的证书。根据规范，具有此扩展的证书的有效期不能超过90天，并且要求请求域配置了DNS CAArecord.。</p><p>此页列出了可以颁发此类证书的证书颁发机构。SXG的证书只能通过商业证书颁发机构获得。</p><p>Web Packager是一个开源的、基于Go的工具，它实际上是生成(打包)签名交换的工具。您可以使用它手动创建SXG，也可以将其用作自动创建和服务SXG的服务器。Web Packager目前处于Alpha版本。</p><p>生成SXG文件后，将其上传到您的服务器，并使用application/sign-exchange；v=b3MIME类型提供它。</p><p>Web Packagerserver(Webpkgserver)充当服务SXG的反向代理。给定URL后，webpkgserver将获取URL的内容，将其打包为SXG，并作为响应提供SXG。</p><p>在上面的示例中，运行在localhost：8080上的webpkgserver实例将把https://example.com的内容作为sxg返回。/priv/doc/是webpkgserver端点的默认名称。使用webpkgserver配置文件自定义此终结点的名称以及许多其他设置。</p><p>在生产中，webpkgserver不应使用公共端点。相反，前端Web服务器应该将SXG请求转发到webpkgserver。这些建议包含有关在前端边缘服务器后面运行webpkgserver的更多信息。</p><p>Nginx SXG模块生成并服务于SXG。已经使用Nginx的站点应该考虑使用此模块，而不是Web Packager Server。</p><p>Gen-SigneDexchange是WebPackage规范提供的一个工具，作为生成SXG的参考实现。由于功能集有限，gen-signeexchange对于尝试SXG很有用，但对于更大规模和生产用途则不切实际。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://web.dev/signed-exchanges/">https://web.dev/signed-exchanges/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/交换/">#交换</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/exchanges/">#exchanges</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/sxg/">#sxg</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1021988.html"><img src="http://img2.diglog.com/img/2020/9/thumb_8e731b59d18b04489cd2d78a44f1e80f.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1021988.html">EFF呼唤基于数据隐私的密码交换Coinbase</a></div><span class="my_story_list_date">2020-9-4 4:50</span></div><div class="col-sm"><div><a target="_blank" href="/story/technology_web2_16116.html"><img src="http://img.diglog.com/img/2007/4/thumb_f338306f30f4495e87ee946db260459f.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_web2_16116.html">宝物网</a></div><span class="my_story_list_date">2007-4-1 20:34</span></div><div class="col-sm"><div><a target="_blank" href="/story/technology_web2_7727.html"><img src="http://img.diglog.com/img/2006/10/thumb_dc018dd1-cc00-4319-8759-a244d7d055e6.gif" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_web2_7727.html">淘宝2.0？换客上线提倡易货，创造惊喜</a></div><span class="my_story_list_date">2006-10-20 17:5</span></div><div class="col-sm"><div><a target="_blank" href="/story/technology_internet_3474.html"><img src="http://img.diglog.com/img/2006/7/thumb_274b91d8-d86d-4823-b9fc-3caef90ff746.gif" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_internet_3474.html">国内首家专业网上换物平台：换物网</a></div><span class="my_story_list_date">2006-7-21 15:49</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>