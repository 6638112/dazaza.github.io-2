<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Percival：制作浏览器的感知广告阻止利用深度学习 Percival: Making In-Browser Perceptual Ad Blocking Practical with Deep Learning</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Percival: Making In-Browser Perceptual Ad Blocking Practical with Deep Learning<br/>Percival：制作浏览器的感知广告阻止利用深度学习 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-08 03:34:57</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/c9a2cf45be21d2325dd826a131ee0964.jpeg"><img src="http://img2.diglog.com/img/2021/3/c9a2cf45be21d2325dd826a131ee0964.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>In this project, we present Percival, a browser-embedded, lighweight, deep learning powered ad blocker. Percival is built into  Blink - Chromium Rendering Engine. Percival embeds itself into the image rendering pipeline, which makes it possible to intercept rendering of iframes, images created by complex JavaScript transformations as well as Gifs and regular images. Percival inspects these image frames and performs blocking based on deep learning image classification.</p><p>在这个项目中，我们呈现Percival，浏览器嵌入式，Lighpeight，深入学习的广告拦截器。珀塞瓦尔是眨眼 - 铬渲染引擎。 Percival将自己嵌入到图像渲染管道中，这使得可以拦截IFRame的渲染，由复杂的JavaScript变换以及GIF和常规图像创建的图像。 Percival检查这些图像帧并基于深度学习图像分类进行阻塞。</p><p>   Percival is positioned in the renderer process-which is responsible for creating rasterized pixels fromHTML, CSS, JavaScript. As the renderer process creates the DOM and decodes and rasterizes all image frames,these are first passed through Percival. Percival blocks the frames that are classified as ads. Thecorresponding output with ads removed is shown above(right)    * A 64 bit intel machine with 8GB of RAM. 16GB is recommended.* 100 GB free disk space* Python v2</p><p>   Percival位于渲染器过程中 - 这负责从HTML，CSS，JavaScript创建光栅化像素。随着渲染器进程创建DOM和解码并将所有图像帧进行重塑，它们首先通过Percival。 Percival阻止归类为广告的帧。删除的ADS对应的输出显示在上面（右）* 64位英特尔机器，带8GB的RAM。建议使用16GB。* 100 GB可用磁盘空间* Python v2</p><p>         After you exit out, it will generate the build files. For this project, we didn&#39;t use Icecc distributed compiler. We didn&#39;t use ccache either.</p><p>         退出后，它将生成构建文件。对于这个项目，我们没有使用ICECC分布式编译器。我们也没有使用ccache。</p><p>           To evaluate the performance of our system, we used top 5,000 URLs from Alexa to test against Chromiumcompiled on Ubuntu Linux 16.04, with and without our system activated. We also tested Percival in  Brave, aprivacy-oriented Chromium-based browser, which blocks ads using filter lists by default. For each experiment wemeasured render time. In our evaluation we show an increase of 178.23 ms of render time when running Percival in the rendering critical path of Chromium and 281.85 ms when running inside Brave browser with ad-blocker and shields turned on.</p><p>           为了评估我们的系统性能，我们使用Alexa的前5,000个URL来测试Ubuntu Linux 16.04上的ChromiumCompiled，有没有我们的系统激活。我们还测试了勇敢的面向近似的基于铬的浏览器的Percival，默认情况下会阻止使用过滤器列表的广告。对于每个实验，Wemeasured渲染时间。在我们的评估中，我们在使用Ad-Plocker和Shields打开时，在铬括号的关键路径和281.85ms的渲染临界路径中运行Percival时，我们显示了178.23 ms的渲染时间。</p><p> This delay is a function to the number and complexity of the images on the page and the time the classifier takes to classify each of them. We measure the rendering time impact when we classify eachimage synchronously.</p><p> 此延迟是对页面上图像的数量和复杂性的函数以及分类器所需的时间来对它们进行分类。当我们同步归类时，我们测量渲染时间影响。</p><p>    Results from browsing the web with Percival. Percival can block ads and sponsored content from popular websites.</p><p>    使用Percival浏览网页。 Percival可以阻止来自流行网站的广告和赞助的内容。</p><p>        We used Google Images as a way to fetch images from distributions that have high or low ad intent. For example, we fetched the results with the search query &#34;Advertisement&#34;.</p><p>        我们使用Google图像作为从具有高或低广告的分布获取图像的方法。例如，我们使用搜索查询＆＃34获取结果;广告＆＃34; </p><p>           Any web page can be thought of as a collection of HTML, CSS, and JavaScript code which is delivered over the network;the rendering engine parses this code and builds the DOM tree and Layout Tree and issues the OpenGL calls via  Skia(Google Graphics library)</p><p>任何网页都可以被认为是通过网络传送的HTML，CSS和JavaScript代码的集合;渲染引擎解析此代码并构建DOM树和布局树，并通过Skia发出OpenGL呼叫（Google Graphics库）</p><p> The browser, having built the DOM tree and processed the style-sheets calls the rendering engine next to determinethe visual geometry of all the elements, i.e. compute the coordinates of the rectangles corresponding to the regionsthese elements occupy on the screen; this is called layout stage, and the information is stored in the layout tree.Once the geometry of the objects is known, blink paints these elements, i.e. recording a paint operation in a list ofdisplay items (an abstraction for objects the user will see in the content area).</p><p> 浏览器构建了DOM树并处理了样式纸张，旁边调用渲染引擎旁边，以确定所有元素的可视几何，即计算与屏幕上的RegionSthese元素对应的矩形的坐标;这被称为布局阶段，信息存储在布局树中。将已知对象的几何形状，闪烁绘制这些元素，即在Display项目列表中记录绘制操作（用户将在其中查看用户的抽象内容区域）。</p><p> This is followed by the rasterization process, which takes these display items and turns them into bitmaps. Rasterizationissues OpenGL draw calls via the Skia library which abstracts hardware operations.</p><p> 这是光栅化进程，它采用这些显示项目并将其转换为位图。光栅化openGL通过摘要硬件操作的Skia库绘制呼叫。</p><p>   We would like to thank  Steven Kobes  Vladimir Levin  Aleksandar Stojiljkovic and the entire  Chromium Graphics Team for the extensive documentation, presentations and google docs detailing various parts of the graphics pipeline.</p><p>   我们要感谢Steven Kobes Vladimir Levin Aleksandar Stojiljkovic和整个铬图形团队，为广泛的文档，演示文稿和Google文档详细说明了图形管道的各个部分。</p><p> We would also like to thank  Tobias Hermann for  Frugally Deep. Percival uses a fork of  Frugally Deep.</p><p> 我们还要感谢托比亚斯·赫尔曼对节俭深刻。 Percival使用节俭深刻的叉子。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/dxaen/percival">https://github.com/dxaen/percival</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/深度学习/">#深度学习</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/制作/">#制作</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/making/">#making</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>