<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Git提交的波/粒子对偶 The Wave/Particle Duality of Git Commits</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">The Wave/Particle Duality of Git Commits<br/>Git提交的波/粒子对偶 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-25 09:08:35</div><div class="page_narrow text-break page_content"><p>A lot of my friends get confused when they encounter more advanced Git topics such as   git rebase.This misunderstanding typically arises during the first merge conflict that interrupts the rebase process.The central point of confusion is usually how Git can reapply one commit onto another.My friends are confused about why a snapshot could have a merge conflict.Shouldn’t it be obvious, they think, what the final state should be?</p><p>我的许多朋友在遇到更高级的Git主题（例如git rebase）时都会感到困惑。这种误解通常发生在第一次合并冲突中，从而打断了rebase过程。混乱的中心通常是Git如何将一个提交重新应用于另一个提交。我的朋友对为什么快照可能会发生合并冲突感到困惑。他们认为最终状态应该是什么不是很明显吗？</p><p> In order to understand what’s going on, it’s first necessary to take a quick detour into quantum physics—tongue planted firmly in cheek.</p><p> 为了了解正在发生的事情，首先必须快速绕过量子物理学-舌头牢固地扎在脸颊上。</p><p>  If you’re not already passingly familiar with this particular flavor of apparent quantum nonsense, I am afraid you’re about to get a lot more confused.It turns out that particles such as photons (and electrons, etc) have properties of both classical particles and waves.This leads to experimental results such as the well-known  double-slit experiment.If photons are fired through a slit onto a piece of film, they create a band where they passed through the slit, acting as if photons are particles.However, photons that pass through two side-by-side slits interfere with themselves to create an interference pattern on a piece of film, as if photons are waves.</p><p>  如果您还不太熟悉这种明显的量子胡话的特殊风格，恐怕您会变得更加困惑，事实证明，光子（和电子等）这样的粒子具有两种经典的特性。这会产生诸如众所周知的双缝实验之类的实验结果。如果光子通过狭缝发射到一片薄膜上，它们会在穿过狭缝的地方形成一个能带，就像光子是粒子一样但是，穿过两个并排狭缝的光子会相互干扰，从而在一片胶片上产生干涉图案，就好像光子是波一样。</p><p>  The upshot is that it is important to realize that photons are neither particles nor waves, but rather  something strange that behaves like both.</p><p>  因此，重要的是要认识到光子既不是粒子也不是波，而是表现出既像粒子又像波的某种奇怪事物。</p><p>   It’s easy to see that many Git operations treat commits as snapshots.Every Git user knows how to use  checkout:</p><p>   可以很容易地看到许多Git操作将提交视为快照。每个Git用户都知道如何使用checkout：</p><p> $ git checkout 42bd1ef5  &amp;&amp; ls -lhHEAD is now at 42bd1ef Adjust padding  for social linkstotal 48Kdrwxr-xr-x  2 georgev georgev 4.0K Jun  1  2019 archetypesdrwxr-xr-x  3 georgev georgev 4.0K Jun  1  2019 assetsdrwxr-xr-x  2 georgev georgev 4.0K Jun  1  2019 imagesdrwxr-xr-x  7 georgev georgev 4.0K Aug  25 13:27 layouts-rw-r--r--  1 georgev georgev 9.3K Jan  4 12:21 README.mddrwxr-xr-x  3 georgev georgev 4.0K Aug  15 01:01 static-rw-r--r--  1 georgev georgev  712 Jun  1  2019 theme.toml</p><p> $ git checkout 42bd1ef5＆amp;＆amp; ls -lhHEAD现在为42bd1ef调整社交链接的填充总计48Kdrwxr-xr-x 2 georgev georgev 4.0K Jun 1 2019原型sdrwxr-xr-x 3 georgev georgev 4.0K Jun 1 2019资产drwxr-xr-x 2 georgev georgev 4.0K 1月2019年图像drwxr-xr-x 7 georgev georgev 4.0K 8月25日13:27 layouts-rw-r--r-- 1 georgev georgev 9.3K 1月4日12:21 README.mddrwxr-xr-x 3 georgev georgev 4.0K 8月15日01:01 static-rw-r--r-- 1 georgev georgev 712 2019年6月1日theme.toml</p><p> But other commands, such as  show, output a unified diff—that is, a patch:</p><p> 但是其他命令（例如show）会输出统一的diff（即补丁）： </p><p> $ git show 42bd1ef5commit 42bd1ef5c5541815ad0ae4eba2c695387228e719Author: George Hilliard &lt;thirtythreeforty@gmail.com&gt;Date: Tue Dec 31 10:43:45 2019 -0600 Adjust padding for social links diff --git a/assets/scss/hyde-hyde/_sidebar.scss b/assets/scss/hyde-hyde/_sidebar.scss index 0686b42..6b34856 100644  --- a/assets/scss/hyde-hyde/_sidebar.scss  +++ b/assets/scss/hyde-hyde/_sidebar.scss  @@ -54,7 +54,7 @@  .social { text-align: center; a { - padding: 0 4px;  + padding: 0 7px;  @include link-no-decoration(); } }</p><p>$ git show 42bd1ef5commit 42bd1ef5c5541815ad0ae4eba2c695387228e719作者：George Hilliard＆lt; thirtythreeforty@gmail.com&gt;日期：星期二十二月31 10:43:45 2019-0600调整社交链接的填充diff --git a / assets / scs / de-hyside。 scss b /资产/scss/hyde-hyde/_sidebar.scss索引0686b42..6b34856 100644 --- a / assets / scss / hyde-hyde / _sidebar.scss +++ b / assets / scss / hyde-hyde / _sidebar .scss @@ -54,7 +54,7 @@ .social {text-align：center; {{-padding：0 4px; +填充：0 7px； @include link-no-decoration（）; }}</p><p> The same commit hash is present in both commands.There’s no “ --as-patch” or “ --as-snapshot” flags to indicate a difference.I am in fact referring to the  same object.What is going on?</p><p> 两个命令中都存在相同的提交哈希。没有“ --as-patch”或“ --as-snapshot”标志来表示差异。实际上，我指的是同一对象。这是怎么回事？</p><p> Commits, it seems, are neither patches nor snapshots until they are observed.Rather,  they are something strange  1 that can be treated as either a patch or a snapshot, just as a photon has properties of both a particle and a wave.</p><p> 看起来，提交既不是斑块也不是快照，除非它们被观察到。它们是一种奇怪的东西1，可以将其视为斑块或快照，就像光子既具有粒子又具有波动的性质一样。</p><p> When Git treats a commit as a patch, it appears as the difference between its snapshot and that of its parent.When Git treats a commit as a snapshot, it appears as the tree of files that were in the staging area when the commit was made.</p><p> 当Git将提交视为补丁时，它显示为快照与其父级快照之间的差异;当Git将提交视为快照时，它显示为进行提交时位于暂存区域中的文件树。</p><p> This duality of Git commits is what enables operations such as rebase.Git commands such as   rebase,   cherry-pick,   format-patch, etc, all treat a Git commit as a patch, rather than as a snapshot.When viewed this way, Git’s rebase operation suddenly makes a whole lot more sense: Git takes a string of commits, interprets them as patches, and applies them to the commit you specify.</p><p> Git提交的这种双重性使得能够执行诸如rebase之类的操作.rebase，cherry-pick，format-patch等Git命令都将Git提交视为补丁而不是快照。 rebase操作突然变得更加有意义：Git接受一串提交，将它们解释为补丁，并将其应用于您指定的提交。</p><p>  If this process goes smoothly, this creates a new string of commits, with the destination snapshot modified according to the original commits-as-patches.And so this is also why it’s possible for rebase to create “merge conflicts:” it’s the patches, not that snapshots, that won’t apply cleanly.</p><p>  如果此过程顺利进行，则会创建一个新的commit字符串，并根据原始的commits-as-patches修改目标快照。因此，这也是为什么rebase可能会创建“合并冲突”的原因：它是补丁，而不是快照，那将不能完全适用。</p><p> Is this a silly way to think of commits?Probably.But it has been helpful to at least one other person when I explained it this way.I hope it helps you too.</p><p> 也许这是一种愚蠢的思考提交方式的方法，但是当我以这种方式进行解释时，它至少对其他人有所帮助，希望对您有所帮助。 </p><p>  This duality extends as far as the underlying storage format: individual commits are stored as something very similar to a snapshot: they are a “tree” referencing “blobs”, all referenced by a “commit” blob. But   pack files are stored similar to patches, with objects optionally being stored as a “delta” to another object occurring earlier in the pack. This is an internal detail that most users of Git need not be aware of.  ↩︎</p><p>这种双重性扩展到了底层的存储格式：单个提交的存储方式与快照非常相似：它们是引用“ blob”的“树”，所有引用均由“ commit” blob引用。 但是，包文件的存储方式类似于补丁，对象可以选择以“增量”的形式存储到包中较早出现的另一个对象。 这是大多数Git用户不需要了解的内部细节。 ↩︎ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.thirtythreeforty.net/posts/2020/01/the-wave-particle-duality-of-git-commits/">https://www.thirtythreeforty.net/posts/2020/01/the-wave-particle-duality-of-git-commits/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/提交/">#提交</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/particle/">#particle</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/git/">#git</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>