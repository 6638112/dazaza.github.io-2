<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>构建缩放静音按钮 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">构建缩放静音按钮 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-12 03:20:02</div><div class="page_narrow text-break page_content"><p>Instagram最近向我展示了一个专用静音按钮的广告，用于缩放，这在鼻子上看起来很少。</p><p>  是的，我整天都在缩放。是的，我有一个小孩，让客人出现在那些电话上。你赢了，Instagram广告算法，我想要一个。</p><p> 但我有我的预订。这是一个用于Kickstarter项目的Instagram广告。即使点击它，我不想为Facebook的广告收入做出贡献。 Jenny Odell没有免费腕表，总结了我对Instagram广告中产品质量的看法。我的Kickstarter琐碎的追求饼非常满。</p><p>  我已经支持了很多关于Kickstarter的项目，有时最终结果让我想起了迈克尔道格拉斯跌倒的汉堡包。</p><p>   首先要考虑的是：媒体令人满意的是什么？如果您阅读了关于Yubikeys的帖子，那么您将知道这对我来说是一个重要的一点。</p><p> 我在键盘中使用樱桃MX交换机。有三种机械开关：线性，触觉和咔哒声。线性是您的基本交换机，无需多大反馈即可上下。触觉交换机在旅行中有一个凹凸，让您觉得您的主要压力机发生了。键盘交换机具有更强的触觉反馈，并在按下它们时会发出声音。</p><p> 通常，您可以购买交换机测试仪，并弄清楚哪一个对您感到有权，并调查您的同事以确定他们在谋杀您之前让您的键盘产生的声音。但我们在Covid的中间 - 你没有你周围的任何合作工人！让我们一起去一个令人满意的触觉反馈的樱桃MX蓝色开关，但也非常响亮。 Cherry MX的网站调用此交换机“咔哒声”，这是一个非常轻描淡写的。 </p><p>看起来不错，但我想我们可以做得更好。如果樱桃MX蓝色开关令按压力机，那么又不会是一个可笑的大樱桃MX蓝色开关更加令人满意？</p><p>   它在每个尺寸越大4倍，体积比正常开关更大64倍。它甚至带有一个巨大的钥匙图！</p><p>  不幸的是，大型交换机不带案例，因此我们需要3D打印。我发现了一个漂亮的案例：novelkeys大开关盒。如果有人改善了原始设计，它总是值得浏览混音。在这种情况下，有一个混音，用于为Pro Micro添加一个外壳，并使开关更紧密，因此我印刷了一个。</p><p>  现在我们有这样的情况，我们需要一个板子进入它并将其连接到开关。</p><p> Pro Micro具有Atmega32U4芯片，允许其模拟USB HID设备，如USB键盘。这也很小。</p><p>  如果看看大开关的底部，有两个金属触点。</p><p>  在开关内部，按下钥匙上的按下导致电路在这些触点之间完成。 </p><p>我们可以将GND连接到一个金属触点和销2到另一个金属接触。 PIN 2是数字I / O引脚，当键按下并且当它不是时，将读取高电平。</p><p> 如果我们可以拥有静音状态的某种视觉指示器，它也会很好，因此我们可以添加LED。</p><p>     对于LED，较长的腿连接到PWR，较短的腿连接到GND。我们将粘贴在长腿之间的电阻和不同的销之间，以降低电流底部的电流量 - 我选择销9。我越短的腿直到gnd。我发现这个页面有关LED和电阻的有用。</p><p>       现在我们可以编写一些软件，在缩放呼叫中的精神相反。</p><p> 我始于一些代码，Sparkfun已经写成了构建一个巨大的保存按钮并修改了一下。</p><p> 我们静音按钮背后的基本思想是，当您按下键时，它将发出变焦热键，以便静音和未经操作，在MAC上是CMD移位-A。您将要更改缩放设置，因此即使缩放未与“启用全局快捷方式”切换：</p><p>  我们还要在每个钥匙按下后打开和关闭LED。我决定将LED视为类似于“空气”光 - 当蓝色LED亮起时，我取得取得取消，人们可以听到我所说的话。 </p><p>但是，如果我们刚刚在每个钥匙按下拨打的LED和关闭后，它将如何与缩放的实际静音状态同步？</p><p> 关于Pro Micro的一个很好的事情是它也具有串行通信。这通常用于在Arduino IDE中打印调试信息，但我们可以使用它来帮助我们与缩放的静音状态保持同步。</p><p>  #include＆＃34; keyboard.h＆＃34; //os parationstypeef enum {linux，windows，mac} os_types; //将其更改为您的操作系统const os_types os = mac; // pinsconst int btn_pin = 2; const int let_pin = 9; // constantsconst int deboune_delay = 50; // ms // globalsint btn_state = high; int btn_prev = high; unsigned long last_debounce_time = 0; int os_ctrl; int let_state = low; void setup（）{serial.begin（57600）; //打开串行端口，将数据速率设置为57600 BPS //设置LED和按钮引脚PINMODE（BTN_PIN，INPUT_PULLUP）; //将按钮设置为输入Pinmode（LED_PIN，输出）; DigitalWrite（LED_PIN，LED_STATE）; //开始键盘键盘.Begin（）; //切换到正确的控制/命令键交换机（OS）{案例Linux：case Windows：OS_CTRL = KEY_LEFT_CTRL;休息;案例mac：os_ctrl = key_left_gui;休息;默认值：os_ctrl = key_left_ctrl;休息; } //获得初始时间戳序列序列.println（＆＃34;开始＆＃34;）; } void循环（）{//读取按钮的当前状态int btn_read = digitalread（btn_pin）; //请记住，如果（btn_read！= btn_prev）{last_debounce_time = millis（）; } //在再次检查按钮的状态（millis（）＆gt;（last_debounce_time + devounce_delay））之前等待在检查按钮的状态之前）{if（btn_read！= btn_state）{btn_state = btn_read; if（btn_state == low）{//发送cmd + shift +键盘.press（key_left_shift）;键盘.press（os_ctrl）;键盘。按（＆＃39; a＆＃39;）;延迟（100）;键盘.releaseall（）; serial.println（＆＃34;按下＆＃34;）; if（LED_STATE == LOW）{LED_STATE = HIGH; } else {led_state = low; DigitalWrite（LED_PIN，LED_STATE）; }} //记住下一个循环的上一个按钮位置（）btn_prev = btn_read; if（serial.available（）＆gt; 0）{string incomingstring = serial.readstringuntil（＆＃39; \ n＆＃39;）; if（incomingstring ==＆＃34;柔和＆＃34;）{led_state = low; }如果（incomingstring ==＆＃34;取得的＆＃34;）{LED_STATE = HIGH; DigitalWrite（LED_PIN，LED_STATE）; }}</p><p> 接下来，我们可以添加一个AppleScript，它将报告当前缩放状态是什么。我找到了一个Zoom插件，用于集成初始AppleScript的StreamFeck设备，并将其修改为仅报告缩放是否已打开，并且其静音状态。我也改变了它来输出json。</p><p> 将ZoomStatus设置为＆＃34;关闭＆＃34;将Mutestatus设置为＆＃34;禁用＆＃34;告诉申请＆＃34;系统事件＆＃34;如果存在（进程的窗口1和＃34; zoom.us＆＃34;）然后将zoomstatus设置为＆＃34;开放＆＃34;告诉申请流程＆＃34; zoom.us＆＃34;如果存在（菜单栏项＆＃34;会议＆＃34;菜单栏1）然后将zoomstatus设置为＆＃34;呼叫＆＃34;如果存在（菜单项＆＃34;静音音频＆＃34;菜单栏项目的菜单1＆＃34;会议＆＃34;菜单栏1）然后将Mutestatus设置为＆＃34;未被发电和＃34;否则将mutestatus设置为＆＃34;柔和＆＃34;如果结束结束，如果结束告诉最终IFEND thelcopy＆＃34; {\＆＃34;静音\＆＃34;：\＆＃34;＆＃34; ＆amp; （mutestatus作为文本）＆amp; ＆＃34; \＆＃34;，\＆＃34;状态\＆＃34;：\＆＃34;＆＃34; ＆amp; （ZoomStatus作为文本）＆amp; ＆＃34; \＆＃34;}＆＃34;到了斯丁</p><p> 现在，当我们在缩放呼叫时运行它时，我们会像这样更多输出：</p><p>  最后，我写了一个小节点应用程序，它在Pro Micro和此脚本之间充当中间人： </p><p>const {exec} =要求（＆＃39; child_process＆＃39;）; const serialport =要求（＆＃39; serialport＆＃39;）; const readline =要求（＆＃39; @ serialport / parser-readline＆＃39; ）; const port = new serialport（＆＃39; /dev/tty.usbmodemhidpc1&#39;，{baudrate：57600}）; var checkstatus = function（）{console.log（＆＃39;检查状态...＆ ＃39;）; Exec（＆＃39; Osascript get-zoom-status.scpt＆＃39;（错误，stdout，stderr）=＆gt; {if（错误）{console.error（`exec错误：$ {错误}`）;返回;} var status = json.parse（stdout）;如果（status.mute ==＆＃39;取得的＆＃39;）{port.write（＆＃39;未被发音＆＃39;）;否则{port.write（ ＆＃39;柔和＆＃39;）;}}）;} const parser = port.pipe（新readline（{delimiter：＆＃39; \ r \ n＆＃39;}）parser.on（＆＃39;数据＆＃39;，函数（数据）{if（data ==＆＃34;按下＆＃34;）{console.log（＆＃39;按下。＆＃39;）; checkstatus（）;}}）checkstatus （）; setInterval（checkstatus，30000）;</p><p> 这个脚本做了两件事。按下按钮时，Pro Micro将在串口上发送“按下”命令，并且这调用AppleScript来确定当前的缩放静音状态。然后，它将“静音”或“取消静音”命令发送回Pro Micro，触发相应的LED状态。如果我意外静音或取消静音，则还有一个每30秒运行这一点的计时器 - 否则只能在按下键时解析状态。</p><p>   请回到我的kickstarter  - 只是开玩笑，没有Kickstarter，但希望现在你可以自己建立一个。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://bert.org/2021/03/10/building-a-zoom-mute-button/">https://bert.org/2021/03/10/building-a-zoom-mute-button/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/缩放/">#缩放</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/zoom/">#zoom</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/led/">#led</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1045036.html"><img src="http://img2.diglog.com/img/2021/1/thumb_5d445d75aa008ca9fd0d46e2d9569842.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1045036.html">泄漏缩放会议之前应了解的内容 </a></div><span class="my_story_list_date">2021-1-19 12:29</span></div><div class="col-sm"><div><a target="_blank" href="/story/1044151.html"><img src="http://img2.diglog.com/img/2021/1/thumb_a2fb77089ef311138dfbca62923f5a17.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1044151.html">如何训练缩放的YOLOv4对象检测模型 </a></div><span class="my_story_list_date">2021-1-15 20:23</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032679.html"><img src="http://img2.diglog.com/img/2020/11/thumb_b5c5ac14bb6815920688cb884326b953.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032679.html">对缩放咒语的再思考</a></div><span class="my_story_list_date">2020-11-2 5:34</span></div><div class="col-sm"><div><a target="_blank" href="/story/1028387.html"><img src="http://img2.diglog.com/img/2020/10/thumb_07acdc08c5229ba3a68a786fdfb8e86f.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1028387.html">缩放和暗淡</a></div><span class="my_story_list_date">2020-10-13 19:45</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>