<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我如何发现易受困难的易受伤害，以及苹果如何对其作出反应 How I Found a Vulnerability to Hack iCloud Accounts and How Apple Reacted to It</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">How I Found a Vulnerability to Hack iCloud Accounts and How Apple Reacted to It<br/>我如何发现易受困难的易受伤害，以及苹果如何对其作出反应 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-20 10:19:41</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/6/a445dcb956b5968287b2c47e9a318315.jpg"><img src="http://img2.diglog.com/img/2021/6/a445dcb956b5968287b2c47e9a318315.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>This article is about how I found a vulnerability on Apple forgot password endpoint that allowed me to takeover an iCloud account. The vulnerability is completely patched by Apple security team and it no longer works.  Apple Security Team rewarded me $18,000 USD as a part of their bounty program but I refused to receive it. Please read the article to know why I refused the bounty.</p><p>本文是关于如何在Apple忘记密码端点上发现漏洞的漏洞允许我接管iCloud帐户。易受培训性完全由Apple Security团队修补，它不再有效。 Apple Security团队作为其赏金计划的一部分奖励我18,000美元，但我拒绝收到它。请阅读文章以了解为什么我拒绝赏金。</p><p> After my  Instagram account takeover vulnerability, I realized that many other services are vulnerable to race hazard based brute forcing. So I kept reporting the same with the affected service providers like  Microsoft, Apple and a few others.</p><p> 在我的Instagram帐户收购漏洞之后，我意识到许多其他服务易受争夺危险的蛮力。因此，我与Microsoft，Apple和其他一些类似的受影响服务提供商报告了同样的报告。</p><p> Many people mistook this vulnerability as typical brute force attack but it isn’t. Here we are sending multiple concurrent requests to the server to exploit the  race condition vulnerability present in the rate limits making it possible to bypass it.</p><p> 许多人将这种脆弱性误认为是典型的蛮力攻击，但它不是。在这里，我们正在向服务器发送多个并发请求，以利用速率限制中存在的竞争条件漏洞，使得可以绕过它。</p><p>  The  forgot password option of Apple ID allows us to change our password using 6 digit OTP sent to our mobile number and email address respectively. Once we enter the correct OTP we will be able to change the password.</p><p>  Apple ID的忘记密码选项允许我们使用6位数OTP发送到我们的手机号码和电子邮件地址的密码更改我们的密码。我们输入正确的OTP后，我们将能够更改密码。</p><p>  For security reasons, apple will prompt us to enter the trusted phone number along with email address to request OTP.</p><p>  出于安全原因，Apple将提示我们输入可信电话号码以及电子邮件地址以请求OTP。</p><p> So to exploit this vulnerability, we need to know the trusted phone number as well as their email address to request OTP and will have to try all the possibilities of the 6 digit code, that would be around 1 million attempts (10 ^ 6).</p><p> 因此，为了利用此漏洞，我们需要了解可信电话号码以及他们的电子邮件地址来请求OTP，并且必须尝试6位数代码的所有可能性，这将是约100万次尝试（10 ^ 6）。</p><p> As for as my testing, the forgot password endpoint had pretty strong rate limits. If we enter more than 5 attempts, our account will be locked for the next few hours, even rotating the IP didn’t help.</p><p> 至于我的测试，忘记密码端点具有相当强的速率限制。如果我们输入超过5次尝试，我们的帐户将被锁定在接下来的几个小时内，甚至旋转IP没有帮助。 </p><p>   Then I tried for race hazard based brute forcing by sending simultaneous POST requests to apple server and found a few more limitations.</p><p>然后我试图通过向Apple服务器发送同时发布请求并找到更多限制来进行种族危险的野蛮强制。</p><p> To my surprise, apple have rate limits for concurrent POST requests from single IP address, not just to the forget password endpoint but to the entire apple server. We cannot send more than 6 concurrent POST requests, it will be dropped. It will not just be dropped but our IP address will be blacklisted for future POST requests with 503 error.</p><p> 令我惊讶的是，Apple具有来自单个IP地址的并发张贴请求的速率限制，而不仅仅是忘记密码端点，而是给整个Apple服务器。我们无法发送超过6个并发的邮政请求，它将被删除。它不仅仅被删除，但我们的IP地址将被列入未来的帖子请求，以503错误。</p><p>    So I thought they aren’t vulnerable to this type of attack 😔 but still had some hope since these are generic rate limits across the server and not specific to the code validation endpoint.</p><p>    所以我认为他们并不容易受到这种类型的攻击😔，但仍有一些希望，因为这些是服务器上的通用速率限制，而不是特定于代码验证端点。</p><p>  iforgot.apple.com resolves to 6 IP addresses across the globe – (17.141.5.112, 17.32.194.36, 17.151.240.33, 17.151.240.1, 17.32.194.5, 17.111.105.243).</p><p>  iforgot.apple.com解决全球的6个IP地址 - （17.141.5.112,17.32.194.36,17.151.240.3,17.151.240.1,17.32.194.5,17.311.105.243）。</p><p> There were two rate limits we have seen above, one is triggered when we send more than 5 requests to forgot password endpoint (http://iforgot.apple.com/password/verify/smscode) and another one is across the apple server when we send more than 6 concurrent POST requests.</p><p> 我们上面看到了两个速率限制，当我们发送超过5个请求忘记密码端点时（http://iforgot.apple.com/password/verify/smscode），另一个是触发的，当时我们发送超过6个并发的发布请求。</p><p> Both these rate limits are specific to apple server IP which means we can still send requests (with in limits though) to another apple server IP.</p><p> 这些速率限制都是特定于Apple Server IP的，这意味着我们仍然可以发送请求（虽然以限制）到另一个Apple服务器IP。</p><p> We can send upto 6 concurrent requests to an apple server IP (by binding iforgot.apple.com to the IP) from single client IP address as per their limits. There are 6 apple IP address resolved as mentioned above. So we can send upto 36 requests across the 6 apple IP address (6 x 6 = 36) from single IP address.</p><p> 我们可以根据其限制将最多6个并发请求从单个客户端IP地址绑定到Apple Server IP（通过将iforgot.apple.com绑定到IP）。如上所述，有6个Apple IP地址已解决。因此，我们可以从单个IP地址发送6个Apple IP地址（6 x 6 = 36）的高达36个请求。 </p><p> Therefore, the attacker would require 28K IP addresses to send up to 1 million requests to successfully verify the 6 digit code.</p><p>因此，攻击者需要28K个IP地址来发送多达100万的请求以成功验证6位数代码。</p><p> 28k IP addresses looks easy if you use cloud service providers, but here comes the hardest part, apple server has a strange behavior when we try to send POST requests from cloud service providers like AWS, Google cloud, etc.</p><p> 28K IP地址看起来很简单，如果您使用云服务提供商，但在这里最困难的部分，当我们尝试发送来自AWS，Google云等云服务提供商的发布请求时，Apple服务器具有奇怪的行为。</p><p>  They reject the POST request with 502 Bad gateway without even checking the request URI or body. I tried changing IPs but all of them returned same response code, which means they have blacklisted the entire ASN of some cloud service providers if am not wrong 🙄</p><p>  它们拒绝使用502个不良网关拒绝未经检查请求URI或Body的POST请求。我尝试改变IPS但是所有这些都返回了相同的响应代码，这意味着如果不是错误的话，他们已将整个ASN列入整个ASN的整个ASN</p><p>  It makes the attack harder for those who rely on reputed cloud services like AWS. I kept trying various providers and finally found a few service providers their network IPs are not blacklisted.</p><p>  对于那些依赖于AWS​​等知识云服务的人来说，它会恢复剧烈。我一直在尝试各种提供商，最后发现了一些服务提供商，他们的网络IP没有黑名单。</p><p> Then I tried to send multiple concurrent POST requests from different IP address to verify the bypass.</p><p> 然后我尝试从不同IP地址发送多个并发的帖子请求以验证旁路。</p><p>  And it worked!!! 🎉🎉🎉 Now I can change the password of any Apple ID with just their trusted phone number 😇</p><p>  它的工作！ 🎉🎉🎉现在我可以只用他们可信电话号码更改任何Apple ID的密码😇</p><p> Of course the attack isn’t easy to do, we need to have a proper setup to successfully exploit this vulnerability. First we need to bypass the SMS 6 digit code then 6 digit code received in the email address. Both bypasses are based on same method and environment so we need not change anything while trying the second bypass. Even if the user has two factor authentication enabled, we will still be able to access their account, because 2FA endpoint also shares the rate limit and was vulnerable. The same vulnerability was also present in the password validation endpoint.</p><p> 当然，攻击不容易做到，我们需要有一个正确的设置来成功利用此漏洞。首先，我们需要绕过SMS 6位数代码，然后在电子邮件地址中收到6位数代码。旁路都基于相同的方法和环境，因此我们在尝试第二旁路时无需更改任何内容。即使用户启用了两个因素身份验证，我们仍然能够访问其帐户，因为2FA端点也共享速率限制并易受攻击。密码验证端点中也存在相同的漏洞。 </p><p> I reported this information with detailed reproduction steps and a video demonstrating the bypass to Apple security team on July 1st, 2020. Apple security team acknowledged and triaged the issue with in few minutes of report.</p><p>我向2020年7月1日向苹果安全团队向苹果安全团队展示了这个信息，并将其展示了旁路的视频。Apple安全团队在几分钟内承认并定制了这个问题。</p><p>  I didn’t get any updates from Apple after triage so I kept following up for status updates and they said they are working on a fix on Sep 9th, 2020.</p><p>  在分类后我没有从Apple获得任何更新，以便我继续跟进状态更新，并表示他们在2020年9月9日的修复程序上工作。</p><p>  Again, no updates for next 5 months and then this email came when I asked for status</p><p>  再次，未来5个月没有更新，然后在我要求身份时发出此电子邮件</p><p>  They said they are planning to address the issue in upcoming security update. I was wondering what is taking so long for them to react to a critical vulnerability.</p><p>  他们表示他们计划在即将到来的安全更新中解决问题。我想知道他们对他们来说是什么需要做出反应的脆弱性。</p><p> I kept retesting the vulnerability to know whether its fixed instead of relying on them. I tested on April 1st, 2021 and realized a patch for the vulnerability was released to production but still there were no updates from Apple. I asked them whether the issue is patched and the response is same as they have no status updates to share.</p><p> 我一直在重新测试脆弱性，以知道它是否固定而不是依赖于它们。我于4月1日测试了2021年，并实现了漏洞的补丁被释放到生产，但仍然没有来自Apple的更新。我问他们是否正在修补问题，并且响应与它们没有共享的状态更新相同。</p><p>  I was patient and waiting for them to update the status. After a month, I wrote them that the issue was patched on April 1st itself and why am not being updated about it, I also told that I wanted to publish the report to my blog.</p><p>  我耐心等待他们更新状态。一个月后，我写了他们在4月1日本身修补了这个问题，为什么我也没有更新它，我也告诉我想向我的博客发布该报告。</p><p> Apple security team asked me whether it is possible to share the draft of the article with them before publishing. That is when things started to go unexpected.</p><p> Apple Security团队向我询问了是否有可能在出版之前与他们分享文章草案。那是事情开始出乎意料的时候。 </p><p> After sharing the draft, they denied my claim saying that this vulnerability do not allow to takeover majority of the icloud accounts. Here’s their response</p><p>分享草案后，他们否认我的索赔称，此漏洞不允许收购icloud帐户的多数。这是他们的回应</p><p>  As you can see in the email screenshot, their analysis revealed that it only works against iCloud accounts that has not been used in passcode / password protected Apple devices.</p><p>  正如您在电子邮件屏幕截图中看到的，他们的分析显示，它只针对缺消码/密码保护Apple设备中未使用的iCloud帐户工作。</p><p>  I argued that even if the device passcode (4 digit or 6 digit) is asked instead of 6 digit code sent to email, it will still share the same rate limits and would be vulnerable to race condition based brute forcing attacks. We will also be able to discover the passcode of the associated Apple device.</p><p>  我认为，即使被问到设备密码（4位或6位数）而不是发送给电子邮件的6位数代码，它仍将共享相同的速率限制，并且将容易受到基于Rach条件的Brute强制攻击。我们还将能够发现相关Apple设备的密码。</p><p>    The above screenshot shows how the page looks now but it wasn’t the same before my report.</p><p>    上面的屏幕截图显示了页面现在如何看待，但在报告之前它不一样。</p><p>    “In some cases” is prefixed to the paragraph on October 2020, that is exactly after I was told that they are working on a fix in September 2020.</p><p>    “在某些情况下，”在2020年10月20日10月的段落上，这是我被告知他们在2020年9月的修复工作之后。</p><p> It looks like everything was planned, the page was updated to support their claim of only limited users were vulnerable. That page wasn’t updated for years but getting a minor update after my report. It doesn’t look like a coincidence.</p><p> 它看起来像一切计划，页面已更新，以支持他们只有有限的用户脆弱的索赔。该页面未更新多年，但在报告后获得次要更新。它看起来并不像巧合。</p><p> When I asked about it, they said the updates are made due to changes in iOS 14. What does resetting password using trusted email / phone number has to do with iOS 14 I asked. If that is true, are trusted phone number and email used to reset the password before iOS 14? If that’s the case, my report is applicable to all Apple accounts. I didn’t get any answer from them.</p><p> 当我询问它时，他们表示由于iOS 14的变化，使用可信电子邮件/电话号码重置密码的更新与IOS 14提出。如果是真的，是可信电话号码和用于在iOS 14之前重置密码的电子邮件？如果是这种情况，我的报告适用于所有Apple帐户。我没有得到他们的任何答案。 </p><p> I was disappointed and told them that I am going to publish the blog post with all the details without waiting for their approval. Here’s the reply I got from them.</p><p>我很失望，并告诉他们，我将在没有等待他们的批准的情况下用所有细节发布博客帖子。这是我从他们那里得到的回复。</p><p>  They arranged a call with Apple team engineers to explain what they found in their analysis and also to answer any questions I may have.</p><p>  他们安排了与Apple Team工程师的呼吁来解释他们在分析中发现的内容，也可以回答我可能拥有的任何问题。</p><p> During the call, I asked why it is different from the vulnerability I found.  They said that the passcode is not being sent to any server endpoint and is verified in the device itself. I argued that there is no way for a random apple device to know another device’s passcode without contacting Apple server. They said it is true that the data is sent to server but it is verified using a cryptographic operation and they cannot reveal more than that due to security concerns.</p><p> 在呼叫期间，我问为什么它与我发现的漏洞不同。他们说，密码未被发送到任何服务器端点，并在设备本身中验证。我认为随机苹果设备无法知道另一个设备的密码而无需联系Apple服务器。他们表示，数据是发送给服务器的，但是使用加密操作进行验证，并且由于安全问题，它们无法透露超过这一点。</p><p> I asked what if we find out the encryption process through reverse engineering to replicate it and brute force the Apple server with concurrent requests. I didn’t get any definite answer for that question. They concluded that the only way to brute force the passcode is through brute forcing the Apple device which is not possible due to the local system rate limits.</p><p> 如果我们通过逆向工程求出加密进程以复制它并使用并发请求的Apple Server来询问加密进程，请询问何您。我没有得到这个问题的明确答案。他们得出结论，蛮力的唯一方法是通过暴力强制苹果设备，这是由于本地系统速率限制不可能。</p><p> I couldn’t accept what Apple engineers said, logically, it should be possible to replicate what Apple device is doing while sending the passcode data to server.</p><p> 我无法接受Apple工程师逻辑地说的是什么，应该可以复制Apple设备在向服务器发送密码数据时正在进行的事情。</p><p> I thought to verify it myself to prove them. If what they said is true, passcode validation endpoint should be vulnerable to race condition based brute forcing. After a few hours of testing I found that they have SSL pinning specific to the passcode validation endpoint, so the traffic sent to the server cannot be read by MITM proxy like burp / charles.</p><p> 我想验证自己是否证明他们。如果他们所说的是真的，密码验证端点应该容易受到基于比赛条件的蛮力。经过几个小时的测试后，我发现它们具有特定于密码验证端点的SSL Pinning，因此MITM代理如Burp / Charles都无法读取发送到服务器的流量。</p><p> Thanks to  checkra1n and  SSL Kill Switch, using their tool I was able to bypass pinning and read the traffic sent to server.</p><p> 感谢Checkra1n和SSL杀死交换机，使用其工具我能够绕过钉扎并读取发送到服务器的流量。 </p><p> I figured out that Apple uses  SRP (Secure Remote Password), a  PAKE protocol to verify the user knows the right passcode without actually sending it to the server. So what the engineers said is right, they aren’t sending the passcode directly to server. Instead, both server and client do some mathematical calculations using the previously known data to derive at a key (more like diffie-hellman key exchange).</p><p>我想出，Apple使用SRP（安全远程密码），探测用户知道右密码的州协议而不实际将其发送到服务器。所以工程师所说的是对的，它们没有直接向服务器发送密码。相反，两个服务器和客户端都使用先前已知的数据进行一些数学计算来派生在密钥（更像Diffie-Hellman密钥交换机）。</p><p> Without getting into the specifics of SRP, let me get straight to what is necessary in our context.</p><p> 如果没有进入SRP的细节，让我直接到我们上下文中有必要的东西。</p><p> Apple server has two stored values namely verifier and salt specific to each user created at the time of setting or updating the passcode.</p><p> Apple服务器有两个存储的值，即验证者和特定于设置或更新密码时创建的每个用户的验证器和盐。</p><p> Whenever a user initiates a SRP authentication with username and a ephemeral value A, Apple server responds back with the salt of the specific user and a ephemeral value B.</p><p> 每当用户发起用户名和截阵短暂值A的SRP身份验证时，Apple Server会用特定用户的盐和短暂值B响应回来。</p><p>  SRP is known to prevent bruteforce attacks as it has user-specific salt and a verifier, so even if someone steals our database, they will still need to perform a CPU intensive bruteforce for each user to discover the password one by one. That gives enough time for the affected vendor to react to it.</p><p>  已知SRP可防止攻击具有特定于用户特定的盐和验证者，因此即使有人窃取我们的数据库，它们仍然需要为每个用户执行CPU密集型BruteForce，以逐个发现密码。这对受影响的供应商提供了足够的时间对其作出反应。</p><p> But, in our case, we don’t have to bruteforce a large number of accounts. Bruteforcing single user is enough to get into their iCloud account as well as finding their passcode.</p><p> 但是，在我们的案例中，我们不必让大量的帐户。 Bruteforcing Single User足以进入其iCloud帐户以及查找密码。</p><p> Brute forcing is possible only when you have both salt and verifier specific to the target user. After bypassing the SMS passcode we can easily impersonate as the target user and obtain the salt. But the problem here is verifier. We should either somehow obtain the verifier from server or bypass the rate limit on key verifying endpoint.</p><p> 只有当您具有特定于目标用户的盐和验证程序时，才能强制迫使。在绕过SMS密码之后，我们可以轻松地作为目标用户模拟并获得盐。但这里的问题是验证者。我们应该以某种方式从服务器获取验证者或绕过键验证端点上的速率限制。 </p><p> If the rate limit is bypassed, we can keep on trying different combinations of key obtained using the precomputed values of the passcode until we arrive at the matching key. Obviously, it requires a lot of computation to derive a key of each 4 or 6 digit numeric passcodes (from 0000/000000 to 9999/999999).</p><p>如果绕过速率限制，我们可以继续尝试使用密码的预先计算的键的不同组合，直到我们到达匹配键。显然，它需要大量的计算来导出每个4或6位数字密码（从0000/000000到9999/999999）的键）。</p><p>  When we enter the passcode in an iPhone / iPad during password reset, the device initiates SRP authentication by sending the user session token obtained from the successful SMS verification. The server responds back with the salt of the respective user. The passcode and the salt are hashed to then derive the final key which is sent to https://p50-escrowproxy.icloud.com/escrowproxy/api/recover to check whether it matches the key computed (using ephemeral, salt and verifier) on the server.</p><p>  当我们在密码重置期间在iPhone / iPad中输入密码时，设备通过发送从成功的SMS验证获得的用户会话令牌来启动SRP身份验证。服务器随着各个用户的盐响应。密码和盐将被散列，然后派生将发送到https://p50-escrowproxy.icloud.com/escrowproxy/api/rocover的最终键，以检查它是否与计算的密钥（使用短信，盐和验证器）匹配在服务器上。</p><p>   String tag has all the data mentioned above but are sent in DATA BLOB format. The first thing I wanted to check is rate limit before decoding the values of BLOB. I sent the request 30 times concurrently to check whether the endpoint was vulnerable.</p><p>   字符串标记具有上述所有数据，但以数据斑点格式发送。我想检查的第一件事是解码BLOB值之前的速率限制。我同时发送30次请求以检查端点是否易受攻击。</p><p>  To my shock, it wasn’t vulnerable. Out of 30 requests, 29 of them were rejected with internal server error.</p><p>  为了我的震惊，它并不脆弱。在30个请求中，其中29个被拒绝内部服务器错误。</p><p> Rate limiting would be performed in the Apple server itself or in HSM (hardware security module). Either way, the rate limit logic should be programmed as such to prevent race hazard. There is very bleak chance for this endpoint to be not vulnerable to race hazard before my report because all the other endpoints I tested was vulnerable – SMS code validation, email code validation, two factor authentication, password validation was all vulnerable.</p><p> 速率限制将在Apple服务器本身或HSM（硬件安全模块）中执行。无论哪种方式，应编程速率限制逻辑，以防止竞争危险。在我的报告前没有易受争夺危险的机会很脆弱，因为我测试的所有其他端点是易受攻击的 - 短信代码验证，电子邮件代码验证，两个因子身份验证，密码验证都是脆弱的。</p><p> If they did patch it after my report, the vulnerability became a lot more severe than what I initially thought. Through bruteforcing the passcode, we will be able to identify the correct passcode by differentiating the responses. So we not only can takeover any iCloud account but also discover the passcode of the Apple device associated with it. Even though the attack is complex, this vulnerability could hack any iPhone / iPad that has 4 digit / 6 digit numeric passcode if my assumption is right.</p><p> 如果他们在报告后做了补丁，那么脆弱性比我最初想到的更严重。通过浏览密码，我们将通过区分响应来识别正确的密码。因此，我们不仅可以收购任何iCloud帐户，还可以发现与其关联的Apple设备的密码。即使攻击很复杂，如果我的假设是对的话，这个漏洞可能会破坏任何具有4位/ 6位数字密码的iPhone / iPad。</p><p> Since it is now validating the concurrent requests properly, there is no way for me to verify my claim, the only way I can confirm this is by writing to Apple but they aren’t giving any response in this regard.</p><p> 由于现在正常验证并发请求，因此我无法验证我的索赔，我可以通过写入Apple的唯一方法来证实这一点，但他们在这方面没有给出任何回应。 </p><p>   The actual bounty mentioned for iCloud account takeover in Apple’s website is $100,000 USD. Extracting sensitive data from locked Apple device is $250,000 USD. My report covered both the scenarios (assuming the passcode endpoint was patched after my report), so the actual bounty should be $350,0000. Even if they chose to award the maximum impact out of the two cases, it should still be $250,000 USD.</p><p>在Apple网站上提到的iCloud帐户收购的实际赏金是100,000美元。从锁定的Apple设备中提取敏感数据是250,000美元。我的报告涵盖了这种情况（假设PassCode端点在报告后修补），因此实际赏金应为350,0000美元。即使他们选择奖励两种情况的最大影响，它仍然应该是250,000美元。</p><p> Selling these kind of vulnerabilities to government agencies or private bounty programs like  zerodium could have made a lot more money. But I chose the ethical way and I didn’t expect anything more than the outlined bounty amounts by Apple.</p><p> 将这些脆弱性销售给政府机构或私人赏金课程，如零化可能会让更多的资金赚更多。但我选择了道德方式，我没有想到任何苹果所概述的赏金数量。</p><p>  But $18,000 USD is not even close to the actual bounty. Lets say all my assumptions are wrong and Apple passcode verifying endpoint wasn’t vulnerable before my report. Even then the given bounty is not fair looking at the impact of the vulnerability as given below.</p><p>  但是18,000美元的USD甚至没有接近实际的赏金。让我们说出我的所有假设是错误的，Apple PassCode验证端点在报告前没有易受攻击。即便如此，给定的赏金也不公平地看待下面给出的脆弱性的影响。</p><p> Bypassed the two factor authentication. It is literally like 2FA doesn’t exist due to the bypass. People who are all relying on 2FA are vulnerable. This itself is a major vulnerability.</p><p> 绕过了两个因子认证。它真的像2FA，由于旁路而不存在。所有依赖2FA的人都很脆弱。这本身就是一个重大脆弱性。</p><p> Bypassed the password validation rate limits. All the Apple ID accounts that use common / weak / hacked passwords are vulnerable even if they have two factor authentication enabled. Once hacked, the attacker can track the location of the device as well as wipe the device remotely. 2014 celebrities iCloud hack is majorly because of weak passwords.</p><p> 绕过密码验证率限制。即使启用了两个因素身份验证，使用常用/弱/抖动密码的所有Apple ID帐户都是易受攻击的。一旦被黑攻击，攻击者可以跟踪设备的位置，并远程擦除设备。 2014年名人iCloud Hack主要是因为密码薄弱。</p><p> Bypassed the SMS verification. If we know the passcode or password of the device associated with the iCloud account. Lets say any of your friends or relatives knows your device passcode, using this vulnerability, they can takeover your iCloud account and also can erase your entire device remotely over the internet without having physical access to it.</p><p> 绕过短信验证。如果我们知道与iCloud帐户关联的设备的密码或密码。让我们说，任何朋友或亲戚都知道您的设备密码，使用此漏洞，他们可以接管iCloud帐户，并可以通过Internet远程擦除整个设备而不对其进行物理访问。</p><p> We can  takeover all Apple IDs that are not associated with a passcode protected Apple device due to both SMS and email verification code bypass, which means Any apple device without passcode or password, like anyone who turned off or didn’t set the passcode / password.</p><p> 我们可以收取与密码保护的Apple设备无关的所有Apple ID，由于SMS和电子邮件验证码旁路，这意味着任何没有密码或密码的Apple设备，就像任何关闭或未设置密码/密码的任何人。 </p><p> Any Apple ID created without apple device, like in browsers or in an android app and not been used in password protected apple devices</p><p>没有Apple设备创建的任何Apple ID，就像在浏览器中或Android应用程序中，而不是在密码受保护的Apple设备中使用</p><p> For example, 50 Million+ android users have downloaded Apple music app. In those, majority of them may not have used Apple devices. They are still Apple users and their information like credit cards, billing address, subscription details, etc could be exposed.</p><p> 例如，5000万+ Android用户已下载Apple Music App。在那些中，他们中的大多数可能没有使用Apple设备。它们仍然是Apple用户及其信息，如信用卡，计费地址，订阅详细信息等。</p><p> They need not reward the upper cap of the iCloud account takeover ($100k) but it should at least be close to it considering the impact it has created.</p><p> 他们不需要奖励iCloud账户收购的上限（$ 100k），但考虑到它创造的影响，它至少应该接近它。</p><p> After all my hard work and almost a year of waiting, I didn’t get what I deserved because of Apple’s unfair judgement. So I refused to receive the bounty and told them it is unfair. I asked them to reconsider the bounty decision or let me publish the report with all the information. There wasn’t any response to my emails. So I have decided to publish my article without waiting for their response indefinitely.</p><p> 毕竟我的辛勤工作和近一年的等待着，我没有得到我所应得的，因为苹果不公平的判断。所以我拒绝收到赏金并告诉他们它是不公平的。我要求他们重新考虑赏金决定或让我通过所有信息发布报告。没有任何对我的电子邮件的回复。所以我决定发布我的文章，而不无限期地等待他们的回应。</p><p> Therefore, I shared my research with Apple for FREE of cost instead of an unfair price.</p><p> 因此，我与Apple免费分享了我的研究，而不是不公平的价格。</p><p> I request Apple security team to be more transparent and fair at least in the future. I would like to thank Apple for patching the vulnerability.</p><p> 我要求Apple安全团队至少在未来更加透明和公平。我要感谢Apple修补漏洞。</p><p> I repeat, the vulnerability is completely fixed and the scenarios described above no longer works. Thank you for reading the article! Please let me know your thoughts in comments.</p><p> 我重复，漏洞完全固定，上面描述的场景不再有效。谢谢阅读文章！请告诉我您的意见中的想法。 </p><p>   Save my name, email, and website in this browser for the next time I comment.</p><p>下次评论下，在此浏览器中保存我的姓名，电子邮件和网站。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://thezerohack.com/apple-vulnerability-bug-bounty">https://thezerohack.com/apple-vulnerability-bug-bounty</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/hack/">#hack</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>