<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Ante：安全、简单的系统语言Ante: Safe, Easy Systems Language</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Ante: Safe, Easy Systems Language<br/>Ante：安全、简单的系统语言</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2022-02-13 20:34:18</div><div class="page_narrow text-break page_content"><p>Ante is a low-level functional language for exploring refinement types, lifetime inference, andother fun features. Here&#39;s a quick taste:</p><p>Ante是一种低级函数语言，用于探索求精类型、终身推理和其他有趣的特性。这里&#39；这是一个快速的尝试：</p><p> type  Person  =  name: string,  job: ref string  // Infer that the data referenced via `&amp;` should not be freed inside this functionmake_person name  =  Person name &amp;  &#34;programmer &#34;  // bob is only used at this scope, so it can be safely freed afterwardbob  = make_person   &#34;bob &#34;  // unlike ownership systems, aliasing is allowed with lifetime inferencebob_twin  = bobassert (bob.name  == bob_twin.name)</p><p>type Person=name:string，job:ref string//推断通过`&amp；引用的数据不应在此函数中释放make_person name=人名&amp&#34;程序员&#34；//bob仅在该范围内使用，因此在bob=make_person&#34；鲍勃&#34；//与所有权系统不同，终生推断bob_twin=bobassert（bob.name==bob_twin.name）允许使用别名</p><p> In general, ante is low-level (no GC, values aren&#39;t boxed by default) while also trying tobe as readable as possible by encouraging high-level approaches that can be optimized withlow-level details later on.</p><p>一般来说，ante是低级别的（没有GC，默认情况下，值是&#39；t装箱的），同时也试图通过鼓励高级别的方法尽可能提高可读性，这些方法可以在以后使用低级别的细节进行优化。</p><p>      Build system built into standard library Ante should always be able to build itself along with any required libraries, the main question is how should a build system facilitate the more complex tasks of building other languages or running arbitrary programs like yacc/bison.</p><p>内置于标准库中的构建系统Ante应该始终能够与任何所需的库一起构建自己，主要问题是构建系统应该如何促进构建其他语言或运行yacc/bison等任意程序的更复杂任务。</p><p>   The compiler is still in a rather early state so any contributors are greatly welcome.Feel free to contribute to either any known issues/improvements (some are listed in the&#34;Quick Tasks&#34; list below) or any standard library functions you think may be useful.</p><p>编译器仍处于早期状态，因此非常欢迎任何贡献者。请随时为任何已知问题/改进做出贡献（一些在下面的快速任务列表中列出）或任何您认为有用的标准库函数。</p><p> Each file in the codebase is prefixed with a module comment explaining the purpose ofthe file and any algorithms used.  src/main.rs is a good place to start reading.</p><p>代码库中的每个文件都以模块注释作为前缀，解释文件的用途和使用的任何算法。src/main。rs是开始阅读的好地方。</p><p> Make sure any PRs pass the tests in the  examples directory. These tests have commandsin them which the  goldentests library usesto run the ante compiler and check its output for each file against the expected outputcontained within comments of that file.</p><p>确保所有PRs通过示例目录中的测试。这些测试中有一些命令，goldentests库使用这些命令来运行ante编译器，并根据每个文件的注释中包含的预期输出检查其输出。</p><p>    The best place to follow ante&#39;s development is in the #ante channel of the Programming Languages discord:  https://discord.gg/4Kjt3ZE.There is also the subreddit at  /r/ante which is mainly used for questions about the language ratherthan development updates.</p><p>跟随安特的最佳地点&#39；s的开发处于编程语言不和谐的前通道中：https://discord.gg/4Kjt3ZE.There也是子Reddit at/r/ante，主要用于有关语言的问题，而不是开发更新。</p><p>   Ante currently requires llvm 13.0 while building. If you already have this installed withsources, you may be fine building with  cargo build alone. If  cargo build complainsabout not finding any suitable llvm version, the easiest way to build llvm is through  llvmenv.In that case, you can build from source using the following:</p><p>Ante目前在构建时需要llvm 13.0。如果你已经用资源安装了这个，你可能是单用货物建造的好建筑。如果cargo build抱怨没有找到任何合适的llvm版本，那么构建llvm最简单的方法就是通过llvmenv。在这种情况下，可以使用以下方法从源代码构建：</p><p>  $ cargo install llvmenv$ llvmenv init$ llvmenv build-entry -G Makefile -j7 13.0.0$ llvmenv global 13.0.0$ LLVM_SYS_130_PREFIX=  $(llvmenv prefix )$ cargo build</p><p>$cargo install llvmenv$llvmenv init$llvmenv build entry-G Makefile-j7 13.0.0$llvmenv global 13.0.0$LLVM_SYS_130_PREFIX=$（llvmenv PREFIX）$cargo build</p><p> If  llvmenv prefix defaults to a path with spaces in it, you may get an error during  cargo buildcomplaining it cannot find the path to llvm. If this happens, try manually moving the installationin  llvmenv prefix to a new directory without spaces, updating  LLVM_SYS_130_PREFIX to this newlocation and re-running  cargo build.</p><p>如果llvmenv前缀默认为包含空格的路径，则在构建过程中可能会出现错误，因为它找不到llvm的路径。如果发生这种情况，请尝试手动将installationin llvmenv前缀移动到一个不带空格的新目录，将LLVM_SYS_130_前缀更新到此新位置，然后重新运行cargo build。</p><p>  $ cargo install llvmenv$ llvmenv init$ llvmenv build-entry -G VisualStudio -j7 12.0.1$ llvmenv global 12.0.1$  for  /f   &#34;tokens=* &#34; %a  in (  &#39;llvmenv prefix &#39;)  do (set LLVM_SYS_120_PREFIX=%a)$ cargo build</p><p>$cargo install llvmenv$llvmenv init$llvmenv build entry-G VisualStudio-j7 12.0.1$llvmenv global 12.0.1$for/f&#34；代币=*&#34；%a in（&#39；llvmenv前缀&#39；）do（设置LLVM_SYS_120_前缀=%a）$cargo build</p><p>  If the above steps don&#39;t work for you, you can try  building llvm from sourcewith cmake. If you&#39;re on windows thisrequires you to have Visual Studio 2017 or later installed already.</p><p>如果上述步骤没有&#39；不适合您，您可以尝试使用cmake从Source构建llvm。如果你&#39；重新安装windows这要求您已经安装了Visual Studio 2017或更高版本。</p><p>  At this point, cmake may error that it failed to find z3, or the windows SDK inwhich case you may need to install them. For the windows SDK, you can install itvia the Visual Studio Installer (under Modify -&gt; Individual Components). I usedversion 10.0.17763.0, though it is likely newer versions will work as well. Rerunthe last cmake command to test that everything is installed right. Once this isdone, move on to compiling llvm and ante:</p><p>此时，cmake可能会错误地发现它找不到z3或windows SDK，在这种情况下，您可能需要安装它们。对于windows SDK，您可以通过Visual Studio安装程序（在“修改-&gt；单个组件”下）安装它。我使用的是10.0.17763.0版，不过可能新版本也可以。重新运行最后一个cmake命令，以测试所有内容是否安装正确。完成此操作后，继续编译llvm和ante：</p><p> $ cmake --build .$ cmake --build . --target install$ cd ..$ set LLVM_SYS_120_PREFIX=/absolute/path/to/llvm-build$ cargo build</p><p>$cmake--构建。$cmake——构建--目标安装$cd..$设置LLVM_SYS_120_PREFIX=/absolute/path/to/LLVM build$cargo build</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ante/">#ante</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/safe/">#safe</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/构建/">#构建</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>