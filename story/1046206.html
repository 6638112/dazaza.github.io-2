<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>使用GPT-3自动化我的工作 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">使用GPT-3自动化我的工作 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-28 22:20:29</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/1/8f712c4f60671b8c8ef7a156da2af48b.png"><img src="http://img2.diglog.com/img/2021/1/8f712c4f60671b8c8ef7a156da2af48b.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>作为分析师，我花费大量时间编写SQL（或其他代码）来回答有关我们业务的问题。这些问题的范围从简单的客户支持查询（用户X是否有正确的计划？）到评估KPI和增长指标（最近有多少用户注册）月份，转换为已付费的百分比是多少？）改为开放式（12个月后我们将获得多少收入？）。</p><p> 为了使我的工作更轻松，我尝试使所有这些问题尽可能自动化。我的公司SeekWell构建了出色的工具来帮助解决此问题，例如统一的团队SQL存储库以及对查询，报告和警报的无缝调度。但是，许多事情（如实际编写SQL代码）很难自动化，或者至少已经自动化了。</p><p>  Openai的GPT-3开始打破传统的观念，即可以自动执行哪些任务。从最基本的角度来看，GPT-3是一种文本完成引擎，在大量互联网上进行了培训。它接受输入的文本并返回它认为接下来会出现的文本。许多人已经使用它根据特定的设计说明生成HTML和CSS代码。其他人则在一些由GPT-3生成的流行趋势博客帖子中排名第一，并带有一些创意提示。</p><p> 就我而言，由于我的大部分工作是写SQL，所以我希望能够用简单的英语描述一个问题，并让GPT-3将其转换为SQL代码，如果在我的Postgres数据库上执行该代码，它将回答该问题。</p><p> 为此，我发现使用GPT-3 Instruct（仍处于beta版）比更通用的GPT-3引擎取得了更大的成功。 GPT-3 Instruct（尤其是davinci-instruct）可让您给出具体说明，例如“仅以正确的SQL语法进行响应”，以指导GPT-3的响应。如果您想尝试一下，可以在此处注册GPT-3 API的候补名单。</p><p> 下面，我将详细介绍我在API方面的经验。在每个示例中，我都会向GPT-3提问。 gif下方是输入问题（由我生成，为绿色）和GPT-3的响应，将其转换为SQL（由GPT-3生成，为蓝色）。我还将包括我对GPT-3的说明（黄色）和示例我为GPT-3提供的示例（橙色）。</p><p>   说明：给定输入问题，请使用语法正确的PostgreSQL进行响应。有创造力，但SQL必须正确。 </p><p>哇。我从未提供过数据库架构，但假设我有一个名为＆＃34; users＆＃34;的表。 （这是准确的），并且有一个名为＆＃34; signup_time＆＃34;的时间戳字段。用户何时注册。很合逻辑。它也知道在PostgreSQL中从今天的日期减去一个月的正确方法（now（）-间隔1个月），而没有看到示例。太酷了！</p><p> 为了给GPT-3提供更多的上下文，我将在指令中添加有关我的数据库模式的信息。我的新指令：</p><p>  说明：给定输入问题，请使用语法正确的PostgreSQL进行响应。有创造力，但SQL必须正确。仅使用称为＆＃34; users＆＃34;的表和＆＃34; charges ##。用户＆＃34;该表具有以下列：ID（整数），signup_dt（时间戳），电子邮件（字符变化）和plan_type（字符变化）。费用＆＃34;该表具有以下列：数量（bigint），用户ID（整数）和费用_dt（时间戳）。</p><p>  现在，我将尝试问另一个问题，并查看GPT-3是否可以根据我的实际数据库进行响应：</p><p>     真好我向它提供了有关数据库中表和列的更多信息，它正确地推断出＆＃34; amount＆＃34; =＆＃34;收入＆＃34;并向SUM（）知道过去7天的收费金额以回答问题。显然，它已经知道一些基本的SQL语法，并且可以推断出我的意思。</p><p>  我将尝试另一个问题，但首先可能需要通过一个简单的示例将GPT-3明确地告知表中的列。示例是提供GPT-3上下文并充实一些细微之处的好方法，这些细微之处在一条指令中可能并不明显。我发现这确实有助于真正确定哪些列和表可以使用（GPT-3有时喜欢“发明”列以使回答问题更加容易）。这是我添加到提示中的示例：</p><p>  输入：从用户表中选择所有可用列。输出：SELECT ID，signup_dt，电子邮件，plan_type来自用户 </p><p>输入：从费用表中选择所有可用列。输出：SELECT费用，user_id和charge_dt FROM费用</p><p>       它知道使用MAX（金额）来获得最大的付款并正确设置日期条件，而没有看到有关如何从当前日期减去天数的示例。效果不错，但现在使用相同的说明和示例尝试一些棘手的事情：</p><p>     好吧，不太正确。费用＆＃34;表没有用于电子邮件的列，因此此查询将失败。我也从未说过电子邮件=＆＃34; brian@seekwell.io&#34;的用户。的user_id = 1-不知道它是从哪里得到的。要正确回答问题，您必须加入＆＃34; charges＆＃34;与用户的表因为只有＆＃34; users＆＃34;有一个电子邮件列。</p><p> 由于知道如何在users.id = charges.user_id上联接这些表是一个巨大的飞跃（即使对于人工分析人员来说似乎很合乎逻辑），因此我将为GPT-3提供一个示例34; join＆＃34;所以它有一些不足之处：</p><p>  输入：简@ seekwell.io何时付款？输出：从LEFT JOINusers个用户上的费用中，作为last_payment_dt的SELECT MIN（charge_dt）SELECT MIN（charge_dt）用户。</p><p>     GPT-3响应：从LEFT JOIN用户上的用户中，向用户收取费用中的last_payment_dt选择MAX（charge_dt）MAX.charge = user.id where where users.email =＆＃39; brian@seekwell.io＆＃39;</p><p>  因此，根据示例来看，这可能会使它变得太简单了，但是它正确地更改了MIN（）→MAX（）并用我要求的电子邮件替换了该电子邮件，因此这不是一个总的给我。让我们尝试另一个难度级别，但首先，我将添加更多示例以提供更多背景信息并改善响应。新的例子： </p><p>输入：过去30天内有多少用户注册？输出：在用户signup_dt＆gt; = now（）-间隔＆＃39; 30天＆＃39;中从用户中选择COUNT（*）个</p><p> 输入：使用电子邮件brian@seekwell.io的用户何时注册？输出：从用户所在的地方SELECT signup_dt电子邮件=＆＃39; brian@seekwell.io&#39;</p><p> 输入：过去7天我们有多少收入？输出：从charge_dt＆gt; = now（）-间隔＆＃39; 7天＆＃39;中的费用中选择SELECT SUM（金额）</p><p> 输入：从10-01-20到11-15-20，我们有多少收入？输出：SELECT SUM（在charge_dt＆gt; =＆＃39; 10-01-20＆＃39; :: date和charge_dt＆lt;＆＃39; 11-15-20＆＃39;：date然后金额为0结束的情况下）作为收入从收费</p><p> 输入：过去6个月内注册的用户给我们带来了多少收入？输出：来自用户的SELECT SUM（charges.amount）INNER JOIN对users收费。id= charges.user_idWHERE users.signup_dt＆gt; = now（）-间隔＆＃39; 6个月＆＃39;</p><p> 输入：使用电子邮件brian@seekwell.io的用户什么时候付款？输出：SELECT MIN（charge_dt）作为用户的last_payment_dt INNER JOIN向用户收费。id= charges.user_idWHERE users.email =＆＃39; brian@seekwell.io&#39;</p><p> 输入：最近2个月中，每年有多少新用户注册？输出：SELECT sum（case signup_dt＆gt; = now（）-间隔＆＃39; 1个月＆＃39;然后1 else 0结束）作为signupsthis_month，sum（case case signup_dt＆gt; = now（）-间隔＆＃39; 2 months＆＃39;和signup_dt＆lt; now（）-间隔＆＃39; 1个月＆＃39;然后1其他0结束）作为signups_last_monthFROM用户 </p><p>这些示例提供了一些基本查询，因此更加熟悉我的数据库以及用例的特定术语和概念（例如，“付费用户”表示他们的plan_type =＆＃34; pro＆ ＃34;）。我还介绍了一些更高级的概念，例如汇总两个日期之间的指标（收入）。现在，我将更加努力：</p><p>   GPT-3响应：从用户SELECT COUNT（*）通过INNER JOIN向用户收费。id= charges.user_id，其中users.email =＆＃39; joe@freshpizza.com&#39;</p><p>  凉！ GPT-3认为COUNT（）是此处的适当表达式，知道要加入＆＃34; users＆＃34;与＆＃34;表格，然后将电子邮件正确设置为我询问的电子邮件。 GPT-3的另一个问题：</p><p>  输入：我们收到了多少以电子邮件结尾的用户收入？ seekwell.io＆＃39;最近3个月内？</p><p> GPT-3响应：从用户中选择SELECT SUM（charges.amount），INNER JOIN对users.id = Charges.user_id，在哪里收取费用。向LIKE＆＃39;％seekwell.io％＆＃39;发送电子邮件AND users.signup_dt＆gt; = now（）-间隔＆＃39; 3个月＆＃39;</p><p>  完善！它知道＆＃34;电子邮件以seekwell.io结尾。用SQL转换为＆＃34; users。给LIKE＆＃39;％seekwell.io％＆＃39;发送电子邮件＆＃34; （即使以前没有看到过），并为满足该条件的用户收取了所有费用的总和。还有一个：</p><p>   GPT-3响应：SELECT SUM（在charge_dt＆gt; =＆＃39; 06-01-2020＆＃39; :: date和charge_dt＆lt;＆＃39; 08-01-2020＆＃39;：date然后金额否则0结束）作为收费收入 </p><p>这有点容易，因为我已经教过它如何从10-01-20到11-15-20来获取收入，但是它确实知道将6月1日和8月1日转换为SQL中适当的日期格式（＆＃39 ; 06-01-2020＆＃39;和＆＃39; 08-01-2020＆＃39;）。如果它只是将我示例中的日期替换为＆＃34; June 1st＆＃34;和＆＃34; 8月1日＆＃34;然后我知道它没有得到日期的概念，而只是将模式匹配到最接近的示例。有了这个结果，我可以知道GPT-3至少在某种程度上了解了日期的概念。</p><p>  到目前为止，我一直在询问有关用户，收入和增长指标的基本问题，而GPT-3一直很好地处理了这些问题。因此，让它更具挑战性。我想知道有多少用户转换为付费用户。 GPT-3，您可以：</p><p>   GPT-3响应：SELECT COUNT（）作为total_users，COUNT（）作为total_paid_users，100.0 *（COUNT（）作为total_paid_users）/ COUNT（）作为total_users AS percent_converted from users</p><p>  好的，不是我想要的，绝对不是正确的SQL。我不认为它真正理解＆＃34; percent＆＃34;的概念，只是它涉及COUNT（）并乘以100。我将添加一个实现该概念的示例，看看是否有GPT -3可以赶上。我的新示例使用＆＃34; percent＆＃34 ;：</p><p> 输入：有百分之几的用户拥有以＆＃39;结尾的电子邮件gmail.com＆＃39 ;？输出：SELECT SUM（以％_gmailFROM用户身份使用COUNT＆*（*电子邮件），例如＆＃39;％gmail.com＆＃39;然后1个其他0结束的邮件）</p><p>     GPT-3响应：SELECT SUM（在plan_type =＆＃39; pro＆＃39; THEN 1 else 0 end的情况下）/ COUNT（*）作为percent_paid FROM用户</p><p>  干净得多。它知道使用plan_type =＆＃39; pro＆＃39;划分用户数量。通过用户总数来获得我要求的百分比。我还可以向部分用户（例如最近6个月内注册的用户）询问相同的问题，并获得准确的答复： </p><p>输入：过去6个月内注册的用户中有多少转换为付费用户？</p><p> GPT-3响应：SELECT SUM（在plan_type =＆＃39; pro＆＃39; THEN 1 ELSE 0 END的情况下）/ COUNT（*）从用户WHERE users.signup_dt＆gt; = now（）-间隔＆＃39; 6个月</p><p>  除了给GPT-3提供指导和一些示例外，还可以调整一些参数来提高GPT-3的有效性。重要的是＆＃34;温度＆＃34;这实质上就是GPT-3在响应中包含了多少随机性。如果您只想获得最高的概率响应（即无随机性），则可以将温度设置为0。</p><p> 例如，（有些棘手）提示，＆＃34;最近两个月的每个月我们有多少收入？＆＃34;。将温度设置为.8会给您完全荒谬的东西：</p><p>   .8温度响应GPT-3响应：SELECT SUM（在charge_dt＆gt; = now（）-间隔＆＃39; 1个月＆＃39;然后charge.amount否则为0结束的情况下）作为Revenue_this_month，当case sign_dt＆gt; = now（）时-间隔＆＃39; 2个月＆＃39; AND signup_dt＆lt; now（）-间隔＆＃39; 1个月＆＃39; THEN SUM（charges.amount）否则为0，作为Revenue_last_month FROM在用户上向LEFT OUTER JOIN个用户收取费用。id= charges.user_id \ WHERE users.signup_dt＆gt; = now（）-间隔＆＃39; 1个月＆＃39;</p><p>  同时，将温度设置为较低的.3可以为您提供一个有效的查询，可以回答以下问题：</p><p>   .3温度GPT-3响应：SELECT SUM（在charge_dt＆gt; = now（）的情况下-间隔＆＃39; 1个月＆＃39;然后数量0结束的情况）作为Revenue_this_month，SUM（在charge_dt＆gt; = now（now的情况下）-间隔＆＃39; 2个月＆＃39;和charge_dt＆lt; now（）-间隔＆＃39; 1个月＆＃39;然后金额不为0的结束时间）作为Revenue_last_month FROM费用 </p><p>使用以前未曾见过的表达式和技术，更高温度的GPT-3更具创造力，但也使它过于复杂并给出了几乎没有意义的响应。另一方面，.3温度响应将问题正确转换为SQL。</p><p> 以我的经验，如果您要问一个遵循示例已建立的模式的问题，则凉爽的温度往往会表现得更好。但是，如果您要问一些需要更多创造力的问题，则更高的温度是最佳选择，因为GPT-3更有可能尝试未明确教导的事情。</p><p> 在下面的情况下，我问＆＃34;在过去6个月内，我们从注册用户中获得了多少收入？ （从我的示例中删除之后）。在较低的温度下，GPT-3尝试发明了一种＆＃34; signup_dt＆＃34; “费用”列中的“表格，因此不必加入用户。和＆＃34; charges ##;表在一起。随着温度的升高，它确实加入了它们，这对于正确回答这个问题是必要的。这是.8温度响应：</p><p>  输入：过去6个月内注册的用户给我们带来了多少收入？</p><p> .8温度GPT-3响应：来自用户的SELECT SUM（charges.amount）INNER JOIN对用户收费。id= charges.user_id WHERE signup_dt＆gt; = DATE_SUB（now（），INTERVAL＆＃39; 6个月＆＃39;）</p><p>  可以肯定的是，＆＃34; DATE_SUB（now（），INTERVAL＆＃39; 6个月＆＃39;）＆＃34;不是有效的Postgres表达式（温度较高的缺点之一是它会尝试无法正常工作的东西），因此该查询在技术上会失败。但是从结构上讲，通过加入Charges＃34;可以走上正确的道路和＆＃34; users＆＃34;因此它可以以＆＃34; signup_dt＆＃34;为条件。同时，在使用＆＃34; signup_dt＆＃34;时，.2温度响应完全不准确。 “费用”中实际上不存在的列表：</p><p>  输入：过去6个月内注册的用户给我们带来了多少收入？ </p><p>.2温度GPT-3响应：SELECT SUM（当signup_dt＆gt; = now（）-间隔＆＃39; 6个月，然后数量0结束的情况下）作为收费收入</p><p>  现在，我有了一个GPT-3实例，该实例可以回答一个简单的英语问题，并将其转换为对我的数据库真正有效的SQL。它并不总是完美的，对于诸如“增长率”之类的更复杂的概念仍然需要一些帮助。或＆＃34;％＆＃34;但这绝对有用。现在，当我有一个关于数据库的简单问题需要解决时，我可以节省一些时间，而又不想自己编写SQL。</p><p> 甚至只是GPT-3知道SQL概念（例如从日期中增加或减去日期间隔）的事实（而没有首先看到它的示例），也意味着它对于不熟悉SQL语法的初学者很有用。只是问一下GPT-3，您如何从SQL中的今天起减去30天？似乎比谷歌搜索或阅读文档容易。</p><p> 至于根据GPT-3获得的答案实际采取的行动，就目前而言，这仍然是一项艰巨的工作。</p><p> 快速插接：我们目前正在为SeekWell客户测试一项功能，该功能使用GPT-3自动根据您的数据库架构定制的简单英语生成SQL。如果您有兴趣尝试此操作，请通过contact@seekwell.io与我们联系。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.seekwell.io/gpt3">https://blog.seekwell.io/gpt3</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/gpt/">#gpt</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/job/">#job</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1045376.html"><img src="http://img2.diglog.com/img/2021/1/thumb_48ebb19d31a43687b9f205eb69d41865.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1045376.html">研究发现，GPT-3具有“一致和创造性”的反穆斯林偏见 </a></div><span class="my_story_list_date">2021-1-21 1:58</span></div><div class="col-sm"><div><a target="_blank" href="/story/1036492.html"><img src="http://img2.diglog.com/img/2020/11/thumb_50400debe06b046590d8fc7cc4d6f253.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1036492.html">我问GPT-3，问“ 42”</a></div><span class="my_story_list_date">2020-11-25 16:2</span></div><div class="col-sm"><div><a target="_blank" href="/story/1027799.html"><img src="http://img2.diglog.com/img/2020/10/thumb_73876fe7b65ab011a628c9b532fd85d9.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1027799.html">有人在Reddit上放出了一个GPT-3机器人</a></div><span class="my_story_list_date">2020-10-8 9:0</span></div><div class="col-sm"><div><a target="_blank" href="/story/1022550.html"><img src="http://img2.diglog.com/img/2020/9/thumb_12971e664176135f61577fa698cf5b69.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1022550.html">美丽，黑暗，扭曲，GPT-3产生了纳西姆·塔勒布的格言</a></div><span class="my_story_list_date">2020-9-7 22:17</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>