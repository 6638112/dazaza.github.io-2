<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>1.9 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">1.9 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-04-14 04:31:54</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/4/f4ea5032c18f4234552dca6fcba5517b.png"><img src="http://img2.diglog.com/img/2021/4/f4ea5032c18f4234552dca6fcba5517b.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>今天我们正在发布丹诺1.9.0。此版本包含许多新功能，性能改进和错误修复：</p><p>  如果您已安装Deno安装，则通过运行Deno升级，您可以升级到1.9。如果您首次安装DENO，则可以使用以下方法的ONEOF：</p><p> ＃使用shell（麦克斯和linux）：curl -fssl https://deno.land/x/install/install.sh | Sh＃使用PowerShell（Windows）：IWR HTTPS：//deno.land/x/install/install.ps1-useb | iex＃使用homebrew（麦斯科斯）：酿造install in deno＃使用scoop（windows）：scoop安装deno＃使用巧克力（windows）：choco安装deno</p><p>   Deno，STD / HTTP中的当前HTTP服务器，在TCP套接字顶部的纯版本中屏蔽。尽管使用脚本HTTP服务器，它已无法查看Goodtail Latency。但是，STD / HTTP＆＃39;它的主要缺点是它仅是HTTP / 1.1  - 没有轻松的路径向HTTP / 2前进。</p><p> 最终，我们希望在编写HTTP服务器的业务中。 HTTP等因素是非琐碎的，并且已经实现了很好的HTTP服务器的独特码。</p><p>  与STD / HTPPPURE TypeStript HTTP服务器相比，绑定在48％时提高了Hello-World吞吐量。</p><p>  我们希望很快稳定这个新的API，但现在您必须使用 - 不稳定标志。请测试它并为我们提供反馈。 </p><p>const body = new textencoder（）。编码（＆＃34; hello world＆＃34;）;用于等待（丹诺·列斯滕的const conn（{port：4500}））{（async（）=＆gt; {用于等待（ deno.servehttp（conn）的const {respoldwith}）{respoldwith（新响应（body））;}}）;}</p><p> 我们已经特别注意使用相同的请求和响应对象Asthe Fetch（）API使用。请求和响应对象都具有SEMEREABLEBODIES，允许与客户端进行全双工通信。</p><p>   我们将我们的绑定基础设施重建为明显更简单，更简单。更快：我们＆＃39; vere从核心，改进的基线绑定（AKA OPS或OPCALLS）开销超过1500辆净编码线，高达〜65倍或-98％，并拥有建立的欧普普及，应该为我们提供良好的前进（对于插件，未来优化等......）。</p><p> 在以前的丹诺版本中，OPCALLS遵循一个请求/响应模式，在Custom＆＃34中编码其数据;有效负载＆＃34; ArrayBuffers。从历史上看epayloads使用了各种编码，从JSON，FlinBuffers到自定义二进制码，这不仅是一个性能瓶颈，它是复杂性和碎片的实质性源。</p><p> @aarono建议，而不是在这些二进制格式，js＆amp之间序列地序列化。 RUDE，它将直接在V8和RUST值之间进行更有效的TOSERIALIZE。遵循该洞察力和水上读物原型，Serde_v8 Was出生。 Serde_v8旨在提供A＆＃34;最大高效＆＃34;或者＆＃34;零开销＆＃34; v8＆amp之间的双射。 Rust价值虽然剩下富有表现力和熟悉的（因为它建造了David Tolnay＆＃39; S Finnastic Serde图书馆）。</p><p> 基线op开销是一个重要的基准，它测量给定类OPCALLS的最低成本（在每呼叫的纳秒中）：</p><p>  这些运算层改善areN＆＃39; t简直是学术，它们大大提升了＆＃39;效率，并帮助提供了我们的HTTP长椅上的吞吐量和延迟收益。您应该在重负荷下看到自己的多孔曲线图的改进，或者以前通过opcallefiency瓶颈。 </p><p>如您所知，丹诺中的许多常见功能现在可以更快地〜3倍。</p><p>  我们在此提单中引入了对Blob的支持：（也称为对象URL）。用于创建和撤销Blob URL的API与Browser中的相同：</p><p> const blob = new blob（[＆＃34; hello world！＆＃34;]）; const url = url.createobjecturl（blob）; console.log（URL）; // blob：null / 7b09af21-03d5-461e-90a3-af329667d0acconst resp = await fetch（url）; console.log（await resp.text（））; // hello world！url.revokeobjecturl（URL）;</p><p> BLOB URL可以用于获取，以实例化Web工作者使用新工作人员以及动态导入（使用导入（））。</p><p>    在此版本丹麦语言服务器中，工具供电编辑器扩展前所未有的新功能和改进。</p><p> 首先，我们已经改进并重新引入了从旧的VS代码扩展名的导入完成功能。它允许用户在ImportStatement中获取完成。 LSP为本地文件提供完成，文件已下载到Deno_Dir缓存，以及注册表完成。</p><p>   要为https://deno.land/x注册表启用完成添加以下Toyour与代码（或其他编辑器）设置： </p><p>{＆＃34;丹诺＆＃34 ;: {＆＃34;建议＆＃34 ;: {＆＃34;进口＆＃34 ;: {＆＃34;主机＆＃34 ;: {＆＃34; https：//丹麦.land＆＃34;：true}}}}}}}}}}}}}}}}}}}}}}}</p><p> https://deno.land/x目前提供注册表自动完成。我们秉承更多的注册管理机构将实施注册管理委员会，以支持这一新细则。 SkyPack注册表已显示出兴趣，并且很快就会得到支持。如果要为自己的注册表添加支持，则可以阅读注册表完成文档。</p><p> 除了新的导入完成外，我们还实现了TextDocument / FoldingRange和TextDocument / SelectionRange LSP功能，符合编辑器在选择期间提供更好的文本捕捉，以及BetterSupport用于折叠和扩展代码块。</p><p> 此版本还包括LSP的许多错误修复，Windows系统上有一个突出的一个位于Windows系统上的错误，导致LSP遇到特定文件：// URL时恐慌。</p><p>  丹诺＆＃39; s许可标志的几个允许列表，使其成为拍摄程序＆＃39; s权限的肉质。例如，-Alow-read = / tmp rantsread允许到./tmp目录。</p><p> 在1.9之前，--allow-env和-allow-run都没有，这意味着传递这些标志，分别将这些标志授予完全访问环境变量，并分别在系统上产生任何二进制文件的子进程。</p><p> 现在，可以确定程序应该haveacess的环境变量，或者允许哪些子过程允许spawn： </p><p>目前在德诺，如果您运行程序缺少相应的PermisionFlag，它将抛出错误并退出。在1.9中，我们正在添加--Prompt旗帜允许用户迭代授予权限，因为期间需要它们。</p><p> 使用 - 尝试从internet运行一次性脚本时尤其有用 - 您不需要了解所有必需的权限，而是在没有任何权限的情况下运行脚本，而不是授予或拒绝它们一个ASTHEY该程序。</p><p>   请告诉我们 - 如果--prompt对您有用。我们正在考虑在将来的释放中默认情况下截止。</p><p>  http / 2协议是连接不可知的。这意味着它可以使用ONA UNIX套接字，TCP套接字或使用TLS连接。主要的WebBrowsers仅允许HTTP / 2通过TLS连接，该连接宣布支持HTTP / 2握手的TLS握手。这是通过＆＃34的;应用层协议＆＃34完成; TLS扩展，也称为ALPN。 Tlshandshake的此扩展允许TLS服务器和客户端协商哪个应用程序协议，它们将用于在TLS连接上进行通信。在Web上到TwoDominant应用程序协议是HTTP / 1.1和HTTP / 2。这些拥有AlpnProtocol名称＆＃34; http / 1.1＆＃34;和＃34; H2＆＃34;分别。浏览器只会向HTTP / 2支持的服务器发送HTTP / 2REQUEST，以及ALPN协议所荣耀，或者仅＆＃34; http / 1.1＆＃34;在ALPN协议中列出，HTTP / 1.1将被禁止。</p><p> 到目前为止，STD / HTTP服务器仅支持HTTP / 1.1，因此没有人们在TLS连接上支持ALPN。随着丹诺的引入改变了这个版本中的丹诺。要在denopossible中制作完整的http / 2，我们现在已添加支持在使用deno.listentls启动TLS侦听器时指定若要的ALPN协议。</p><p>  const listener = deno.listentls（{port：443，certfile：＆＃34; ./ cert.pem＆＃34;，keyfile：＆＃34; ./ key.pem＆＃34;，AlpnProtocols：[＆＃34; H2和＃34 ;,＆＃34; http / 1.1＆＃34;]，}）;对于等待（侦听器的const conn）{handleconn（conn）;} async函数handleconn（conn：deno.conn）{const httpconn = deno .servehttp（conn）;用于等待（Const {Request，Htthconn的Repact and andergy）{ReacketWith（新请求（响应$ {request.url}`））; }}</p><p>       在努力制作更多使用丹诺直接携带的丹诺和其他非丹诺运行时编写的代码，我们已经决定弃用systemapis未备份的丹麦名称空间中的所有API。这些API将移动到丹哥标准库，该库也可以在浏览器中使用。 </p><p>这些API已移至STD / IO模块。 我们在丹诺Lint中推出了一个新的Lintrule，发现并警告您的使用这些不稳定的API.it还将建议现在可以找到标准库中的位置。  我们计划将这些已弃用的API删除为Deno 2.0。 可以在将来的2.0 Pre-2.0版本中引入更多的泛化级别消息。 请尽快使用这些已弃用的API的代码。  在此版本中，我们已更改默认的丹诺tsconfig以包括＆＃34;任命任命的forclassfields＆＃34 ;: true选项。 此选项对齐类型＆＃39;对标准ECMA脚本语义的类字段的毛河。 此选项不能在用户代码中覆盖。 我们希望大多数用户不需要划分代码。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://deno.com/blog/v1.9">https://deno.com/blog/v1.9</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/deno/">#deno</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1056146.html"><img src="http://img2.diglog.com/img/2021/4/thumb_2b8e9a888ec4d4eb55ddc5c2f03e1b5c.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1056146.html">Node.js竞争对手丹诺为全日制丹哥工程师获得种子资本 </a></div><span class="my_story_list_date">2021-4-5 2:59</span></div><div class="col-sm"><div><a target="_blank" href="/story/1055535.html"><img src="http://img2.diglog.com/img/2021/4/thumb_3e8a0c67d010e2ae1430809555ae08c1.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1055535.html">denolib / awesome-deno：策划与丹哥有关的东西列表 </a></div><span class="my_story_list_date">2021-4-1 23:1</span></div><div class="col-sm"><div><a target="_blank" href="/story/1055059.html"><img src="http://img2.diglog.com/img/2021/3/thumb_5db34c1094885c9546a29fd7df174fea.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1055059.html">丹诺公司 </a></div><span class="my_story_list_date">2021-3-30 0:27</span></div><div class="col-sm"><div><a target="_blank" href="/story/1045976.html"><img src="http://img2.diglog.com/img/2021/1/thumb_90af1d8d66124624d0ca33eb2826b4b6.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1045976.html">Deno 1.7：独立二进制文件大小减少60％ </a></div><span class="my_story_list_date">2021-1-23 16:5</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>