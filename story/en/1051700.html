<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Dennis Ritchie的第一个C编译器 Dennis Ritchie's first C compiler</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Dennis Ritchie's first C compiler<br/>Dennis Ritchie的第一个C编译器 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-11 16:22:04</div><div class="page_narrow text-break page_content"><p>A second, less noticeable, but astonishing peculiarity is the space allocation:temporary storage is allocated that deliberately overwrites thebeginning of the program,smashing its initialization code to save space.The two compilers differ in the details in how they cope with this.In the earlier one, the start is found by naming a function;in the later, the start is simply taken to be 0.This indicates that the first compiler was written beforewe had a machine with memory mapping, so the origin of theprogram was not at location 0, whereas by the time of the second,we had a PDP-11 that did provide mapping.(See the  Unix History paper).In one of the files (prestruct-c/c10.c) the kludgeryis especially evident. Links to the source of the compilers are listed below.The files named c0?.care the first passes, which parse source and writes syntaxtrees intermingled with some text on an intermediate file.The c1?.c files are the code generators, which readthe trees and generate code. The format is straight text(with just NL characters separating lines; the browsersI&#39;ve tried cope with this). The code generation technique uses tables of instructionprototypes; a parse tree is recursively matched against the part of the tablecorresponding to its root operator. Restrictionson the types and complexityof the operands can be expressed, and the table is searchedsequentially for the earliest matching fragment.Following each restriction specification is the expansionspecification; lower case letters are literal, upper casethings are replaced by things from the operands in thetree. This is described in more detail in the paper A Tour through the PDP-11 Compiler.(This reference is troff source; it can also be found in Postscriptor PDF forms,though bundled with other papers, under the 7th Edition Manual&#39;s home page).But do note that this Tour describes the state of thingsafter several years had passed. There are four tables specifying how to compile an expressionto a register, to compile only for side effects, to compileonly to test condition codes, and to compile to push onthe stack (used for function arguments, or for temporaries).They were saved only with the &#34;last1120c&#34; compiler; thetables for the later one would have been similar. The source for the last1120c compiler also has a subsidiarytable for each pass with a bit of stuff that was notin the library, and some encoding of facts about variousoperators as  .s (assembler language) files. Finally, there is the  cvopt program, usedto convert the nonce-language expression templatetables into assembler.With a lot of handwork, there is probably enough materialto construct a working version of the last1120c compiler,where &#34;works&#34; means &#34;turns source into PDP-11 assembler.&#34;(See the  top of the page for one who succeeded.)</p><p>第二，不太明显，但令人惊讶的特殊性是空间分配：分配临时存储，故意覆盖程序的初始，粉碎其初始化代码以节省空间。两个编译器在他们如何应对这方面的差异。在早些时候，通过命名一个函数来找到开始;在后来，开始时才被认为是0.这表明第一个编译器是在我们有一个内存映射的机器之前写的，所以图中的起源不是位置0，而截至第二个，我们有一个PDP-11确实提供了映射。（参见UNIX历史论文）。在其中一个文件（Prestuct-C / C10.c）中kludgeryis特别明显。下面列出了编译器源的链接。文件名为C0？.care第一个传递，解析源并将语法与中间文件上的一些文本混合。C1？.c文件是代码生成器，readthe树木和生成代码。格式是直文的（只有NL字符分隔线;浏览器＆＃39; ve尝试了应对这个）。代码生成技术使用指令支出表;解析树以与其根操作符相对应的桌面的一部分递归地匹配。 restrictionson可以表达操作数​​的类型和复杂性，并且将序列搜索到最早的匹配片段中的序列搜索。每个限制规范是扩展阶段;小写字母是文字，上部小丑被从术中的操作数取代。这是在纸张上更详细地描述的，通过PDP-11编译器。（此参考是Troff来源;它也可以在第7版手册下与其他论文捆绑在后面的PDF形式中，虽然捆绑在第7版手册下。主页）。但是请注意，这次旅行描述了几年后的交换状态。有四个表格指定如何编译Expression to寄存器，仅为副作用编译，以编译到测试条件代码，并编译为按堆栈（用于函数参数，或临时）.They仅保存＆＃34; last1120c＆＃34;编译器;后来的Thetables将是类似的。 Last1120C编译器的来源也有一个子公司，每个传递都有一些东西，其中一些东西被投入了库，以及一些关于各种文件的事实.s（汇编程序语言）文件。最后，有CVOPT程序，常常将随机语言表达式Templatetetables转换为汇编程序。很多手动，可能有足够的材料构建Last1120C编译器的工作版本，其中＆＃34;工作＆＃34;手段＆＃34;将源转换为PDP-11汇编程序。＆＃34;（查看成功的人的页面顶部。） </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.bell-labs.com/usr/dmr/www/primevalC.html">https://www.bell-labs.com/usr/dmr/www/primevalC.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/编译/">#编译</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/dennis/">#dennis</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/ritchie/">#ritchie</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>