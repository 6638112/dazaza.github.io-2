<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>pyfl输出：简单副作用的魔力 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">pyfl输出：简单副作用的魔力 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-08 22:08:08</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/6/c5d08cdd79179db26813ececbaed3419.png"><img src="http://img2.diglog.com/img/2021/6/c5d08cdd79179db26813ececbaed3419.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>正如我已经解释的那样，我已经发明并实施了一个实验功能语言 -  Pyfl（基于Python的功能语言） - 尝试一些想法。</p><p> 例如，pyfl具有一组完整的可变绑定运算符（VBOS），其使用线性ASCII形式来表示传统数学的Sigma符号等构造。例如，以下添加了前20个方格</p><p>    在前一篇文章中，我描述了Pyfl方法的输入，与Haskell的笨重的IO Monad相比，纯粹的功能，纯粹是纯粹的功能，纯粹的功能，并且琐碎地实现。 （顺便说一句，我对Monads或Haskell没有任何反对，我只是对Haskell Io Monad的印象没有印象）。</p><p> 这次我会谈论pyfl的输出方案。它刻破了三个盒子中的两个盒中的两个 - 它简单且容易实现。这是一些输出（YEP，Pascal的三角形）。我将在这篇文章结束时显示该计划。</p><p>  不幸的是，我不能声称pyfl输出是功能的。它无耻地导致副作用。我只是不知道如何做得更好。</p><p> 一个简单的交互式程序将说明该点。在加拿大的公元前在一个阶段，您必须是一定的（不同的）年龄，预约Covid射击。这个pyfl程序询问您的名称和年龄并告诉您您是否符合条件。</p><p> 查询=如果年龄＆gt; 40然后输出（名称^＆＃39;，您符合条件！＆＃39;）否则输出（名称^＆＃39;对不起，您没有资格。＆＃39;）fi;＆＃39; =输入（＆＃39;您的姓名：＆＃39;）;年龄=输入（名称^＆＃39;您的年龄请：＆＃39;） </p><p>当评估查询时，程序将提示您的姓名，然后，通过名称来解决您的名称，提示您的年龄，然后告诉您您是否符合资格。 （克拉符号站在pyfl for string constenation。）</p><p> 评估时，“函数”输出打印其参数，这通常是一个字符串。这是一个简洁的副作用。我们也可以辩论输入是否调用副作用，但重要的是它们易于使用和实施。并且由于调用采取函数调用的形式，因此它们可以嵌入在诸如if-weash-fi和vbos的pyfl构造中。</p><p> 输入和输出的参数可以是任何表达式。它们不一定是字符串常数。特别地，它们可以涉及以前的输入值，如上所述。</p><p> 还有一个更原始的输出'函数'即输出，但输出通常是优选的，因为它将字符串引号从其字符串参数中传出，如输入。</p><p> 输出伪函数可以嵌入在Pyfl构造中，如VBOS，Lambda表达式，IF-WEAL-FI等。这是一个打印前10个方格和多维数据集的表的程序：</p><p> RES = IN范围（1,10）所有输出（i）＆amp;＆amp;＆amp;产出（＆＃39;＆＃39;）＆amp;＆amp;产出（i * i）＆amp;＆amp;产出（＆＃39;＆＃39;）＆amp;＆amp;输出（i * i * i）＆amp;＆amp;输出（＆＃39; \ n＆＃39;）＆amp;＆amp; ＆＃39;＆＃39;结尾;</p><p> （运营商＆amp;＆amp;评估其副作用的第一个参数，并丢弃结果。） </p><p>结果不是很好。我们没有排队的列。幸运的是，我们可以做得更好。使用Python作为实现语言的优势之一是我们可以以某种方式访问​​所有功能。特别是Python基于具有“孔”的格式字符串具有相当复杂的输出格式系统，用于数据。在Pyfl中，您可以使用另一个输出伪功能Outputf。第一个参数是一个带孔的格式字符串，剩余的参数是将在孔中切入孔的数据项。格式字符串已记录好，对我们有关的是字符串'{：5d} {：5d} {：5d} {：5d} \ n'。</p><p>   结果要好得多。现在数字在五个字符宽的列中排列。</p><p> Python格式化字符串也可以自然地处理浮点数。假设我们想打印前十个整数的广场和多维数据集根，但只想显示四位有效数字。这是完整的程序</p><p>  这是它的输出（我会在底部的空字符串稍后处理）。这里没有必要进入Python格式字符串的详细信息，因为它们在其他地方良好记录。</p><p>  列中的打印数字是一件事，但制作三角形有点难得更难 - 没有内在的内容涵盖的Python格式化字符串。相反，我们必须使用Pyfl的计算能力来生成适当的副作用。</p><p>  SCC（L）= TL（m）！= [] m = l＆lt; [0] fby tl（m）; k =高清（m）; pk = 0 fby k; n = k + pk; n = [] fby n :: n;结果= n :: n; end; tri = i＆lt; 18 l = [1] fby scc（l）; i = 1个FB输出（SP（35-（宽度（l）div 2））＆amp;＆amp;输出（Strlist（L））＆amp;＆amp;输出（＆＃39; \ n＆＃39;）＆amp;＆amp;我+ 1;结果= L＆amp;＆amp; ＆＃39;＆＃39 ;;结束; sp（j）= IN范围（1，j）所有＆＃39; ＆＃39;结尾; // j spaceswidth（l）= sumfor h在l中所有w（h）+1端-1; strlist（l）= in in l all str（h）^＆＃39; ＆＃39;结束; w（h）= 1 +（log10（h）div 1）;</p><p> 函数SCC的第一个清晰度定义了生成成功的三角形行的计算，其中包括作为列表的给定行。因此，SCC（[1]）是[11]，SCC（[11]）是[11]，SCC（[11]）是[1 3 3 1]等。是的，这是一段时间循环 - 我会在下一个帖子中解释一下，但是让我向你保证你的平均时间是所有合法的，没有副作用。 </p><p>TRI的下一个定义是另一个循环的另一个定义。 它反复应用SCC从[1]开始，并生成18行的三角形。 它将这些列表转换为字符串并计算其宽度。 随着线条变宽，它会减少左手间距。  我相信现在你相信，就终端来而言，Pyfl可以做任何合理的（输出字符串可以包含控制字符和转义序列）。  然而，我已经获得了教学债务，即（和其他！）循环。 我有一些'拼接去做。 下一篇文章。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://billwadge.wordpress.com/2021/06/07/pyfl-output-the-magic-of-simple-side-effects/">https://billwadge.wordpress.com/2021/06/07/pyfl-output-the-magic-of-simple-side-effects/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/pyfl/">#pyfl</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/output/">#output</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/输出/">#输出</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>