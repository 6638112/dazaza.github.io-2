<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Easy-WG-Quick-轻松为集线器和对等设备创建WireGuard配置</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Easy-WG-Quick-轻松为集线器和对等设备创建WireGuard配置</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-18 03:39:11</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/291b089dde84f8373ad0a34457a9652f.png"><img src="http://img2.diglog.com/img/2020/10/291b089dde84f8373ad0a34457a9652f.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>These instructions will get you a copy of the project up and running on yourlocal machine. This machine (called hub) will act as VPN concentrator. Allother peers connects to hub (as in a &#34;road warrior&#34; configuration).</p><p>这些说明将使您获得项目的副本，并在您的本地计算机上运行。这台机器(称为集线器)将充当VPN集中器。Allther Peers连接到集线器(就像在“旅途勇士”配置中一样)。</p><p>  Install  Wireguard for your operating system on  local machine,  router, VPS or  container. This will be your hub.</p><p>在本地计算机、路由器、VPS或容器上为您的操作系统安装Wireguard。这里将是你们的枢纽。</p><p> As dependences  /bin/sh,  wg,  wg-quick,  awk,  grep and  ip commandsshould be available on hub. If  ip is not available user is required to set EXT_NET_IF and  EXT_NET_IP variables in script to external network interfacename and IP address (or edit  wghub.conf). Optionally  qrencode can be usedto generate  QR codes for mobile applications.</p><p>集线器上应提供AS Dependations/bin/sh、wg、wg-ick、awk、grep和ip命令。如果IP不可用，则要求用户将脚本中的EXT_NET_IF和EXT_NET_IP变量设置为外部网络接口名称和IP地址(或编辑wghub.conf)。可选地，Qrencode可用于为移动应用生成QR码。</p><p>        This script requires only tools installed, but to use Wireguard module(or user-space implementation) is also required. Detailed install guidefor various operating systems is available at  wireguard.com/install.</p><p>此脚本只需要安装工具，但还需要使用Wireguard模块(或用户空间实现)。有关各种操作系统的详细安装指南，请访问wireguard.com/install。</p><p>          Script do not require any arguments. Just run it and it will create usableWireguard configuration for hub and one peer. Any sequential invocation createsanother peer configuration within same hub.</p><p>脚本不需要任何参数。只要运行它，它就会为集线器和一个对等点创建usableWireguard配置。任何顺序调用都会在同一集线器内创建另一个对等配置。</p><p> ./easy-wg-quick # 1st run creates hub configuration and one client./easy-wg-quick # any other runs creates additional clients</p><p>./Easy-WG-QUICK#第一次运行会创建集线器配置和一个客户端。/Easy-WG-QUICK#任何其他运行都会创建其他客户端。</p><p> Passing an argument to script creates configuration file with name instead ofsequence number to help remembering which config was for which device.Following command will create  wgclient_client_name.conf file.</p><p>向脚本传递参数将创建带有名称而不是序列号的配置文件，以帮助记住哪个配置用于哪个设备。以下命令将创建wgclient_client_name.conf文件。</p><p>   No seqno.txt... creating one!No wgpsk.key... creating one!No wghub.key... creating one!No wghub.conf... creating one!Wireguard hub address is 10.13.1.140:51820 on wlp9s0.Note: customize [Interface] section of wghub.conf if required!Note: passing argument to script creates client configuration with supplied name to help remembering which config was for which device. If you didn&#39;t pass any argument you can still rename created file manually with command: mv -vi wgclient_10.conf wgclient_name.confNo wgclient_10.conf... creating one!██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████ ▄▄▄▄▄ █▀██ ▀▄▀▄█▄ ▀▄ █▀▀▄█▄▄▀ ▄▀██▀▀▀▀█▄ █▀▀▄█ ▄▀▀ █▄▀█ ▄▄▄▄▄ ████████ █ █ █▀▄▀ ▀█▀▄▄▄ ▄ ▀█ ▄██▄█ ▀▀▄ ███▀▀▄▄ ▀ ▄▄▀███▄▀▀ ▀▄█ █ █ ████████ █▄▄▄█ █▀▀▀██▀▄██ ▀▄███▀▀▀▀▄▄ ▄▄▄ ▄ ▀██ ▄█▀▀ █▀██▄▀█▄█ █▄▄▄█ ████████▄▄▄▄▄▄▄█▄█▄▀ ▀▄▀▄▀ ▀▄▀▄█ █▄█ █ █▄█ █ █ ▀ ▀▄█ ▀▄▀ ▀▄▀ ▀▄█▄█▄▄▄▄▄▄▄████████▄▄ █▄ ▄ ██ ▄▄▄█ ▀█▀▄ ▀▄█▄▄█▄▄ ▄ █ █▀▄▀▄▀█▄▀▄▀▀▄▄ █▄ ▀▄▀ ▀ ██████████▀ ▄▀▀▄▀▀▄█▀ █▀ ▀▀▄▀█▄█▄ ▄▀▀▄▄▄█ ▄▀▀█ ▄ ▀▀▄ ▄▄▄ ▀ █▀▀▀██▀▄█ ▄███████████ ▄███ ▄▀█▄▀█▄▀ ███▀▀▀▀▀▀▄ ▄ ▀ ██▀ ▄███ ▄ ▀ ▀ ▄▄▀▄█▀▄▀▀ █▀ ▄▄▀ █████████▀ ▀▀▄ ▄▀▄▀▄██▄█ ▀ ▀▄▀█ █ █▀▀▄ ▀█▀▄▀█▀▀▄▄█▀ ██▀█▄▄▀█▄ ▀ ▀██▀▄▀████████▀▄▄▀▀ ▄▄▄▄▄█ ▀█ ▀▀ ▀█ █▀█ ▀▀▄ ▀█▀██▀█ ▄▀▀▀▀▄▀ █▀▄▄▄ █ ▀▀▀ ▄▄ █████████▀▄▄██ ▄▀▀▀▀█▄▄▄ ▀▄█ ▀▀ ▄▄▄ █▀▄ █▄▄ ▄███▀▄▀██ ▀▀██ ▄ ▀▄ ▄██▀▄████████▄ ███▄ ▀▄█ ▄▀▄▀▀▀▀▄▀▀▄▄▀ ▄ ▄▄▄▀▄▄█▄▄ ▀█▄▄▀▀▀▄▄▄▀ ▀▄██▀ ▄▄ ████████ █▄▀▀ ▄██▀▄ █▄▀▄ ▀ █▀ ▄ ▄██▀█ ▄ ██▀▄▄▀ █ ▄▄█ ▀▀ ▄▀█ ▄ ██ ▀▀▄▄████████ ▄ ▀▄▄▄█▄█▀█▄ ▀▀▀ ▀▀▄▄█ ▀▄▀██ ▀▄█ █ █▄ █▀▀▀ ▀██ ▀▀ ▀▄▀ ██▀█████████▄ ▀▄▀▄█▄ ▄▄▀█ ▄█ █▄▄▀ ▄▄▀█ ▄█▄▄▄ ▀▀▀▀ ▄▄ █ ▀▄█▄ ▄▄▀▀ █ ▀▄▀▄▄████████ █▀█▀▄▄▀▀▄ ███ ▀█▀▀▄█▄ ▄ ▄███▀▄▄▀▀ ▀▀▀▀ ▄ █▄▀▄▄▄▀▄▀ ██ █▀ █ ▀█████████▄▄█ ▄▄▄ █ ▄ ▀█▀ ▄█▀█▄ █▀▄▄ ▄▄▄ ▄ █▄█▄ ██▀▄█▀██▀ ▄ ▄▄▄ ▀▀▄█████████▀█▀▄ █▄█ █▄█▄▀▀█ █▄▄ ▀███▀███ █▄█ ▄▄▄▀▀█ ▄██▀▀ ▀▀▄▄▄▄▄ █▄█ ██▄▀████████ ▀ ▄▄ ▀█ ▄█ █▀ ▄█▄█▄▄▀████ ▄ ▄ ▄▄▄███▄▀██▄▄▄▄▄▀▄▄██ ▄ ▄▄▄█ ▄████████ ▀ ▄▄ ▄ ▄▄ ▄▀▄█▄▀▀ █▄█▀ ▀█▀▀█ █▀██▀▀███▄▀▀▀█▄█▀ ▄█▄ ▄█▄█▀▄ ▀████████▄▀▄▄▀▄▄█▀▄▄ █▄▄█▀ ▄▀▀█▄ ▄█▀██ ███ █▄▄█▀█▄▀▀▄ ▀▄▀▄ ▀██ ▀▀ ▀▀▄████████ ▄▀▄▀▄▀ ▄▀▄ ▄ ▀█▄█ ▀▀▄█▄▀█▀▀▄██▀ ▄▀▀▄ ▄█▄██▀ ▄█▄▄▄ ▀ ██▄▀██▀▄████████▀█ ▄█▄▄▄▄██▄ ▄▄▄█ ▄▀▄▄█▄█▄▀▀▀ █▀ █▀▀▄▀█▀█▀█▀▄█▄ ▀█▄█▀ ▀▄█▄█ ▄▀ ▄████████▄▀▀█▄▄▄▀▀█▄ ▀█ ▄▀▄ ▀▀█▄▀▄▄▄ ▄▀ ▀▀▀▄▀█ █▀█ ▄▀ ▀█▄ ▀▀█▀▄▄█ █▄█▄██▀████████▀█▀▄ ▀▄▄ █▄ ▀█▄ ▀ ▄▄▀█▀█▀▄██▀▄ ▄█▀█▀██▀ ▀▄█ ▀██▀▄█▄█▀ █ █▀ ██████████ █ ▄▄▄ █▀ ▀██ ▀▄ ▄ █████▀█ ▄▀ ▄▄▄█ ▄▄█▄▄ ▄ ▄▄▄█▀▄▄▄▄▄▄▀ ▄█▄▄ █████████▄█▄ ▄▀▄ ▄▀█▀██▄▀▄█▄█▀ ▄ █▀██ ▀▄ ▄▄▀▀▀▀█▀█ █▄ ▀▀ █ █▀ ▀ ▄██▀▄████████▄▄ █ █▄▄▄▄ █ ▄▄▀█▄▀█ ▀▄▀ ▄▄ ▀ ▄█ █▄▀▀▄█▀▄ ▀███▀▀ ▄██ █▄▄█▀█▄▄▄▀████████▀█▄ █▄▄█ █▀ ▄ ▀██ ▀ ▀▄▄▄▄██▄█▄▄▄█▄▄▄▀▀▄▀▄█▀ ▄█ ▄▀▄ ▀█ ▄█ ▄▄▀▄▄█████████▄▄█▄█▄█▀▄█ ▀ █▄ ▀▀▀▀▀█▄█▄▄ ▄█ ▄▄▄ ▀▄▀██▄▄▀█▄▀▀ █▄█ ▄█ ▄▄▄ █ █▀████████ ▄▄▄▄▄ █▄██▀▀█▀██▀▀▄█ ▄▀ ▄█▄█▀ █▄█ █▀▀▄█▄ █▄█▄▀█▀ █ █▄█ ▀▀▀▄████████ █ █ █ █ ▀▄█ ▀███▄██▄▄ ▄ █ ▄▄ ▄▄█ ▄▀▀█▀▄▄▀▀█▄▄▄▀▀▀█ █ ▄▄▄▀ █████████ █▄▄▄█ █ ▀▄ █▄▀█▀ ▄███▄ █ ▄ ▀█▄ ▄▀ ▀▄▀▀▄ █▀ ▄ ▀▄█▀▄█▀▄▄███▄▀▀ █████████▄▄▄▄▄▄▄█▄▄██▄▄█▄█▄█▄▄▄▄█▄▄▄██▄█████▄▄█▄▄▄█▄▄████████▄▄▄█▄██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████Scan QR code with your phone or use &#34;wgclient_10.conf&#34; file.Updating wghub.conf... done!Important: Deploy updated wghub.conf configuration to wireguard with wg-quick: sudo wg-quick down ./wghub.conf # if already configured sudo wg-quick up ./wghub.conf sudo wg show # to check status</p><p>无seqno.txt...。正在创建！没有wgpsk.key...。创建一个！没有wghub.key...。正在创建！没有wghub.conf...。在wlp9s0上创建一个！wireguard集线器地址是10.13.1.140：51820。注意：如果需要，请自定义wghub.conf的[接口]部分！注意：将参数传递给脚本将使用提供的名称创建客户端配置，以帮助记住哪个配置用于哪个设备。如果您没有传递任何参数，您仍然可以使用以下命令手动重命名创建的文件：mv-vi wgclient_10.conf wgclient_name.conf No wgclient_10.conf...。创建one！█。██▄█▀██▀▄▀▄█▄▀▄█▀▀▄█▄▄▀▄▀██▀▀▀▀█▄█▀▀▄█▄▀▀█▄▀█▄█▀▄▀▀█▀▄▄▄。▄▀█▄██▄█▀▀▄███▀▀▄▄▀▄▄▀███▄▀▀▀▄█▄▄▄██▀▀▀██▀▄██▀▄███▀▀▀▀▄▀██▄█▀▀█▀██▄▀█▄██▄▄▄█。█▄▀▀▄▀▄▀▀▄▀▄██▄███▄███▀▀▄█▀▄▀▀▄▀▀▄█▄▄█▄▄██▄▄▄█▀█▀▄▀▄█▄▄█▄▄▄██▀▄▀▄▀█▄▀▄▀▀。▄▄█▄▀▄▀▀█▀▄▀▀▄▀▀▄█▀█▀▀▀▄▀█▄█▄▄▀▀▄▄▄█▄▀▀█▄▀▀▄▄▄▄▀█▀▀▀██▀▄███▄▀███▀▄▄。▀██▀▄███▄▀▀▄▄▀▄█▀▄▀▀█▀▄▄▀█▀▀▀▄▄▀▄▀▄██▄█▀▀▄▀███▀▀▄▀█▀▄▀█▀▀▄▄█▀██▀█▄▄▀█▄▀▀██▀▄▀█▀▄▄▀▀▄。▄▄▄▄█▀█▀▀▀██▀█▀▀▄▀█▀██▀█▄▀▀▀▀▄▀█▀▄▄▄█▀▀▀▄▄█▀▄▄██▄▀▀▀▀█▄▄▄▀▄█▀▀▄▄▄█▀▄█▄▄▄███▀▄▀██▀▀██▄▀▄▄█。█▀▄█▄███▄▀▄█▄▀▄▀▀▀▀▄▀▀▄▄▀▄▄▄▄▀▄▄█▄▄▀█▄▄▀▀▀▄▄▄▀▀▄██▀▄▄█▄▀▀▄██▀▄█▄▀▄▀█▀▄▄██▀█▄██▀▄▄▀█▄▄。█▀▀▄▀█▄██▀▀▄▄█▄▀▄▄▄█▄█▀█▄▀▄▄█▀▄▀██▀▄███▄█▀▀▀▀██▀▀▀▄▀██▀█▄▀▄▀▄█▄▄▄▀█▄██▄▄▀▄▄▀█。▄█▄▄▄▀▀▀▀▄▄█▀▄█▄▄▄▀▀█▀▄▀▄▄█▀█▀▄▄▀▀▄███▀█▀▀▄█▄▄▄███▀▄▄▀▄█▄▀▄▄▄▀▄▀███▀█▀█▄▄█▄▄▄█。▄▀█▀▄█▀█▄█▀▄██▀▄█▀██▀▄▄▄▄▀▀▄█▀█▀▄█▄██▄█▄▀▀██▄▄▀███▀████▄█▄▄▄▀▀█▄██▀▀▀▀▄█▄███▄▀。█▀▄▄▀█▄██▀▄█▄█▄▄▀████▄███▄▀██▄▀▄▄██▄▄▄▄█▄█▀▄▀▄█▄▀▀█▄█▀▀█▀▀██▀██▀▀███▄▀▀▀█。▄█▀▄█▄▄█▄█▀▄▀█▄▀▄▄▀▄▄█▀▄▄█▄▄█▀▄▀▀█▄▄█▀█▄▄█▀█▄▀▀▄▀██▀▀▀▀▄█▄▀▄▄▀█▄█▀▀▄█▄▀█▀▀。▄██▀▄▀▀▄▄█▄██▀▄█▄▄▄▀██▄▀██▀▄█▀█▄█▄▄▄▄██▄▄▄▄█▄▀▄▄█▄█▄▀▀▀█▀█▀▀▄▀█▀▄█▄▀█▄█▀▀▄█▄█▄▀▄█▄▀▀█▄▄▄。▀▀█▄▀█▄▀▄▀▀█▄▀▄▄▄▄▀▀▀▀▄▀██▀█▄▀▀█▄▀▀█▀▄▄██▄█▄██▀▄▀▄▄█▄▀█▄▀▄▄▀█▀█▀▄██▀▄▄█▀█▀██▀▀▄█▀██▀▄█▄█▀█。█▀█▄▄▄█▀▀██▀▄▄█▀█▄▀▄▄▄█▄▄█▄█▀▄▀▄█▄▄█▄█▄▄▀▄▄▀█▀██▄▀▄█▄█▀▄█▀██▀▄▄▄▀▀。▀▀█▀██▄▀▀██▀▀▄██▀▄█▄▄██▄▄▄▄█▄▄▀█▄▀█▀▄▀▄▄▀▄██▄▀▀▄█▀▄▀███▀▀▄███▄▄█▀█▄▄▄▀█▀█▄█▄▄██▀▄▀██。▀▀▄▄▄▄██▄█▄▄▄█▄▄▄▀▀▄▀▄█▀▄█▄▀▄▀█▄█▄▄▀▄▄█▄▄█▀▄█▀█▄▀█▄█▄▄▄█▄▄▄▀▄▀██▄▄▀█▄▀▀█▄▄▄██▀████。████▄█▄██▀▀█▀██▀▀▄█▄▀▄█▄█▀█▄██▀▀▄█▄▀█▀██▄█▀▀▀▄█▀▄█▀███▄██▄▄▄█▄▄▄▄█▄▀▀█▀▄▄▀▀█▄▄▄▀。▀▀██▄▄▄▀█▄▄▄██▀▄█▄▀█▀▄███▄█▄▀█▄▄▀▀▄▀▀▄█▀▄▀▄█▀▄█▀▄▄███▄▀▀█▄█▄▄██▄▄█▄▄▄▄█▄▄▄██。▄█▄▄█▄▄▄█▄▄█▄▄▄█▄█。█Scan二维码与您的手机或使用&#34；Wgclient_10.conf&#34；文件。正在更新wghub.conf...。完成！重要提示：使用WG-QUICK：SUDO WG-QUICK DOWN将更新的wghub.conf配置部署到wireguard。/wghub.conf#如果已配置sudo WG-QUICK UP。/wghub.conf sudo WG show#检查状态</p><p>       interface: wghub public key: kbaG3HxSDz3xhqiTNXlo1fZkFa+V6oTl+w0cSAQKxwQ= private key: (hidden) listening port: 51820peer: th8qYu0R0mgio2wPu1kz6/5OOgi6l8iy7OobK590LHw= preshared key: (hidden) endpoint: 10.60.1.150:37218 allowed ips: 10.127.0.10/32 latest handshake: 50 minutes, 22 seconds ago transfer: 32.64 MiB received, 95.24 MiB sent</p><p>接口：wghub公钥：kbaG3HxSDz3xhqi TNXlo1fZkFa+V6oTl+w0cSAQKxwQ=私钥：(隐藏)监听端口：51820对等点：th8qYu0R0mgio2wPu1kz6/5Ogi6l8iy7OobK590LHw=预共享密钥：(隐藏)端点：10.60.1.150：37218允许的IPS：10.127.0.10/32最近一次握手：50分22秒前传输：32.64MIB已收到，95.24MIB已发送。</p><p>   By default  easy-wg-quick use interface with default routing done over it asexternal network interface of VPN hub. If autodetection fails or generation ofconfiguration is done outside the hub (i.e. on  air gapped laptop) user canset interface name in  extnetif.txt file with command:</p><p>默认情况下，Easy-WG-Quick Use接口作为VPN集线器的外部网络接口，默认路由在其上完成。如果自动检测失败或配置生成在集线器外部完成(即在气隙笔记本电脑上)，用户可以使用以下命令在extnetif.txt文件中设置接口名称：</p><p>   By default  easy-wg-quick uses IP address of interface that has defaultrouting done over it as external IP address of VPN hub. This might not be trueif hub is behind firewall or NAT/PAT/masquarading is done. User can setprefered IP address in  extnetip.txt file with command:</p><p>默认情况下，Easy-WG-QUICK使用通过其进行默认处理的接口的IP地址作为VPN集线器的外部IP地址。如果集线器位于防火墙之后或执行NAT/PAT/MasQuarding，则可能不是这样。用户可以使用以下命令在extnetip.txt文件中设置首选IP地址：</p><p>     By default  easy-wg-quick use random port number from range 1025-65535. Whenusing static port number is required for firewall configuration or otherreasons user can set preferred port number (80 in this example) in  portno.txtfile with command:</p><p>默认情况下，Easy-WG-Quick使用1025-65535范围内的随机端口号。当防火墙配置需要使用静态端口号或其他原因时，用户可以使用以下命令在portno.txt文件中设置首选端口号(在此示例中为80)：</p><p>   By default  easy-wg-quick use randomly generated internal network addressesfor both IPv4 and IPv6. Custom network addresses can be set with the followingcommands.</p><p>默认情况下，Easy-WG-Quick对IPv4和IPv6都使用随机生成的内部网络地址。可以使用以下命令设置自定义网络地址。</p><p>        By default  easy-wg-quick uses 1.1.1.1 as it&#39;s internal DNS. You can use thecommand below to serve a custom IPv4 DNS to clients.</p><p>默认情况下，Easy-WG-QUICK使用1.1.1.1作为其内部DNS。您可以使用下面的命令为客户端提供自定义IPv4 DNS。</p><p>   By default  easy-wg-quick uses 2606:4700:4700::1111 as it&#39;s internal DNS. Youcan use the command below to serve a custom IPv6 DNS to clients.</p><p>默认情况下，Easy-WG-QUICK使用2606：4700：4700：：1111作为其内部DNS。您可以使用以下命令为客户端提供自定义IPv6 DNS。</p><p>   Firewall type is guessed from operating system. For Linux  iptables and ip6tables are used. For FreeBSD basic  pf NAT rules are implemented.File  fwtype.txt contains name of firewall type. To override autodetectionor disable any rules run one of the following commands:</p><p>防火墙类型由操作系统猜测。对于Linux，使用iptables和ip6table。对于FreeBSD，实现了基本的PF NAT规则。文件fwtype.txt包含防火墙类型的名称。要覆盖自动检测或禁用任何规则，请运行以下命令之一：</p><p> echo iptables &gt; fwtype.txt # to choose Linux netfilterecho firewalld &gt; fwtype.txt # to choose [firewalld]echo pf &gt; fwtype.txt # to choose OpenBSD PFecho custom &gt; fwtype.txt # to include predefined commands from fileecho none &gt; fwtype.txt # to skip any setup during wg-quick up/down</p><p>Echo iptables&gt；fwtype.txt#选择Linux netfilterecho Firewalld&gt；fwtype.txt#选择[Firewalld]echo PF&gt；fwtype.txt#选择OpenBSD PF自定义&gt；fwtype.txt#包括文件中的预定义命令echo None&gt；fwtype.txt#跳过WG期间的任何设置-快速上/下。</p><p>   PostUp = echo &#34;command 1&#34;PostUp = echo &#34;command 2&#34;PostUp = ...PostDown = echo &#34;command 1&#34;PostDown = secho &#34;command 2&#34;PostDown = ...</p><p>PostUp=ECHO&#34；命令1&#34；PostUp=ECHO&#34；命令2&#34；PostUp=...PostDown=ECHO&#34；命令1&#34；PostDown=secho&#34；命令2&#34；PostDown=...。</p><p>  Sysctl command syntax is guessed from operating system. Linux and FreeBSDare supported. As enabling IP forwarding is required for hub to forward VPNtraffic to the Internet it is managed by PostUp/PostDown settings by default.Some application (i.e.  Docker) might require that IP forwarding is neverdisabled. In that case setting  none in  sysctltype.txt and managing IPforwarding settings  elsewhere might be required.</p><p>Sysctl命令语法是从操作系统猜测的。支持Linux和FreeBSD。由于集线器需要启用IP转发才能将VPN流量转发到Internet，因此默认情况下由PostUp/PostDown设置进行管理。某些应用程序(如Docker)可能要求从不禁用IP转发。在这种情况下，可能需要在sysctltype.txt中设置None并在其他地方管理IP转发设置。</p><p> File  sysctltype.txt contains name of sysctl type. To override autodetectionor disable any commands from being run use one of the following commands:</p><p>文件sysctltype.txt包含sysctl类型的名称。要覆盖自动检测或禁止运行任何命令，请使用以下命令之一：</p><p> echo linux &gt; sysctltype.txt # to choose Linux sysctl commandecho freebsd &gt; sysctltype.txt # to choose FreeBSD sysctl commandecho none &gt; sysctltype.txt # to skip any setup during wg-quick up/down</p><p>Echo Linux&gt；sysctltype.txt#选择Linux sysctl命令decho FreeBSD&gt；sysctltype.txt#选择FreeBSD sysctl命令decho no&gt；sysctltype.txt#跳过WG期间的任何设置-快速上/下。</p><p>  If a global unicast IPv6 address is detected on server tunnels will be createdwith inner IPv6 addresses allocated. This allows hub&#39;s clients to connect overhub&#39;s IPv6 NAT to IPv6 network.</p><p>如果在服务器上检测到全局单播IPv6地址，将使用分配的内部IPv6地址创建隧道。这允许集线器的客户端将overHub的IPv6 NAT连接到IPv6网络。</p><p> If a global unicast IPv6 address is not detected, the existence of a filenamed  forceipv6.txt can forcibly enable IPv6 support.</p><p>如果未检测到全局单播IPv6地址，则文件名forceipv6.txt的存在可能会强制启用IPv6支持。</p><p>  To use outer IPv6 addresses (i.e. connect client to hub over IPv6) just set EXT_NET_IF and  EXT_NET_IP variables in script to external network interfacename and IPv6 address (or edit  wghub.conf).</p><p>要使用外部IPv6地址(即通过IPv6将客户端连接到集线器)，只需将脚本中的EXT_NET_IF和EXT_NET_IP变量设置为外部网络接口名和IPv6地址(或编辑wghub.conf)。</p><p>  By default  easy-wg-quick uses IPv6 masquerading to provide IPv6 connectivityto peers. This is easier to setup and require only single IPv6 global unicastaddress to work. On the other hand network address translation (NAT) has issues and limitations.</p><p>默认情况下，Easy-WG-QUICK使用IPv6伪装向对等点提供IPv6连接。这更易于设置，并且只需要单个IPv6全局单播地址即可工作。另一方面，网络地址转换(NAT)也存在问题和局限性。</p><p> Neighbor Discovery  Proxies (ND Proxy, NDP Proxy) allows  end-to-endconnectivity, but requires /64 network to be assigned to hub. From this /64network, a subnetwork has to be divided (i.e. /112) and assigned to Wireguardinterface.</p><p>邻居发现代理(ND代理、NDP代理)允许端到端连接，但需要将/64网络分配给集线器。从此/64网络中，必须划分一个子网(即/112)并将其分配给Wireguardinterface。</p><p>   When hub has 2001:19f0:6c01:1c0d/64 assigned, part of it can be assigned toWireguard interface (i.e. 2001:19f0:6c01:1c0d:40/112).</p><p>当集线器分配了2001：19f0：6c01：1c0d/64时，部分集线器可以分配给Wireguard接口(即2001：19f0：6c01：1c0d：40/112)。</p><p>    DNS redirection might be required to integrate with services like  Pi-hole or Cloudflare DNS over TLS. This could be achieved by using port 53 UDP/TCPredirection in  wghub.conf.</p><p>可能需要DNS重定向才能与PI-HOLE或Cloudflare DNS over TLS等服务集成。这可以通过使用wghub.conf中的端口53 UDP/TCPredirect来实现。</p><p> PostUp = iptables -t nat -A PREROUTING -i %i -p udp -m udp --dport 53 -j DNAT --to-destination 1.1.1.1:53PostUp = iptables -t nat -A PREROUTING -i %i -p tcp -m tcp --dport 53 -j DNAT --to-destination 1.1.1.1:53PostDown = iptables -t nat -D PREROUTING -i %i -p udp -m udp --dport 53 -j DNAT --to-destination 1.1.1.1:53PostDown = iptables -t nat -D PREROUTING -i %i -p tcp -m tcp --dport 53 -j DNAT --to-destination 1.1.1.1:53</p><p>PostUp=iptables-t NAT-A PREROUTING-I%i-p UDP-m UDP--dport 53-j DNAT--到目的地1.1.1.1：53PostUp=iptables-t NAT-A PREROUTING-i%i-p TCP-m TCP--dport 53-j DNAT--to-Destination 1.1.1.1：53PostDown=IPtabLes-t NAT--D PREROUTING-I%i-p UDP-m UDP-dport 53-j DNAT--to-Destination 1.1.1.1：Post53Down=IptabLes-t NAT--to-Destination 1.1.1.1：Post53Down=IptabLes-t NAT--to-Destination 1.1.1.1：Post53Down=IptabLes--t NAT--to-Destination 1.1.1.1：Post53 Down=IptabLes-t NAT--to-Destination 1.1.1.1。-t NAT-D PREROUTING-i%i-p TCP-m TCP--dport 53-j DNAT--到目的地1.1.1.1：53。</p><p>  PostUp = ip6tables -t nat -A PREROUTING -i %i -p udp -m udp --dport 53 -j DNAT --to-destination 2606:4700:4700::1111:53PostUp = ip6tables -t nat -A PREROUTING -i %i -p tcp -m tcp --dport 53 -j DNAT --to-destination 2606:4700:4700::1111:53PostDown = ip6tables -t nat -D PREROUTING -i %i -p udp -m udp --dport 53 -j DNAT --to-destination 2606:4700:4700::1111:53PostDown = ip6tables -t nat -D PREROUTING -i %i -p tcp -m tcp --dport 53 -j DNAT --to-destination 2606:4700:4700::1111:53</p><p>Postup=ip6tables-t nat-A PREROUTING-I%i-p udp-m udp--dport 53-j DNAT--至目标2606：4700：4700：：1111：53PostUp=ip6tables-t nat-A PREROUTING-i%i-p TCP-m TCP--dport 53-j DNAT--to-Destination 2606：4700：4700：1111：53PostDown=ip6tables-t NAT-D PREROUTING-I%i-p UDP-m UDP-dport 53-j DNAT--to-Destination 2606：4700：4700：1111：1111：53PostDown=ip6tables-t NAT-D PREROUTING-i%i-p tcp-m tcp--dport 53-j DNAT--到目标2606：4700：4700：：1111：53。</p><p>  Systemd may load configuration for both hub and clients using wg-quick.service. Note that also  native support for setting up Wireguardinterfaces exists (since version 237).</p><p>Systemd可以使用wg-ick.service加载集线器和客户端的配置。请注意，还存在对设置有线接口的本机支持(从版本237开始)。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/burghardt/easy-wg-quick">https://github.com/burghardt/easy-wg-quick</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/wg/">#wg</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/集线器/">#集线器</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>