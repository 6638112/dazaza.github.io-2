<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>为什么将第一个字符串的第一个字母大写，以便在RUTR中卷积？ </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">为什么将第一个字符串的第一个字母大写，以便在RUTR中卷积？ </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-10 03:51:20</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/6/ff0287210796737fd34a6056d629fa7a.png"><img src="http://img2.diglog.com/img/2021/6/ff0287210796737fd34a6056d629fa7a.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>我喜欢利用A＆amp; str的第一个字母。它＆＃39;我是一个简单的问题，我希望一个简单的解决方案。直觉告诉我做这样的事情：</p><p>  但＆amp; strs可以＆＃39; t索引。我能够做到的唯一方法似乎过分搞砸了。我将＆amp; str转换为迭代器，将迭代器转换为向量，大写向量中的第一个项目，它创建一个迭代器，我索引它，创建一个选项，我打开了一个ock，给我一个上套第一个字母。然后我将向量转换为迭代器，我转换为一个字符串，我转换为a＆amp; str。</p><p> 让S1 =＆＃34; foobar＆＃34 ;;让mut v：vec＆lt; char＆gt; = s1.chars（）。收集（）; v [0] = v [0] .to_uppercase（）。第n（0）.unwrap（）; let s2：string = v.into_iter（）。收集（）;让S3 =＆amp; S2;</p><p> 有什么比这更容易的方式，如果是的话，是什么？如果没有，为什么RUDE这样的方式？</p><p>  5＆＃39; s一个简单的问题 - 没有，它＆＃39;没有。请在被解释为德语时大写ß提示：它＆＃39; s不是一个字符。即使是问题陈述也可能是复杂的。例如，利用姓氏Von Hagen的第一个性格是不当的。这是生活在一个全球性世界中的一个方面，这些世界已经有数千年的不同实践，我们正试图将所有人挤进到8位和2行代码中。  -  Shepmaster.</p><p>  你姿势似乎是一个字符编码问题，而不是数据类型问题。我假设char :: to_uppercase已经正确处理Unicode。我的问题是，为什么需要所有数据类型转换？它似乎索引可以返回一个多字节，Unicode字符（不是单个字节字符，它只假设ASCII），并且To_Uppercase可以以任何语言返回一个大写字符，如果可以在说明的情况下语。  -  Marshallm.</p><p>  @marshallm char :: to_uppercase确实处理了这个问题，但你只拍摄了第一个代码点（第n（0））而不是构成大写的所有代码点  -  User395760. </p><p>字符编码不是一个直接的过程，如joel在软件上指出：Unicode。  - 内森</p><p>  @shepmaster，一般来说你是正确的。它＆＃39;是一种简单的英语问题（关于编程语言和数据格式的事实上的标准基础）。是的，有脚本在其中＆＃34;资本化＆＃34;甚至不是一个概念，其他人在那里是非常复杂的。  -  Paul Draper.</p><p>    我们创建了一个在UTF-8中编码的文字字符串。 UTF-8允许我们以＆＃39; s漂亮紧凑的方式编码1,114,112个代码点，如果您来自世界各种角色，在ASCII中的主要特征，在1963年创建的标准。UTF-8是一个可变长度编码，这意味着单个代码点可能需要1到4个字节。较短的编码是为ASCII保留的，但许多Kanji在UTF-8中占用3个字节。</p><p>  这创建了字符的矢量。字符是32位数字，直接映射到代码点。如果我们开始使用ASCII的文本，我们＆＃39; VE四倍的内存要求。如果我们从星期形飞机上有一堆角色，那么也许我们没有更多地使用。</p><p>  这抓住了第一代码点和请求它将其转换为大写变体。不幸的是，对于那些长大的英语，那里的人来说，并不总是一个简单的一对一映射A＆＃34;小字母＆＃34;到A＆＃34;大字母＆＃34;侧面注意：我们称之为大写和小写，因为一箱字母在一天的另一盒子上方。</p><p> 当代码点没有相应的大写变体时，此代码将恐慌。我不确定那些是否存在。当代码点具有具有多个字符的大写变体时，它也可以在语义上失败，例如德国ß。请注意，ß可能永远不会在现实世界中大写，这是我可以永远记住和搜索的例子。截至2017-06-29，实际上，德国拼写的官方规则已经更新，以便兼第＃34;ß＆＃34;和＃34; ss＆＃34;是有效的资本化！</p><p>  在这里，我们将字符转换回UTF-8，并且需要新的分配来存储它们，因为原始变量存储在恒定存储器中，以便在运行时不会占用内存。 </p><p>不幸的是，这不是真的。也许我们应该努力将世界转化为esperanto？</p><p>  是的，我当然希望如此。不幸的是，Unicode ISN＆＃39; t在所有情况下都足够了。感谢Huon指出土耳其语I，其中Unipe（İ）和小写（i）版本都有一个点。也就是说，没有一个正确的字母I;它也取决于源文本的区域设置。</p><p>  因为您担心正确性和性能时，您正在使用的数据类型很重要。 char是32位，符号为UTF-8编码。他们是不同的东西。</p><p>   如果您完成字节字节，则可以切割字符串，但如果您不在字符边界，则标准库将恐慌。</p><p> 索引字符串以获得角色的原因之一是从未实现的是因为这么多人滥用字符串作为ASCII字符数组。索引一个字符串来设置字符永远不会有效 - 你必须能够用一个值替换1-4个字节，这也是1-4个字节的值，导致其余的字符串围绕相当多的弹跳。</p><p>       fn some_kind_of_uppercase_first_letter（s：＆amp; str） - ＆gt; string {让mut c = s.chars（）;匹配c.next（）{none =＆gt; string :: new（），一些（f）=＆gt; f.to_uppercase（）。链（c）.collect（），}} fn main（）{println！（＆＃34; {}＆＃34; some_kind_of_uppercase_first_letter（＆＃34; joe＆＃34;））; println！（＆＃34; {}}＆＃34; some_kind_of_uppercase_first_letter（＆＃34; jill＆＃34;））; println！（＆＃34; {}＆＃34; some_kind_of_uppercase_first_letter（＆＃34; von hagen＆＃34;））; println！（＆＃34; {}}＆＃34;，some_kind_of_uppercase_first_letter（＆＃34;ß＆＃34;））;}</p><p> 但是我可能会在箱子上搜索大写或unicode.io，让别人比我更聪明地处理它。 </p><p>谈到＆＃34;有人比我更聪明＆＃34;，veedrac指出它＆＃39;访问第一个大写代码点后，将迭代器转换回切片＆＃39。这允许其余的字节的麦现。</p><p> fn some_kind_of_uppercase_first_letter（s：＆amp; str） - ＆gt; string {让mut c = s.chars（）;匹配c.next（）{none =＆gt; string :: new（），一些（f）=＆gt; f.to_uppercase（）。收集::＆lt; string＆gt;（）+ c.as_str（），}}</p><p>  12思考很多后，我了解这些设计的选择更好。标准库应选择最通用，性能和安全的权衡。否则，它迫使开发人员进行权衡，可能不适合其应用程序，体系结构或区域设置。或者它可能导致歧义和误解。如果我更喜欢其他权衡，我可以选择第三方图书馆或自己写它。  -  Marshallm.</p><p>  @Marshallm那个＆＃39非常高兴！我担心许多新人来误解了生锈设计师所做的决定并简单地将它们写在太复杂，因为没有任何好处。通过在这里询问和回答问题，我欣赏了需要进入这样的设计，并希望成为更好的程序员。保持开放的心态并愿意学到更多内容是一个作为程序员的伟大特质。  -  Shepmaster.</p><p>  ＆＃34;土耳其I＆＃34;是语言环境依赖的一个例子，它与比排序更直接相关。  - 欢呼</p><p>  我惊讶的是他们有to_uppercase和to_lowercase但不是to_titlecase。 IIRC，一些Unicode字符实际上具有特殊的标题组变量。  - 蒂姆</p><p>  顺便说一下，即使是单个代码点也可能不是正确的单位转换。如果第一个字符是一个图形集群，应该在上外壳时接受特殊处理的标记簇？ （恰巧，分解变音工作，如果你只是大写的基本字符，但我不＆＃39;知道如果这是普遍如此）  - 塞巴斯蒂安雷尔 </p><p>有什么比这更容易的方式，如果是的话，是什么？如果没有，为什么RUDE这样的方式？</p><p> 好吧，是的，没有。你的代码是，正如其他答案所指出的那样，不正确，如果你给它像བོད་བོད་ལ་一样恐慌。所以用生锈和＃39的标准图书馆这样做比你最初想到的更难。</p><p> 但是，Fort旨在鼓励代码重用并使图书馆轻松。因此，用惯性方式来利用字符串实际上非常适合：</p><p>  2用户的问题听起来更像是我想要的.to_sentence_case（）。  -  Christopher Oezbek.</p><p>  可悲的是，它并不是讨论命名的东西......这是令人敬畏的图书馆，我以前从未见过它，但它＆＃39; S名称很难（对我来说）记住，并且有几乎没有任何事情的职能实际的拐点，其中一个是你的例子。  -  Sahsahae.</p><p>    如果您能够将输入限制为仅限ASCII字符串，它并不特别是复杂的。</p><p> 由于生锈1.23，str具有make_asci_uppercase方法（在旧的锈版版本中，通过ASCIIEXT特征可用）。这意味着您可以通过相对容易的方式大写ASCII的字符串切片： </p><p>1帮助rust newbie出来，为什么r变形？我看到s是一个可变的str。 OHHHH OK：我有答案我自己的问题：get_mut（这里调用w / a范围）显式返回选项＆lt;＆amp; mut＆gt ;.  -  Steven Lu.</p><p>          这就是我解决了这个问题的方式，注意我必须检查自己是否没有ASCII，然后在转换为大写之前。</p><p> 特质标题{fn标题（＆amp; self） - ＆gt;字符串;}} islich titlecase for＆amp; str {fn标题（＆amp; self） - ＆gt;字符串{if！self.is_ascii（）|| self.is_empty（）{return string :: from（* self）;让（头，尾巴）= self.split_at（1）; head.to_uppercase（）+ tail}} pub fn main（）{println！（＆＃34; {}}＆＃34; bruno＆＃34; .title（））; println！（＆＃34; {}}}＆＃34; b＆＃34; .title（））; println！（＆＃34; {}}＆＃34;＆＃34;🦀＆＃34; .title（））; println！（＆＃34; {}＆＃34;＆＃34;ß＆＃34; .title（））; Println！（＆＃34; {}}＆＃34;＆＃34;＆＃34; .title（））; println！（＆＃34; {}}＆＃34;＆＃34;བོད་སྐད་ལ＆＃34; .title（））;}</p><p>  1</p><p>    这里的一个版本比@ shepmaster＆＃39; s的改进版本，但也更加惯用：</p><p> FN Capitalize_First（S：＆amp; str） - ＆gt; string {让mut chars = s.chars（）;字符.next（）.map（| first_letter | first_letter.to_uppercase（））.into_iter（）.flatten（）.chain（chars）.collect（）}</p><p>  0. </p><p>点击“发布答案”，您同意我们的服务条款，隐私政策和Cookie政策  不是答案你和＃39;寻找？ 浏览其他标记的问题或提出您自己的问题。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://stackoverflow.com/questions/38406793/why-is-capitalizing-the-first-letter-of-a-string-so-convoluted-in-rust">https://stackoverflow.com/questions/38406793/why-is-capitalizing-the-first-letter-of-a-string-so-convoluted-in-rust</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/rust/">#rust</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/大写/">#大写</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/letter/">#letter</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>