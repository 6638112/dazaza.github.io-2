<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>URL查询参数以及松懈如何在Web上产生实际需求</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">URL查询参数以及松懈如何在Web上产生实际需求</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-09-08 09:15:00</div><div class="page_narrow text-break page_content"><p>DWiki(流浪思想背后的代码)的不同寻常之处之一是，它严格验证在URL上接收的查询参数，包括在普通页面的HTTP GET请求上接收的查询参数。如果HTTP请求具有意外且不受支持的queryParameters，这样的GET请求通常会失败。当我做出这个决定时，这似乎是谨慎和保守的做法，但这种谨慎在现代网络上被证明是一个错误。实际上，所有类型的站点都会生成带有各种附加查询参数的URL版本，并将它们提供给人们，然后期望它们能够正常工作。如果您的网站拒绝配合，(一些)人们将无法看到您的内容。(#**$$}{##**$$}{#**$$}。在今天的Web上，您需要接受(然后忽略)URL上的任意查询参数。</p><p>(对于NNlike&#39；04&#39；和&#39；09&#39；的各种值，今天的新查询参数是&#39；s=nn&39；。我不确定是什么生成了这些URL，但可能是Slake。)。</p><p>你可能想知道我们是怎么走到这一步的，这是一个行为松懈的故事(或者，如果你愿意，在你接受的东西上是自由的)。在一开始，Apache(用于静态网页)和早期的Web应用程序通常都忽略URL上的额外查询参数，至少在GET请求上是这样。我怀疑其他早期的Web服务器也在这里模仿Apache，但与Apache相比，我对它们行为的了解较少。我猜测这种行为不是故意的，它只是实现Apache和早期Web应用程序的最简单方式；您只关注您关心的内容，而没有费心明确检查是否没有提供其他任何内容。</p><p>当人们注意到这种行为司空见惯时，他们就开始使用它。我相信最早的用途之一是prembedding&#39；在那里这个链接被分享给你自己的网络分析(Cf)信息，或者是基于你的日志，或者是使用嵌入在页面中的JavaScript。在这种情况下，一旦这种情况变得足够普遍，其他人就开始为你有用地标记通过他们共享的链接，这就是为什么我开始看到各种各样的入站请求的查询参数，尽管我从未发布过这样的URL。Web开发人员不会让有吸引力的麻烦持续太久，所以足够多的人坚持使用额外的查询参数到你的URL，这些参数大多是给他们的，而不是给你的。Facebook可能是这里最早推出参数的网站之一，但从那时起，其他网站也加入了这一行列(就像我最近看到的这些参数一样)。</p><p>在这一点上，其他网站和服务在通过它们的URL中添加随机查询参数的做法非常普遍，接受随机查询参数对于任何希望看到广泛使用而不会激怒操作它的人的网络内容服务软件来说，几乎是一种实际要求。如果你像DWiki一样固执己见，拒绝接受部分或全部请求，你就会放弃一些来自真人的请求，令人失望。</p><p>URL处理的这一实际要求没有记录在任何规范中，而且它可能没有出现在大多数最佳实践文档中。编写新的网络服务系统的人试图变得严格、安全和谨慎，但他们会以艰难的方式了解到这一点。</p><p>一般而言，系统的实际实现中的任何松懈都可能造成类似的实际需求螺旋式上升。允许的和对人们有用的东西将被使用，然后支持成为一种要求。尤其是在像网络这样的分布式系统中，任何收紧规则的尝试最初只会得到少数网站的支持。这些网站会被绝大多数允许松懈行为并支持它的网站压倒，因为当绝大多数网站工作而少数人不工作时就会出现这种情况。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://utcc.utoronto.ca/~cks/space/blog/web/DeFactoQueryParameters">https://utcc.utoronto.ca/~cks/space/blog/web/DeFactoQueryParameters</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/查询/">#查询</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/query/">#query</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/网站/">#网站</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1021596.html"><img src="http://img2.diglog.com/img/2020/9/thumb_394798c664ae70fdd396d807c18a4408.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1021596.html">RxDB-PouchDB之上的实时数据库</a></div><span class="my_story_list_date">2020-9-1 21:56</span></div><div class="col-sm"><div><a target="_blank" href="/story/1014609.html"><img src="http://img.diglog.com/img/2020/7/thumb_45e9bbb10327771de28702b4d302e612.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1014609.html">星型架构基准中的ClickHouse和ColumnStore</a></div><span class="my_story_list_date">2020-7-28 14:17</span></div><div class="col-sm"><div><a target="_blank" href="/story/1011911.html"><img src="http://img.diglog.com/img/2020/7/thumb_37c0220eea1117bf6e343d596dc9b670.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1011911.html">预测性数据库查询能取代机器学习模型吗？</a></div><span class="my_story_list_date">2020-7-15 7:52</span></div><div class="col-sm"><div><a target="_blank" href="/story/1011076.html"><img src="http://img.diglog.com/img/2020/7/thumb_5db8efb4175c606bae28ad97e149b520.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1011076.html">使用语句超时控制失控Postgres查询</a></div><span class="my_story_list_date">2020-7-11 3:50</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>