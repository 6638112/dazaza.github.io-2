<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Jepsen Maelstrom –分布式系统学习工作台 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Jepsen Maelstrom –分布式系统学习工作台 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-03 09:53:04</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/f64db0b23c7185a9b8f4b0b3ab24fdcc.png"><img src="http://img2.diglog.com/img/2021/3/f64db0b23c7185a9b8f4b0b3ab24fdcc.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Maelstrom是一个通过编写自己的系统来学习分布式系统的工作台，它使用Jepsen测试库来测试分布式系统的玩具实现。 Maelstrom为诸如可交换集之类的东西提供了标准化的测试。或＆＃34; transactionalkey-value存储＆＃34 ;，并让您通过编写那些测试套件可以执行的实现来学习。它由Jepsen用作分布式系统研讨会的一部分。</p><p> Maelstrom通过STDIN和STDOUT在简单的JSON协议的基础上，为不同种类的分布式系统提供了一系列测试。用户以任何语言编写服务器。 Maelstrom运行这些服务器，向它们发送请求，通过模拟网络路由消息，并检查客户端是否遵守预期的行为。您想用Bash写Plumtree吗？ Intercal？Maelstrom中的拜占庭Paxos适合您。</p><p> Maelstrom的工具可让用户尝试模拟延迟和消息丢失。每个测试都包括并发结构的时间线可视化，消息交换的统计信息，时间序列图以了解对变化的条件的响应程度，可用性和吞吐量，以及Lamport图，以便您可以准确地了解消息如何在系统中流动。 Maelstrom的检查器可以验证复杂的安全属性，以限制可序列化性，并生成直观，最小的一致性异常示例。</p><p> Maelstrom可以帮助您建模系统如何响应不同的群集大小，网络拓扑，延迟分布以及诸如网络分区之类的故障。Maelstrom还提供可用于构建更复杂系统的模拟服务。</p><p>  《 Maelstrom指南》将指导您使用Maelstrom编写几种不同类型的分布式算法。我们首先设置Maelstrom及其依赖项，编写我们自己的微型echo服务器，然后继续处理复杂的工作负载。</p><p>   工作负载描述了Maelstrom可以测试的各种工作负载，并定义了该特定工作负载中涉及的消息。</p><p> 了解测试结果说明了如何解释测试生成的各种图，数据结构和日志文件。 </p><p>服务讨论了Maelstrom的内置网络服务，您可以将其用作构建更复杂系统的原语。</p><p>  Maelstrom是在JavaVirtual Machine上运行的Clojure程序。它使用Jepsen生成操作，记录其结果的历史记录并分析发生的情况。</p><p> 写作真实分布式系统涉及许多工作：流程管理，网络和消息序列化非常复杂，充满了边缘情况，并且难以跨语言进行调试。另外，运行由真实IP网络连接的虚拟机的完整集群对于许多用户而言是棘手的。 Maelstrom消除了这些问题，因此您可以专注于算法要素：流程状态，转换和消息。</p><p> ＆＃34;节点＆＃34;在Maelstrom测试中，是用任何语言编写的普通旧二进制文件。节点读取＆＃34; network＆＃34;将来自STDIN的消息作为JSON写入JSON＆＃34; network＆＃34;将消息发送到STDOUT，并将其记录到STDERR。 Maelstrom在本地计算机上将这些节点作为进程运行，并通过模拟网络将它们连接。Maelstrom运行一系列模拟网络客户端，这些客户端向这些节点发出请求，接收响应并记录这些操作的历史记录。在测试运行结束时，Maelstrom分析了该历史记录以识别安全违规行为。</p><p> 这使学习者可以用最舒适的语言编写其节点，而不必担心发现，网络通信，守护进程，编写自己的分布式测试工具等。这也意味着Maelstrom可以执行复杂的故障注入和跟踪分析。</p><p> Maelstrom从maelstrom.core开始，该文件解析CLI操作并构建测试图。它将其交给Jepsen，后者通过maelstrom.db设置服务器和Maelstrom服务。生成二进制文件并处理其IO在maelstrom.process中完成，而Maelstrom的内部服务（例如lin-kv在maelstrom.service中定义。Jepsen然后根据工作量（maelstrom.workload。*）和nemesis（ maelstrom.nemesis）注入故障。</p><p> 节点之间的消息由maelstrom.net路由，并记录在maelstrom.journal中。客户端通过maelstrom.client发送请求并解析响应，该客户端还定义了Maelstrom的RPC协议。 </p><p>在测试结束时，Jepsen使用内置在maelstrom.core中的检查器检查历史记录：特定于工作负载的检查器在其各自的工作负载命名空间中定义。 在maelstrom.net.journal中计算网络统计信息，并通过maelstrom.net.viz生成Lamport图。  通过运行java -jar maelstrom.jar test --help可获得选项的完整列表。 重要的是：  --concurrency INT：要同时运行的客户端数。 将4n用于4倍的节点数。  您可能会发现，节点流程的漩涡开始并没有像预期的那样在运行结束时终止。 要解决此问题，请确保如果以--bin传递的进程派生出一个新进程，则该进程也将处理该进程。 终止。  根据Eclipse公共许可证1.0版或（可选）任何更高版本分发。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/jepsen-io/maelstrom">https://github.com/jepsen-io/maelstrom</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/maelstrom/">#maelstrom</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>