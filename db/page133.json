[{"category": "", "categoryclass": "", "imagename": "02cb17a0e0cf44ccb96f52778e8db6fe.png", "infoid": 1070122, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "Tegola \u662f OpenStreetMap \u7684\u5f00\u6e90\u77e2\u91cf\u5207\u7247\u670d\u52a1\u5668\u3002\u4e4b\u524d\u6211\u4eec\u89e3\u91ca\u4e86\u8bbe\u7f6e OSM tile server \u7684\u8fc7\u7a0b\uff0c\u5b83\u662f\u4e00\u4e2a\u57fa\u4e8e\u5149\u6805\u7684 tile server\u3002\u672c\u6559\u7a0b\u5c06\u5411\u60a8\u5c55\u793a\u5982\u4f55\u5728 Ubuntu 20.04 \u4e0a\u8bbe\u7f6e Tegola \u77e2\u91cf\u5207\u7247\u670d\u52a1\u5668\u3002\u5355\u72ec\u7684\u5185\u5bb9\u548c\u6837\u5f0f\uff0c\u5141\u8bb8\u521b\u5efa\u6307\u5411\u540c\u4e00\u4e2a\u56fe\u5757\u5806\u6808\u7684\u591a\u4e2a\u6837\u5f0f\u3002\u6240\u9700\u7684 RAM \u548c\u78c1\u76d8\u7a7a\u95f4\u53d6\u51b3\u4e8e\u60a8\u8981\u4f7f\u7528\u7684\u56fd\u5bb6/\u5730\u533a\u5730\u56fe\u3002\u4f8b\u5982\uff0c\u6574\u4e2a\u661f\u7403\u5730\u56fe\u81f3\u5c11\u9700\u8981 32G RAM \u548c 1TB SSD\uff08\u56fa\u6001\u786c\u76d8\uff09\u3002\u5bf9\u6574\u4e2a\u884c\u661f\u5730\u56fe\u4f7f\u7528\u65cb\u8f6c\u786c\u76d8\u662f\u4e0d\u53ef\u884c\u7684\u3002\u5c06\u6574\u4e2a\u5730\u7403\u7b49\u5927\u578b\u5730\u56fe\u6570\u636e\u5bfc\u5165PostgreSQL\u6570\u636e\u5e93\u9700\u8981\u5f88\u957f\u65f6\u95f4\u3002\u8003\u8651\u6dfb\u52a0\u66f4\u591a RAM\uff0c\u5c24\u5176\u662f\u4f7f\u7528 SSD \u800c\u4e0d\u662f\u65cb\u8f6c\u786c\u76d8\u4ee5\u52a0\u5feb\u5bfc\u5165\u8fc7\u7a0b\u3002\u5982\u679c\u60a8\u8981\u6258\u7ba1\u6574\u4e2a\u4e16\u754c\u5730\u56fe\uff0c\u6211\u5efa\u8bae\u60a8\u4ece Contabo \u8d2d\u4e70\u8d85\u5927 VPS\uff0c\u5b83\u5439\u5618\u5728\u60a8\u7684\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\u4efb\u4f55\u91cd\u5927\u5de5\u4f5c\u4e4b\u524d\u66f4\u65b0\u670d\u52a1\u5668\u8f6f\u4ef6\u59cb\u7ec8\u662f\u4e00\u4e2a\u597d\u4e60\u60ef\u3002\u901a\u8fc7 SSH \u767b\u5f55\u5230\u60a8\u7684\u670d\u52a1\u5668\u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u3002\n\u6211\u4eec\u5c06\u4f7f\u7528 PostgreSQL \u6765\u5b58\u50a8\u5730\u56fe\u6570\u636e\u3002 PostGIS \u662f PostgreSQL \u7684\u5730\u7406\u7a7a\u95f4\u6269\u5c55\u3002\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u5b89\u88c5\u5b83\u4eec\u3002 PostgreSQL \u6570\u636e\u5e93\u670d\u52a1\u5668\u5c06\u81ea\u52a8\u542f\u52a8\u5e76\u4fa6\u542c 127.0.0.1:5432\u3002\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u5c06\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u521b\u5efa postgres \u7528\u6237\u3002\u5b83\u662f PostgreSQL \u6570\u636e\u5e93\u670d\u52a1\u5668\u7684\u8d85\u7ea7\u7528\u6237\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8be5\u7528\u6237\u6ca1\u6709\u5bc6\u7801\uff0c\u4e5f\u4e0d\u9700\u8981\u8bbe\u7f6e\u5bc6\u7801\uff0c\u56e0\u4e3a\u60a8\u53ef\u4ee5\u4f7f\u7528 sudo \u5207\u6362\u5230 postgres \u7528\u6237\u5e76\u767b\u5f55\u5230 PostgreSQL \u670d\u52a1\u5668\u3002\u7136\u540e\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a osm \u7684\u6570\u636e\u5e93\uff0c\u540c\u65f6\u8ba9 osm \u6210\u4e3a\u6570\u636e\u5e93\u7684\u6240\u6709\u8005\u3002 -E UTF8 \u6307\u5b9a\u5728\u6570\u636e\u5e93\u4e2d\u4f7f\u7528\u7684\u5b57\u7b26\u7f16\u7801\u65b9\u6848\u662fUTF8\u3002\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a natural_earth \u7684\u6570\u636e\u5e93\uff0c\u540c\u65f6\u8ba9 osm \u4f5c\u4e3a\u6570\u636e\u5e93\u7684\u6240\u6709\u8005\u3002\u5bfc\u5165\u8fc7\u7a0b\u53ef\u80fd\u9700\u8981\u4e00\u4e9b\u65f6\u95f4\u3002\u4e3a\u4e86\u52a0\u5feb\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u6211\u4eec\u53ef\u4ee5\u8c03\u6574\u4e00\u4e9b PostgreSQL \u670d\u52a1\u5668\u8bbe\u7f6e\u6765\u63d0\u9ad8\u6027\u80fd\u3002\u7f16\u8f91 PostgreSQL \u4e3b\u914d\u7f6e\u6587\u4ef6\u3002\u8fd9\u592a\u5c0f\u4e86\u3002\u7ecf\u9a8c\u6cd5\u5219\u662f\u5c06\u5176\u8bbe\u7f6e\u4e3a\u603b RAM \u7684 25%\uff08\u4e0d\u5305\u62ec\u4ea4\u6362\u7a7a\u95f4\uff09\u3002\u4f8b\u5982\uff0c\u6211\u7684 VPS \u6709 60G RAM\uff0c\u56e0\u6b64\u6211\u5c06\u5176\u8bbe\u7f6e\u4e3a\uff1a\u5982\u679c\u60a8\u50cf\u6211\u4e00\u6837\u6709\u5f88\u591a RAM\uff0c\u5219\u53ef\u4ee5\u5c06 Effective_cache_size \u8bbe\u7f6e\u4e3a\u66f4\u9ad8\u7684\u503c\uff0c\u4f8b\u5982 20G\u3002\n\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cPostgreSQL \u4f1a\u5c1d\u8bd5\u5728 RAM \u4e2d\u4f7f\u7528\u5927\u9875\u9762\u3002\u4f46\u662f\uff0cLinux \u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e0d\u5206\u914d\u5927\u9875\u9762\u3002\u68c0\u67e5 PostgreSQL \u7684\u8fdb\u7a0b ID\u3002\u8fd9\u662f PostgreSQL \u5c06\u4f7f\u7528\u7684\u5cf0\u503c\u5185\u5b58\u5927\u5c0f\u3002\u73b0\u5728\u68c0\u67e5 Linux \u4e2d\u5927\u9875\u9762\u7684\u5927\u5c0f\u3002 AnonHugePages: 0 kB ShmemHugePages: 0 kB HugePages_Total: 0 HugePages_Free: 0 HugePages_Rsvd: 0 HugePages_Surp: 0 Hugepagesize: 2048 kB Hugetlb: 0 kB \u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u6211\u4eec\u9700\u8981\u591a\u5c11\u4e2a\u5927\u9875\u9762\u3002\u5c06 VmPeak \u503c\u9664\u4ee5\u5927\u9875\u9762\u5927\u5c0f\uff1a16282784 kB / 2048 kB = 7950\u3002\u7f16\u8f91 /etc/sysctl.conf \u6587\u4ef6\u3002 AnonHugePages: 0 kB ShmemHugePages: 0 kB HugePages_Total: 7950 HugePages_Free: 7950 HugePages_Rsvd: 0 HugePages_Surp: 0 Hugepagesize: 2048 kB \u7531\u4e8e\u5bfc\u5165\u8fc7\u7a0b\u53ef\u80fd\u9700\u8981\u5f88\u957f\u65f6\u95f4\u5e76\u4e14\u5efa\u8bae\u60a8\u7684\u8ba1\u7b97\u673a\u4e0e\u4e92\u8054\u7f51\u65ad\u5f00\u8fde\u63a5\uff0c\u56e0\u6b64\u5c4f\u5e55\u53ef\u80fd\u4f1a\u65ad\u5f00\u4fdd\u6301\u60a8\u7684\u4f1a\u8bdd\u6d3b\u8dc3\u3002\u5728 Ubuntu 20.04 \u670d\u52a1\u5668\u4e0a\u5b89\u88c5\u5c4f\u5e55\uff1a\u9996\u6b21\u542f\u52a8\u65f6\uff0c\u60a8\u5c06\u770b\u5230\u4e00\u4e2a\u4ecb\u7ecd\u6587\u672c\uff0c\u53ea\u9700\u6309 Enter \u5373\u53ef\u7ed3\u675f\u3002\u7136\u540e\u60a8\u5c06\u80fd\u591f\u50cf\u5f80\u5e38\u4e00\u6837\u8fd0\u884c\u547d\u4ee4\u3002\n\u4e3a\u4e86\u5bfc\u5165\u5730\u56fe\u6570\u636e\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 imposm \u5c06 OpenStreetMap \u6570\u636e\u8f6c\u6362\u4e3a\u652f\u6301 postGIS \u7684 PostgreSQL \u6570\u636e\u5e93\u3002\u4ece Github \u4e0b\u8f7d\u3002\u63a5\u4e0b\u6765\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5PBF\uff08ProtoBufBinary\uff09\u683c\u5f0f\u4e0b\u8f7d\u6574\u4e2a\u661f\u7403\uff0850G\uff09\u7684\u5730\u56fe\u6570\u636e\u3002\u8bf7\u6ce8\u610f\uff0copenstreetmap.org \u7684\u4e0b\u8f7d\u901f\u5ea6\u76ee\u524d\u9650\u5236\u4e3a 2048 KB/s\u3002\u60a8\u53ef\u4ee5\u4ece\u53e6\u4e00\u4e2a\u955c\u50cf\u4e0b\u8f7d\u690d\u7269\u5730\u56fe\uff0c\u4f8b\u5982\u5982\u679c\u60a8\u60f3\u8981\u5355\u4e2a\u56fd\u5bb6/\u5dde/\u7701/\u57ce\u5e02\u7684\u5730\u56fe\uff0c\u8bf7\u8bbf\u95ee http://download.geofabrik.de\u3002\u6b64\u5916\uff0cBBBike.org \u63d0\u4f9b\u5168\u7403 200 \u591a\u4e2a\u57ce\u5e02\u548c\u5730\u533a\u7684\u4e0d\u540c\u683c\u5f0f\u7684\u6458\u5f55\u3002\u4f8b\u5982\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u4e0b\u8f7d\u82f1\u56fd\uff081.1G\uff09\u7684\u5730\u56fe\u6570\u636e\u3002\u73b0\u5728\u60a8\u53ef\u80fd\u4e0d\u9700\u8981\u5728\u670d\u52a1\u5668\u4e0a\u505a\u5176\u4ed6\u4e8b\u60c5\u3002\u7531\u4e8e\u60a8\u4f7f\u7528\u7684\u662f Screen\uff0c\u60a8\u53ef\u4ee5\u6309 Ctrl+A\uff0c\u677e\u5f00\u8fd9\u4e9b\u952e\uff0c\u7136\u540e\u6309 D \u952e\u4ece\u5f53\u524d Screen \u4f1a\u8bdd\u4e2d\u5206\u79bb\u3002\u60a8\u5c06\u770b\u5230\u5982\u4e0b\u6240\u793a\u7684\u6d88\u606f\u3002\u8fd9\u544a\u8bc9\u6211\u4e4b\u524d\u7684 Screen \u4f1a\u8bdd ID \u662f 32113\u3002\u60a8\u53ef\u4ee5\u4ece SSH \u4f1a\u8bdd\u4e2d\u6ce8\u9500\uff0c\u751a\u81f3\u5173\u95ed\u60a8\u7684\u8ba1\u7b97\u673a\u3002\u522b\u62c5\u5fc3\uff0cOSM \u5bfc\u5165\u8fc7\u7a0b\u4ecd\u5728\u8fd0\u884c\u3002\u5f53\u60a8\u9700\u8981\u8fd4\u56de\u5e76\u68c0\u67e5\u5bfc\u5165\u8fdb\u5ea6\u65f6\uff0c\u901a\u8fc7 SSH \u8fde\u63a5\u5230\u60a8\u7684\u670d\u52a1\u5668\u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u83b7\u53d6\u4e4b\u524d\u7684 Screen Session ID\u3002\u5bfc\u5165\u5730\u56fe\u6570\u636e\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06\u5176\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u4e2d\u3002\n\u8f6c\u5230 Tegola Github \u9875\u9762\u5e76\u4e0b\u8f7d linux \u7248\u672c\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5728\u7ec8\u7aef\u4e2d\u4e0b\u8f7d\u5b83\u3002\u8fd0\u884c postgis_index.sql \u811a\u672c\u4e3a OSM \u8868\u5217\u6dfb\u52a0\u7d22\u5f15\u4ee5\u63d0\u9ad8\u67e5\u8be2\u6027\u80fd\u3002 [webserver] port = &quot;:8080&quot; # Tegola \u63d0\u4f9b\u4e09\u79cd\u5207\u7247\u7f13\u5b58\u7b56\u7565\uff1a&quot;file&quot;\u3001&quot;redis&quot; \u548c &quot;s3&quot; [cache] type = &quot;file&quot; basepath=&quot;/tmp/tegola-cache&quot; # OpenStreetMap ( OSM) [[providers]] name = &quot;osm&quot; type = &quot;postgis&quot; host = &quot;127.0.0.1&quot; port = &quot;5432&quot; database = &quot;gis&quot; user = &quot;osm&quot; password = &quot; osm_password&quot; # Natural Earth [[providers] ]] name = &quot;ne&quot; type = &quot;postgis&quot; host = &quot;127.0.0.1&quot; port = &quot;5432&quot; database = &quot;natural_earth&quot; user = &quot;osm&quot; password = &quot; osm_password&quot; \u53ef\u4ee5\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u4e2d\u5fc3\u4f4d\u7f6e\uff08\u7ecf\u7eac\u5ea6) \u7528\u4e8e\u60a8\u7684\u5730\u56fe\u548c\u9ed8\u8ba4\u7f29\u653e\u7ea7\u522b\u3002\u8bf7\u6ce8\u610f\uff0c\u60a8\u5fc5\u987b\u4f7f\u7528\u5341\u8fdb\u5236\u503c\uff0c\u800c\u4e0d\u80fd\u4f7f\u7528\u6574\u6570\u503c\u3002\u7279\u6208\u62c9\u5728\u524d\u53f0\u8fd0\u884c\u3002\u4e3a\u4e86\u5728\u540e\u53f0\u8fd0\u884c\u5b83\uff0c\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a systemd \u670d\u52a1\uff0c\u5b83\u4e5f\u5141\u8bb8 Tegola \u5728\u7cfb\u200b\u200b\u7edf\u542f\u52a8\u65f6\u81ea\u52a8\u542f\u52a8\u3002\u6309 Ctrl+C \u505c\u6b62\u5f53\u524d\u7684 Tegola \u8fdb\u7a0b\uff0c\u7136\u540e\u521b\u5efa tegola.service \u6587\u4ef6\u3002 [Unit] Description=Tegola Vector Tile Server [Service] Type=simple User=www-data ExecStart=/usr/local/bin/tegola serve --config=/opt/tegola-osm/tegola.toml Restart=on-failure RestartSec=5 [Install] WantedBy=multi-user.target \u60a8\u5e94\u8be5\u4f1a\u770b\u5230\u77e2\u91cf\u74e6\u7247\u5730\u56fe\u3002\u606d\u559c\uff01\u60a8\u521a\u521a\u6210\u529f\u6784\u5efa\u4e86\u81ea\u5df1\u7684\u77e2\u91cf\u5207\u7247\u670d\u52a1\u5668\u3002\u8bf7\u6ce8\u610f\uff0cFirefox \u65e0\u6cd5\u663e\u793a\u8fd9\u4e9b\u77e2\u91cf\u5207\u7247\u3002\u60a8\u9700\u8981\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u6765\u663e\u793a\u57fa\u4e8e\u77e2\u91cf\u5207\u7247\u7684\u5730\u56fe\uff0c\u8fd9\u5728\u672c\u6559\u7a0b\u672b\u5c3e\u8fdb\u884c\u4e86\u89e3\u91ca\u3002\n\u8981\u4f7f\u7528\u57df\u540d\u8bbf\u95eeTegola\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528Nginx \u6216Apache \u4e3aTegola \u8bbe\u7f6e\u53cd\u5411\u4ee3\u7406\u3002\u8fd9\u4e5f\u5c06\u5141\u8bb8\u6211\u4eec\u4f7f\u7528\u514d\u8d39\u7684 Let&#39;s Encrypt \u8bc1\u4e66\u542f\u7528 HTTPS\u3002 Nginx \u662f\u4e00\u79cd\u975e\u5e38\u6d41\u884c\u7684 Web \u670d\u52a1\u5668\u548c\u53cd\u5411\u4ee3\u7406\u3002\u5982\u679c\u60a8\u66f4\u559c\u6b22\u4f7f\u7528 Nginx\uff0c\u8bf7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u5b89\u88c5\u3002\u5c06\u4ee5\u4e0b\u5185\u5bb9\u6dfb\u52a0\u5230\u6b64\u6587\u4ef6\u4e2d\u3002\u5c06 tile.example.com \u66ff\u6362\u4e3a\u60a8\u81ea\u5df1\u7684\u57df\u540d\u3002\u60a8\u8fd8\u5e94\u8be5\u4e3a\u6b64\u5b50\u57df\u521b\u5efa DNS A \u8bb0\u5f55\u3002\u5982\u679c\u60a8\u6ca1\u6709\u771f\u6b63\u7684\u57df\u540d\uff0c\u6211\u5efa\u8bae\u60a8\u53bb NameCheap \u8d2d\u4e70\u4e00\u4e2a\u3002\u4ef7\u683c\u4f4e\u5ec9\uff0c\u4ed6\u4eec\u7ec8\u8eab\u514d\u8d39\u63d0\u4f9bwhois\u9690\u79c1\u4fdd\u62a4\u3002\u670d\u52a1\u5668{\u542c80\uff1b\u542c [::]:80; server_name tile.example.com; access_log /var/log/nginx/tegola.access; error_log /var/log/nginx/tegola.error;\u4f4d\u7f6e / { proxy_pass http://127.0.0.1:8080; proxy_set_header \u4e3b\u673a $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; proxy_set_header X-Forwarded-Protocol $scheme; proxy_set_header X-Forwarded-Host $http_host;\u5982\u679c\u60a8\u66f4\u559c\u6b22 Apache \u800c\u4e0d\u662f Nginx\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 Apache Web \u670d\u52a1\u5668\u3002\u8981\u4f7f\u7528 Apache \u4f5c\u4e3a\u53cd\u5411\u4ee3\u7406\uff0c\u6211\u4eec\u9700\u8981\u542f\u7528\u4ee3\u7406\u6a21\u5757\u548c\u6807\u5934\u6a21\u5757\u3002\u5c06\u4ee5\u4e0b\u914d\u7f6e\u653e\u5165\u6587\u4ef6\u4e2d\u3002\u5c06 tile.example.com \u66ff\u6362\u4e3a\u60a8\u7684\u5b9e\u9645\u57df\u540d\u3002\u4e0d\u8981\u5fd8\u8bb0\u4e3a\u6b64\u5b50\u57df\u521b\u5efa DNS A \u8bb0\u5f55\u3002\u5982\u679c\u60a8\u6ca1\u6709\u771f\u6b63\u7684\u57df\u540d\uff0c\u6211\u5efa\u8bae\u60a8\u53bb NameCheap \u8d2d\u4e70\u4e00\u4e2a\u3002\u4ef7\u683c\u4f4e\u5ec9\uff0c\u4ed6\u4eec\u7ec8\u8eab\u514d\u8d39\u63d0\u4f9bwhois\u9690\u79c1\u4fdd\u62a4\u3002\n&lt;VirtualHost *:80&gt; ServerName tile.example.com ErrorDocument 404 /404.html #HTTP \u4ee3\u7406 ProxyPass / http://127.0.0.1:8080/ ProxyPassReverse / http://127.0.0.1:8080/ ProxyPreserveHost On &lt;/VirtualHost &gt; \u4e3a\u4e86\u5728\u60a8\u4ece\u5916\u90e8\u8bbf\u95ee Tegola \u670d\u52a1\u5668\u65f6\u52a0\u5bc6 HTTP \u6d41\u91cf\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b89\u88c5 Let&#39;s Encrypt \u9881\u53d1\u7684\u514d\u8d39 TLS \u8bc1\u4e66\u6765\u542f\u7528 HTTPS\u3002\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5728 Ubuntu 20.04 \u4e0a\u5b89\u88c5 Let&#39;s Encrypt \u5ba2\u6237\u7aef (certbot)\u3002 --hsts\uff1a\u5c06 Strict-Transport-Security \u6807\u5934\u6dfb\u52a0\u5230\u6bcf\u4e2a HTTP \u54cd\u5e94\u3002\u5f3a\u5236\u6d4f\u89c8\u5668\u59cb\u7ec8\u5bf9\u57df\u4f7f\u7528 TLS\u3002\u9632\u5fa1 SSL/TLS \u5265\u79bb\u3002 --staple-ocsp\uff1a\u542f\u7528 OCSP \u88c5\u8ba2\u3002\u6709\u6548\u7684 OCSP \u54cd\u5e94\u88ab\u88c5\u8ba2\u5230\u670d\u52a1\u5668\u5728 TLS \u671f\u95f4\u63d0\u4f9b\u7684\u8bc1\u4e66\u3002\u73b0\u5728\u5e94\u8be5\u83b7\u5f97\u5e76\u81ea\u52a8\u5b89\u88c5\u8bc1\u4e66\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7 HTTPS \u8bbf\u95ee Tegola\uff1ahttps://tile.example.com\u3002\u60a8\u9700\u8981\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u6765\u663e\u793a\u57fa\u4e8e\u77e2\u91cf\u5207\u7247\u7684\u5730\u56fe\u3002\u6211\u4ee5 OpenLayer \u4e3a\u4f8b\u3002\u5728\u60a8\u7684\u670d\u52a1\u5668\u4e0a\u521b\u5efa\u4e00\u4e2a map.html \u6587\u4ef6\u5e76\u8f93\u5165\u4ee5\u4e0b\u4ee3\u7801\u3002 &lt;!doctype html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;https://openlayers.org/en/v5.3.0/css/ol.css&quot; type=&quot;text /css&quot;&gt; &lt;style&gt; #map{height:1000px;width:100%;background-color:#1C79B5;} &lt;/style&gt; &lt;script src=&quot;https://openlayers.org/en/v5.3.0/ build/ol.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt; &lt;title&gt;OpenLayers \u793a\u4f8b&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;map&quot; class=&quot;map&quot;&gt;&lt;/div &gt; &lt;script type=&quot;text/javascript&quot;&gt; var defaultStyle = new ol.style.Style({ fill: new ol.style.Fill({ color: [234,231,221,1] }), stroke: new ol.style.Stroke ({ \u989c\u8272: [182,177,162,1], \u5bbd\u5ea6: 1 }) }); var waterStyle = new ol.style.Style({ fill: new ol.style.Fill({ color: [28,121,181,1] }),stroke: new ol.style.Stroke({ color: [27,107,159,1], width : 1 }) }); var streetStyle = new ol.style.Style({ fill: new ol.style.Fill({ color: [111,44,173,1] }), stroke: new ol.style.Stroke({ color: [93,32,150, 1]\uff0c\u5bbd\u5ea6\uff1a1 }) }); function styleFunction(feature, resolution){ if (feature.get(&#39;type&#39;) == &#39;water&#39; || feature.get(&#39;layer&#39;) == &#39;water_areas&#39; || feature.get(&#39;layer&#39;) == &#39;water_lines&#39;){ \u8fd4\u56de [waterStyle]; } if (feature.get(&#39;layer&#39;) == &#39;transport_lines&#39;){ return [streetStyle]; } if (feature.get(&#39;layer&#39;) == &#39;country_polygons&#39; || feature.get(&#39;layer&#39;) == &#39;landuse_areas&#39;){ return null; // \u4e0d\u5e94\u7528\u4efb\u4f55\u6837\u5f0f\uff0c\u8fd4\u56de null } return [defaultStyle]; } var map = new ol.Map({ target: &#39;map&#39;, layers: [ new ol.layer.VectorTile({ source: new ol.source.VectorTile({ format: new ol.format.MVT(), url: &#39;https://tile.linuxbabe.com/maps/osm/{z}/{x}/{y}.pbf&#39; }), style:styleFunction }) ], view: new ol.View({ center: ol .proj.fromLonLat([0.5,54.5]), //\u5730\u56fe\u5c06\u4ee5\u521d\u59cb\u7f29\u653e\u4e3a\u4e2d\u5fc3\u7684\u5750\u6807\uff1a6 }) }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;\n\u6211\u5e0c\u671b\u672c\u6587\u80fd\u5e2e\u52a9\u60a8\u5728 Ubuntu 20.04 \u4e0a\u8bbe\u7f6e Tegola Vector Tile Server\u3002\u4e0e\u5f80\u5e38\u4e00\u6837\uff0c\u5982\u679c\u60a8\u89c9\u5f97\u8fd9\u7bc7\u6587\u7ae0\u6709\u7528\uff0c\u8bf7\u8ba2\u9605\u6211\u4eec\u7684\u514d\u8d39\u65f6\u4e8b\u901a\u8baf\u4ee5\u83b7\u53d6\u66f4\u591a\u63d0\u793a\u548c\u6280\u5de7\u3002\u4fdd\u91cd\ud83d\ude42", "note_en": "Tegola is an open-source vector tile server for  OpenStreetMap. Previously we explained the process of  setting up OSM tile server, which is a  raster-based tile server. This tutorial is going to show you how to set up Tegola  vector tile server on Ubuntu 20.04.\n  Separate content and styling, which allows for creating multiple styles pointing to the same tile stack.\n      The required RAM and disk space depend on which country\u2019s map you are going to use. For example,\n The whole planet map requires at least 32G RAM and 1TB SSD (Solid State Drive). It\u2019s not viable to use a spinning hard disk for the whole planet map.\n It takes a long time to import large map data, like the whole planet, to PostgreSQL database. Consider adding more RAM and especially  using SSD instead of spinning hard disk to speed up the import process.\n If you are going to host the entire world map, I recommend you buy the  extra-large VPS from Contabo, which boasts\n    It\u2019s always a good practice to update server software before doing any major work on your server. Log into your server via SSH and run the following command.\n   We will use PostgreSQL to store map data. PostGIS is a geospatial extension to PostgreSQL. Run the following commands to install them.\n  PostgreSQL database server will automatically start and listens on  127.0.0.1:5432. The  postgres user will be created on the OS during the installation process. It\u2019s the super user for PostgreSQL database server. By default, this user has no password and there\u2019s no need to set one because you can use  sudo to switch to the  postgres user and log into PostgreSQL server.\n      Then create a database named  osm and at the same time make  osm as the owner of the database.  -E UTF8 specifies the character encoding scheme to be used in the database is UTF8.\n      Create a database named  natural_earth and at the same time make  osm as the owner of the database.\n       The import process can take some time. To speed up this process, we can tune some PostgreSQL server settings to improve performance. Edit PostgreSQL main configuration file.\n    This is too small. The rule of thumb is to set it to 25% of your total RAM (excluding swap space). For example, my VPS has 60G RAM, so I set it to:\n        If you have lots of RAM like I do, you can set a higher value for the effective_cache_size like 20G.\n    By default, PostgreSQL would try to use huge pages in RAM. However, Linux by default does not allocate huge pages. Check the process ID of PostgreSQL.\n        This is the peak memory size that will be used by PostgreSQL. Now check the size of huge page in Linux.\n   AnonHugePages: 0 kB\rShmemHugePages: 0 kB\rHugePages_Total: 0\rHugePages_Free: 0\rHugePages_Rsvd: 0\rHugePages_Surp: 0\r Hugepagesize: 2048 kB\rHugetlb: 0 kB\n We can calculate how many huge pages we need. Divide the VmPeak value by the size of huge page: 16282784 kB / 2048 kB = 7950. Edit /etc/sysctl.conf file.\n         AnonHugePages: 0 kB\rShmemHugePages: 0 kB\rHugePages_Total: 7950\rHugePages_Free: 7950\rHugePages_Rsvd: 0\rHugePages_Surp: 0\rHugepagesize: 2048 kB\n    Since the import process can take a long time and your computer might be disconnected from Internet, it\u2019s recommended to use the screen utility to keep your session alive. Install screen on the Ubuntu 20.04 server:\n    Upon first launch, you will see an introduction text, simply press  Enter to end. Then you will be able to run commands as usual.\n  To import map data, we will use  imposm which converts OpenStreetMap data to postGIS-enabled PostgreSQL databases. Download it from Github.\n          Next, run the following command to download the map data of the whole planet (50G) in PBF (ProtoBufBinary) format.\n  Note that download speeds for openstreetmap.org are currently restricted to 2048 KB/s. You can download the plant map from another mirror, like\n  If you want a map of individual country/state/province/city, go to  http://download.geofabrik.de. Also,  BBBike.org provides extracts of more than 200 cities and regions worldwide in different formats. For example, download the map data of Great Britain (1.1G) with the following command.\n     Now you probably don\u2019t need to do other things on your server. Since you are using Screen, you can press  Ctrl+A, release those keys, and then press  D key to detach from the current Screen session. You will see a message like below.\n  This tells me that the previous Screen session ID is 32113. You can log out from the SSH session and even shut down your computer. Don\u2019t worry, the OSM import process is still running. When you need to come back and check the import progress, SSH into your server and run the following command to get the previous Screen Session ID.\n       Once the map data has been imported, run the following command to deploy it for production.\n    Go to  the Tegola Github page and download the linux version. You can use the following command to download it in terminal.\n                        Run the  postgis_index.sql script to add indexes to OSM table columns to increase query performance.\n      [webserver]\rport = &#34;:8080&#34;\r\r# Tegola offers three tile caching strategies: &#34;file&#34;, &#34;redis&#34;, and &#34;s3&#34;\r[cache]\rtype = &#34;file&#34;\rbasepath=&#34;/tmp/tegola-cache&#34;\r\r# OpenStreetMap (OSM)\r[[providers]]\rname = &#34;osm&#34;\rtype = &#34;postgis&#34;\rhost = &#34;127.0.0.1&#34;\rport = &#34;5432&#34;\rdatabase = &#34;gis&#34;\ruser = &#34;osm&#34;\rpassword = &#34; osm_password&#34;\r\r# Natural Earth\r[[providers]]\rname = &#34;ne&#34;\rtype = &#34;postgis&#34;\rhost = &#34;127.0.0.1&#34;\rport = &#34;5432&#34;\rdatabase = &#34;natural_earth&#34;\ruser = &#34;osm&#34;\rpassword = &#34; osm_password&#34;\n   You can set a custom center location (longitude and latitude) for your map and the default zoom level. Notice that you must use decimal values and can\u2019t use integer values.\n      Tegola is running in the foreground. In order to run it in the background, we can create a systemd serivce, which also allow Tegola to automatically start at system boot time. Press  Ctrl+C to stop the current Tegola process, then create the tegola.service file.\n   [Unit]\rDescription=Tegola Vector Tile Server\r\r[Service]\rType=simple\rUser=www-data\rExecStart=/usr/local/bin/tegola serve --config=/opt/tegola-osm/tegola.toml\rRestart=on-failure\rRestartSec=5\r\r[Install]\rWantedBy=multi-user.target\n          You should see the vector tile map. Congrats! You just successfully built your own vector tile server. Note that Firefox can\u2019t display these vector tiles. You need to use a third-party library to display vector tile based maps, which is explained at the end of this tutorial.\n   To access the Tegola using a domain name, we can set up a reverse proxy for Tegola with Nginx or Apache. This will also allow us to enable HTTPS with free Let\u2019s Encrypt certificate.\n  Nginx is a very popular web server and reverse proxy. If you prefer to use Nginx, run the following command to install it.\n    Add the following content to this file. Replace  tile.example.com with your own domain name. You should also  create DNS A record for this sub-domain. If you don\u2019t have a real domain name, I recommend going to  NameCheap to buy one. The price is low and they give whois privacy protection free for life.\n server {\r listen 80;\r listen [::]:80;\r server_name  tile.example.com;\r\r access_log /var/log/nginx/tegola.access;\r error_log /var/log/nginx/tegola.error;\r\r location / {\r proxy_pass http://127.0.0.1:8080;\r proxy_set_header Host $host;\r proxy_set_header X-Real-IP $remote_addr;\r\r proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r proxy_set_header X-Forwarded-Proto $scheme;\r proxy_set_header X-Forwarded-Protocol $scheme;\r proxy_set_header X-Forwarded-Host $http_host;\r }\r}\n       If you prefer Apache over Nginx, then install Apache web server by using the following command.\n  To use Apache as a reverse proxy, we need to enable the  proxy modules and the header module.\n    Put the following configurations into the file. Replace  tile.example.com with your actual domain name. Don\u2019t forget to  create DNS A record for this sub-domain. If you don\u2019t have a real domain name, I recommend going to  NameCheap to buy one. The price is low and they give whois privacy protection free for life.\n &lt;VirtualHost *:80&gt;\r ServerName  tile.example.com\r ErrorDocument 404 /404.html\r\r #HTTP proxy\r ProxyPass / http://127.0.0.1:8080/\r ProxyPassReverse / http://127.0.0.1:8080/\r\r  ProxyPreserveHost On\r\r&lt;/VirtualHost&gt;\n       To encrypt the HTTP traffic when you visit Tegola server from outside, we can enable HTTPS by installing a free TLS certificate issued from Let\u2019s Encrypt. Run the following command to install Let\u2019s Encrypt client (certbot) on Ubuntu 20.04.\n           --hsts: Add the Strict-Transport-Security header to every HTTP response. Forcing browser to always use TLS for the domain. Defends against SSL/TLS Stripping.\n --staple-ocsp: Enables OCSP Stapling. A valid OCSP response is stapled to the certificate that the server offers during TLS.\n The certificate should now be obtained and automatically installed. And you can access Tegola via HTTPS:  https://tile.example.com.\n     You need to use  a third-party library to display vector tile-based map. I use OpenLayer as an example. Create a  map.html file on your server and put the following codes.\n &lt;!doctype html&gt;\r&lt;html lang=&#34;en&#34;&gt;\r &lt;head&gt;\r &lt;link rel=&#34;stylesheet&#34; href=&#34;https://openlayers.org/en/v5.3.0/css/ol.css&#34; type=&#34;text/css&#34;&gt;\r &lt;style&gt;\r #map{height:1000px;width:100%;background-color:#1C79B5;}\r &lt;/style&gt;\r &lt;script src=&#34;https://openlayers.org/en/v5.3.0/build/ol.js&#34; type=&#34;text/javascript&#34;&gt;&lt;/script&gt;\r &lt;title&gt;OpenLayers example&lt;/title&gt;\r &lt;/head&gt;\r &lt;body&gt;\r &lt;div id=&#34;map&#34; class=&#34;map&#34;&gt;&lt;/div&gt;\r &lt;script type=&#34;text/javascript&#34;&gt;\r\r var defaultStyle = new ol.style.Style({\r fill: new ol.style.Fill({\r color: [234,231,221,1]\r }),\r stroke: new ol.style.Stroke({\r color: [182,177,162,1],\r width: 1\r })\r });\r\r var waterStyle = new ol.style.Style({\r fill: new ol.style.Fill({\r color: [28,121,181,1]\r }),\r stroke: new ol.style.Stroke({\r color: [27,107,159,1],\r width: 1\r })\r });\r\r var streetStyle = new ol.style.Style({\r fill: new ol.style.Fill({\r color: [111,44,173,1]\r }),\r stroke: new ol.style.Stroke({\r color: [93,32,150,1],\r width: 1\r })\r });\r\r function styleFunction(feature, resolution){\r if (feature.get(&#39;type&#39;) == &#39;water&#39; || feature.get(&#39;layer&#39;) == &#39;water_areas&#39; || feature.get(&#39;layer&#39;) == &#39;water_lines&#39;){\r return [waterStyle];\r }\r if (feature.get(&#39;layer&#39;) == &#39;transport_lines&#39;){\r return [streetStyle];\r }\r if (feature.get(&#39;layer&#39;) == &#39;country_polygons&#39; || feature.get(&#39;layer&#39;) == &#39;landuse_areas&#39;){\r return null; // return null for no style to be applied\r }\r return [defaultStyle];\r }\r\r var map = new ol.Map({\r target: &#39;map&#39;,\r layers: [\r new ol.layer.VectorTile({\r source: new ol.source.VectorTile({\r format: new ol.format.MVT(),\r url:&#39;https:// tile.linuxbabe.com/maps/osm/{z}/{x}/{y}.pbf&#39;\r }),\r style:styleFunction\r })\r ],\r view: new ol.View({\r center: ol.proj.fromLonLat([0.5,54.5]), //coordinates the map will center on initially\r zoom: 6\r })\r });\r &lt;/script&gt;\r &lt;/body&gt;\r&lt;/html&gt;\n    I hope this article helped you set up Tegola Vector Tile Server on Ubuntu 20.04. As always, if you found this post useful, then\u00a0 subscribe to our free newsletter to get more tips and tricks. Take care \ud83d\ude42", "posttime": "2021-07-28 01:56:53", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "ubuntu,\u5207\u7247,tegola,quot", "title": "\u5982\u4f55\u5728 Ubuntu 20.04 \u4e0a\u4e3a OpenStreetMap \u8bbe\u7f6e Tegola \u77e2\u91cf\u5207\u7247\u670d\u52a1\u5668", "title_en": "How to set up Tegola vector tile server on Ubuntu 20.04 for OpenStreetMap", "transed": 1, "url": "https://www.linuxbabe.com/ubuntu/set-up-tegola-vector-tile-server-ubuntu-20-04", "via": "", "real_tags": ["ubuntu", "\u5207\u7247", "tegola", "quot"]}, {"category": "", "categoryclass": "", "imagename": "88577790508b4d40d201c73c5d94da23.jpg", "infoid": 1070121, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u2764\ufe0f \u67e5\u770b\u6743\u91cd\u548c\u504f\u5dee\u5e76\u5728\u6b64\u5904\u6ce8\u518c\u514d\u8d39\u6f14\u793a\uff1ahttps://wandb.com/papers \u2764\ufe0f \u4ed6\u4eec\u63d0\u5230\u7684\u5e16\u5b50\u53ef\u5728\u6b64\u5904\u83b7\u5f97\uff1ahttps://wandb.ai/stacey/y...", "note_en": "\u2764\ufe0f Check out Weights & Biases and sign up for a free demo here: https://wandb.com/papers \u2764\ufe0f Their mentioned post is available here: https://wandb.ai/stacey/y...", "posttime": "2021-07-28 01:56:36", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u673a\u5668\u4eba,robot,https", "title": "DeepMind \u7684\u673a\u5668\u4eba\u63d2\u5165 U \u76d8", "title_en": "DeepMind\u2019s Robot Inserts a USB Stick", "transed": 1, "url": "https://www.youtube.com/watch?v=_8ExhGic_Co", "via": "", "real_tags": ["\u673a\u5668\u4eba", "robot", "https"]}, {"category": "", "categoryclass": "", "imagename": "a6cd4b5ac973a6aec4c9881e25b9d378.jpg", "infoid": 1070120, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u76ee\u524d\uff0c\u6234\u5c14\u4e0d\u518d\u5411\u7f8e\u56fd\u516d\u4e2a\u5dde\u8fd0\u9001\u67d0\u4e9b Alienware Aurora R12 \u548c R10 \u6e38\u620f PC \u914d\u7f6e\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u4ea7\u54c1\u7ebf\u53ef\u80fd\u8d85\u51fa\u65b0\u91c7\u7528\u7684\u80fd\u6548\u8981\u6c42\u3002\u5f53\u5c1d\u8bd5\u914d\u7f6e\u5176\u4e2d\u4e00\u4e2a\u7cfb\u7edf\u65f6\uff0c\u4f1a\u51fa\u73b0\u4e00\u6761\u7ea2\u8272\u7c97\u4f53\u8b66\u544a\u6d88\u606f\uff0c\u63d0\u9192\u4e70\u5bb6\u5982\u679c\u76ee\u7684\u5730\u4f4d\u4e8e\u53d7\u5f71\u54cd\u7684\u5dde\u4e4b\u4e00\uff0c\u5219\u4ed6\u4eec\u7684\u8ba2\u5355\u5c06\u65e0\u6cd5\u5151\u73b0\u3002\u8fd9\u662f\u7531\u72ec\u7acb\u5185\u5bb9\u521b\u5efa\u8005 Marie Oakes \u9996\u6b21\u53d1\u73b0\u7684\uff0c\u5979\u5728 Twitter \u4e0a\u5f3a\u8c03\u4e86\u514d\u8d23\u58f0\u660e\u3002 \u201c\u7531\u4e8e\u52a0\u5229\u798f\u5c3c\u4e9a\u5dde\u3001\u79d1\u7f57\u62c9\u591a\u5dde\u3001\u590f\u5a01\u5937\u5dde\u3001\u4fc4\u52d2\u5188\u5dde\u3001\u4f5b\u8499\u7279\u5dde\u6216\u534e\u76db\u987f\u5dde\u91c7\u7528\u7684\u7535\u529b\u6d88\u8017\u89c4\u5b9a\uff0c\u8be5\u4ea7\u54c1\u65e0\u6cd5\u8fd0\u5f80\u8fd9\u4e9b\u5dde\u3002\u4efb\u4f55\u53d1\u5f80\u8fd9\u4e9b\u5dde\u7684\u8ba2\u5355\u90fd\u5c06\u88ab\u53d6\u6d88\uff0c\u201d\u8be5\u6d88\u606f\u79f0\u3002 Aurora R12 \u548c R10 \u56f4\u7ed5\u82f1\u7279\u5c14\u548c AMD \u7684\u6700\u65b0\u4e00\u4ee3\u5904\u7406\u5668\u6784\u5efa\uff0c\u524d\u8005\u91c7\u7528\u7b2c 11 \u4ee3 Core Rocket Lake CPU\uff0c\u540e\u8005\u91c7\u7528\u57fa\u4e8e Zen 3 \u7684 Ryzen 5000 \u7cfb\u5217\u82af\u7247\u3002\u5bf9\u4e8e\u6234\u5c14\u548c\u5c45\u4f4f\u5728\u53d7\u5f71\u54cd\u5dde\u7684\u4e70\u5bb6\u6765\u8bf4\u4e0d\u5e78\u7684\u662f\uff0c\u5927\u591a\u6570 Aurora R12 \u548c R10 \u914d\u7f6e\u6d88\u8017\u7684\u529f\u7387\u6bd4\u5f53\u5730\u6cd5\u89c4\u5141\u8bb8\u7684\u8981\u591a\u3002\u4e0d\u8fc7\u4e5f\u6709\u4f8b\u5916\u3002\u5728 Aurora R12 \u9875\u9762\u4e0a\uff0c\u7b2c\u4e8c\u4fbf\u5b9c\u7684\u914d\u7f6e\uff081,156 \u7f8e\u5143\uff09\u914d\u5907 Core i5 11400F\u3001GeForce GTX 1650 Super\u30018GB \u5355\u901a\u9053 DDR4-3200 RAM \u548c 256GB SSD + 1TB HDD\u201c\u7b26\u5408 CES \u529f\u8017\u89c4\u5b9a\u201d\u548c\u201c\u8fd0\u5f80\u6240\u6709\u5dde\u3002\u201d\u5176\u4ed6\u4e94\u4e2a\u53ef\u81ea\u5b9a\u4e49\u7684\u8d77\u70b9\u6ca1\u6709\u3002\u5947\u602a\u7684\u662f\uff0c\u8fd9\u5305\u62ec\u4e00\u4e2a\u66f4\u4fbf\u5b9c\u7684\u8bbe\u7f6e\uff0c\u5b83\u4ece\u6df7\u5408\u4e2d\u5220\u9664\u4e86 256GB SSD\uff0c\u589e\u52a0\u4e86\u4e00\u4e2a\u66f4\u6e34\u7684\u786c\u76d8\uff0c\u4f46\u5176\u4ed6\u65b9\u9762\u662f\u4e00\u6837\u7684\u3002 Aurora R10 \u4ea7\u54c1\u9875\u9762\u4e0a\u6709\u4e03\u79cd\u53ef\u5b9a\u5236\u7684\u8bbe\u7f6e\uff0c\u518d\u4e00\u6b21\uff0c\u53ea\u6709\u7b2c\u4e8c\u4fbf\u5b9c\u7684\u914d\u7f6e\u8868\u660e\u5b83\u53ef\u4ee5\u8fd0\u9001\u5230\u7f8e\u56fd\u6240\u6709\u5dde\u3002\u5b83\u5305\u62ec Ryzen 5 5600X\u3001Radeon RX 5600\u30018GB \u5355\u901a\u9053 DDR4-3200 RAM \u548c 256GB SSD + 1TB HDD\u3002\n\u5728\u7ed9 The Register \u7684\u4e00\u4efd\u58f0\u660e\u4e2d\uff0c\u6234\u5c14\u6269\u5927\u4e86\u53d1\u8d27\u7981\u4ee4\uff0c\u56e0\u4e3a\u5b83\u4e0e\u52a0\u5229\u798f\u5c3c\u4e9a\u7684\u7535\u529b\u8981\u6c42\u6709\u5173\u3002 \u201c\u662f\u7684\uff0c\u8fd9\u662f\u7531\u52a0\u5dde\u80fd\u6e90\u59d4\u5458\u4f1a (CEC) Tier 2 \u5b9e\u65bd\u63a8\u52a8\u7684\uff0c\u8be5\u5b9e\u65bd\u4e3a\u4e2a\u4eba\u7535\u8111\uff08\u5305\u62ec\u53f0\u5f0f\u673a\u3001AIO \u548c\u79fb\u52a8\u6e38\u620f\u7cfb\u7edf\uff09\u5b9a\u4e49\u4e86\u5f3a\u5236\u6027\u80fd\u6548\u6807\u51c6\u3002\u8be5\u6807\u51c6\u4e8e 2021 \u5e74 7 \u6708 1 \u65e5\u751f\u6548\u3002\u9009\u62e9\u914d\u7f6eAlienware Aurora R10 \u548c R12 \u662f\u6234\u5c14\u548c Alienware \u4e2d\u552f\u4e00\u53d7\u5f71\u54cd\u7684\u7cfb\u7edf\uff0c\u201d\u6234\u5c14\u8bf4\u3002 2016 \u5e74\uff0c\u52a0\u5229\u798f\u5c3c\u4e9a\u5dde\u6210\u4e3a\u7f8e\u56fd\u7b2c\u4e00\u4e2a\u6279\u51c6\u4e2a\u4eba\u7535\u8111\u548c\u663e\u793a\u5668\u80fd\u6548\u6807\u51c6\u7684\u5dde\u3002\u5f53\u65f6\uff0c\u9884\u8ba1\u65b0\u6807\u51c6\u6bcf\u5e74\u5c06\u8282\u770123\u4ebf\u5343\u74e6\u65f6\u7684\u7535\u529b\uff0c\u5e76\u663e\u7740\u51cf\u5c11\u5316\u77f3\u71c3\u6599\u53d1\u7535\u5382\u4ea7\u751f\u7684\u78b3\u6c61\u67d3\u3002\u6700\u4f73\u6e38\u620f PC\uff1a\u6765\u81ea\u4e13\u4e1a\u4eba\u58eb\u7684\u9876\u7ea7\u9884\u5236\u673a\u5668 \u6700\u4f73\u6e38\u620f\u7b14\u8bb0\u672c\u7535\u8111\uff1a\u9002\u5408\u79fb\u52a8\u6e38\u620f\u7684\u5b8c\u7f8e\u7b14\u8bb0\u672c \u66f4\u591a\u6cd5\u89c4\u4e5f\u5373\u5c06\u51fa\u53f0\u3002 2021 \u5e74 12 \u6708 9 \u65e5\uff0c\u7b2c 2 \u5c42\u8981\u6c42\u5c06\u6269\u5c55\u5230\u201c\u5177\u6709\u9ad8\u901f\u7f51\u7edc\u80fd\u529b\u7684\u8ba1\u7b97\u673a\u3001\u591a\u5c4f\u7b14\u8bb0\u672c\u3001\u5177\u6709\u5468\u671f\u6027\u884c\u4e3a\u7684\u7b14\u8bb0\u672c\u548c\u5177\u6709\u9ad8\u5237\u65b0\u7387\u7684\u663e\u793a\u5668\u201d\u3002\u7b2c 20 \u6761\u7535\u5668\u6cd5\u89c4\u6587\u4ef6 (PDF) \u4e2d\u6982\u8ff0\u4e86\u7528\u4e8e\u786e\u5b9a\u54ea\u4e9b\u7cfb\u7edf\u901a\u8fc7\u96c6\u5408\u7684\u516c\u5f0f\u3002\u7b80\u800c\u8a00\u4e4b\uff0c\u5404\u79cd\u5e74\u5ea6\u80fd\u8017\u6307\u6807\u9002\u7528\u4e8e\u4e0d\u540c\u7684 PC\uff0c\u5bf9\u4e8e 2021 \u5e74 7 \u6708 1 \u65e5\u4e4b\u540e\u5236\u9020\u7684\u67d0\u4e9b\u7cfb\u7edf\uff0c\u6700\u4e0d\u4e25\u683c\u7684\u662f\u6bcf\u5e74 75 \u5343\u74e6\u65f6\u7684\u7535\u529b\u3002\u5c55\u671b\u672a\u6765\uff0c\u7cfb\u7edf\u6784\u5efa\u5546\u5c06\u9700\u8981\u5927\u91cf\u8ba1\u7b97\u4f7f PC \u4ece 7 \u6708 1 \u65e5\u5f00\u59cb\u53d1\u8d27\uff0c\u4f46\u5e26\u6709\u53ef\u4ee5\u4fee\u6539\u6700\u7ec8\u8ba1\u7b97\u7684\u5404\u79cd\u201c\u52a0\u6cd5\u5668\u201d\uff08\u5982 GPU\u3001\u7f51\u5361\u548c\u5176\u4ed6\u786c\u4ef6\uff09\u3002\u771f\u662f\u8ba9\u4eba\u5934\u6655\u76ee\u7729\u3002\n\u5176\u4ed6 PC \u5236\u9020\u5546\u662f\u5426\u4e5f\u4f1a\u505c\u6b62\u67d0\u4e9b PC \u914d\u7f6e\u7684\u51fa\u8d27\uff0c\u4ee5\u53ca\u65b0\u89c4\u5219\u5c06\u5982\u4f55\u5f71\u54cd\u5373\u5c06\u63a8\u51fa\u7684\u578b\u53f7\uff0c\u8fd8\u6709\u5f85\u89c2\u5bdf\u3002", "note_en": "For the time being, Dell is no longer shipping certain Alienware Aurora R12 and R10 gaming PC configurations to half a dozen US states because those product lines potentially fall out of bounds of newly adopted energy efficiency requirements.\n  When attempting to configure one of those systems, a warning message appears in bold red lettering to alert buyers that their order will not be honored if the destination resides in one of the affected states. This was first spotted by Marie Oakes, an independent content creator who  highlighted the disclaimer on Twitter.\n  &#34;This product cannot be shipped to the states of California, Colorado, Hawaii, Oregon, Vermont, or Washington due to power consumption regulations adopted by those states. Any orders placed that are bound for those states will be canceled,&#34; the message states.\n  The Aurora R12 and R10 are built around the latest generation processors from Intel and AMD, the former featuring 11th Gen Core Rocket Lake CPUs and the latter wielding Ryzen 5000 series chips based on Zen 3.\n Unfortunately for both Dell and buyers who reside in affected states, the majority of Aurora R12 and R10 configurations consume more power than local regulations allow. There are exceptions, though.\n  On the  Aurora R12 page, the second cheapest configuration ($1,156) outfitted with a Core i5 11400F, GeForce GTX 1650 Super, 8GB of single-channel DDR4-3200 RAM, and 256GB SSD + 1TB HDD &#34;complies with CES power consumption regulations&#34; and &#34;ships to ALL states.&#34; The five other customizable starting points do not. Oddly enough, that includes a cheaper setup which drops the 256GB SSD from the mix, adding a thirstier hard drive, but is otherwise the same.\n  There are seven customizable setups on the  Aurora R10 product page, and once again, only the second cheapest config indicates it ships to all US states. It includes a Ryzen 5 5600X, Radeon RX 5600, 8GB of single-channel DDR4-3200 RAM, and 256GB SSD + 1TB HDD.\n In a  statement to The Register, Dell expanded on the shipment ban, as it relates to power requirements in California.\n  &#34;Yes, this was driven by the California Energy Commission (CEC) Tier 2 implementation that defined a mandatory energy efficiency standard for PCs \u2013 including desktops, AIOs and mobile gaming systems. This was put into effect on July 1, 2021. Select configurations of the Alienware Aurora R10 and R12 were the only impacted systems across Dell and Alienware,&#34; Dell said.\n In 2016, California became the  first US state to approve energy efficiency standards for PCs and monitors. At the time, it was anticipated that the new standards would save 2.3 billion kilowatt-hours of electricity a year and significantly reduce carbon pollution arising from fossil fuel-fired power plants.\n Best gaming PC: the top pre-built machines from the pros   Best gaming laptop: perfect notebooks for mobile gaming\n More regulations are coming, too. On December 9, 2021, Tier 2 requirements will expand to &#34;computers with high-speed networking capability, multi-screen notebooks, notebooks with cyclical behavior, and monitors with high refresh rates.&#34;\n The formulas used to determine which systems pass muster are outlined in a  Title 20 Appliance Regulations document (PDF). In short, various annual energy consumption metrics apply to different PCs, the least stringent being 75 kilowatt-hours of electricity per year, for certain systems manufactured after July 1, 2021.\n Going forward, there is a whole load of calculations system builders will need to make around PCs shipping from July 1, but with various &#39;adders&#39; (like the GPU, networking cards, and other hardware) that can modify the final calculation. It&#39;s quite dizzying.\n It remains to be seen if other PC makers will halt shipments of certain PC configs as well, and how the new rules will affect upcoming models.", "posttime": "2021-07-28 01:56:17", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u7f8e\u56fd,\u6e38\u620f,\u53d6\u6d88,cancelling,\u7cfb\u7edf", "title": "\u6234\u5c14\u53d6\u6d88\u5411\u7f8e\u56fd\u51e0\u4e2a\u5dde\u53d1\u8d27\u7684 Alienware \u6e38\u620f PC", "title_en": "Dell is cancelling Alienware gaming PC shipments to several US states", "transed": 1, "url": "https://www.pcgamer.com/dell-is-cancelling-alienware-gaming-pc-shipments-to-several-us-states/", "via": "", "real_tags": ["\u7f8e\u56fd", "\u6e38\u620f", "\u53d6\u6d88", "\u7cfb\u7edf"]}, {"category": "", "categoryclass": "", "imagename": "208c69d55206ef15e600be9a4097dc9a.jpeg", "infoid": 1070119, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u4e0a\u5468\u7684\u6587\u7ae0\u5728 Hacker News \u4e0a\u5f97\u5230\u4e86\u5f88\u597d\u7684\u53cd\u54cd\uff0c\u8fd9\u4e2a\u7279\u522b\u7684\u8bc4\u8bba\u5f15\u8d77\u4e86\u6211\u7684\u6ce8\u610f\uff1a\u6211\u8ba4\u4e3a\u8fd9\u662f Perl \u4ee3\u7801\u53ef\u8bfb\u6027\u7684\u771f\u6b63\u610f\u4e49\u6240\u5728\uff1a\u5b83\u4e3a\u60a8\u63d0\u4f9b\u4e86\u8db3\u591f\u7684\u7075\u6d3b\u6027\uff0c\u53ef\u4ee5\u968f\u5fc3\u6240\u6b32\u5730\u505a\u4e8b\uff0c\u56e0\u6b64\u8bb8\u591a\u7a0b\u5e8f\u5458\u90fd\u9762\u5bf9\u4e00\u9762\u955c\u5b50\uff0c\u5c06\u81ea\u5df1\u7684\u4e0d\u826f\u505a\u6cd5\u53cd\u5c04\u56de\u6765\u3002 orev, Hacker News \u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48 Damian Conway \u7684 Perl Best Practices (2005) \u662f\u6211\u6700\u559c\u6b22\u7684\u4e66\u548c perlcritic \u4e4b\u4e00\uff0c\u4ee3\u7801\u5206\u6790\u5668\u662f\u6211\u6700\u559c\u6b22\u7684\u5de5\u5177\u4e4b\u4e00\u3002 \uff08\u867d\u7136\u524d\u8005\u53ef\u4ee5\u8fdb\u884c\u66f4\u65b0\uff0c\u800c\u540e\u8005\u5305\u62ec\u4e0e Conway \u76f8\u77db\u76fe\u7684\u653f\u7b56\u3002\uff09\u5c06 perlcritic \u6307\u5411\u60a8\u7684\u4ee3\u7801\uff0c\u4e5f\u8bb8\u6dfb\u52a0\u4e00\u4e9b\u4e0e\u60a8\u7684\u623f\u5c4b\u98ce\u683c\u4e00\u81f4\u7684\u5176\u4ed6\u653f\u7b56\uff0c\u5e76\u9010\u6e10\u5c06\u4e25\u91cd\u6027\u7ea7\u522b\u4ece \u6e29\u548c \u201d \u63d0\u9ad8\u5230\u91ce\u86ee\u3002\u201d\u5404\u79cd\u7cdf\u7cd5\u7684 juju \u90fd\u4f1a\u66b4\u9732\u51fa\u6765\uff0c\u4ece\u6d6a\u8d39\u5730\u4f7f\u7528 grep \u5230\u6709\u592a\u591a\u7684\u5b50\u7a0b\u5e8f\u53c2\u6570\uff0c\u518d\u5230\u4ece\u5176\u4ed6\u5305\u4e2d\u6355\u83b7\u79c1\u6709\u53d8\u91cf\u7684\u4f7f\u7528\u3002 perlcritic \u63d0\u4f9b\u4e86\u4e00\u4e2a\u6709\u7528\u7684\u884c\u4e3a\u57fa\u51c6\uff0c\u60a8\u53ef\u4ee5\u968f\u65f6\u6839\u636e\u81ea\u5df1\u7684\u559c\u597d\u81ea\u5b9a\u4e49\u5176\u914d\u7f6e\u3002 Perl \u5f00\u53d1\u4eba\u5458\u7684\u53e6\u4e00\u4e2a\u4e00\u81f4\u6027\u5de5\u5177\u662f perltidy\uff0c\u5b83\u4e5f\u5177\u6709\u4e0e Conway \u517c\u5bb9\u7684\u914d\u7f6e\u4ee5\u53ca\u5176\u9ed8\u8ba4\u7684 Perl \u6837\u5f0f\u6307\u5357\u8bbe\u7f6e\u3002\u6211\u53d1\u73b0\u6700\u91cd\u8981\u7684\u662f\uff0cperltidy \u6709\u52a9\u4e8e\u89e3\u51b3\u5f00\u53d1\u4eba\u5458\u4e4b\u95f4\u548c\u4ed6\u4eec\u7684\u4ee3\u7801\u4e4b\u95f4\u7684\u4e89\u8bba\uff0c\u4ece\u800c\u6709\u52a9\u4e8e\u907f\u514d\u8fc7\u5ea6\u7684\u5408\u5e76\u51b2\u7a81\u3002\u4f46\u662f\u9664\u4e86\u989d\u5916\u7684\u5de5\u5177\u4e4b\u5916\uff0cPerl \u8bed\u8a00\u672c\u8eab\u53ef\u4ee5\u88ab\u5f2f\u66f2\u751a\u81f3\u7834\u574f\u4ee5\u9002\u5e94\u4efb\u4f55\u4eba\u7684\u8bae\u7a0b\u3002\u90a3\u4e9b\u4e60\u60ef\u4e8e\u66f4\u591a\u675f\u7f1a\u548c\u7eaa\u5f8b\u7684\u8bed\u8a00\uff08\u55e8\uff0cJava\uff01\uff09\u53ef\u80fd\u4f1a\u5bf9\u6709\u65f6\u91c7\u53d6\u7684\u957f\u5ea6\u611f\u5230\u53cd\u611f\uff0c\u4f46\u6839\u636e\u4e0a\u9762\u7684\u5f15\u7528\uff0c\u8fd9\u4e0d\u662f\u5bf9\u8bed\u8a00\u7684\u63a7\u8bc9\uff0c\u800c\u662f\u5bf9\u5b83\u7684\u66f4\u5c11\u6709\u6761\u4e0d\u7d0a\u7684\u7a0b\u5e8f\u5458\u3002\u8fd9\u79cd\u884c\u4e3a\u4e2d\u7684\u4e00\u4e9b\u53ef\u4ee5\u901a\u8fc7 perlcritic \u548c perltidy \u6765\u4fee\u590d\uff0c\u4f46\u662f\u5176\u4ed6\u5f52\u56e0\u4e8e Perl \u7684\u9519\u8bef\u5462\uff1f\u8fd9\u91cc\u6709\u4e00\u4e9b\u5e38\u5e74\u7684\u6700\u7231\u201d\uff1a\nPerl \u6709\u4e00\u4e2a\u57fa\u4e8e\u65e9\u671f\u53ef\u7528\u8bed\u8a00\u6982\u5ff5\u7684\u6781\u7b80\u5bf9\u8c61\u7cfb\u7edf\uff0c\u5982\u6570\u636e\u7ed3\u6784\uff08\u901a\u5e38\u662f\u6563\u5217\uff0c\u5b83\u4e0e JavaScript \u76f8\u540c\uff09\u3001\u5305\u548c\u5b50\u4f8b\u7a0b\u3002\u81ea 1994 \u5e74 Perl 5 \u53d1\u5e03\u4ee5\u6765\uff0c\u4f7f\u7528\u8fd9\u4e9b\u5de5\u5177\u7f16\u5199\u4e86\u8bb8\u591a\u5197\u957f\u7684 OO \u4ee3\u7801\u3002\u597d\u6d88\u606f\u662f\uff0c\u81ea 2007 \u5e74\u4ee5\u6765\uff0c\u6211\u4eec\u5728\u5b83\u4eec\u4e4b\u4e0a\u6709\u4e00\u4e2a\u590d\u6742\u7684\u57fa\u4e8e\u5143\u5bf9\u8c61\u534f\u8bae\u7684\u5c42\uff0c\u79f0\u4e3a Moose\uff0c\u81ea 2010 \u5e74\u4ee5\u6765\uff0c\u4e00\u4e2a\u540d\u4e3a Moo \u7684\u8f7b\u91cf\u7ea7\u4f46\u5411\u524d\u517c\u5bb9\u7684\u7cfb\u7edf\uff0c\u4ee5\u53ca\u4e00\u4e9b\u66f4\u5c0f\u7684\u9009\u9879\uff0c\u5982\u4e0a\u6240\u8ff0\u5728 Perl OO \u6559\u7a0b\u4e2d\u3002\u6b63\u5728\u7b49\u5f85\u7684\u662f Corinna\uff0c\u5b83\u81f4\u529b\u4e8e\u5c06\u4e0b\u4e00\u4ee3\u5bf9\u8c61\u529f\u80fd\u5e26\u5165 Perl \u6838\u5fc3\u672c\u8eab\uff0c\u4ee5\u53ca Object::Pad\uff0c\u5b83\u662f Corinna \u4e2d\u4e00\u4e9b\u60f3\u6cd5\u7684\u6d4b\u8bd5\u5e73\u53f0\uff0c\u60a8\u4eca\u5929\u53ef\u4ee5\u5728\u5f53\u524d\u4ee3\u7801\u4e2d\u4f7f\u7528\u8fd9\u4e9b\u60f3\u6cd5\u3002 \uff08\u771f\u7684\uff0c\u8bf7\u5c1d\u8bd5\u4e00\u4e0b\u2014\u2014\u4f5c\u8005\u9700\u8981\u53cd\u9988\uff01\uff09\u6240\u6709\u8fd9\u4e00\u5207\u90fd\u662f\u8bf4\uff0c\u5728 99% \u7684\u65f6\u95f4\u91cc\uff0c\u4f60\u6c38\u8fdc\u4e0d\u9700\u8981\u4e3a\u7c7b\u6216\u5bf9\u8c61\u5c5e\u6027\u7f16\u5199 bless\u3001\u6784\u9020\u51fd\u6570\u6216\u7f16\u5199\u8bbf\u95ee\u5668\u7684\u9ebb\u70e6\u3002\u6bd4\u6211\u66f4\u806a\u660e\u7684\u4eba\u5df2\u7ecf\u4e3a\u60a8\u5b8c\u6210\u4e86\u8fd9\u9879\u5de5\u4f5c\uff0c\u60a8\u751a\u81f3\u53ef\u80fd\u4f1a\u627e\u5230\u4e00\u4e09\u4e2a\u60a8\u5e0c\u671b\u5176\u4ed6\u8bed\u8a00\u62e5\u6709\u7684\u6982\u5ff5\u3002\u6709\u4e24\u4e2a\u4e3b\u8981\u7684\uff1a\u5217\u8868\u548c\u6807\u91cf\u3002\u53e6\u4e00\u79cd\u601d\u8003\u65b9\u5f0f\u662f\u82f1\u8bed\u4e2d\u7684 \u590d\u6570\u201c\u4e0e\u5355\u6570\u201d\uff0c\u5e0c\u671b\u60a8\u5728\u9605\u8bfb\u6b64\u535a\u5ba2\u65f6\u719f\u6089\u5b83\u3002 Perl \u4e2d\u7684\u67d0\u4e9b\u51fd\u6570\u6839\u636e\u9884\u671f\u8fd4\u56de\u503c\u662f\u5217\u8868\u8fd8\u662f\u6807\u91cf\u800c\u6709\u4e0d\u540c\u7684\u884c\u4e3a\uff0c\u5e76\u4e14\u51fd\u6570\u5c06\u4e3a\u5176\u53c2\u6570\u63d0\u4f9b\u5217\u8868\u6216\u6807\u91cf\u4e0a\u4e0b\u6587\u3002\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e9b\u884c\u4e3a\u6b63\u5982\u60a8\u6240\u671f\u671b\u6216\u5e0c\u671b\u7684\u90a3\u6837\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u9605\u8bfb\u5176\u6587\u6863\u6765\u4e86\u89e3\u51fd\u6570\u7684\u884c\u4e3a\u65b9\u5f0f\u3002\u60a8\u81ea\u5df1\u7684\u51fd\u6570\u4e5f\u53ef\u4ee5\u8fd9\u6837\u505a\uff0c\u4f46\u901a\u5e38\u6ca1\u6709\u5fc5\u8981\uff0c\u56e0\u4e3a\u6807\u91cf\u548c\u5217\u8868\u90fd\u4f1a\u81ea\u52a8\u89e3\u91ca\u4e3a\u5217\u8868\u3002\u201d\u518d\u6b21\uff0cPerl \u7684 DWIMmery \u53d1\u6325\u4f5c\u7528\u3002\u6211\u5df2\u7ecf\u5199\u8fc7\u8fd9\u4e2a\u4e86\u3002\u4e24\u6b21\u3002\u5e76\u4ecb\u7ecd\u4e86\u5b83\u3002\u4e24\u6b21\u3002\u7b80\u77ed\u7248\u672c\uff1aPerl \u6709\u7b7e\u540d\uff0c\u4f46\u5b83\u4eec\u88ab\u8ba4\u4e3a\u662f\u5b9e\u9a8c\u6027\u7684\u5df2\u7ecf\u6709\u4e00\u6bb5\u65f6\u95f4\u4e86\u3002\u4e0e\u6b64\u540c\u65f6\uff0cCPAN \u4e0a\u8fd8\u6709\u5176\u4ed6\u9009\u62e9\u3002\u5982\u679c\u4f60\u613f\u610f\uff0c\u4f60\u751a\u81f3\u53ef\u4ee5\u6709\u7c7b\u578b\u7ea6\u675f\u3002\u6211\u4f1a\u544a\u8bc9\u4f60\uff1a\u5728\u8fc7\u53bb\u7684\u4e00\u4e2a\u6708\u91cc\uff0cPerl \u6307\u5bfc\u59d4\u5458\u4f1a\u7684 Neil Bowers \u4e00\u76f4\u5728\u6536\u96c6 Perl \u5f00\u53d1\u4eba\u5458\u7684\u8fd9\u4e9b\u602a\u7656\u3002 PSC \u6b63\u5728\u5ba1\u67e5\u8fd9\u4e2a\u96c6\u5408\u4ee5\u5bfb\u627e\u6f5c\u5728\u7684\u6587\u6863\u4fee\u590d\u3001\u9519\u8bef\u4fee\u590d\u3001\u8fdb\u4e00\u6b65\u8ba8\u8bba\u7b49\u3002\u6211\u4e0d\u5e0c\u671b\u770b\u5230\u8fd9\u9879\u5de5\u4f5c\u5bf9\u8bed\u8a00\u6709\u4efb\u4f55\u6839\u672c\u6027\u7684\u53d8\u5316\uff0c\u4f46\u8fd9\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u8ff9\u8c61\uff0c\u8868\u660e\u6b63\u5728\u89e3\u51b3\u53ef\u80fd\u4ee4\u4eba\u56f0\u60d1\u7684\u529f\u80fd\u3002", "note_en": "Last week\u2019s arti\u00adcle got a\u00a0 great response on Hacker News, and this par\u00adtic\u00adu\u00adlar com\u00adment caught my\u00a0eye:\n I think this is the real point about Perl code read\u00adabil\u00adi\u00adty: it gives you enough flex\u00adi\u00adbil\u00adi\u00adty to do things how\u00adev\u00ader you like, and as a\u00a0result many pro\u00adgram\u00admers are faced with a\u00a0mir\u00adror that reflects their own bad prac\u00adtices back at\u00a0them.\n  orev, Hacker News\n This is why  Damian Conway\u2019s  Perl Best Practices (2005) is one of my favorite books and   perlcritic, the code ana\u00adlyz\u00ader is one of my favorite tools. (Though the for\u00admer could do with an update and the lat\u00adter includes poli\u00adcies that con\u00adtra\u00addict Conway.) Point  perlcritic at your code, maybe add some  oth\u00ader poli\u00adcies that agree with your house style, and grad\u00adu\u00adal\u00adly ratch\u00adet up the  sever\u00adi\u00adty lev\u00adel from  \u200b gen\u00adtle\u201d to  \u200b bru\u00adtal.\u201d  All kinds of bad  juju will come to light, from  waste\u00adful\u00adly using  grep to hav\u00ading  too many sub\u00adrou\u00adtine argu\u00adments to catch\u00ading  pri\u00advate vari\u00adable use from oth\u00ader pack\u00adages.  perlcritic offers a\u00a0use\u00adful base\u00adline of con\u00adduct and you can always cus\u00adtomize  its con\u00adfig\u00adu\u00adra\u00adtion to your own tastes.\n The oth\u00ader con\u00adfor\u00admance tool in a\u00a0Perl devel\u00adop\u00ader\u2019s belt is   perltidy, and it too has a\u00a0 Conway-\u200bcompatible con\u00adfig\u00adu\u00adra\u00adtion as well as its default  Perl Style Guide set\u00adtings. I\u2019ve found that more than any\u00adthing else,   perltidy helps set\u00adtle argu\u00adments both between devel\u00adop\u00aders and between their code in help\u00ading to avoid exces\u00adsive merge conflicts.\n But apart from extra tools, Perl the lan\u00adguage itself can be bent and even bro\u00adken to suit just about any\u00adone\u2019s agen\u00adda. Those used to more  bondage-\u200band-\u200bdiscipline lan\u00adguages  (hi, Java!) might feel revul\u00adsion at the lengths to which this has some\u00adtimes been tak\u00aden, but per the quote above this is  less an indict\u00adment of the lan\u00adguage and more of its less method\u00adi\u00adcal pro\u00adgram\u00admers.\n Some of this behav\u00adior can be reha\u00adbil\u00adi\u00adtat\u00aded with  perlcritic and  perltidy, but what about oth\u00ader sins attrib\u00aduted to Perl? Here are a\u00a0few peren\u00adni\u00adal  \u200b favorites\u201d:\n  Perl has a\u00a0 min\u00adi\u00admal\u00adist object sys\u00adtem based on earlier-\u200bavailable lan\u00adguage con\u00adcepts like  data struc\u00adtures (often hash\u00ades, which it  has in com\u00admon with JavaScript),  pack\u00adages, and  sub\u00adrou\u00adtines. Since Perl 5\u2019s release in 1994 much ver\u00adbose OO code has been writ\u00adten using these\u00a0tools.\n The good news is that since 2007 we\u2019ve had a\u00a0sophis\u00adti\u00adcat\u00aded metaobject-\u200bprotocol-\u200bbased lay\u00ader on top of them called  Moose, since 2010 a\u00a0light\u00adweight but forward-\u200bcompatible sys\u00adtem called  Moo, and a\u00a0cou\u00adple of even tinier options  as described in the Perl OO Tutorial. Waiting in the wings is  Corinna, an effort to bring next-\u200bgeneration object capa\u00adbil\u00adi\u00adties into the Perl core itself, and  Object::Pad, a\u00a0test\u00adbed for some of the ideas in Corinna that you can use today in cur\u00adrent code. (Really, please try it\u2009\u2014\u2009the author  needs feed\u00adback!)\n All this is to say that  99% of the time you nev\u00ader need trou\u00adble your\u00adself with   bless, con\u00adstruc\u00adtors, or writ\u00ading acces\u00adsors for class or object attrib\u00adut\u00ades. Smarter peo\u00adple than me have done the work for you, and you might even find a\u00a0con\u00adcept or three that you wish oth\u00ader lan\u00adguages had.\n  There are two major ones: list and scalar. Another way to think of it is  \u200b plur\u00adal\u201d vs.  \u200b sin\u00adgu\u00adlar\u201d in  English, which is hope\u00adful\u00adly a\u00a0thing you\u2019re famil\u00adiar with as you\u2019re read\u00ading this\u00a0blog.\n Some func\u00adtions in Perl act dif\u00adfer\u00adent\u00adly depend\u00ading on whether the expect\u00aded return val\u00adue is a\u00a0list or a\u00a0scalar, and a\u00a0func\u00adtion will pro\u00advide a\u00a0list or scalar con\u00adtext to its argu\u00adments. Mostly these act just as you would expect or would like them to, and you can find out how a\u00a0func\u00adtion behaves by  read\u00ading its doc\u00adu\u00admen\u00adta\u00adtion. Your own func\u00adtions can  behave like this too, but there\u2019s usu\u00adal\u00adly no need as  \u200b both scalars and lists are auto\u00admat\u00adi\u00adcal\u00adly inter\u00adpret\u00aded into lists.\u201d Again, Perl\u2019s  DWIMmery at\u00a0work.\n  I\u2019ve  already writ\u00adten about this.  Twice. And  pre\u00adsent\u00aded about it.  Twice. The short ver\u00adsion: Perl has  sig\u00adna\u00adtures, but they\u2019ve been con\u00adsid\u00adered exper\u00adi\u00admen\u00adtal for a\u00a0while. In the mean\u00adtime, there are alter\u00adna\u00adtives on  CPAN. You can even have type con\u00adstraints if you\u00a0want.\n  I\u2019ll leave you with this: Over the past month,  Neil Bowers of the  Perl Steering Council has been col\u00adlect\u00ading  quirks like these from Perl devel\u00adop\u00aders.  The PSC is review\u00ading this col\u00adlec\u00adtion for poten\u00adtial doc\u00adu\u00admen\u00adta\u00adtion fix\u00ades, bug fix\u00ades, fur\u00adther dis\u00adcus\u00adsion, etc. I\u00a0would\u00adn\u2019t expect to see any fun\u00adda\u00admen\u00adtal changes to the lan\u00adguage out of this effort, but it\u2019s a\u00a0good sign that poten\u00adtial\u00adly con\u00adfus\u00ading fea\u00adtures are being addressed.", "posttime": "2021-07-28 01:51:37", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u6279\u8bc4,mirror,perl", "title": "Perl \u6279\u8bc4\u7684\u6e38\u4e50\u56ed\u955c\u5b50", "title_en": "The Funhouse Mirror of Perl Criticism", "transed": 1, "url": "https://phoenixtrap.com/2021/07/27/the-funhouse-mirror-of-perl-criticism/", "via": "", "real_tags": ["\u6279\u8bc4", "mirror", "perl"]}, {"category": "", "categoryclass": "", "imagename": "97adb344478352ba8fe30db032cfc888.jpg", "infoid": 1070118, "ip": "", "isanchordig": 1, "ischecked": 1, "isdelete": 0, "isneo": 1, "mark": "", "name": "", "note": "\u4f11\u65af\u987f\u2014\u2014\u4eca\u5e74 3 \u6708\uff0c\u6211\u548c\u6211\u7684\u5408\u4f19\u4eba\u5411\u4f4d\u4e8e\u8fd9\u5ea7\u57ce\u5e02\u4e2d\u5fc3\u7684\u5f8b\u5e08\u4e8b\u52a1\u6240\u7684\u6240\u6709\u5458\u5de5\u652f\u4ed8\u4e86\u7279\u522b\u5956\u91d1\u3002\u4e0e\u5168\u56fd\u8bb8\u591a\u5176\u4ed6\u516c\u53f8\u4e0d\u540c\uff0c\u8fd9 395,000 \u7f8e\u5143\u7684\u5956\u91d1\u2014\u2014\u52a0\u4e0a 270 \u4e07\u7f8e\u5143\u7684\u5e74\u7ec8\u5956\u91d1\u2014\u2014\u5e76\u4e0d\u662f\u5bf9\u51a0\u72b6\u75c5\u6bd2\u7ecf\u6d4e\u9020\u6210\u7684\u524a\u51cf\u7684\u67d0\u79cd\u9053\u6b49\u6216\u8d4e\u7f6a\u3002\u6211\u4eec\u60f3\u5956\u52b1\u6211\u4eec\u6240\u6709 90 \u540d\u5458\u5de5\u5728 2020 \u5e74\u6253\u7834\u7eaa\u5f55\u7684\u5de5\u4f5c\uff1a\u6211\u4eec\u8fd9\u5bb6\u62e5\u6709 28 \u5e74\u5386\u53f2\u7684\u5c0f\u578b\u4e13\u4e1a\u516c\u53f8\u8fce\u6765\u4e86\u8fc4\u4eca\u4e3a\u6b62\u6700\u597d\u7684\u4e00\u5e74\uff0c\u800c\u6211\u4eec\u5927\u90e8\u5206\u65f6\u95f4\u90fd\u662f\u4e00\u8d77\u5b8c\u6210\u7684\u3002 2020 \u5e74 3 \u6708\uff0c\u6765\u81ea\u5730\u65b9\u548c\u5dde\u5b98\u5458\u7684\u4e00\u6ce2\u5c45\u5bb6\u4ee4\u6d6a\u6f6e\u5c06\u4f11\u65af\u987f\u5e02\u4e2d\u5fc3\u53d8\u6210\u4e86\u98d3\u98ce\u5373\u5c06\u88ad\u51fb\u65f6\u4eba\u4eec\u53ef\u80fd\u60f3\u8c61\u7684\u90a3\u79cd\u9b3c\u57ce\u3002\u6211\u4eec\u4e0e\u5927\u591a\u6570\u5176\u4ed6\u57ce\u5e02\u4f01\u4e1a\u4e00\u8d77\u5173\u95ed\u4e86\u6211\u4eec\u7684\u529e\u516c\u5ba4\u3002\u6b64\u4e3e\u7684\u5021\u5bfc\u8005\u5e0c\u671b\u5728\u5bb6\u5de5\u4f5c\u4e0d\u4f1a\u663e\u7740\u964d\u4f4e\u751f\u4ea7\u529b\uff0c\u5e76\u4e14\u53ef\u4ee5\u907f\u514d\u672a\u6765\u5bf9\u529e\u516c\u7a7a\u95f4\u7684\u9700\u6c42\u3002\u4f46\u5728\u8fdc\u7a0b\u5de5\u4f5c\u73af\u5883\u4e2d\uff0c\u6211\u4eec\u4ece\u6765\u6ca1\u6709\u50cf\u6211\u4eec\u5728\u529e\u516c\u5ba4\u8ba4\u4e3a\u7406\u6240\u5f53\u7136\u7684\u56e2\u961f\u521b\u9020\u529b\u548c\u751f\u4ea7\u80fd\u529b\u76f8\u63d0\u5e76\u8bba\u3002\u5728 Zoom \u4e0a\uff0c\u6709\u4e9b\u4eba\u5fc3\u70e6\u610f\u4e71\uff0c\u6025\u4e8e\u79bb\u5f00\u4f1a\u8bae\uff0c\u4f46\u5728\u9762\u5bf9\u9762\u65f6\uff0c\u4ed6\u4eec\u5374\u5f88\u6295\u5165\u4e14\u5145\u6ee1\u6d3b\u529b\u2014\u2014\u7b80\u76f4\u65e0\u6cd5\u6bd4\u62df\u3002\u867d\u7136\u5176\u4ed6\u4f11\u65af\u987f\u5f8b\u5e08\u4e8b\u52a1\u6240\u7684\u5f8b\u5e08\u58f0\u79f0\u5bf9\u8fdc\u7a0b\u5de5\u4f5c\u611f\u5230\u6ee1\u610f\uff0c\u4f46\u6211\u8ba4\u4e3a\u8fd9\u963b\u788d\u4e86\u6211\u4eec\u53d1\u6325\u6700\u51fa\u8272\u7684\u8868\u73b0\u3002\u5728\u5bb6\u5de5\u4f5c\u7684\u4ee3\u4ef7\u4e0d\u4ec5\u4ec5\u662f\u6291\u90c1\u3001\u758f\u79bb\u548c\u4e0d\u80fd\u5b9a\u671f\u6d17\u6fa1\uff1a\u5b83\u4f1a\u6d88\u8017\u58eb\u6c14\u5e76\u51cf\u5c11\u540c\u4e8b\u4e4b\u95f4\u7684\u4ea4\u6d41\u3002\u6240\u4ee5\u5927\u7ea6\u4e94\u5468\u540e\uff0c\u6211\u4eec\u91cd\u65b0\u5f00\u653e\u4e86\u6211\u4eec\u7684\u529e\u516c\u5ba4\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u7684\u4e00\u4e9b\u5f8b\u5e08\u5df2\u7ecf\u8fdb\u6765\u4e86\u3002\u6211\u4eec\u7684\u8bb8\u591a\u5ba2\u6237\u2014\u2014\u5305\u62ec\u80fd\u6e90\u3001\u533b\u7597\u4fdd\u5065\u548c\u79d1\u6280\u9886\u57df\u7684\u8d22\u5bcc 500 \u5f3a\u516c\u53f8\u2014\u2014\u5728\u4e0e\u6211\u4eec\u7684\u79c1\u4e0b\u8c08\u8bdd\u4e2d\u5ac9\u5992\u5730\u79f0\u8d5e\u6211\u4eec\u7684\u51b3\u5b9a\u3002\u4f46\u4ed6\u4eec\u62c5\u5fc3\u88ab\u80a1\u4e1c\u4e8b\u540e\u731c\u6d4b\uff0c\u5e76\u62c5\u5fc3\u91cd\u65b0\u5f00\u653e\u529e\u516c\u5ba4\u53ef\u80fd\u4f1a\u51fa\u73b0\u95ee\u9898\u3002\u5176\u4ed6\u5927\u5927\u5c0f\u5c0f\u7684\u5f8b\u5e08\u4e8b\u52a1\u6240\u90fd\u5173\u95ed\u4e86\u4ed6\u4eec\u7684\u529e\u516c\u5ba4\uff0c\u5e76\u5b9e\u884c\u4e86\u51cf\u85aa\u3001\u4f11\u5047\u548c\u88c1\u5458\u3002\u6709\u4e9b\u4ecd\u7136\u5173\u95ed\u3002\u56f4\u7ed5 Covid-19 \u75ab\u82d7\u53ca\u5176\u63a8\u51fa\u7684\u610f\u89c1\u5bf9\u8bdd\u95ee\u9898\u3002\u4f60\u5bf9\u4e0d\u60f3\u8981\u75ab\u82d7\u7684\u670b\u53cb\u8bf4\u4e9b\u4ec0\u4e48\uff1f\u6211\u4eec\u4e0e\u4e13\u5bb6\u5171\u540c\u5f00\u53d1\u7684\u804a\u5929\u673a\u5668\u4eba\u89e3\u51b3\u4e86\u8fd9\u4e2a\u68d8\u624b\u7684\u5bf9\u8bdd\u3002\u8c01\u6ca1\u6709\u63a5\u79cd\u75ab\u82d7\uff0c\u4e3a\u4ec0\u4e48\uff1f\u4f7f\u7528\u6570\u636e\u89e3\u51b3\u5065\u5eb7\u95ee\u9898\u7684\u7814\u7a76\u4eba\u5458 Sema K. Sgaier \u7814\u7a76\u4e86\u672a\u63a5\u79cd\u75ab\u82d7\u7684\u52a8\u673a\u3002\n\u5f53\u6211\u7684\u5b69\u5b50\u4ecd\u672a\u63a5\u79cd\u75ab\u82d7\u65f6\uff0c\u6211\u53ef\u4ee5\u505a\u4ec0\u4e48\uff1f\u5927\u536b\u00b7\u83b1\u6602\u54c8\u7279 (David Leonhardt) \u64b0\u5199\u4e86\u6709\u5173\u5bb6\u5ead\u5c06\u9762\u4e34\u7684\u8270\u96be\u5b89\u5168\u8ba1\u7b97\u7684\u6587\u7ae0\u3002\u6211\u4eec\u7684\u75ab\u82d7\u5982\u4f55\u505a\u5f97\u66f4\u597d\uff1f\u4f20\u67d3\u75c5\u4e13\u5bb6 Michael V. Callahan \u548c Mark C. Poznansky \u5173\u4e8e\u5f53\u524d\u75ab\u82d7\u5f00\u53d1\u7b56\u7565\u7684\u5c40\u9650\u6027\u3002\u6211\u4eec\u9009\u62e9\u91cd\u65b0\u5f00\u653e\u529e\u516c\u5ba4\u4e0d\u4ec5\u4ec5\u662f\u4e3a\u4e86\u6211\u4eec\u7684\u5e95\u7ebf\u3002\u8fd9\u4e5f\u4e0d\u4ec5\u4ec5\u662f\u5173\u4e8e\u7269\u7406\u529e\u516c\u7a7a\u95f4\u7684\u534f\u4f5c\u6027\u8d28\u6216\u5173\u4e8e\u8ba9\u6211\u4eec\u7684\u884c\u653f\u4eba\u5458\u53d7\u96c7\u3002\u6211\u4eec\u5e0c\u671b\u4eba\u4eec\u5f00\u8f66\u4e0a\u73ed\uff0c\u4e3a\u6211\u4eec\u7684\u8bb8\u591a\u80fd\u6e90\u884c\u4e1a\u5ba2\u6237\u63d0\u4f9b\u652f\u6301\uff0c\u5e76\u505c\u4e0b\u6765\u559d\u5496\u5561\u548c\u5403\u5348\u9910\uff0c\u4ee5\u4fdd\u6301\u57ce\u5e02\u5f53\u5730\u7ecf\u6d4e\u7684\u53d1\u5c55\u3002\u6211\u4eec\u611f\u5230\u6709\u9053\u5fb7\u4e49\u52a1\u5e2e\u52a9\u6211\u4eec\u7684\u57ce\u5e02\u518d\u6b21\u7e41\u8363\u3002\u5728\u51b3\u5b9a\u91cd\u65b0\u5f00\u653e\u65f6\uff0c\u6211\u4eec\u8ba1\u7b97\u4e86\u6211\u4eec\u53ef\u4ee5\u7ba1\u7406\u7684\u98ce\u9669\u7a0b\u5ea6\u2014\u2014\u800c\u4e0d\u662f\u6211\u4eec\u53ef\u4ee5\u6d88\u9664\u7684\u98ce\u9669\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u51b3\u5b9a\u6211\u4eec\u53ef\u4ee5\u6ee1\u8db3\u98ce\u9669\u6700\u5927\u7684\u4eba\u7684\u9700\u6c42\uff0c\u540c\u65f6\u4f9d\u9760\u6211\u4eec\u5927\u90e8\u5206\u5e74\u8f7b\u3001\u5065\u5eb7\u7684\u52b3\u52a8\u529b\u6765\u91cd\u65b0\u542f\u52a8\u6211\u4eec\u5145\u6ee1\u6d3b\u529b\u7684\u5de5\u4f5c\u573a\u6240\u3002\u6211\u4eec\u51b3\u5b9a\u4e0d\u8ba9\u6709\u7ebf\u7535\u89c6\u65b0\u95fb\u8d1f\u8d23\u4eba\u7b49\u516c\u53f8\u53cd\u5bf9\u8005\u6307\u5bfc\u6211\u4eec\u3002\u4f46\u6211\u4eec\u91c7\u53d6\u63aa\u65bd\u8bd5\u56fe\u7f13\u89e3\u4e00\u4e9b\u62c5\u5fe7\uff0c\u4e3a\u516c\u5171\u533a\u57df\u7684\u529e\u516c\u684c\u548c\u53e3\u7f69\u63d0\u4f9b\u5851\u6599\u9632\u62a4\u7f69\uff0c\u8058\u8bf7\u5de5\u4e1a\u6e05\u6d01\u5de5\uff0c\u5e76\u5236\u5b9a\u516c\u5171\u533a\u57df\u7684\u53e3\u7f69\u89c4\u5b9a\u548c\u4ea4\u9519\u7684\u5348\u9910\u65f6\u95f4\u8868\u3002\u6211\u4eec\u4e3a\u4ecd\u7136\u9700\u8981\u5f85\u5728\u5bb6\u91cc\u7684\u4eba\u63d0\u4f9b\u5e74\u9f84\u548c\u5065\u5eb7\u4f8b\u5916\u3002\u6211\u4eec\u7684\u5458\u5de5\u8bf4\u4ed6\u4eec\u5f88\u9ad8\u5174\u80fd\u56de\u6765\u3002\u6211\u4eec\u6ca1\u6709\u62d2\u7edd\u4efb\u4f55\u9009\u62e9\u5446\u5728\u5bb6\u91cc\u7684\u4eba\u3002\u5c31\u6211\u800c\u8a00\uff0c\u6211\u8ba4\u4e3a\u91cd\u65b0\u5f00\u653e\u7684\u51b3\u5b9a\u5f97\u5230\u4e86\u56de\u62a5\u3002 2020 \u5e74\uff0c\u6211\u4eec\u7684\u6536\u5165\u589e\u957f\u4e86 39%\uff0c\u4f46\u8fd9\u5e76\u4e0d\u662f\u56e0\u4e3a\u6211\u4eec\u50cf\u5168\u56fd\u5404\u5730\u7684\u8bb8\u591a\u4f01\u4e1a\u4e00\u6837\u524a\u51cf\u4e86\u6210\u672c\uff0c\u8fd9\u4e9b\u4f01\u4e1a\u8868\u73b0\u5f3a\u52b2\u3002 2020\u5e74\uff0c\u6211\u4eec\u4ece\u4e0d\u88c1\u5458\u3001\u4e0d\u51cf\u85aa\u3002\u6211\u4eec\u6ca1\u6709\u4f11\u5047\u6216\u88c1\u5458\u3002\u76f8\u53cd\uff0c\u6211\u4eec\u5728 2020 \u5e74\u8058\u8bf7\u4e86 8 \u540d\u65b0\u5f8b\u5e08\u5e76\u63a5\u624b\u4e86 75 \u540d\u5ba2\u6237\u3002\u968f\u7740\u65f6\u95f4\u7684\u6d41\u901d\uff0c\u6211\u6e05\u695a\u5730\u610f\u8bc6\u5230\uff0c\u50cf\u6211\u4eec\u8fd9\u6837\u7684\u4e8b\u52a1\u6240\u96c4\u5fc3\u52c3\u52c3\u7684\u5f8b\u5e08\u6839\u672c\u65e0\u6cd5\u5728\u865a\u62df\u73af\u5883\u4e2d\u8301\u58ee\u6210\u957f\u3002\u6211\u4eec\u5728 2020 \u5e74\u8fdb\u884c\u4e86 6 \u6b21\u8bd5\u9a8c\u3002\u5927\u591a\u6570\u8bd5\u9a8c\u662f\u901a\u8fc7 Zoom \u8fdb\u884c\u7684\uff0c\u800c\u4e14\u975e\u5e38\u75db\u82e6\u3002\u4e0d\u53ef\u907f\u514d\u7684\u6545\u969c\u9020\u6210\u7684\u4e2d\u65ad\u662f\u53f8\u7a7a\u89c1\u60ef\u7684\uff0c\u5f53\u65e0\u6cd5\u5728 3-D \u4e2d\u5224\u65ad\u8bc1\u4eba\u65f6\uff0c\u8be2\u95ee\u8bc1\u4eba\u4f1a\u53d7\u5230\u6781\u5927\u7684\u963b\u788d\u3002\n\u4e00\u65e6\u6709\u4e86\u75ab\u82d7\uff0c\u6211\u4eec\u5c31\u53d1\u5e03\u4e86\u75ab\u82d7\u6307\u4ee4\u3002\u6211\u4eec\u7684\u5f8b\u5e08\u5728\u573a\u3002\u5176\u4ed6\u5f8b\u5e08\u2014\u2014\u5c24\u5176\u662f\u7ade\u4e89\u516c\u53f8\u7684\u5f8b\u5e08\u2014\u2014\u8868\u793a\u4ed6\u4eec\u5f88\u7fa1\u6155\u3002\u4e3a\u4e86\u8bf4\u670d\u4e00\u4e9b\u4e0d\u60c5\u613f\u7684\u5458\u5de5\uff0c2021 \u5e74 3 \u6708\uff0c\u6211\u4eec\u9080\u8bf7\u4e86\u4e00\u4f4d\u53c2\u89c2\u8fc7 Moderna \u75ab\u82d7\u751f\u4ea7\u8bbe\u65bd\u7684\u533b\u751f\u4e0e\u6211\u4eec\u7684\u5458\u5de5\u8c08\u8bba\u4ed6\u5bf9\u75ab\u82d7\u7684\u8212\u9002\u5ea6\uff0c\u5e76\u63a5\u53d7\u4e86\u6211\u4eec\u72ec\u7279\u7684\u76d8\u95ee\u3002\u6211\u4eec\u9009\u62e9\u91cd\u65b0\u5f00\u653e\u5e76\u975e\u6ca1\u6709\u540e\u679c\u3002\u6211\u4eec\u91cd\u65b0\u5f00\u4e1a\u540e\uff0c\u6211\u4eec\u516c\u53f8\u7684\u4e00\u4e9b\u4eba\u786e\u5b9e\u611f\u67d3\u4e86\u75c5\u6bd2\uff1b\u6709\u4e9b\u4eba\u53ef\u80fd\u662f\u5728\u4ed6\u4eec\u4e00\u8d77\u53bb\u8fc7\u7684\u9152\u5427\u91cc\u6361\u5230\u7684\u3002\u6ca1\u6709\u4eba\u4f4f\u9662\u6216\u75c5\u91cd\u3002\u4f46\u4f5c\u4e3a\u4e00\u79cd\u660e\u667a\u7684\u9884\u9632\u63aa\u65bd\u2014\u2014\u5728\u6574\u4e2a\u5927\u6d41\u884c\u671f\u95f4\u4f01\u4e1a\u90fd\u53ef\u4ee5\u4f7f\u7528\u2014\u2014\u5728\u8fd9\u7fa4\u4eba\u6d4b\u8bd5\u5448\u9633\u6027\u540e\uff0c\u6211\u4eec\u5173\u95ed\u4e86\u529e\u516c\u5ba4\u4e00\u5468\u3002\u7ecf\u8425\u4f01\u4e1a\u7684\u4eba\u53ef\u80fd\u4f1a\u53d8\u5f97\u504f\u6267\u6216\u538c\u6076\u98ce\u9669\u3002\u5f53\u751a\u81f3\u4e00\u4e2a\u58f0\u97f3\u8bf4\u201c\u6162\u70b9\u201d\u65f6\uff0c\u4ed6\u4eec\u5f80\u5f80\u4f1a\u91c7\u53d6\u4e00\u79cd\u6bd4\u540e\u6094\u66f4\u5b89\u5168\u7684\u5fc3\u6001\uff0c\u800c\u6ca1\u6709\u6743\u8861\u5229\u5f0a\u3002\u6211\u4eec\u6ca1\u6709\u5426\u8ba4\u51a0\u72b6\u75c5\u6bd2\u7684\u5b58\u5728\u6216\u4e25\u91cd\u6027\u3002\u4f46\u6211\u4eec\u4e0d\u8ba4\u4e3a\u5176\u4ed6\u4e00\u5207\u90fd\u91cd\u8981\u3002 \u300a\u6cf0\u6664\u58eb\u62a5\u300b\u81f4\u529b\u4e8e\u5411\u7f16\u8f91\u53d1\u8868\u5404\u79cd\u4fe1\u51fd\u3002\u6211\u4eec\u60f3\u542c\u542c\u60a8\u5bf9\u6b64\u6216\u6211\u4eec\u4efb\u4f55\u6587\u7ae0\u7684\u770b\u6cd5\u3002\u8fd9\u91cc\u6709\u4e00\u4e9b\u63d0\u793a\u3002\u8fd9\u662f\u6211\u4eec\u7684\u7535\u5b50\u90ae\u4ef6\uff1aletters@nytimes.com\u3002", "note_en": "HOUSTON \u2014 This March, my partners and I paid special bonuses to all employees at my law firm in the heart of this city. Unlike at many other firms around the country, this $395,000 in bonuses \u2014 in addition to the $2.7 million in year-end bonuses \u2014 was not some apology or atonement for cutbacks stemming from the coronavirus economy. We wanted to reward all 90 of  our employees for their record-breaking work in 2020: Our small, specialized, 28-year-old firm had its best year yet, and we did it mostly together.\n  In March 2020, a tidal wave of stay-at-home orders from local and state officials turned downtown Houston into the kind of a ghost town one might imagine when a hurricane is about to hit. We closed our office along with most other city businesses.\n Advocates of the move hoped that working from home would not slow productivity significantly and could obviate the need for office space in the future. But in a remote-work setting, we never matched the team creativity and production we had taken for granted at our office. On Zoom, some people were distracted and anxious to leave meetings, but in person, they were engaged and animated \u2014 there was just no comparison.\n While lawyers at other Houston law firms claimed to be happy with remote work, I believe it prevented us from performing at our sharpest. There is a cost to working at home that goes beyond depression, disconnectedness and failing to bathe regularly: It can drain morale and diminish collegiality.\n So after about five weeks, we reopened our office. Some of our lawyers had, in fact, already been coming in. Many of our clients \u2014 a group that includes a collection of Fortune 500 companies in energy, health care and tech \u2014 jealously  applauded our decision in private conversations with us. But they feared being second-guessed by stockholders and worried about problems that could arise from reopening offices. Other law firms, big and small,  kept their offices shut and instituted pay cuts, furloughs and layoffs. Some remain closed.\n Opinion Conversation  Questions surrounding the Covid-19 vaccine and its rollout.  What do you say to a friend who doesn&#39;t want the vaccine?  Our chatbot, developed with experts, tackles this thorny conversation.\n  Who isn\u2019t getting vaccinated, and why?  Sema K. Sgaier, a researcher who uses data to address health problems, looks at the motivations of the unvaccinated.\n  What can I do while my children are still unvaccinated?  David Leonhardt writes about the difficult safety calculations families will face.\n  How can our vaccines be better? Michael V. Callahan and Mark C. Poznansky, infectious disease experts, on the limits of the current vaccine development strategy.\n Our choice to reopen the office was not just about our bottom line. Nor was it just about the collaborative nature of a physical office space or about keeping our administrative staff employed. We wanted people driving to work and supporting our many energy-sector clients and stopping for coffee and lunch to keep the city\u2019s local economy going. We felt some moral obligation to help our city thrive again.\n In deciding to reopen, we calculated the degree of risk we could manage \u2014 not what risk we could eliminate.  For example, we decided we could accommodate the needs of those most at risk while counting on our mostly young, healthy work force to restart our vibrant workplace. We decided not to let corporate naysayers like cable-television talking heads guide us.\n But we took steps to try to assuage some fears, providing plastic shields for common-area desks and face masks, hiring industrial cleaners and instituting a common-area mask mandate and a staggered lunch schedule. We offered age and health exceptions for those who still needed to stay home. Our people said they were largely delighted to be back. We did not say no to anyone who chose to stay home.\n For my part, I think the decision to reopen paid off. In 2020 our revenue grew by 39 percent, but not because we cut costs like so many businesses around the country that posted strong years. In 2020, we never cut staff members or salaries. We instituted no furloughs or layoffs. Instead, we hired eight new lawyers and picked up 75 clients in 2020.\n As the year wore on, it became clear to me that ambitious lawyers at firms like ours simply couldn\u2019t thrive in a virtual setting. We had six trials in 2020. Most were held completely \u2014 and painfully \u2014 over Zoom. Interruptions from inevitable glitches were commonplace, and questioning witnesses is greatly handicapped when not being able to judge them in 3-D.\n Once vaccines became available, we issued a vaccine mandate.  Our lawyers were on board. Other lawyers \u2014 especially those at competing firms \u2014 said they were envious. To convince a few reluctant staff members, in March 2021 we invited a doctor who had toured a Moderna vaccine-production  facility to talk to our staff about his comfort with the vaccines and undergo our unique brand of cross-examination.\n Our choice to reopen was not without consequence. Some people at our firm did get sick with the virus after we reopened; some may have picked it up at a bar they visited together. No one was hospitalized or became seriously ill. But as a sensible precaution \u2014 one available to businesses throughout the pandemic \u2014 we closed the office for a week after this group tested positive.\n  People running businesses can become paranoid or risk-averse. When even one voice says, \u201cSlow down,\u201d they often adopt a better-safe-than-sorry mentality without balancing the pros and cons. We did not deny the existence or seriousness of the coronavirus. But we did not think that nothing else mattered.\n  The Times is committed to publishing   a diversity of letters  to the editor. We\u2019d like to hear what you think about this or any of our articles. Here are some   tips . And here\u2019s our email:   letters@nytimes.com .", "posttime": "2021-07-28 01:51:15", "source_domain": "news.ycombinator.com", "source_name": "Hacker News", "tags": "\u5f00\u73a9\u7b11,workers,\u75ab\u82d7", "title": "\u6211\u4eec\u662f\u5728\u5f00\u73a9\u7b11\u8bf4\u5de5\u4eba\u5728\u5bb6\u8868\u73b0\u826f\u597d", "title_en": "We\u2019re Kidding Ourselves That Workers Perform Well from Home", "transed": 1, "url": "https://www.nytimes.com/2021/07/26/opinion/covid-return-to-office-work-houston.html", "via": "", "real_tags": ["\u5f00\u73a9\u7b11", "workers", "\u75ab\u82d7"]}]