<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>构建基于空间的ISP Building a Space-Based ISP</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Building a Space-Based ISP<br/>构建基于空间的ISP </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-05-12 22:29:45</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/5/1c6c84f7ddeffe98c42e232b5ccd87fa.jpg"><img src="http://img2.diglog.com/img/2021/5/1c6c84f7ddeffe98c42e232b5ccd87fa.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Editor’s note: This is the second piece in a four-part series on the software that powers SpaceX. If you missed yesterday’s piece, you can read it  here.</p><p>编辑注意事项：这是一个四部分系列的第二件，在为Spacex提供动力。如果你错过了昨天的作品，你可以在这里阅读。</p><p> There are requirements that make software engineers sweat. Massive distribution to thousands of nodes. High reliability and availability. Multiple distinct platforms. Rapid network growth.</p><p> 有要求软件工程师出汗。大量分配到数千个节点。高可靠性和可用性。多个不同的平台。快速的网络增长。</p><p>   This is the world SpaceX’s Starlink program, which has set a goal to provide high-speed broadband internet to locations where access has been unreliable, expensive, or completely unavailable.</p><p>   这是世界SPACEX的Starlink程序，它已经设定了一个目标，为访问不可靠，昂贵或完全不可用的位置提供高速宽带互联网。</p><p> Stack Overflow spoke with two Starlink software leads — Akash Badshah and Andy Bohn — about their development methods and practices. The software breaks down roughly into two parts: 1) software that flies and 2) software that supports the flying components, manages the networks, controls the Starlink satellite “constellation”—the Starlink satellites in orbit—and maintains the communication between the constellation and the ordinary terrestrial internet.</p><p> 堆栈溢出用两个Starlink软件领导 -  Akash Badshah和Andy Bohn  - 关于他们的发展方法和实践。该软件大致分为两部分：1）苍蝇和2）软件支持飞行组件的软件，管理网络，控制Starlink卫星“星座” - 在轨道中的Starlink卫星 - 并保持星座之间的通信和普通的地面互联网。</p><p> The current Starlink constellation consists of hundreds of small, low-cost satellites in low Earth orbit, and the company aims to scale this to thousands. The low altitude is necessary to provide low latency. Current geostationary satellites orbit 26,200 miles from the center of the earth and 22,300 miles above the surface, meaning a signal takes roughly 0.240 seconds to make a round trip. Starlink is currently in orbit at 340 miles, cutting the speed of light lag to almost a hundredth of that.</p><p> 目前的Starlink星座由低地球轨道数百个小，低成本的卫星组成，公司旨在将此扩展到数千次。低空是提供低延迟所必需的。目前的地球静止卫星距离地球中心26,200英里2200英里，表面上方22,300英里，这意味着信号大约需要0.240秒来进行往返。 Starlink目前在340英里的轨道上，将光速度延迟切割成近百分之一的速度。</p><p> Bohn, manager for the Network Software team, said, “We have a ground cluster of services figuring out who talks to whom in the network. What’s interesting about our satellites is they are very close. Because of this, a satellite may only be overhead for a few minutes. The antenna on a customer’s roof therefore needs to change which satellite it talks with often.”</p><p> 网络软件团队的经理Bohn表示，“我们有一个地面服务集群，讨论了谁与网络交谈。对我们的卫星有趣的是他们非常接近。因此，卫星可能只有几分钟的开销。因此，客户屋顶上的天线需要改变它经常与之交谈的卫星。“</p><p> “Consider how your cell phone communicates with fixed communication towers. Occasionally your phone needs to switch from one tower to another, but the connection is usually stable,” says Bohn. “For Starlink, one of the main challenges is that our “towers” are orbiting Earth, forcing your path to the internet to change very frequently. My team orchestrates this dance by computing desired network topologies, distributing this plan to the assets in the network, and configuring hardware to make it happen.”</p><p> “考虑手机如何与固定的通信塔通信。偶尔你的手机需要从一个塔转到另一个塔，但连接通常是稳定的，“Bohn说。 “对于Starlink来说，主要挑战之一是我们的”塔楼“是轨道地球，强迫您对互联网的道路经常改变。我的团队通过计算所需的网络拓扑，将此计划分发给网络中的资产，配置硬件以使其发生，以使其发生。“ </p><p> Of course, the Starlink satellites present their own problems. Each satellite is responsible not only for maintaining connections to the ground stations that are in view, but unlike most satellites, the Starlink ones are largely navigating themselves. When you’re launching hundreds of satellites, there’s no time to place each one into its own specific orbit; instead, ground control tasks each satellite with a place in the constellation, and the satellite steers itself into place. The Earth-side network then provides continuous updates on traffic conditions and constellation changes, while each satellite updates the ground on its planned trajectory.</p><p>当然，Starlink卫星呈现自己的问题。每个卫星不仅负责维持与视图中的地站的连接，但与大多数卫星不同，Starlink Inter在很大程度上导航自己。当您推出数百个卫星时，没有时间将每个人置于自己的特定轨道;相反，地面控制将每个卫星与星座中的一个地方进行各种卫星，卫星操纵本身就位。然后，地球侧网络提供交通条件和星座变化的连续更新，而每个卫星在其计划的轨迹上更新了地面。</p><p> “The combinatorics of the problem make scaling this system to many millions of people a challenge,” says Bohn. “When serving users, Starlink satellites need to paint the ground with data beams of different frequencies to avoid interference. We end up solving a global scale coloring and interference avoidance problem that is another one of our bigger challenges to do in real time.”</p><p> “问题的组合学使这个系统将这个系统扩大到数以上万的人为挑战，”Bohn说。 “在服务用户时，Starlink卫星需要使用不同频率的数据束绘制地面以避免干扰。我们最终解决了全球规模着色和干扰避免问题，这是我们实时做出更大的挑战之一。“</p><p> Starlink software, both in satellites and on the ground, is written almost exclusively in C++, with some prototyping development in Python. The software is developed in a continuous integration environment, with teams merging into the master development branch often and deploying to the fleet of satellites in space each week.</p><p> STARLINK软件，卫星和地面上，都是在C ++中的几乎完全编写的，在Python中有一些原型开发。该软件是在持续的集成环境中开发的，团队经常与主开发分支合并，并每周在太空中部署到卫星的舰队。</p><p> “We use C++ for most of the vehicle control software. There is a lot of heritage with it at SpaceX as it’s a very low-level language we can use on bare metal microcontrollers. This lets us use it on our embedded Linux computers that we use throughout all our different vehicles,” explains Badshah. “We learned a lot from Dragon and Falcon about how you can run a self-redundant architecture on triplicated computers that are sharing data and solving the same problems.”</p><p> “我们为大多数车辆控制软件使用C ++。 Spacex有很多遗产，因为它是一种非常低级的语言，我们可以在裸机微控制器上使用。这让我们在我们在整个不同的车辆中使用的嵌入式Linux计算机上使用它，“Badshah解释道。 “我们从Dragon和Falcon学到了很多关于如何在共享数据的三次计算机上运行自冗余架构，并解决同样问题。”</p><p>   New code goes through an extensive testing cycle using many different test frameworks, from simple unit tests to running in massive simulations. Some of the most interesting tests include everything from putting satellites in anechoic isolation from ground stations and testing their communication, to a test that presents the test platform with a simulation of the entire environment in which the satellites will operate. In essence, Starlink has built a simulation to mock-up space-time, at least in the neighborhood of Earth.</p><p>   新代码通过许多不同的测试框架进行了广泛的测试周期，从简单的单元测试到庞大的模拟中运行。一些最有趣的测试包括将卫星从地面站放置的卫星从地面站施加并测试他们的通信，以验证卫星将运行的整个环境仿真的测试。实质上，Starlink在地球附近建立了模拟的模拟时空。</p><p> “For development and test of these algorithms, we have a full-scale network simulation running in continuous integration on a high-performance computing cluster. This simulation is capable of running the C++ production code as well as running against prototype code written in Python,” says Bohn. “The Python version allows for rapid iteration during the design phase. Once we are happy with the results of an algorithm, we port it to C++ so it runs efficiently in production.”</p><p> “对于这些算法的开发和测试，我们在高性能计算群集中连续集成运行的全尺寸网络仿真。该模拟能够运行C ++生产代码以及在Python中编写的原型代码运行，“Bohn说。 “Python版本允许在设计阶段进行快速迭代。一旦我们对算法的结果感到满意，我们将它移到C ++，因此它在生产中有效运行。“</p><p> One of the big challenges for Starlink is that the satellites themselves often change. Starlink says that they’ve never had a launch in which the satellites going into the constellation hadn’t changed from the last launch. In most environments, this would be a major problem (read: recipe for disaster.) Starlink has solved this problem by putting software developers directly into the manufacturing cycle.</p><p> Starlink的一个大挑战之一是卫星们自己经常改变。 Starlink表示，他们从未有过推出的推出，其中卫星进入星座的卫星没有从上次发布发生的。在大多数环境中，这将是一个主要问题（读：灾难的谱系）通过将软件开发人员直接进入制造周期来解决这个问题。 </p><p> Instead of new hardware being “thrown over the wall” to developers, the software developers are integrated into the manufacturing process to the extent of being on the actual manufacturing shop floor. To make sure that hardware and software stay in sync throughout the process, software is sometimes tested on satellites coming off the production line and on their way to orbit.</p><p>而不是新的硬件被“抛出墙壁”到开发人员，软件开发人员将制造过程融入到实际制造车间的范围内。为了确保硬件和软件在整个过程中保持同步，有时会在卫星上脱离生产线的卫星和轨道的轨道。</p><p> Once the satellite software is ready to fly, it’s packaged for transmission to the satellites. Releases are first deployed to a few satellites in orbit and tested in place. If there are failures, the software can be rolled back. If it’s judged satisfactory, the software is deployed in an exponential rollout to the remaining satellites.</p><p> 一旦卫星软件准备飞行，它就包装了传输到卫星。首先将发布部署到轨道上的几颗卫星并在适当的地方进行测试。如果有故障，则可以回滚软件。如果它判断令人满意，软件将在指数卷栏中部署到剩余的卫星。</p><p> Another advantage of C++ is in the area of memory management. No matter how many times you check the code before launch, you have to be prepared for software corruption once you’re in orbit. “What we have established is a core infrastructure that allows us to know we are allocating all of our memory at</p><p> C ++的另一个优点是内存管理领域。无论您在发布前检查代码多少次，您必须在轨道中准备好软件损坏。 “我们建立的是一个核心基础设施，使我们能够知道我们正在分配我们的所有内存</p><p> initialization time. If something is going to fail allocation, we do that right up front,” says Badshah. “We also have different tools so that any state that is persisted through the application is managed in a very particular place in memory. This lets us know it is being properly shared between the computers. What you don’t want is a situation where one of the computers takes a radiation hit, a bit flips, and it’s not in a shared memory with the other computers, and it can kind of run off on its own.”</p><p> 初始化时间。如果事情发生故障分配，我们将在前面做到这一点，“Badshah说。 “我们还有不同的工具，以便通过应用程序持久的任何状态都在内存中的一个非常特定的位置管理。这让我们知道计算机之间的正确共享。你不想要的是一种情况，其中一台计算机采用辐射击中，一点点翻转，它不在与其他计算机的共享内存中，它可以自己运行。“</p><p> If you want to learn more about what it’s like to work as a vehicle engineer at Space X, check out  their careers page. If you’re interested in how code works at other parts of SpaceX, you can  dive into the rest of our series.</p><p> 如果您想了解更多关于在空间X的车辆工程师的内容，请查看他们的职业生涯。如果您对DepsX的其他部分的代码有兴趣，您可以进入我们的其余部分。</p><p> Tags:  software in space,  spacex</p><p> 标签：太空软件，spacex </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://stackoverflow.blog/2021/05/11/building-a-space-based-isp/">https://stackoverflow.blog/2021/05/11/building-a-space-based-isp/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/空间/">#空间</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/space/">#space</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/卫星/">#卫星</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>