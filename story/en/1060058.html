<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>使用OpenStreetMap制作地图的新方法 A new way to make maps with OpenStreetMap</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">A new way to make maps with OpenStreetMap<br/>使用OpenStreetMap制作地图的新方法 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-04-24 04:42:19</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/4/3148a9145dfe5a0cdacd441150cae308.png"><img src="http://img2.diglog.com/img/2021/4/3148a9145dfe5a0cdacd441150cae308.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>If you develop for the web, you&#39;ve probably heard of  OpenStreetMap, an open data alternative to Google Maps. Despite the wide  name recognition of OSM, you may have questions like  how do I make a web map with OSM data? and  how can I host maps myself?</p><p>如果您为网络开发，您可能听说过OpenStreetMap，这是一个谷歌地图的开放数据替代。尽管OSM的广泛识别，但您可能有问题，比如如何使用OSM数据制作Web地图？我如何托管自己映射？</p><p> There are popular  guides on how to work with planet files, PostGIS databases, and run tileservers for the  OSM &#34;slippy map&#34; style. Even if you figure those out, you may be curious about  vector maps for high-DPI sharpness and client-side customization of appearance and labels.</p><p> 如何使用行星文件，Postgis数据库和运行OSM＆＃34运行TileServers的流行导游;抖动地图＆＃34;风格。即使您认为那样，您可能很好奇导航地图，用于高DPI清晰度和外观定制的高DPI清晰度和客户端定制。</p><p> Protomaps is a new basemap system which is an end-to-end rethinking of this entire stack, oriented around the idea that  custom mapmaking should be simple.</p><p> Protomaps是一种新的基础映射系统，它是整个堆栈的端到端重新思考，以定制MapMaking应该简单的想法为导向。</p><p> In about five minutes, you can select any area in the world and get a self-contained map that runs locally, offline or serverlessly on S3 - check out the  Getting Started guide.</p><p> 在大约五分钟内，您可以选择世界上的任何区域，并获得在S3上本地，离线或无人机运行的自包含地图 - 查看入门指南。</p><p>  Web maps are a &#34;full-stack&#34; challenge: Aesthetic goals, such as a sensible arrangement of map labels, need to be supported not only by JavaScript rendering but also the underlying data backend. Protomaps is designed as an end-to-end system for this reason — see  What is Protomaps? — although each part is interoperable with other tools.</p><p>  Web地图是A＆＃34;全堆栈＆＃34;挑战：审美目标，例如Map标签的明智排列，不仅需要通过JavaScript渲染来支持，而且需要支持底层数据后端。 Protomaps是设计为端到端系统的原因 - 看看是什么PROTMAPS？ - 虽然每个部分都与其他工具互操作。</p><p> As of now (April 2021), each component is viable and being used in production; I&#39;ll describe how each  fills a specific gap in the map ecosystem, as well as the direction I am developing it towards.</p><p> 截至目前（2021年4月），每个组件都是可行的并且在生产中使用; I＆＃39; LL描述了如何在地图生态系统中填补特定的差距，以及我正在开发它的方向。</p><p>     There&#39;s powerful WebGL-based map renderers like  MapboxGL JS,  Tangram and  harp.gl for vector map tiles. Despite this, the  Leaflet library remains extremely popular because of its simple, DOM-driven design. Protomaps.js brings  high-DPI vector rendering and map customization to the Leaflet map experience, with some deliberate compromises: see  what protomaps.js is not.</p><p>     基于强大的WebGL的地图渲染器，如MapBoxGL JS，Tangram和Harp.GL，用于矢量地图瓷砖的强大的基于WebGL的地图渲染器。尽管如此，传单库仍然非常受欢迎，因为它的简单，DOM驱动的设计。 protomaps.js为传单映射体验带来了高DPI矢量渲染和地图定制，有一些故意的妥协：查看protomaps.js不是什么。 </p><p> Protomaps.js is also a system for  code-driven map symbology. While the above WebGL libraries and image-based renderers like  Mapnik expose a limited API for map labels and markers, protomaps.js is  extensible at runtime by implementing custom Symbolizers; it&#39;s an  immediate-mode system for direct access to Canvas.</p><p>protomaps.js也是代码驱动地图符号系统的系统。虽然上述WebGL库和像MAPNIK这样的基于图像的渲染器公开了用于地图标签和标记的有限API，但Protomaps.js通过实现自定义符号化器来在运行时进行扩展;它是一个直接模式的直接进入画布。</p><p>  protomaps.js is alpha stage and needs a lot of work — it&#39;s being used to power all the maps on this site, but the internal API is still unstable.  I am open sourcing it now to gauge interest in a pure 2D webmap renderer:  protomaps.js on GitHub</p><p>  protomaps.js是alpha阶段，需要很多工作 - 它被用来为这个站点上的所有地图供电，但内部API仍然不稳定。我现在打开它来衡量纯粹的2D WebMap渲染器：Protomaps.js在github上</p><p> Labels are currently, well, bad. Linear feature labels are mostly broken; multiple candidate positions should be considered for point labels like cities and POIs. Some features, such as country-specific highway shields, will need to be supported by the vector data from the Downloads service and web map API.</p><p> 标签目前，良好，坏。线性特征标签大多破碎;应该考虑多个候选人职位，以便点标标签等城市和POI。将需要通过下载服务和Web地图API的矢量数据来支持某些特征，例如特定于国家/地区的公路屏蔽。</p><p> Support SVG icons via the  protosprites library and port popular open source map styles such as  Stamen Design&#39;s Toner.</p><p> 通过ProtoSprites库和港口流行的开源地图样式支持SVG图标，如雄蕊设计和＃39; S碳粉。</p><p> All features need to be designed with  performance as a primary goal: while a pure Canvas-based experience will never be as slick as a WebGL one, protomaps.js aims to be just as good as &#34;slippy&#34; image maps.</p><p> 所有功能都需要以性能设计为主要目标：虽然基于纯的帆布的体验永远不会像WebGL那样闪烁，但Protomaps.js旨在与＆＃34一样好; slippy＆＃34;图像地图。</p><p>     Vector map data in the form of Z/X/Y tiles is typically made available as a commercial API. If you don&#39;t need the entire planet, it should be possible to host a piece of the world yourself.</p><p>     z / x / y图块形式的矢量地图数据通常可用作商业API。如果你不需要整个星球，应该可以自己举办一块世界。</p><p> Existing formats like  MBTiles are based on SQLite. This  limits the ability to self-host maps to those confident running a server in production.</p><p> 像Mbtiles这样的现有格式基于SQLite。这限制了对在生产中运行服务器的自主站映射的能力。 </p><p> PMTiles is a format based on HTTP Byte Serving that can be  hosted on S3 or any other cloud provider. It can be read directly by the protomaps.js renderer for a totally serverless map application. It&#39;s a perfect match for projects where a long-term subscription to a hosted service is undesirable.</p><p>PMTiles是一种基于HTTP字节服务的格式，可以在S3或任何其他云提供商上托管。它可以由Protomaps.js渲染器直接读取，以获取完全无操作系统的地图应用程序。它＆＃39;对于一个完美的匹配项目，即长期订阅托管服务是不可取的。</p><p>       Eliminates all complexity from getting map data: The current status quo is to use PostgreSQL as an intermediate store for OSM data, and to render tiles from PostgreSQL on-demand. Instead, download pre-rendered PMTiles from the  Downloads site, or use the  global Web API.</p><p>       消除从地图数据中的所有复杂性：当前状态QUO是将PostgreSQL用作OSM数据的中间存储，并从PostgreSQL点播渲染图块。相反，从下载网站下载预渲染的PMT​​iles，或使用全局Web API。</p><p> Map Downloads (but not web API) snapshot OSM every 60 seconds: this turns OpenStreetMap into a  truly live, editable project. This resolves the mismatch between the idea that the map can be improved by anyone, and the reality that map services are weeks or months behind the live data.</p><p> 地图下载（但不是Web API）Snapshot OSM每60秒：这将OpenStreetMap转变为真正的直播，可编辑项目。这可以解决地图可以通过任何人改进地图的想法之间的不匹配，以及地图服务是几周或实时数据的几个月。</p><p> For those needing a global hosted service, you can  sign up for an API key.</p><p> 对于那些需要全局托管服务的人，您可以注册API键。</p><p>  Scaling up: Map downloads are currently limited to 500,000 nodes to help isolate bugs - for example, sometimes the ocean &#34;leaks&#34; into land. If you find problems or have questions, please  email me.</p><p>  缩放：地图下载目前限制了500,000个节点，以帮助隔离虫子 - 例如，海洋＆＃34;泄漏＆＃34;进入土地。如果您发现问题或有疑问，请给我发电子邮件。</p><p> Map downloads and the Web API should support high-quality label generalizations, highway shields, and beautiful graph-based simplification of road networks.</p><p> 地图下载和Web API应支持高质量的标签概括，高速公路盾牌，以及基于BRIC的道路网络简化。</p><p> The Infinite Map: PMTiles downloads should be customizable to include any object or tag in OpenStreetMap, via the OSM Express database.</p><p> 无限映射：PMTiles下载应可自定义，以通过OSM Express数据库在OpenStreetMap中包含任何对象或标记。 </p><p> OSM as a live project also comes with risks related to vandalism or just broken data. Monthly releases of  Facebook&#39;s Daylight Map Distribution should be an option for Map Downloads and the Web API.</p><p>OSM作为现场项目也有与破坏或破坏数据相关的风险。 Facebook的每月版本和＃39; S日光贴图分布应该是地图下载和Web API的选项。</p><p>     Relational databases are the most popular way to work with OSM, but demand a lossy transformation of the data model. OSMX is a embedded database for nodes, ways and relations to make building applications on fresh OSM data simple.  Check it out on GitHub.</p><p>     关系数据库是使用OSM的最受欢迎的方式，但需求数据模型的有损转换。 OSMX是一个嵌入式数据库，用于节点，方式和关系，以便在新鲜OSM数据上制作构建应用程序。在github上看看。</p><p> All Protomaps services are built on top of OSMX; it&#39;s orders of magnitude faster than alternatives. It&#39;s being used by other companies for tasks like  generating diffs.  Minutely Extracts provides fresh PBF format data for use in other applications like routing and geocoding.</p><p> 所有Protomaps服务都建立在OSMX之上;它＆＃39;幅度比替代品快。其他公司使用＆＃39;其他公司用于产生差异。微小的提取物提供新的PBF格式数据，用于其他应用程序，如路由和地理编码等其他应用程序。</p><p>     Terrain: protomaps.js should render client-side hillshades and contour lines, and  Terrarium-format tiles should be downloadable as PMTiles archives, based on SRTM, ASTER or a mosaic dataset.</p><p>     地形：Protomaps.js应该渲染客户端的山丘和轮廓线，并且基于SRTM，Aster或Mosaic数据集应可下载作为PMTiles Archives的替身瓷砖。</p><p> Satellite: A cloudless Landsat or Sentinel-2 imagery layer is a great match for canvas-rendered, custom map labels.</p><p> 卫星：无云的Landsat或Sentinel-2图像层是一个很好的帆布渲染，自定义地图标签。</p><p> I want to end by clarifying that Protomaps is  a self-funded, single-person product, executing on a distinct vision of what web cartography can be. If your company or project has a mapping challenge I might help you solve,  schedule a short 30-minute call with me, email me at   [email protected] or find me on  Twitter (DMs open), and I&#39;ll of course be publishing on  GitHub. If you also happen to be in Taipei, I&#39;ll buy you a coffee.</p><p> 我想通过澄清PROTMAPS是一个自筹资金，单人产品，在Web制图所在的独特愿景中执行。如果您的公司或项目有一个映射挑战，我可能会帮助您解决，安排短短30分钟的电话，在[电子邮件受保护]的电子邮件给我发送电子邮件或在Twitter上找到我（DMS打开），我＆＃39;当然在github上发布。如果你也碰巧在台北，我会给你买咖啡。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://protomaps.com/blog/new-way-to-make-maps/">https://protomaps.com/blog/new-way-to-make-maps/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/maps/">#maps</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/地图/">#地图</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>