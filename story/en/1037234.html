<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Greg Kroah-Hartman：“不要让用户发疯”Greg Kroah-Hartman: 'Don't Make Users Mad'</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Greg Kroah-Hartman: 'Don't Make Users Mad'<br/>Greg Kroah-Hartman：“不要让用户发疯”</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-30 13:24:27</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/918d499bec2691e9174529ecaa1d0d33.png"><img src="http://img2.diglog.com/img/2020/11/918d499bec2691e9174529ecaa1d0d33.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Greg Kroah-Hartman, the Linux Foundation fellow currently responsible for stable Linux kernel releases  shared the lessons he’s learned as a kernel developer that are applicable to other developers at this year’s  Linux App Summit.</p><p>目前负责稳定Linux内核发行的Linux基金会研究员Greg Kroah-Hartman在今年的Linux App Summit上分享了他作为内核开发人员所学的经验教训，这些经验教训也适用于其他开发人员。</p><p> Kroah-Hartman has been helping develop the Linux kernel for over 20 years — “way too long,” he jokes — but reminded the audience that he has done some userspace work and maintains some small Linux userspace packages. He started by showing how he could succinctly distill the essence of the talk into a single four-word slide:</p><p> Kroah-Hartman一直在帮助开发Linux内核已有20多年了（他开玩笑地说，“时间太长了”），但提醒听众他已经完成了一些用户空间工作并维护了一些Linux用户空间小程序包。他首先展示了如何将演讲的实质精炼成一个只有四个字的幻灯片：</p><p>  “Let’s go into a little more detail, though,” he adds with a laugh. “I’ll try to explain why you don’t want to make users mad, and what happens when you do.”</p><p>  “不过，我们再详细一点。”他笑着说。 “我将尽力解释为什么您不想让用户发疯，以及当您这样做时会发生什么。”</p><p> “So, all this stuff comes down to a pretty simple thing: who are you writing code for?”</p><p> “因此，所有这些东西都归结为一件非常简单的事情：您为谁编写代码？”</p><p> It’s important because what you should do depends on why you’re doing it, he explains, starting with the easiest scenario. If you’re writing code for yourself, “Throw it over the wall and have fun.”</p><p> 他说，这很重要，因为您应该做的事取决于您为什么这样做，从最简单的情况开始。如果您要为自己编写代码，则“把它扔在墙上，玩得开心。”</p><p> But if you’re writing it for others, “Now you have to care about users.”</p><p> 但是，如果您是为其他人编写的，则“现在您必须关心用户。”</p><p> “Within reason,” he adds, sharing a corner-case example from what he calls the infamous  XKCD cartoon illustrating how users can complain about even the most essential of fixes — like “the CPU no longer overheats when you hold down spacebar.”</p><p> “有道理，”他补充说，并分享了一个他称之为臭名昭著的XKCD卡通的极端案例，说明了用户如何甚至可以抱怨最基本的修复程序，例如“按住空格键时CPU不再过热”。</p><p> “Everything I say here is ‘within reason’, because there are always some users you can never please, no matter what. And those people you can safely ignore.”</p><p>“我在这里所说的一切都是'合理的'，因为总有一些用户无论如何都无法取悦。而那些您可以放心忽略的人。”</p><p> Kroah-Hartman explains that’s one of Linus Torvalds’ most deeply-held convictions: don’t break userspace.</p><p> Kroah-Hartman解释说，这是Linus Torvalds最坚定的信念之一：不要破坏用户空间。</p><p> “Other operating systems have this rule as well — it’s a very solid rule — because we always want you to upgrade. And we want you to upgrade without worrying about it. We don’t want you to feel scared. If you see a new release, and we say, ‘Hey, this fixes a bunch of problems,’ we don’t want you to feel worried about taking that. That’s really really important — especially with security.”</p><p> “其他操作系统也有此规则-这是非常严格的规则-因为我们一直希望您进行升级。我们希望您升级而不必担心。我们不希望您感到害怕。如果您看到一个新版本，我们会说：“嘿，这解决了很多问题。”我们不希望您担心这样做。这真的非常重要-尤其是在安全性方面。”</p><p> This leads to what Kroah-Hartman called Greg’s rule #1: “Users will not update if they are afraid you will break their current system.”</p><p> 这导致了Kroah-Hartman所说的Greg规则1：“如果用户担心您会破坏当前的系统，他们将不会进行更新。”</p><p>   This obviously informs the way that changes ultimately get made. “The trick is you just support everything until there are no users,” Kroah-Hartman explained. “Figuring out when there are and are not users is up to you.”</p><p>   显然，这通知了最终进行更改的方式。 Kroah-Hartman解释说：“诀窍是您将支持所有内容，直到没有用户为止。” “弄清楚何时有用户和没有用户取决于您。”</p><p> Kroah-Hartman told a remarkable story about the time where the Linux kernel developers realized one particular architecture was only being used by exactly two machines in existence. “One of them broke, and the other one — we actually paid the developer to replace it, because we didn’t want to support that thing anymore.”</p><p> Kroah-Hartman讲述了一个非凡的故事，当时Linux内核开发人员意识到一个特定的体系结构仅被现有的两台机器使用。 “其中一个坏了，另一个-我们实际上付钱给了开发人员来替换它，因为我们不想再支持那个东西了。”</p><p> “But otherwise, we have to keep supporting users. Because we made that contract. We made that contract that we gave them a functionality. We cannot remove it.”</p><p> “但是，否则，我们必须继续支持用户。因为我们签订了合同。我们签订了合同，为他们提供了功能。我们无法删除它。”</p><p> He points out that Linux can still support 25-year-old binaries, so “People think Linux has stagnated. But in reality, we’ve created new functionalities right next to the old functionalities, that you can do different things — you can take advantage of stuff.”</p><p>他指出，Linux仍然可以支持使用25年的二进制文件，因此“人们认为Linux已停滞不前。但实际上，我们在旧功能的旁边创建了新功能，您可以做不同的事情-您可以利用各种东西。”</p><p> He provided another very prominent example of an application evolving slowly that a few notice: KDE.</p><p> 他提供了另一个非常著名的示例，该示例说明了一个缓慢发展的应用程序：KDE。</p><p>  Another piece of advice for application developers: Don’t take away things that work. “If somebody is using this functionality, keep it there. It’s that simple… Don’t think by removing it, you’re doing them a favor.”</p><p>  给应用程序开发人员的另一条建议：不要拿走有用的东西。 “如果有人在使用此功能，请将其保留在那里。就这么简单……不要以为删除它就可以帮他们一个忙。”</p><p> When he turned his attention to library developers, his first slide simply read: “I pity you.”</p><p> 当他将注意力转向图书馆开发人员时，他的第一张幻灯片只是写着：“我很可惜。”</p><p> “You never know if an API is really useful, until you have too many people using it to ever be able to change it.”—Greg Kroah-Hartman</p><p> “您不知道一个API是否真的有用，除非您有太多的人使用过该API才能对其进行更改。”-Greg Kroah-Hartman</p><p> “This is the hardest job ever,” he said with a laugh. “I really, really feel sorry for you… It’s one of the hardest things to do.”</p><p> “这是有史以来最艰巨的工作，”他笑着说。 “我真的非常为您感到难过……这是最难的事情之一。”</p><p> “You can never know if your API actually works until you have a lot of people using it. And by the time you have a lot of people using it, then you realize all the problems in it — and then you can’t change it.” He said, laughing. “Getting it right the first time is almost impossible.”</p><p> “除非有很多人使用它，否则您永远无法知道您的API是否真正起作用。当您有很多人在使用它时，您便意识到其中的所有问题-然后便无法更改。”他笑着说。 “几乎不可能第一次做到这一点。”</p><p>  There is one alternative — but it still involves honoring the users who are still using that old library that you want to deprecate. If you really need to make a fresh start — “do that as a whole new library,” he advised.</p><p>有一种选择-但是它仍然涉及向仍在使用您要弃用的旧库的用户致敬。他建议，如果您真的需要重新开始–“作为一个全新的图书馆”。</p><p> “And then you have no users! And then you don’t know if anybody’s using your API, you don’t know if you got it right, until you have users, and then it’s broken — and the cycle continues.”</p><p> “然后您就没有用户了！然后，您不知道是否有人在使用您的API，不知道您使用的API是否正确，直到您有了用户，然后它就破裂了，并且循环还在继续。”</p><p> He also offered an important tip for developers who actually want their users to switch over to that new library. “You need to document it really well — because if you don’t Stack Overflow is going to try to do it.” He laughs knowingly, remembering a flood of bad drivers and submissions that were apparently inspired by a 10-year-old Stack Overflow post. “You don’t want Stack Overflow to be your primary documentation. Provide good documentation.”</p><p> 他还为实际上希望其用户切换到该新库的开发人员提供了重要提示。 “您需要很好地记录它-因为如果您不这样做，Stack Overflow将会尝试做到这一点。”他有心地笑了起来，回想起大量的不良司机和意见，这显然是受10岁的Stack Overflow职位的启发。 “您不希望Stack Overflow成为您的主要文档。提供良好的文档。”</p><p> But then he added seriously, “If you violate those things, you cause people to lose trust. If I rebuild and see ‘deprecated’ all over the place or APIs changed, it’s just horrible. You don’t want to do that. If you violate that trust, you won’t have that user anymore.”</p><p> 但是随后他认真地补充道：“如果您违反这些规定，则会导致人们失去信任。如果我在整个地方重建并看到“已弃用”或API发生了变化，那就太可怕了。你不想那样做。如果您违反了这种信任关系，就不会再有该用户了。”</p><p> If you do make a change, make sure there truly is a compelling reason. “You have to provide enough reason and enough goodness to force somebody to take the time to learn to do something else. That’s very rare.”</p><p> 如果您进行更改，请确保确实有令人信服的理由。 “您必须提供足够的理由和足够的善良，以迫使某人花时间学习做其他事情。那是非常罕见的。”</p><p> His example of this was  systemd, which unified a variety of service configurations and initialization processes. “They did it right. They provided all the functionality, they solved a real problem that was there. They unified all these existing tools and problems in such a way that it was just so much better to use, and it provided enough impetus that everybody was willing to do the work to modify their own stuff and move to the new model.</p><p> 他的示例是systemd，它统一了各种服务配置和初始化过程。 “他们做对了。他们提供了所有功能，解决了一个真正的问题。他们以一种更好用的方式统一了所有这些现有工具和问题，并且提供了足够的动力，每个人都愿意做一些工作来修改自己的东西并转向新模型。</p><p> “It worked. People still complain about it, but it worked. Everybody switched… It works well. It solves a real problem.</p><p> “有效。人们仍然抱怨它，但是它起作用了。每个人都交换了……效果很好。它解决了一个真正的问题。</p><p> “That was an example of how you can provide a compelling reason to move on — and make the change.”</p><p>“这是一个示例，说明了如何提供令人信服的理由继续前进并做出改变。”</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/kroah/">#kroah</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>