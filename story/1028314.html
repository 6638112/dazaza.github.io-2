<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>使用Python和OpenCV实现自动光学错觉</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">使用Python和OpenCV实现自动光学错觉</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-12 22:27:15</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/25676b1e01ac9df8ef6e9d4b86064444.png"><img src="http://img2.diglog.com/img/2020/10/25676b1e01ac9df8ef6e9d4b86064444.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>PermalLink GitHub是5000多万开发人员的家园，他们一起工作，共同托管和审查代码、管理项目和构建软件。</p><p>报名。</p><p>我最近在网上发现了一种很酷的视觉错觉，它可以让黑白图像看起来像彩色的。它通过在黑白图像上加一个彩色网格来达到这一目的，欺骗你的眼睛填充其余的颜色。你也可以在Google Colab上试用，而不需要下载任何代码。</p><p>让我们用python复制这一点。我们将使用打开的CV库将彩色图像转换为黑白图像，然后在上面绘制一些网格线。</p><p>由于我们使用的是Google CoLab，您可以通过单击左侧边栏上的文件夹按钮将图像上传到CoLab文件系统，或者运行url命令下载图像。</p><p>收到百分比总数%xferd平均速度时间当前负载上载总花费的左速度100 93698 100 93698 0 0 60921 0：00：01 0：00：01--：--：--60882。</p><p>这张图片是RGB格式的数组，所以维度是(H，W，C)。我们将使用CV2将其转换为黑白。CV2实际上读取的颜色是bgr，所以我们必须反转通道。</p><p>此外，由于黑白图像是1通道，但我们想要在黑白图像上绘制彩色线条，我们必须将其转换回3通道。</p><p>Bw_img=CV2。CvtColor(img[：，：，：：-1]，cv2.。COLOR_BGR2GRAY)#在给予CV2 bw_img=CV2之前将RGB反转为BGR。CvtColor(bw_img，cv2.。COLOR_GRAY2BGR)#返回到3通道PLT。图(FigSize=(5，5))PLT。Imshow(BW_IMG，Cmap=&#39；Greys_r&#39；)。</p><p>最后，这里是魔术发生的地方。我们将在图像上绘制网格线。您可以使用GRID_x_DIM和GRID_Y_DIM参数处理网格x和y维度上的线数。增加网格中的行数通常会使图像看起来更鲜艳。</p><p>GRID_IMG=BW_IMG。COPY()H、W、C=GRID_IMG。Shape grid_x_dim=100 grid_y_dim=100 thickness=1line_width=W/grid_x_dim line_high=H/grid_y_dim#为范围内的i绘制垂直线(Grid_X_Dim)：对于范围内的j(Grid_Y_Dim)：start_x，start_y=int(i*line_width)，int(j*line_width)end_x，end_y=int(i*line_width)，Int((j+1)*line_high)#确定颜色MID_x=INT(start_x+0.5*(end_x-start_x))MID_y=int(start_y+0.5*(end_y-start_y))MID_COLOR=img[MID_y，MID_x，：]。Tolist()#逐列，所以y，x color=MID_COLOR CV2。Line(grid_img，(start_x，start_y)，(end_x，end_y)，color，ickness，1)#为范围内的i画水平线(Grid_Y_Dim)：对于范围内的j(Grid_X_Dim)：start_x，start_y=int(j*line_width)，int(i*line_width)end_x，end_y=int((j+1)*line_width)，Int(i*line_Height)#确定颜色MID_x=INT(start_x+0.5*(end_x-start_x))MID_y=int(start_y+0.5*(end_y-start_y))MID_COLOR=img[MID_y，MID_x，：]。Tolist()#逐列，所以y，x color=MID_COLOR CV2。LINE(GRID_IMG，(start_x，start_y)，(end_x，end_y)，color，ickness，1)PLT。图(FigSize=(5，5))PLT。Imshow(GRID_IMG)。</p><p>让我们把这些图像并排比较一下。正如你所看到的，这个错觉不像原始图像那样充满活力，但它看起来肯定不是黑白的！</p><p>导入CV2导入matplotlib。Pylot as PLT将numpy导入为np def光学_幻觉(img_path，grid_dim=(75，75)，line_thickness=3，show_all=false)：&#34；&#34；&#34；&#34；img_path：输入图像的路径grid_dim：栅格的尺寸line_thickness：每条线的厚度show_all：并排渲染输入图像、光学错觉和BW图像。将RGB图像转换为BW图像，然后在其上绘制彩色网格线。可以调整栅格尺寸以及每条线的粗细。&#34；&#34；&#34；GRID_x_DIM，GRID_Y_DIM=GRID_DIM厚度=LINE_THICTH IMG=PLT。Imread(Img_Path)bw_img=CV2。CvtColor(img[：，：，：：-1]，cv2.。COLOR_BGR2GRAY)BW_IMG=CV2。CvtColor(bw_img，cv2.。COLOR_GRAY2BGR)GRID_IMG=BW_IMG。COPY()W、H、C=GRID_IMG。Shape line_width=H/grid_x_dim line_high=W/grid_y_dim#为范围内的i绘制垂直线(grid_x_dim-1)：对于范围内的j(grid_y_dim-1)：start_x，start_y=int(i*line_width)，int(j*line_width)end_x，end_y=int(i*line_width)，Int((j+1)*line_high)#确定颜色MID_x=INT(start_x+0.5*(end_x-start_x))MID_y=int(start_y+0.5*(end_y-start_y))MID_COLOR=img[MID_y，MID_x，：]。Tolist()#逐列，所以y，x color=MID_COLOR CV2。Line(grid_img，(start_x，start_y)，(end_x，end_y)，color，ickness，1)#为范围内的i画水平线(grid_y_dim-1)：对于范围内的j(grid_x_dim-1)：start_x，start_y=int(j*line_width)，int(i*line_width)end_x，end_y=int((j+1)*line_width)，Int(i*line_Height)#确定颜色MID_x=INT(start_x+0.5*(end_x-start_x))MID_y=int(start_y+0.5*(end_y-start_y))MID_COLOR=img[MID_y，MID_x，：]。Tolist()#逐列，所以y，x color=MID_COLOR CV2。LINE(GRID_IMG，(start_x，start_y)，(end_x，end_y)，color，ickness，1)save_img=grid_img if show_all：save_img=np。串联([img，grid_img，bw_img]，axis=1)返回save_img。</p><p>收到百分比总数%xferd平均速度时间100 146k 100 146k 0 0 113k 0 0：00：01 0：00：01 0：00：01--：-113k%收到%xferd平均速度时间当前负载上载总数%xferd平均速度时间100 127k 100 127k 0 227k 0-：</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/ehu-ai/optical_illusion/blob/master/README.md">https://github.com/ehu-ai/optical_illusion/blob/master/README.md</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/python/">#python</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/optical/">#optical</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/img/">#img</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1028224.html"><img src="http://img2.diglog.com/img/2020/10/thumb_7435f494a1e069adaf13503eb261fb94.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1028224.html">Python正在变得比Java更受欢迎吗？</a></div><span class="my_story_list_date">2020-10-12 7:24</span></div><div class="col-sm"><div><a target="_blank" href="/story/1028210.html"><img src="http://img2.diglog.com/img/2020/10/thumb_9f6f6fa763b64246c0bbfc3bb35b29cc.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1028210.html">CSV阅读器基准：Julia阅读CSV的速度比Python和R快10-20倍</a></div><span class="my_story_list_date">2020-10-12 7:11</span></div><div class="col-sm"><div><a target="_blank" href="/story/1028072.html"><img src="http://img2.diglog.com/img/2020/10/thumb_3a471c198f24e912d5d706116095c899.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1028072.html">新的Python3.9给语言功能带来了“重大变化”</a></div><span class="my_story_list_date">2020-10-11 16:54</span></div><div class="col-sm"><div><a target="_blank" href="/story/1027941.html"><img src="http://img2.diglog.com/img/2020/10/thumb_839c9b23f6a2842cc0e45923bebbdac8.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1027941.html">Py：Python代码，它可以无怨无悔地获取它的依赖项</a></div><span class="my_story_list_date">2020-10-11 15:46</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>