<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>复制比错误的抽象便宜得多</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">复制比错误的抽象便宜得多</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-07-06 00:02:26</div><div class="page_narrow text-break page_content"><p>_我最初为我的Chainline时事通讯写了以下内容，但我继续收到关于这个想法的推文，所以我在我的博客上重新发布了这篇文章。此版本经过轻微编辑。_。</p><p>我一直在思考错误抽象的后果。我在2014年铁路会议上的所有小事都包括了一段我断言的内容：</p><p>大得多的演讲中的这一小部分引起了令人惊讶的强烈反应。有几个人说我疯了，但更多的人表达了这样的情绪：</p><p>这是它的一百万倍！&#34；@BonzoESC：&#34；重复比错误的抽象&#34；@sandimetz@rbonales pic.twitter.com/3qMI0waqWb&#34；便宜得多。</p><p>-41度蓝(@PIMS)2014年3月7日。</p><p>强烈的反应让我意识到错误抽象的问题是多么普遍和棘手。我开始问问题，发现了以下模式：</p><p>这将创建一个新的抽象。它可以是一个新方法，甚至可能是一个新类。</p><p>程序员B觉得保留现有的抽象是有义务的，但是因为不是每种情况都完全一样，所以他们修改代码以接受一个参数，然后添加逻辑以基于该参数的值有条件地做正确的事情。(=</p><p>你出现在关于这里的故事里，你的生活发生了戏剧性的转折。</p><p>现有的代码具有强大的影响力。它的存在本身就证明了它既是正确的，也是必要的。我们知道代码代表付出的努力，我们非常有动力保护这一努力的价值。不幸的是，不幸的是，代码越复杂、越难以理解，即创建代码的投资越深，我们就越有压力保留它(沉没成本谬论)。这就好像我们的潜意识告诉我们，天哪，这是如此令人困惑，一定花了很长时间才弄清楚。当然，这真的非常重要。如果让所有的努力付诸东流，那将是一种罪恶。</p><p>当您在上面的步骤8中出现在这个故事中时，这种压力可能会迫使您继续前进，也就是说，通过更改现有代码来实现新的需求。然而，试图这样做是残忍的。代码不再代表单一的、通用的抽象，而是变成了一个充满条件的过程，其中交织了许多模糊关联的概念。它很难理解，也很容易打破。</p><p>如果你发现自己处于这种情况，不要被沉没成本所驱使。在处理错误的抽象时，最快的前进方式是后退。执行以下操作：</p><p>在每个调用方中，使用传递的参数来确定此特定调用方执行的内联代码的子集。</p><p>这将同时删除抽象和条件，并将每个调用方减少到只需要它所需的代码。当您以这种方式回溯决策时，通常会发现，尽管每个调用者表面上调用了一个共享抽象，但它们运行的代码是相当独特的。一旦您完全删除旧的抽象，您就可以重新开始，重新隔离重复并重新提取抽象。</p><p>我见过一些问题，人们勇敢地尝试着用错误的抽象概念前进，但收效甚微。添加新功能非常困难，每一次成功都会使代码变得更加复杂，这使得添加下一个功能变得更加困难。当他们将他们的观点从我必须保护我们在此代码中的投资更改为此代码时，这段代码在一段时间内是有意义的，但也许我们已经从其中学到了所有我们能学到的东西，并允许他们根据当前的要求重新考虑他们的抽象，一切都变得容易了。一旦他们内联了代码，前进的道路就变得显而易见，添加新功能变得更快、更容易。</p><p>这个故事的寓意是什么？不要被沉没成本谬论所困。如果您发现自己通过共享代码传递参数和添加条件路径，则抽象是不正确的。一开始可能是对的，但那一天已经过去了。一旦抽象被证明是错误的，最好的策略是重新引入重复，让它告诉你什么是正确的。虽然偶尔积累几个条件条件来洞察正在发生的事情是有意义的，但如果你尽早放弃错误的抽象，你会遭受更少的痛苦。</p><p>当抽象错误时，最快的前进方式是后退。这不是撤退，而是朝着更好的方向前进。动手吧。你会改善你自己的生活，也会改善所有跟随你的人的生活。</p><p>我的下一个公共实用面向对象设计课程将于2018年5月2-4日在北卡罗来纳州的达勒姆举行。是的，现在是另一个POODNC的时候了。这是你与志同道合的同龄人共度三天的机会。加入我们，改变您对物品的看法。</p><p>99瓶OOP已完成，1.0.1版本现已面市。这本书由卡特里娜·欧文(Katrina Owen)联合授权，历经数年痛苦而艰苦的制作。了解更多信息，阅读扩展样本，阅读独立评论，或者立即购买。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.sandimetz.com/blog/2016/1/20/the-wrong-abstraction">https://www.sandimetz.com/blog/2016/1/20/the-wrong-abstraction</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/错误/">#错误</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/cheaper/">#cheaper</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/代码/">#代码</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1009359.html"><img src="http://img.diglog.com/img/2020/7/thumb_4cb6a614b99e1ef5b56ba07c3e488a0e.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1009359.html">
AR 1.0已经死了：以下是它的错误之处</a></div><span class="my_story_list_date">2020-7-2 3:50</span></div><div class="col-sm"><div><a target="_blank" href="/story/1009216.html"><img src="http://img.diglog.com/img/2020/7/thumb_ed473defc8c65c73e82fc3ee418156ef.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1009216.html">驯服ClojureScript项目中的高级编译错误</a></div><span class="my_story_list_date">2020-7-1 10:42</span></div><div class="col-sm"><div><a target="_blank" href="/story/1007966.html"><img src="http://img.diglog.com/img/2020/6/thumb_8f259699f3a48470220c0df4a294a025.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1007966.html">一名男子在面部识别错误后被错误逮捕</a></div><span class="my_story_list_date">2020-6-24 22:47</span></div><div class="col-sm"><div><a target="_blank" href="/story/1007962.html"><img src="http://img.diglog.com/img/2020/6/thumb_56e1505e8d55c5b14d91e83c6e19982d.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1007962.html">被算法错误地指控</a></div><span class="my_story_list_date">2020-6-24 22:6</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>