<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>WolfSort：一种超高速混合基数排序算法</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">WolfSort：一种超高速混合基数排序算法</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-07-24 11:18:08</div><div class="story_img_container"><a href="http://img.diglog.com/img/2020/7/62f91eb4f255f47997602db0cb4e35d0.jpeg"><img src="http://img.diglog.com/img/2020/7/62f91eb4f255f47997602db0cb4e35d0.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>本文档描述了一种稳定的自适应基数/归并混合排序，名为wolfort。对于随机和有序数据的混合排序，它可能是迄今为止编写的最快的排序。</p><p>虽然自适应合并排序在排序有序数据时速度非常快，但它不能有效地进行分区是其最大的弱点。另一方面，基数排序无法利用已排序的数据。WolfSort试图避免每种算法的最坏情况。</p><p>WolfSort使用QuadSort作为其自适应合并排序，因为它比TimSort更快。Wolfort使用的基数排序有两个主要函数。</p><p>WolfSort的操作类似于典型的基数排序，方法是创建256bucket，并将每个无符号32位整数除以16777216。如果不进行任何优化，这将使内存开销增加256倍。作为一种混合排序，wolfort通过赋予每个存储桶最大大小的1/8来解决这个问题。</p><p>如果达到最大存储桶大小，则中止基数排序并运行四次排序。虽然这看起来可能很浪费，但实际上这意味着以相对较小的成本避免了每种算法的最坏情况。</p><p>因为此方法相当于就地MSD基数排序，所以在分区完成后，256个存储桶将按顺序排列。下一步是对每个桶的内容进行排序，四次排序就完成了。</p><p>对于O(N)分区过程，WolfSort需要交换内存中数组大小的8倍，随后的排序过程需要交换内存中数组大小的1/32。</p><p>如果没有足够的内存可用，则wolfort会使用QuadSort，它需要交换内存中阵列大小的1/2。</p><p>在理想条件下，分配和释放10MB内存与分配和释放80MB内存在计算上没有差别。从历史上看，软件的内存总是很低的，因此后来开发了排序算法，以便尽可能少地使用额外的内存。如今，大多数现代系统都有几个未使用的、闲置的内存。</p><p>在分区过程中，每个桶都变得类似于薛定谔的猫，它可以几乎全部使用，也可以完全不使用，或者介于两者之间。根据概率，我们知道实际使用的恰好是1/8。唯一的开销是跟踪每个桶的大小，并在每次添加时检查桶是否没有溢出。</p><p>WolfSort主要是一个概念证明，目前它只正确支持无符号32位整数。</p><p>在许多平台上，使用malloc()进行内存分配是一个瓶颈。使用更好的内存分配器或永久交换内存是一种可能的解决方案。</p><p>下面的测试是在无线用户线GCC 7.4.0(Ubuntu7.4.0-1ubuntu1~18.04.1)上进行的，源代码使用g++-O3-fpermissive基准进行编译。</p><p>下面的基准测试是在WSL GCC版本7.4.0(Ubuntu7.4.0-1ubuntu1~18.04.1)上进行的，源代码是用g++-O3 quigadert.cpp编译的。每个测试都运行了100次，并且只报告了最好的运行。应该注意的是，pdq排序不是一个稳定的排序，这就是它在一般订单数据上速度更快的原因。</p><p>下图的X轴是元素数，Y轴是执行时间。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/scandum/wolfsort">https://github.com/scandum/wolfsort</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/算法/">#算法</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/混合/">#混合</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/ultra/">#ultra</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/排序/">#排序</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1013847.html"><img src="http://img.diglog.com/img/2020/7/thumb_8061b50af1a284340d721194d0bd483c.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1013847.html">唱片业正在追逐由算法创作的恶搞歌曲</a></div><span class="my_story_list_date">2020-7-24 4:11</span></div><div class="col-sm"><div><a target="_blank" href="/story/1013379.html"><img src="http://img.diglog.com/img/2020/7/thumb_3aa6ea36700b9bd0181e03098602f68b.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1013379.html">Facebook正在创建新的团队，致力于研究和解决其核心平台和Instagram上潜在的算法种族偏见</a></div><span class="my_story_list_date">2020-7-22 5:57</span></div><div class="col-sm"><div><a target="_blank" href="/story/1013325.html"><img src="http://img.diglog.com/img/2020/7/thumb_731a6eeb1078e5ce307de276388b33a7.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1013325.html">如何选择适合您的机器学习算法</a></div><span class="my_story_list_date">2020-7-22 2:16</span></div><div class="col-sm"><div><a target="_blank" href="/story/1013023.html"><img src="http://img.diglog.com/img/2020/7/thumb_e545c4d96dc825c3c674a9f45d9e870b.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1013023.html">
英国优步司机将其算法告上法庭</a></div><span class="my_story_list_date">2020-7-20 20:43</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>