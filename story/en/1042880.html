<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>在32MB RAM单核ARM SBC上运行Debian Running Debian on a 32MB RAM Single Core ARM SBC</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Running Debian on a 32MB RAM Single Core ARM SBC<br/>在32MB RAM单核ARM SBC上运行Debian </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-02 08:33:50</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/1/b1b06ce8c3f3eacf78dc6630f491a011.jpg"><img src="http://img2.diglog.com/img/2021/1/b1b06ce8c3f3eacf78dc6630f491a011.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>The Lichee Nano Pi is a $6 Linux Development board powered by an Allwinner F1C100s ARM9 Processor. The Lichee Nano Pi features 32MB DDR integrated into SoC, a 16MB SPI Flash, an onboard TF Slot, and is able to be booted from a TF card. It is around the size of an SD card.  Whilst there are Linux images available for the Lichee Nano Pi it is recommended to use buildroot to build a very lightweight Linux install. There are some instructions on doing that here:  https://github.com/unframework/licheepi-nano-buildroot   Buildroot is great for creating a light weight Linux install I wanted to see if I could run full Debian 10 on this tiny SBC. As there are no Debian images available for this board I had to get creative.</p><p>Lichee Nano Pi是售价6美元的Linux开发板，由Allwinner F1C100s ARM9处理器提供支持。 Lichee Nano Pi具有集成到SoC中的32MB DDR，一个16MB SPI闪存，一个板载TF插槽，并且能够从TF卡引导。它大约是SD卡的大小。尽管Lichee Nano Pi有可用的Linux映像，但建议使用buildroot来构建非常轻量级的Linux安装。这里有一些执行此操作的说明：https://github.com/unframework/licheepi-nano-buildroot Buildroot对于创建轻量级Linux安装非常有用，我想看看我是否可以在此小型SBC上运行完整的Debian 10。由于该板没有可用的Debian图像，因此我不得不发挥创意。</p><p>  If you would prefer to skip this and use a pre-built SD card click  here.</p><p>  如果您想跳过此步骤并使用预构建的SD卡，请单击此处。</p><p>  I then flashed this to a micro SD card and expanded the rootfs partition from ~183MB to 1GB. I then removed the contents of the rootfs partition and created a Debian rootfs using multistrap:</p><p>  然后，我将其刷新到Micro SD卡，并将rootfs分区从183MB扩展到1GB。然后，我删除了rootfs分区的内容，并使用multistrap创建了Debian rootfs：</p><p> We then need to create the multistrap config I created a file called buster.conf as follows:</p><p> 然后，我们需要创建多带配置，我创建了一个名为buster.conf的文件，如下所示：</p><p>    This created a bootable half finished Debian install, I then booted this up on the Lichee nano and connected using my  DSD TECH USB to TTL Serial adapter and ran the following to finish setting up the packages:</p><p>    这样就创建了一个可引导的Debian半成品安装，然后我在Lichee nano上进行了引导，并使用我的DSD TECH USB至TTL串行适配器进行了连接，并运行以下命令完成了软件包的安装：</p><p>  This gave me a somewhat working install of Debian however no init system is included, I wanted to run full systemd and include a few packages.</p><p>  这给了我Debian的安装工作，但是没有包含init系统，我想运行完整的systemd并包含一些软件包。</p><p> The easiest way to do this without networking was to use debootstrap, on my Linux desktop I ran the following:</p><p> 在没有网络的情况下最简单的方法是使用debootstrap，在Linux桌面上，我运行了以下命令： </p><p>  This outputs a full chroot environment into the directory lichee_packages however I only wanted the .deb packages.   I ran the following to copy the .deb packages to the Lichee Nano’s SD Card:</p><p>这会将完整的chroot环境输出到目录lichee_packages中，但是我只想要.deb软件包。我运行以下命令将.deb软件包复制到Lichee Nano的SD卡中：</p><p>  I then inserted the SD card into the Lichee Nano and booted it once again and installed the packages as follows:</p><p>  然后，我将SD卡插入Lichee Nano，并再次启动，并如下安装软件包：</p><p>  This took a few minutes to complete although once finished I have a fully working Debian 10 install on my Lichee Nano.   I then created a swap file as 32MB of RAM does not go far!:</p><p>  这花了几分钟完成，尽管一旦完成，我就可以在Lichee Nano上安装完全正常的Debian 10。然后，我创建了一个交换文件，因为32MB的RAM不会消失！：</p><p>  dd if=/dev/zero of=/var/swapfile bs=1M count=256 &amp;&amp;chmod 600 /var/swapfile &amp;&amp;mkswap /var/swapfile &amp;&amp;echo /var/swapfile none swap defaults 0 0 | tee -a /etc/fstab &amp;&amp;swapon -a</p><p>  dd if = / dev / zero of = / var / swapfile bs = 1M count = 256＆amp; chmod 600 / var / swapfile＆amp;＆amp; mkswap / var / swapfile＆amp;＆amp; echo / var / swapfile none交换默认值0 0 | tee -a / etc / fstab＆amp;＆amp; swapon -a</p><p>    I understand that most people probably don’t want the hassle of building a custom SD card image for their Lichee Nano so I have provided one  here  This can be flashed using etcher, dd or any other image burning tool extract the image file first.</p><p>    我了解到，大多数人可能不希望为他们的Lichee Nano构建自定义SD卡图像的麻烦，所以我在这里提供了一个图像。可以使用蚀刻器，dd或任何其他图像刻录工具将其刷新，然后首先提取图像文件。</p><p>  Was this worthwhile? I’d say so, I can now easily install packages on my Lichee Nano by connecting it to my  Pluggable OTG Ethernet Adapter and whilst Debian is heavy in comparison to a buildroot install it still only uses 7 MB of RAM at idle!  Whilst this should be an almost fully compatible Debian install we are not using the Debian Kernel or Debian uboot. If anyone wants to try this themselves the Lichee Nano is available on  aliexpress for just over $6</p><p>  这值得吗？可以这么说，现在我可以轻松地将软件包连接到我的可插拔OTG以太网适配器上，从而在Lichee Nano上安装软件包，尽管Debian与buildroot相比比较繁重，但它闲置时仍仅使用7 MB RAM！尽管这应该是几乎完全兼容的Debian安装，但我们并未使用Debian内核或Debian uboot。如果有人想自己尝试一下，Lichee Nano可以在速卖通上以$ 6的价格购买。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.jmdawson.co.uk/lichee-nano-pi-will-it-run-debian/">https://blog.jmdawson.co.uk/lichee-nano-pi-will-it-run-debian/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ram/">#ram</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>