<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ZIG 0.7.0发行说明</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">ZIG 0.7.0发行说明</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-10 04:44:21</div><div class="page_narrow text-break page_content"><p>Zig is a general-purpose programming language and toolchain for maintaining  robust,  optimal, and  reusable software.</p><p>ZIG是一种通用编程语言和工具链，用于维护健壮、优化和可重用的软件。</p><p>  Now backed by the  Zig Software Foundation, the project is not only financially sustainable, but offers paid contracting hours for 4 people, soon to be more.</p><p>现在，在Zig软件基金会的支持下，这个项目不仅在财务上是可持续的，而且还为4个人提供了付费合同时间，很快还会更多。</p><p>  This release features  7 months of work and changes from  187 different contributors, spread among  2666 commits.</p><p>这个版本的特点是7个月的工作和来自187个不同贡献者的更改，分布在2666个提交项中。</p><p>        Zig uses a  Tier System to communicate the level of support for different targets. Notably, in this release:</p><p>ZIG使用分层系统来传达对不同目标的支持级别。值得注意的是，在此版本中：</p><p>          Not only can Zig generate machine code for these targets, but the standard library cross-platform abstractions have implementations for these targets. Thus it is practical to write a pure Zig application with no dependency on libc.</p><p>Zig不仅可以为这些目标生成机器码，而且标准库跨平台抽象也可以为这些目标生成实现。因此，编写一个不依赖libc的纯Zig应用程序是可行的。</p><p>  The CI server automatically tests these targets on every commit to master branch, and updates  the download page with links to pre-built binaries.</p><p>CI服务器在每次提交到主分支时自动测试这些目标，并使用指向预构建二进制文件的链接更新下载页面。</p><p>      All the behavior tests and applicable standard library tests pass for this target. All language features are known to work correctly.</p><p>所有的行为测试和适用的标准库测试都通过了这个目标。已知所有语言功能均工作正常。</p><p>    The standard library supports this target, but it&#39;s possible that some APIs will give an &#34;Unsupported OS&#34; compile error. One can link with libc or other libraries to fill in the gaps in the standard library.</p><p>标准库支持此目标，但某些API可能会给出不支持的操作系统编译错误。您可以链接libc或其他库来填补标准库中的空白。</p><p>  These targets are known to work, but may not be automatically tested, so there are occasional regressions.</p><p>这些目标是已知有效的，但可能不会自动测试，因此偶尔会出现倒退。</p><p>  Some tests may be disabled for these targets as we work toward  Tier 1 Support.</p><p>在我们争取第1层支持的过程中，可能会禁用这些目标的某些测试。</p><p>    These targets are not frequently tested; one will likely need to contribute to Zig in order to build for these targets.</p><p>这些目标并不经常被测试；人们很可能需要为ZIG做出贡献，才能为这些目标做出贡献。</p><p>    If this target is provided by LLVM, LLVM may have the target as an experimental target, which means that you need to use Zig-provided binaries for the target to be available, or build LLVM from source with special configure flags.  zig targets will display the target if it is available.</p><p>如果该目标是由LLVM提供的，则LLVM可能将该目标作为实验目标，这意味着您需要使用Zig提供的二进制文件才能使用该目标，或者使用特殊的配置标志从源构建LLVM。ZIG目标将显示该目标(如果该目标可用)。</p><p>  This target may be considered deprecated by an official party,  such as macosx/i386 in which case this target will remain forever stuck in Tier 4.</p><p>这个目标可能会被诸如MacOSX/i386这样的官方政党认为是不赞成的，在这种情况下，这个目标将永远停留在Tier 4中。</p><p>    I apologize - due to personal life events, I have not had the time to complete these release notes. My plan is to do a 0.7.1 bug fix release in 1-3 weeks (when the issues in  the milestone are resolved) and have the 0.7.0 release notes completed by that time (it takes more than one week just to type up the release notes).</p><p>我很抱歉-由于个人生活事件，我没有时间完成这些发布说明。我的计划是在1-3周内发布0.7.1错误修复版本(当里程碑中的问题得到解决时)，并在那时完成0.7.0版本说明(仅输入版本说明就需要一周多的时间)。</p><p>      This release of LLVM promotes AVR to a non-experimental backend, and therefore the AVR backend of Zig is now widely available with this release.</p><p>这个版本的LLVM将AVR提升到了一个非试验性的后端，因此Zig的AVR后端现在可以通过这个版本广泛使用。</p><p>  Thanks to LemonBoy for submitting several patches to LLVM and Clang to fix zig-related bugs.</p><p>感谢LemonBoy向LLVM和Clang提交了几个补丁，以修复与zig相关的错误。</p><p>    Because cross-compiling is a first-class use case, Zig provides libc whenever possible, rather than depending on the host libc.</p><p>因为交叉编译是一流的用例，Zig尽可能提供libc，而不是依赖于宿主libc。</p><p>    Zig now provides libc headers for macOS, and therefore it is possible to cross-compile C code, targeting macOS. Additionally, for native macOS builds, there is one less dependency on xcode when compiling C code.</p><p>Zig现在为MacOS提供了libc头文件，因此可以针对MacOS交叉编译C代码。此外，对于原生MacOS版本，在编译C代码时对Xcode的依赖性减少了一项。</p><p>  Note that linking on macOS is still problematic due to deficiencies in LLD, however two things are happening on that front:</p><p>请注意，由于LLD的缺陷，MacOS上的链接仍然存在问题，但在这方面正在发生两件事：</p><p>      Zig ships with the source code to  musl. When the musl C ABI is selected, Zig builds musl from source for the selected target.</p><p>Zig附带了MUSL的源代码。选择MUSL C ABI后，Zig将从源为所选目标构建MUSL。</p><p>      Zig gains the ability to target  glibc 2.32 in addition to the other 42 glibc versions.</p><p>除了其他42个Glibc版本之外，Zig还获得了瞄准Glibc 2.32的能力。</p><p>  In this release, Zig&#39;s glibc support is improved to gracefully handle when the native-detected glibc version is newer than glibc 2.32. In this case Zig will build the newest version that it can.</p><p>在此版本中，Zig对Glibc的支持得到了改进，可以在本机检测到的Glibc版本比Glibc 2.32更新时轻松处理。在这种情况下，Zig将尽其所能构建最新版本。</p><p>    Zig ships with the source code to  mingw-w64. When targeting *-windows-gnu and linking against libc, Zig builds mingw-w64 from source for the selected target.</p><p>Zig附带了mingw-W64的源代码。当以*-windows-gnu为目标并链接到libc时，Zig从源代码为所选目标构建mingw-w64。</p><p>      The main focus of this release cycle was the self-hosted compiler. There is a lot to talk about here:</p><p>这个发布周期的主要焦点是自托管编译器。这里有很多要谈的：</p><p>  Mention the architecture of the stage2 compiler and note the main contributors who have stepped up to work on the various parts of it.</p><p>提到Stage2编译器的体系结构，并注意主要贡献者已经开始致力于它的各个部分。</p><p>      macOS development in the past 6 months has been tumultuous, with the major breaking changes of Big Sur and the announcement of the upcoming aarch64 hardware.</p><p>在过去的6个月里，MacOS的发展是混乱的，Big Sur的重大突破性变化和即将推出的aarch64硬件的发布。</p><p>  Jakub Konka has purchased an Apple dev kit and has been working on Zig support for this system. Zig programs work for this system however they require a workaround to utilize the system linker rather than LLD. The next step here is LLD improvements for this system, as well as the Zig self-hosted linker code that Jakub has been working on.</p><p>Jakub Konka已经购买了一套苹果开发套件，并一直致力于为该系统提供Zig支持。ZIG程序可以在这个系统上运行，但是它们需要一个变通方法来利用系统链接器，而不是LLD。下一步是对该系统进行LLD改进，以及Jakub一直在开发的Zig自托管链接器代码。</p><p>              Zig is immature. Even with Zig 0.7.0, working on a non-trivial project using Zig will likely require participating in the development process.</p><p>齐格还不成熟。即使使用Zig 0.7.0，使用Zig进行一个重要的项目也很可能需要参与开发过程。</p><p>    It is unlikely there will be a 0.7.1, however it is planned there will be a 0.8.1.</p><p>不太可能会有0.7.1，但计划会有0.8.1。</p><p>    Alex is the main developer behind  ZLS. He quit his civil engineering job and is looking to transition his career into programming. Alex contributed the PE/COFF (Windows)  Self-Hosted Compiler code and is next in the queue for paid contracting hours.</p><p>Alex是ZLS背后的主要开发者。他辞去了土木工程的工作，希望将自己的职业生涯过渡到编程领域。Alex贡献了PE/COFF(Windows)自托管编译器代码，他是下一个申请付费承包时间的人。</p><p>      Jakub has been tirelessly working on  macOS Support, improving the experience of using Zig on the platform, as well as contributing the Mach-O #{link|Self-Hosted Compiler#} code.</p><p>Jakub一直在不知疲倦地致力于MacOS支持，改善了在平台上使用Zig的体验，并贡献了Mach-O#{link|Self-Hosted Compiler#}代码。</p><p>      You might recognize SpexGuy from hanging out in  #zig-help discord channel and patiently answering questions in great detail.</p><p>你可能会认出SpexGuy在#Zig-Help Discord频道闲逛，并耐心地回答非常详细的问题。</p><p>  I am pleased to announce that he is now our newest paid contributor, and his main focus is working on the first draft of the official  Zig language specification.</p><p>我很高兴地宣布，他现在是我们最新的付费贡献者，他的主要精力是致力于官方Zig语言规范的初稿。</p><p>  This is a new development, and so he has not had time to make significant progress yet.</p><p>这是一个新的进展，所以他还没有时间取得重大进展。</p><p>    According to the  0.6.0 Roadmap, the major theme of the 0.7.0 release was supposed to be  stabilizing the language,  creating a first draft of the language specification, and  self-hosting the compiler.</p><p>根据0.6.0路线图，0.7.0版本的主要主题应该是稳定语言、创建语言规范的初稿以及自托管编译器。</p><p>  We have made great strides towards this goal, which you can see with  Self-Hosted Compiler and  Martin &#34;SpexGuy&#34; Wickham Working on the Language Specification. However, there is still much to do.</p><p>我们已经朝着这个目标迈出了很大的一步，你可以从Self-Hosted Compiler和Martin SpexGuy&34；Wickham致力于语言规范的工作中看到这一点。然而，仍有很多工作要做。</p><p>  The major goal of the 0.8.0 release cycle is to finish the self-hosted compiler and ship it, deleting the C++ implementation of Zig. If you are concerned about bootstrapping, see this issue:  #6378: Allow the feature of O(1) bootstrapping to temporarily regress</p><p>0.8.0发布周期的主要目标是完成自托管编译器并发布它，删除Zig的C++实现。如果您关心自举，请参阅此问题：#6378：允许O(1)自举功能暂时回归。</p><p>    Having a package manager built into the Zig compiler is a  long-anticipated feature. Zig 0.7.0 does not have this feature.</p><p>在Zig编译器中内置包管理器是期待已久的特性。ZIG 0.7.0没有此功能。</p><p>  If the package manager works well, people will use it, which means building Zig projects will involve compiling more lines of Zig code, which means the Zig compiler must get faster, better at incremental compilation, and better at resource management.</p><p>如果包管理器运行良好，人们就会使用它，这意味着构建Zig项目将涉及编译更多行的Zig代码，这意味着Zig编译器必须变得更快、更擅长增量编译、更擅长资源管理。</p><p>  Therefore, the package manager depends on finishing the  Self-Hosted Compiler, since it is planned to have these improved performance characteristics, while stage1 is not planned to have them.</p><p>因此，包管理器依赖于完成自托管的Compiler，因为它计划具有这些改进的性能特征，而Stage1没有这样的计划。</p><p>    This release of Zig intentionally regresses the C header file generation feature. It got deleted along with 19,216 other lines of C++ (good riddance!) and the feature will be added back, but only to the  Self-Hosted Compiler.</p><p>此版本的Zig有意退化C头文件生成功能。它和19,216行其他C++代码一起被删除了(幸好！)。该功能将被重新添加，但仅限于自托管编译器。</p><p>    If you want more of a sense of the direction Zig is heading, you can look at  the set of accepted proposals.</p><p>如果你想对Zig的前进方向有更多的了解，你可以看看这组被接受的提案。</p><p>    Special thanks to Ave and Luna of  LavaTech, who are hosting an instance of  SourceHut for our Continuous Integration pipeline, but with more RAM than the main sr.ht service allows. Thanks to this, FreeBSD now has significantly more test coverage, most notably all the standard library tests.</p><p>特别感谢LavaTech的Ave和露娜，他们为我们的持续集成管道托管了SourceHut的一个实例，但其RAM超过了主要sr.ht服务所允许的范围。多亏了这一点，FreeBSD现在有了更多的测试覆盖范围，最引人注目的是所有标准库测试。</p><p>    Special thanks to those who  sponsor Zig. Because of you, Zig is driven by the open source community, rather than the goal of making profit. In particular, these fine folks sponsor Zig for $50/month or more:</p><p>特别感谢那些赞助Zig的人。因为你，Zig是由开源社区驱动的，而不是以盈利为目标。特别值得一提的是，这些优秀的人会以每月50美元或更多的价格赞助Zig：</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://ziglang.org/download/0.7.0/release-notes.html">https://ziglang.org/download/0.7.0/release-notes.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/发行/">#发行</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/release/">#release</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/zig/">#zig</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>