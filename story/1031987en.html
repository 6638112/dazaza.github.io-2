<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Raspberry PI 3和4 Web服务器的页面加载时间比较</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Raspberry PI 3和4 Web服务器的页面加载时间比较</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-29 20:25:00</div><div class="page_narrow text-break page_content"><p>I have been running a number of small, nearly-static websites on a Raspberry Pi 3B web server on a residential Internet connection for nearly two years. I have done this in part to prove that even individuals on tight budgets can enjoy the free speech benefits of running web servers at home. When the Raspberry Pi 4 was released for sale to the public a few months ago, I wondered if upgrading to a Raspberry Pi 4 might improve my page load speeds significantly. My guess from rough, back-of-the-envelope calculations was that I should only expect to see a 50 to 100 millisecond (ms) page load time reduction. Since I did not think that was sufficient justification for upgrading, I put any analysis of actual data on hold until I had another reason to buy a Raspberry Pi 4. Strangely, I have not found any performance comparisons of Raspberry Pi 3 and 4 web servers on the Internet. Actually, very few benchmarks of any Raspberry Pi web servers have been published.</p><p>近两年来，我一直在住宅互联网连接的Raspberry Pi 3B网络服务器上运行一些几乎静态的小型网站。我这样做在一定程度上是为了证明，即使是预算紧张的个人也可以享受在家中运行网络服务器带来的言论自由好处。几个月前，当Raspberry PI 4向公众发布时，我想知道升级到Raspberry PI 4是否会显著提高我的页面加载速度。根据粗略的计算，我猜测应该只会减少50到100毫秒(Ms)的页面加载时间。因为我不认为这是升级的充分理由，所以我搁置了对实际数据的任何分析，直到我有另一个理由购买Raspberry Pi 4。奇怪的是，我在互联网上没有找到Raspberry Pi 3和Raspberry PI 4 Web服务器的任何性能比较。实际上，几乎没有发布任何Raspberry PI Web服务器的基准测试。</p><p>  The lack of information about the Raspberry Pi&#39;s performance as a web server puzzles me, since I have found the Raspberry Pi 3 to be an excellent server for a static or nearly-static website. In fact, I have found it to be capable of handling quite an unexpectedly large volume of traffic. I have seen it dynamically compress and serve at a sustained 2.7 times per second a small webpage containing 8896 bytes of HTML (before compression) with 907 words of text visible in the reader&#39;s browser, 1666 bytes of CSS (before compression), a 17529 byte image file (no compression), and a small PHP visitor counting script. Serving 2.7 pages per second equates to serving 7 million pages per month! That should be more than enough to handle the visitor traffic for even a very popular static personal blog, as long as the blogger makes an effort to minimize the size of his webpages. I should also mention that my Raspberry Pi 3 web server runs the Lighttpd web server software, which has never crashed one of my websites due to heavy traffic. Consequently, I can highly recommend the Raspberry Pi 3 as a web server to just about anyone who is considering self-hosting a static website from home.</p><p>缺乏关于Raspberry Pi作为Web服务器的性能的信息让我感到困惑，因为我发现Raspberry Pi 3对于静态或接近静态的网站来说是一个很好的服务器。事实上，我发现它能够处理相当大的交通量。我见过它动态压缩一个包含8896字节超文本标记语言(压缩前)、1666字节的css(压缩前)、一个17529字节的图像文件(未压缩)和一个小的php访问量统计脚本的小网页，并以每秒2.7次的速度动态压缩和提供服务，其中907个字的文本在阅读器浏览器中可见，1666字节的css(压缩前)和一个小的php访问量统计脚本。每秒提供2.7页服务相当于每月提供700万页服务！即使是一个非常流行的静态个人博客，只要博主努力将他的网页大小降到最小，这就足以处理好访问量了。我还应该提一下，我的Raspberry Pi 3网络服务器运行的是Lighttpd网络服务器软件，它从未因为流量过大而导致我的网站崩溃。因此，我可以强烈推荐Raspberry Pi 3作为Web服务器，几乎所有正在考虑在家中自托管静态网站的人都可以使用它。</p><p>  This week, I finally acquired a Raspberry Pi 4B and decided to look at its performance as a web server by comparing it to my current Raspberry Pi 3B web server. I measured page load times with  Pingdom, which breaks down its page load times into the following time intervals.</p><p>本周，我终于买了一台Raspberry PI 4B，并决定将其作为Web服务器的性能与我目前的Raspberry PI 3B Web服务器进行比较。我使用Pingdom测量页面加载时间，它将页面加载时间分解为以下时间间隔。</p><p>              I choose to compare the performance of both web servers for the smallest and largest pages on one of my websites:</p><p>我选择比较其中一个网站上最小和最大页面的两个Web服务器的性能：</p><p>      Smallest Webpage:       Largest Webpage:          A 318 byte favicon also loads with both pages, which has not been included in the tables below for the sake of brevity.</p><p>最小的网页：最大的网页：两个页面都会加载一个318字节的图标，为简洁起见，下面的表格中没有包含该图标。</p><p>  Although my largest webpage contains about 13000 words that a visitor sees in his web browser, the sizes of my HTML files are smaller than on most other websites. My HTML files are relatively small, because I do not use Wordpress or other website creation software. Instead, I write my own HTML by hand. In addition to having smaller webpages, I also avoid becoming locked into any company&#39;s website creation software, which I feel is in my best interest in the long term.</p><p>虽然我最大的网页包含访问者在他的网络浏览器中看到的大约13000个单词，但我的超文本标记语言文件的大小比大多数其他网站都要小。我的HTML文件相对较小，因为我不使用Wordpress或其他网站创建软件。取而代之的是，我手写我自己的HTML。除了拥有较小的网页，我还避免被任何公司的网站创建软件所束缚，因为我认为从长远来看，这是我最感兴趣的。</p><p>  I chose to look at individual page load times without any consideration of simultaneous visitor connections. Except for a few traffic peaks due to the occasional popular article, most connections to my websites are not simultaneous. Therefore, Pingdom&#39;s individual page load times are representative of what most visitors to my websites actually see. Even during the large traffic spikes that I have so far seen on my websites, tests have shown that the page load speeds have not slowed significantly. This is probably because my server is constrained by Internet connection bandwidth, rather than CPU capability. In other words, the connection bandwidth is not high enough to allow enough traffic through to tax the Raspberry Pi 3&#39;s CPU.</p><p>我选择查看单个页面的加载时间，而不考虑同时访问的连接。除了少数几个流量高峰是由于偶尔的热门文章，大多数到我的网站的连接都不是同时进行的。因此，Pingdom的单个页面加载时间代表了我网站的大多数访问者实际看到的内容。即使在我目前为止在我的网站上看到的大流量高峰期间，测试也显示页面加载速度并没有明显放缓。这可能是因为我的服务器受限于Internet连接带宽，而不是CPU能力。换句话说，连接带宽不够高，不足以让足够的流量通过树莓PI3&#39；的CPU。</p><p>  Below, are the results that Pindgom gives for webpage load times. Three random runs of the smallest webpage and two random runs of the largest webpage are shown for both the Raspberry Pi 3 and the Raspberry Pi 4 web servers. A nice convenience is that both the Raspberry Pi 3 and the Raspberry Pi 4 can run on the same micro USB flash card that holds the Raspbian OS, the Lighttpd web server software, and the code for my websites. This simplifies the comparison of page load speeds.</p><p>下面是Pindgom给出的网页加载次数的结果。对于Raspberry PI 3和Raspberry PI 4网络服务器都示出了最小网页的三次随机运行和最大网页的两次随机运行。一个非常方便的地方是，Raspberry Pi 3和Raspberry Pi 4都可以在同一张微型USB闪存卡上运行，该闪存卡包含Raspbian操作系统、Lighttpd网络服务器软件和我网站的代码。这简化了页面加载速度的比较。</p><p>                                         Let&#39;s consider the implications of the data in the above tables. Adding up the individual times for DNS, SSL, connect, send, wait, recieve, and blocked gives larger numbers than the corresponding page load times. So, it is not clear at what point Pingdom considers a page to have been fully loaded. Regardless, the numbers can be compared for both web Servers, and small differences are readily apparent.</p><p>让我们考虑一下以上表格中数据的含义。将DNS、SSL、CONNECT、SEND、WAIT、RECEIVE和BLOCKED的时间相加得到的数字大于相应的页面加载时间。因此，目前还不清楚Pingdom在什么时候认为一个页面已经完全加载。无论如何，可以对这两个Web服务器的数字进行比较，细微的差异很明显。</p><p>  Another thing to consider is the increased efficiency of the Lighttpd web server during high-traffic periods. The load time for the smallest page on my web site is 393 ms (or more than 464 ms to fully load, based on the sums of the times in the table). This equates to 2.54 page loads per second. The fact that more than 2.7 pages per second have been observed for a webpage containing significantly more data reveals an increase in efficiency during high-traffic periods. Based on my observations at times of high traffic, it appears that when a high traffic volume is experienced, the Lighttpd software holds the compressed webpage files in RAM while while sending them to multiple website visitors. This relieves it of the burden associated with reading files from the microSD card and compressing them each time it sends them to a new visitor.</p><p>另一件要考虑的事情是Lighttpd Web服务器在高流量期间的效率提高。我的网站上最小页面的加载时间是393ms(根据表中的时间总和，完全加载的时间超过464ms)。这相当于每秒加载2.54个页面。对于包含明显更多数据的网页，已经观察到每秒超过2.7页的事实表明在高流量期间效率提高。根据我在高流量时的观察，似乎当经历高流量时，Lighttpd软件将压缩的网页文件保存在RAM中，同时将它们发送给多个网站访问者。这减轻了它从microSD卡读取文件并在每次将文件发送给新访问者时对其进行压缩所带来的负担。</p><p>  Given the small number of samples, one should expect a significant sampling error. However, my goal was to get a general idea of what to expect, not exact statistics.</p><p>考虑到样本数量很少，应该会有很大的抽样误差。然而，我的目标是获得一个大致的预期，而不是准确的统计数据。</p><p>  Some of the numbers are fairly consistent across all runs and both servers, and some vary with the size of the webpage. The most noticeable details are that the times for SSL, connect, and send are relatively consistent for all five runs and both web servers. Though SSL and connect are smaller for the Raspberry Pi 4, they are consistently smaller. The wait times vary more. And of course, the receive times are a function of the amount of data that must be uploaded and the Internet connection bandwidth.</p><p>有些数字在所有运行和两个服务器上都相当一致，有些则随网页的大小而不同。最值得注意的细节是，对于所有五次运行和两个Web服务器，SSL、连接和发送的时间相对一致。尽管Raspberry PI 4的SSL和CONNECT较小，但它们始终较小。等待时间差别更大。当然，接收时间是必须上传的数据量和互联网连接带宽的函数。</p><p>  Note that the upload bandwidth of my server&#39;s Internet connection is relatively low. According to my ISP, it varies between 0.5 and 1 Mbit/s. This is what many residential customers in the United States are relegated to. While this is unfortunate, my Raspberry Pi 3 server has adequately served a number of small websites at the same time with occasional large traffic peaks, because I have stringently minimized the size of every webpage. Minimization of all of my webpages has produced compact webpages with a fair amount of text that a visitor can see in his browser. My average webpage contains something like 2000 words that are visible in the browser. The size of my average HTML page is around 16.5 KB.</p><p>请注意，我的服务器的互联网连接的上传带宽相对较低。据我的ISP说，速率在0.5Mbit/s到1Mbit/s之间，这是美国许多住宅客户的归类。虽然这是不幸的，我的Raspberry Pi 3服务器已经足够同时服务于一些小网站，偶尔会出现大的流量峰值，因为我已经严格地最小化了每个网页的大小。最小化我的所有网页产生了紧凑的网页，访问者可以在他的浏览器中看到相当多的文本。我的网页平均包含大约2000个单词，这些单词在浏览器中是可见的。我的HTML页面的平均大小约为16.5KB。</p><p>  Pingdom gives a choice of locations on the planet from which to measure page load times. I chose a location that is less than a thousand miles from my server. Though I have not confirmed it, I believe that the  differences in page load times between between Raspberry Pi 3 and 4 servers should not be affected by the distance of the user from the server. The reason is that data transmission delays due to distance will be the same for both servers.</p><p>Pingdom提供了在地球上测量页面加载时间的位置选择。我选择了一个距离服务器不到一千英里的位置。虽然我没有证实这一点，但我相信Raspberry PI 3和4服务器之间的页面加载时间差异应该不会受到用户与服务器的距离的影响。原因是两台服务器由于距离导致的数据传输延迟是相同的。</p><p>  Below, are the differences between the average times of the five runs of the Raspberry Pi 4 server and the average times of the five runs of the Raspberry Pi 3 server. I have shown three average wait time differences: one for HTML, one for CSS, and one for the image file. The averages for the HTML and CSS were taken over three runs, and the averages for the image file were taken over two runs.</p><p>下面是Raspberry PI 4服务器五次运行的平均时间与Raspberry PI 3服务器五次运行的平均时间之间的差异。我已经展示了三个平均等待时间差异：一个是HTML，一个是CSS，还有一个是图像文件。HTML和CSS的平均值超过三次，图像文件的平均值超过两次。</p><p>                Though I made no effort to perform a rigorous analysis, based on the above numbers, my guess is that for a bandwidth-constrained website with minimised HTML file sizes, the true difference in the average time for a user&#39;s browser to fully load a webpage being served by a Raspberry Pi 4 server should be somewhere between 90 and 130 milliseconds less than the average time to fully load the same page being served by a Raspberry Pi 3 server. Larger webpages lead to larger wait time reductions, thus, to larger page load time improvements. Therefore, whether the page load time improvements will be significant for a particular website may depend on the sizes of the webpages being served. For my website, which requires somewhere between about 450 ms and about 1500 ms to fully load a page, the difference between the Raspberry Pi 3 and the Raspberry Pi 4 is significant but less than substantial. I realize these are nebulous terms. What I mean by them is that I have not yet decided whether to upgrade my web server to a Raspberry Pi 4. If a reader would like to argue with the accuracy of my results or the interpretation of their meaning, I invite him to perform his own analysis and publish the results. I am sure many people who are interested in the possibility of running web servers from their homes would benefit from more available information about the performance of Raspberry Pi servers.</p><p>尽管我没有努力进行严格的分析，但基于上述数字，我猜测，对于一个HTML文件大小最小化、带宽受限的网站，用户浏览器完全加载Raspberry Pi 4服务器提供的网页的平均时间，应该比完全加载Raspberry PI 3服务器提供的相同页面的平均时间少90至130毫秒。较大的网页会导致较大的等待时间减少，从而带来较大的页面加载时间改进。因此，对于特定网站，页面加载时间的改善是否显著可能取决于所服务的网页的大小。对于我的网站来说，需要大约450毫秒到大约1500毫秒的时间才能完全加载一个页面，树莓PI 3和树莓PI 4之间的差异是显著的，但不是很大。我意识到这些都是模糊不清的术语。我的意思是，我仍未决定是否将我的伺服器升级为Raspberry Pi 4，如果有读者想争论我的结果是否准确，或如何理解我的结果，我请他自行分析，然后将结果公布。我相信，许多对在家中运行Web服务器感兴趣的人都会从更多关于Raspberry PI服务器性能的可用信息中受益。</p><p>  If you have found this article worthwhile, please share it on your favorite social media. You will find links at the top of the page.</p><p>如果你觉得这篇文章很值得，请把它分享到你最喜欢的社交媒体上。您将在页面顶部找到链接。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://cheapskatesguide.org/articles/raspberry-pi-3-4-web-server.html">https://cheapskatesguide.org/articles/raspberry-pi-3-4-web-server.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/服务器/">#服务器</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/load/">#load</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/时间/">#时间</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>