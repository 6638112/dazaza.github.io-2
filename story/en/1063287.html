<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Fedora与Red Hat Enterprise Linux共同混合其源码包 Fedora co-mingles its source packages with Red Hat Enterprise Linux</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Fedora co-mingles its source packages with Red Hat Enterprise Linux<br/>Fedora与Red Hat Enterprise Linux共同混合其源码包 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-04 01:33:51</div><div class="page_narrow text-break page_content"><p>In the RPM package management world, the  source RPM is whatpackages are built from and the source RPM&#39;s  specfile is whatdescribes how to build the binary RPMs (in addition to other packagemetadata). For a specific and relevant example, the Fedora specfilefor the   kmodRPM is what says (or  used to say) that the weak-modules script should be added to the binary RPM, althoughit&#39;s not in  the upstream source and this created a DKMS problem.</p><p>在RPM包管理世界中，源RPM是由WhatPackages构建的，源RPM＆＃39; s specfile是如何构建二进制RPMS的原因（除其他PackageMetadata）。对于特定和相关的示例，Fedora specfileforfor kmodrpm是什么（或常常说）应该将弱模块脚本添加到二进制RPM，虽然不是在上游来源中，但这会产生DKMS问题。</p><p> However, this is a somewhat incomplete and misleading descriptionof the real problem. The underlying issue was that calling it &#39;theFedora kmod specfile&#39; is not really accurate. In reality, the Fedorasource RPM for the kmod RPM (and thus the specfile) was also the(future) Red Hat Enterprise Linux source RPM and specfile for kmod.The  weak-modules script comes from RHEL and is (probably) usefulthere, but because Fedora uses the same specfile, it was blindlyshipped in Fedora as well.  The actual fix to remove  weak-modulesdoesn&#39;t remove it from the specfile entirely but adds more complexityto make it conditional.</p><p> 然而，这是一个真正问题的一个有点不完整和误导性的描述。潜在的问题是调用它＆＃39; thefedora kmod specfile＆＃39;不是真的准确。实际上，对于kmod rpm的Fedorasource rpm（以及specfile）也是（未来）Red Hat Enterprise Linux源RPM和Specfile for kmod.弱模块脚本来自rhel，是（可能）有用，但是因为Fedora使用相同的Specfile，它也是Fedora的盲目性。实际修复以删除弱模块＆＃39; t完全从specfile中删除它，但增加了更多的复杂性使其有条件。</p><p> (Since it&#39;s specifically excluded only on Fedora, a Fedora-deriveddistribution will have to modify this specfile. If the distributionnotices, and if it doesn&#39;t already pretend to be Fedora for packagebuilding purposes, since this probably isn&#39;t the only such specfile.)</p><p> （因为它只在Fedora上专门排除在Fedora以来，Fedora-DrivedDistribution必须修改这个Specfile。如果是分发Nootices，如果它已经假装是包裹包装的宗旨，因为这可能是isn＆＃ 39; t唯一的这样的specfile。）</p><p> This kmod issue illustrates at least one potential problem withthis dual usage of specfiles. Fedora and Red Hat Enterprise Linuxare not the same thing, so there are undoubtedly other places whereRHEL packaging needs diverge from Fedora packaging ones. At themoment it&#39;s up to package maintainers to manually identify suchplaces and deal with them in some way. If they don&#39;t, one or theother of Fedora and RHEL will have issues. If people are lucky,those will be immediate and obvious and will be fixed. Otherwise,you get something like  my problem.</p><p> 此kmod问题说明了标识文件的双重使用至少一个潜在问题。 Fedora和Red Hat Enterprise Linuxare不同样的事情，所以无疑是其他地方，后者封装需要从Fedora包装的偏离。在Themoment＆＃39; s＆＃39; s ob to package维护者手动识别如下方式并以某种方式处理它们。如果他们没有，其中一个或特许的Fedora和Rhel会有问题。如果人们很幸运，那些将立即和明显，并将是固定的。否则，你得到了像我的问题一样的东西。</p><p> This situation is unfortunately probably unavoidable because inpractice, Fedora is not an independent distribution; instead it&#39;san arm of Red Hat Enterprise Linux. Red Hat (now IBM) originatedwhat became Fedora, uses Fedora as the base for RHEL, significantlyfunds Fedora, and still hosts important resources for it (Fedorabugs are reported to  bugzilla.redhat.com,for example). Red Hat has no interest in spending the effort tomaintain two independent sets of source RPMs and RPM specfiles.</p><p> 不幸的是，这种情况可能是不可避免的，因为志愿者，Fedora不是一个独立的分布;相反，它＆＃39;红帽企业Linux的San Arm。 Red Hat（现在IBM）发起了Fedora，使用Fedora作为Rhel的基础，优势优势Fedora，并且仍然托管其重要资源（Fedorabugs向Bugzilla.redhat.com报告）。 Red Hat对Tomaintain两组独立RPM和RPM SpecFiles的努力开展努力。</p><p> (This situation isn&#39;t the same as Debian and Ubuntu. Ubuntu usesDebian&#39;s packaging work, but Ubuntu&#39;s changes for their own needsdon&#39;t automatically wind up in Debian.)</p><p> （这种情况不是与Debian和Ubuntu相同的。Ubuntu使用了Debian＆＃39; ubuntu＆＃39; ubuntu＆＃39;在Debian中自动结束的改变。）</p><p> PS: I believe it&#39;s relatively rare that the latest RHEL and Fedorawill have the same version of a package, so it&#39;s probably usuallynot the case that the source RPM is the same on both. Instead, theRHEL package most likely started off as some older version of theFedora package, so we can informally say that they use the samesource RPM and specfile.</p><p> PS：我相信它的＆＃39;最新的Rhel和联邦途径具有相同的包装版本，所以它可能通常不会像源RPM在两者上相同的情况一样。相反，它可能很可能开始作为一些旧版的Fedora包，因此我们可以非正式地说他们使用Samesource RPM和Specfile。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://utcc.utoronto.ca/~cks/space/blog/linux/FedoraRPMSpecsAndRHEL">https://utcc.utoronto.ca/~cks/space/blog/linux/FedoraRPMSpecsAndRHEL</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/源码/">#源码</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/mingles/">#mingles</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/fedora/">#fedora</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>