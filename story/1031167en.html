<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>使用FOIA数据和Unix将停车罚单的主要来源减半(2018年)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">使用FOIA数据和Unix将停车罚单的主要来源减半(2018年)</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-26 08:20:53</div><div class="page_narrow text-break page_content"><p>This&#39;ll be my first blog post on the internet, ever. Hopefully it&#39;s interesting and accurate. Please point out any mistakes if you see any!</p><p>这将是我在互联网上发表的第一篇博客文章。希望它是有趣和准确的。如果你看到任何错误，请指出！</p><p> In 2016, I did some work in trying to find some hotspot areas for parking tickets to see if a bit of data munging could reduce those area&#39;s parking tickets. In the end, I only really got one cleaned up, but it was  one of the most-ticketed spots in all of Chicago and led to about a 50% reduction in parking tickets.</p><p>2016年，我做了一些工作，试图找到停车罚单的热点地区，看看一点点数据是否可以减少这些地区的停车罚单。最后，我只清理了一个，但它是芝加哥所有罚单最多的地方之一，导致停车罚单减少了大约50%。</p><p>   The system Chicago uses to store its parking tickets is called CANVAS. It&#39;s short for &#34;City of Chicago Violation, Noticing and Adjudication Business Process And System Support&#34; [sic] and managed by IBM. Its most recent contract started in 2012, expires in 2022, and has a pricetag of over $190 million.</p><p>芝加哥用来存储停车罚单的系统被称为Canvas。它是芝加哥市违规、通知和裁决业务流程和系统支持的缩写，由IBM管理。它最近的一份合同始于2012年，将于2022年到期，标价超过1.9亿美元。</p><p> Most of Chicago&#39;s contracts and their Requests For Procurement (RFP) PDFs are published online. In CANVAS&#39;s contracts it gives a fair amount of info on CANVAS&#39;s backend infrastructure, including the fact that it uses Oracle 10g. In other words, a FOIA request can be fulfilled by IBM running some simple SQL.</p><p>芝加哥的大部分合同及其采购请求(RFP)PDF都在网上发布。在Canvas的合同中，它提供了相当多关于Canvas后端基础设施的信息，包括它使用Oracle 10g的事实。换句话说，可以通过IBM运行一些简单的SQL来满足FOIA请求。</p><p>  With that information at hand, and a couple failed FOIA requests later, I sent this request to get the parking ticket data from Jan 1, 2009 to Mar 10, 2016:</p><p>有了这些信息，以及后来几个失败的信息自由法请求，我发出了以下请求，以获取2009年1月1日至2016年3月10日的停车罚单数据：</p><p> &#34;Please provide to me all possible information on all parking tickets between 2009 and the present day. This should include any information related to the car (make, etc), license plate, ticket, ticketer, ticket reason(s), financial information (paid, etc), court information (contested, etc), situational (eg, time, location), and photos/videos. Ideally, this should also include any relevant ticket-related information stored within CANVAS.</p><p>请向我提供2009年至今所有停车罚单的所有可能信息。这应包括与汽车(制造商等)、车牌、罚单、票务、罚单原因、财务信息(已支付等)、法庭信息(有争议等)、情况(例如，时间、地点)和照片/视频相关的任何信息。理想情况下，这还应该包括存储在Canvas中的任何与票证相关的信息。</p><p>      About a month later, a guy named Carl (in a fancy suit), handed me a CD with some  extremely messy data in a semicolon delimited file named  A50462_TcktsIssdSince2009.txt. The file had info on 17,806,818 parking tickets and spans from Jan 1, 2009 to Mar 10, 2016.</p><p>大约一个月后，一个叫Carl的家伙(穿着花哨的西装)递给我一张CD，里面有一些极其混乱的数据，其中有一个分号分隔的文件，名为A50462_TcktsIssdSince2009.txt。该文件包含2009年1月1日至2016年3月10日期间17,806,818张停车罚单和跨度的信息。</p><p>  head -5 A50462_TcktsIssdSince2009.txtTicket Number;License Plate Number;License Plate State;License Plate Type;Ticket Make;Issue Date;Violation Location;Violation Code;Violation Description;Badge;Unit;Ticket Queue;Hearing Dispo39596087;zzzzzz;IL;PAS;VOLV;03/03/2003 11:25 am;3849 W CONGRESS;0976160F;EXPIRED PLATES OR TEMPORARY REGISTRATION;11870;701;Paid;40228076;zzzzzz;IL;TRK;FORD;03/01/2003 12:29 am;3448 N OKETO;0964170A;TRUCK,RV,BUS, OR TAXI RESIDENTIAL STREET;17488;016;Define;40480875;zzzzzz;IL;PAS;PONT;03/01/2003 09:45 pm;8135 S PERRY;0964130;PARK OR BLOCK ALLEY;17575;006;Notice;40718783;zzzzzz;IL;PAS;ISU;03/02/2003 06:02 pm;6928 S CORNELL;0976160F;EXPIRED PLATES OR TEMPORARY REGISTRATION;7296;003;Paid;Liable</p><p>Head-5 A50462_TcktsIssdSince2009.txt票号；车牌号码；车牌状态；车牌类型；罚单制作；发放日期；违章位置；违章代码；违章描述；徽章；单位；罚单队列；听力显示39596087；zzzz；IL；PAS；volv；03/03/200311：25 am；3849W Congress；0976160F；过期车牌或临时REGISTRATION；11870；701；Paid；40228076；zzzzzz；IL；TRK；FORD；03/01/2003 12：29 am；3448N OKETO；0964170A；卡车、房车、公交车或出租车或居民街；17488；016；定义；40480875；zzzz；IL；PAS；Pont；03/01/200309：45 pm；8135S Perry；0964130；Park or block ALLEY；17575；006；Notice；40718783；zzzzzz；IL；PAS；ISU；03/02/2003 06：02 pm；6928S Cornell；0976160F；过期车牌或临时登记；7296；003；已支付；有责任</p><p>   What that amounts to is an extremely, extremely messy and unpredictable dataset that&#39;s incredibly to difficult to accurately map to lat/lon, which is needed for any sort of comprehensive GIS analysis. There are a bunch of geocoder services that can help out here, but most of them have about a 50% accuracy rate. That said, with the help of a bit of scrubbing, that number can be boosted to closer to 90%. Another post for another time.</p><p>这相当于一个极其混乱和不可预测的数据集，很难准确地映射到经度/经度，这是任何类型的综合GIS分析所必需的。有很多地理编码器服务可以在这方面提供帮助，但它们中的大多数都有大约50%的准确率。也就是说，在稍微擦洗一下的帮助下，这一数字可以提高到接近90%。另一个帖子换个时间。</p><p>    I was particularly interested in finding areas that had hotspot areas that stood out. A lot of my time was spent just throwing hacky code at the problem and eventually wrote out two series of (hacky) commands that led to identifying a potentially fixable spot.</p><p>我特别感兴趣的是寻找那些有突出热点的地区。我花了很多时间来解决这个问题，并最终编写了两系列(繁琐的)命令，以确定一个潜在的可修复位置。</p><p> Originally, the work and analysis I was doing was with a combination of unix commands and gnuplot. Since then, I&#39;ve migrated my code to python + matplotlib + SQL. But, for the sake of this blog, I wanted to show the original analysis.</p><p>最初，我所做的工作和分析是使用Unix命令和gnplot的组合。从那时起，我已经将我的代码迁移到python+matplotlib+sql。但是，为了这个博客，我想展示一下最初的分析。</p><p>  $ mawk -F&#39;;&#39; &#39;{print $7}&#39; all_tickets.orig.txt | sed -r &#39;s/^([0-9]*)[0-9][0-9] (.*)/\100 \2/&#39; | sed -r &#39;s/ (BLVD|ST|AV|AVE|RD)$//&#39; | sort | uniq -c | sort -nr 79320 1900 W OGDEN  60059 1100 N STATE 50594 100 N WABASH 44503 1400 N MILWAUKEE 43121 1500 N MILWAUKEE 43030 2800 N BROADWAY 42294 2100 S ARCHER 42116 1900 W HARRISON</p><p>$Mawk-F&39；；&#39；&#39；{print$7}&#39；all_tickets.Orig.txt|sed-r&#39；s/^([0-9]*)[0-9][0-9](.*)/\100\2/&#39；|sed-r&#39；s/(Blvd|ST|AV|ave|RD)$//&#39；|SORT|uniq-c|SORT-nr 79320 1900W奥格登60059 1100N州50594 100N沃巴什44503 1400N密尔沃基43121 1500N密尔沃基43030 2800N百老汇42294 2100S弓箭手42116 1900W哈里森。</p><p>  $ mawk -F&#39;;&#39; &#39;{print $9,$7}&#39; A50462_TcktsIssdSince2009.txt | sed -r &#39;s/ (BLVD|ST|AV|AVE|RD)$//&#39; | sort --parallel=4 | uniq -c | sort -nr12510 EXPIRED PLATES OR TEMPORARY REGISTRATION 5050 W 55TH 9636 PARKING/STANDING PROHIBITED ANYTIME 835 N MICHIGAN 8943 EXPIRED PLATES OR TEMPORARY REGISTRATION 1 W PARKING LOT A 6168 EXPIRED PLATES OR TEMPORARY REGISTRATION 1 W PARKING LOT E 5938 PARKING/STANDING PROHIBITED ANYTIME 500 W MADISON  5663 PARK OR STAND IN BUS/TAXI/CARRIAGE STAND 1166 N STATE 5527 EXPIRED METER OR OVERSTAY 5230 S LAKE PARK 4174 PARKING/STANDING PROHIBITED ANYTIME 1901 W HARRISON 4137 REAR AND FRONT PLATE REQUIRED 1 W PARKING LOT A</p><p>$Mawk-F&39；；&#39；{打印$9，$7}&#39；A50462_TcktsIssdSince2009.txt|sed-r&39；s/(Blvd|ST|AV|AVE|RD)$//&#39；|SORT--PARALLEL=4|uniq-c|SORT-nr12510过期车牌或临时登记5050 W 55 9636任何时候禁止停车/站立835 N密歇根州8943个过期车牌或临时登记1 W停车场A 6168个过期车牌或临时登记1 W停车场E 5938随时禁止停车/站立500 W麦迪逊5663公园或公共汽车/出租车/车厢站台1166 N州5527个过期计价器或超期停留5230 S Lake Park 4174随时禁止停车/站立1901 W哈里森4137前后车牌要求1 W停车场A。</p><p> Both bits of code roughly show that there&#39;s something going on at 1100N state street, and 1166 N State St looks particularly suspicious..</p><p>这两段代码都粗略地显示出1100N道德街发生了什么事，1166N道德街看起来特别可疑。</p><p>    This is a taxi stand from 7pm to 5am for three cars’ lengths. Parking in a taxi stand is a $100 ticket.</p><p>这是一个出租车站，从晚上7点到早上5点，有三辆车的长度。在出租车站停车是100美元的罚单。</p><p> When this spot isn’t a taxi stand, it’s metered parking – for a parking meter beyond an alleyway.</p><p>当这个地方不是出租车站时，它就是计价器停车--在巷子后面的停车计价器。</p><p> It’s possible to pay for parking here after 7pm, which makes it look like parking is acceptable – especially with the “ParkChicago” sign floating there.</p><p>在这里停车可以在晚上7点以后付费，这让停车看起来是可以接受的-特别是在那里漂浮着“芝加哥公园”的标志的情况下。</p><p> Confusion creates more confusion – if one car parks there, then more cars follow. Cha-ching.</p><p>混乱会造成更多的混乱--如果一个停车场停在那里，那么就会有更多的车跟在后面。恰恰。</p><p>  With all that in mind, I contacted the second ward’s alderman’s office on April 12 explaining this, and got back this response:</p><p>考虑到这一切，我在4月12日联系了第二选区的市议员办公室，解释了这一点，并得到了以下回复：</p><p>   In the interim, I highly recommend that you do not park there to avoid any further tickets.</p><p>在此期间，我强烈建议您不要在那里停车，以免再开罚单。</p><p>      I don&#39;t know if you noticed the additional signage installed on State Street at the 3 Taxi Stand.</p><p>我不知道你有没有注意到道富银行在3号出租车站台上安装了额外的交通指示牌。</p><p>      The new taxi stand sign sets a boundary for a previously unbounded taxi stand. The No Parking sign explicitly makes it clear that parking here during taxi stand hours is a fineable offense. Neat!</p><p>新的的士站标志为一个以前没有边界的的士站划定了边界。禁止停车的标志清楚地表明，在出租车停靠站时间内在这里停车是一种可罚款的违法行为。干净利落！</p><p>   I recently decided to look at the number of tickets at that spot. Armed with a new set of data from another FOIA request, I did some analysis with python, pandas, and SQL. What I found is that the addition of a new sign effectively led to a 50% reduction in parking tickets between 1150 and 1200 N State St. Adding it all up, that&#39;s about 400 tickets fewer in 2017 and 200 so far in 2018 compared to 2016. All in all, that&#39;s about $60,000 worth in parking tickets!</p><p>我最近决定看看那个地方的门票数量。利用来自另一个FOIA请求的一组新数据，我使用Python、PANAS和SQL进行了一些分析。我发现，新标志的增加有效地导致1150至1200州立大街之间的停车罚单减少了50%。与2016年相比，2017年减少了约400张罚单，2018年到目前为止减少了200张。总而言之，那是价值6万美元的停车罚单！</p><p>     All in all, the number of parking tickets is going up in Chicago, and this work shows that  something can be done, even if small.</p><p>总而言之，芝加哥的停车罚单数量正在上升，这项工作表明，即使是很小的事情，也是可以做的。</p><p>  This work is only on one small section of road, but I&#39;m convinced that similar work can be on a systematic scale. It&#39;s mostly just a matter of digging through data and working directly with each ward.</p><p>这项工作只在一小段道路上进行，但我相信类似的工作也可以在系统的范围内进行。这在很大程度上只是一个挖掘数据并直接与每个病房合作的问题。</p><p> The later analysis done here was also only done on the most recent dataset that the Department of Revenue they gave me. The two datasets have a different set of columns, so the two datasets need to be combined still. I hope to accomplish that soon!</p><p>这里后面的分析也是根据税务局给我的最新数据集进行的。这两个数据集有一组不同的列，因此这两个数据集仍然需要组合。我希望能尽快做到这一点！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://mchap.io/using-foia-data-and-unix-to-halve-major-source-of-parking-tickets.html">https://mchap.io/using-foia-data-and-unix-to-halve-major-source-of-parking-tickets.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/foia/">#foia</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/data/">#data</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/罚单/">#罚单</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>