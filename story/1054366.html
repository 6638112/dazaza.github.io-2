<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>以太网和IP网络101 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">以太网和IP网络101 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-26 19:46:50</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/05fee8f6943c1f011246e0a8ea01dee2.png"><img src="http://img2.diglog.com/img/2021/3/05fee8f6943c1f011246e0a8ea01dee2.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>作为软件工程师，我现在需要每次处理网络，然后是配置SOHO网络，设置容器网络，或在数据中心服务器之间进行故障排除。域名非常广泛，术语可以快速变得非常令人困惑。这篇文章是我的外行＆＃39;尝试使用最小单词和最大图纸对基本事物进行排序。主要焦点将位于以太网的有线网络的数据链路层（OSI L2），其中以太网是国王。但是我也会略微触动它的邻居。</p><p>  LAN（局域网） -  [广泛]一种计算机网络，可在有限区域内互连计算机，例如居住，学校，办公楼或数据中心。 LAN不限于单个IP子网。与任何WAN一样，LAN可以包括通过路由器通信的多个IP网络。 LAN的主要决定因素是参与者的位置（即接近），而不是L3拓扑。</p><p>  网络链路 - 用于互连网络中的[任何类型]节点的物理和逻辑网络组件。单个网络链路的所有节点都使用相同的链路层协议。示例：一堆连接到网络交换机（以太网）的计算机;一堆连接到Wi-Fi接入点（非以太网）的智能手机。</p><p>  网络段 -  [广泛]计算机网络的一部分。该段的实际定义是特定于技术的（见下文）。</p><p>  L1段（AKA物理段，AKA以太网段） - 由使用共享介质的网络设备之间的电（或光学）连接形成的网段。单个L1段上的节点具有常见的物理层。</p><p> 在以太网的早期时期，一堆连接到共享同轴电缆的计算机正在形成物理段（所谓的总线拓扑）。同轴电缆作为多个节点之间的共享介质。由段的所有其他节点都看到了一个节点发送的一切。因此，节点正在形成单个广播域（这是👌）。由于多个节点可以通过单个电缆同时发送帧，因此可能发生碰撞。因此，L1段形成单个碰撞结构域（这是👎）。</p><p>  作为以太网技术的演变，连接到共同中继器枢纽的双绞线替换了共享同轴电缆（所谓的星形拓扑）。当集线器中的一个节点上的节点是传输帧时，它们已从集线器的所有其他端口重传。帧的重传是如此，即，没有发生修改或过滤（集线器是漂亮的哑装置）。连接到集线器的所有节点仍在形成单个L1段（因此，单个广播域👌，因此单个碰撞域👎）。 </p><p>在现代的日子里，明星拓扑是普遍存在的。但是，中继器集线器已被更先进的网络交换机设备（AKA桥）所取代。将L1段事实上还原为端节点和开关（或开关和另一个开关）之间的单个点对点链路。由于物理链路上只有两个节点，因此潜在的碰撞域变小。实际上，大多数现代布线都是全双工，所以碰撞根本不能简单地发生好奇，发生在广播域中的事情？然后继续阅读！</p><p>  当代L1段的另一个例子是经由贴片或交叉电缆的两个端节点之间的点对点连接。</p><p>   碰撞域 - 由共享介质或通过中继器连接的网络段，其中同时数据传输彼此碰撞。因此，碰撞域更差。如今，碰撞域在无线（即非以太网）网络中是常见的，而在以太网网络中常见的那一天则虽然回到以太网（见什么是L1段）。</p><p>    L2段 - 使用共享开关（AKA桥）或（稍微递归）的多个L1段互连，多个L2段由上层开关*合并到更大的L2段中，其中节点可以使用它们的L2地址（MAC）彼此通信或通过广播框架。</p><p>     如果L1段是关于节点的物理连接，则L2段是逻辑连接。 1：1和1：数据链路层提供的所有寻址对于高层协议（ARP，IP等）实现至关重要。请参阅以下部分中的实验室。</p><p>    广播域 - 单个L2段的所有节点，即，可以使用广播L2地址互相访问的节点（FF：FF：FF：FF：FF：FF）。请参阅IP网络部分以了解L2广播域如何由较高的图层使用。</p><p> 在以太网的早期，通过物理互连的节点形成碰撞域和广播域。 IE。典型的广播域将由L1段的所有节点组成，并且这种广播域将等于底层的碰撞域。但是，如果碰撞域是节点直接互连的不幸副产品，则这种互连的广播能力派上派上派上。因此，与碰撞的历史斗争没有影响广播域的边界。 </p><p>利用透明桥的发明，可以通过使用网络交换机桥接多个L1段来扩展广播域而不扩展碰撞域。如今，互连交换机的分层拓扑用于形成多千个主机广播域。</p><p>  通常，L3路由器形成广播域的边界。然而，VLAN可以被配置为将单个L2段分成多个非相交L2段，因此 - 广播域。</p><p>   VLAN  -  [广泛]在数据链路层（L2）处划分和隔离的任何广播域。在技​​术上，VLAN是一种用一些整数ID（所谓的视频）标记单个L2段的以太网帧的机制。</p><p>  具有不同ID的帧逻辑上属于不同的网络。这将创建网络流量的外观和功能，该网络流量在单个网段上物理地进行，但当它在单独的网络段之间分开。 VLAN可以保持网络应用程序尽管连接到相同的物理（或虚拟）网络。</p><p>   VLAN技术可以看作与桥接相反。桥梁将多个L2段（和广播域）合并到一个更大的L2段中。 VLAN分开单个L2段（可能通过将多个较小L2段桥接到多个非交叉L2段（和广播域）。</p><p>   通知，这对这一点来说，我们曾经谈过IP（L3）寻址。单个L2段内的通信仅需要MAC（L2）地址。我们知道，当节点发出具有特定目的地MAC地址的帧时，它＆＃39; LL由底层L2网络装置传送到目标节点。此外，任何节点都可以使用目标MAC FF发出广播帧：FF：FF：FF：FF：FF和IT＆＃39; LL被传送到其L2段的所有节点。但是，节点如何通过其IP地址到达另一个节点（在同一L3段）？</p><p>  首先是作为以太网帧发送到以太网帧的IP数据包（假设使用的第2层协议是以太网，当然）。 IE。 IP协议数据单元（数据包）封装在以太网协议数据单元（帧）中。 </p><p>因此，在L3段内发送IP分组的任务归结为向L2段中的IP分组发送以太网帧和拥有该目的地IP的节点。因此，发送节点首先需要了解接收节点＆＃39; s MAC地址。因此，需要某种L3（IP）到L2（MAC）地址转换机制。这通常由邻居发现协议（IPv4和IPv6的NDP的ARP）来完成，其依赖于L2广播能力。</p><p> 当不知道IP到MAC翻译时，发送节点将广播L2帧发送具有像＆＃34的查询;谁有IP 192.168.38.12 ?&#34;期望从该IP的所有者那里回到点对点的L2响应。此类响应显然将包含具有所请求的IP的节点的MAC地址。一旦发件人节点已知目的地MAC地址，它就会将IP数据包包装到注定该MAC地址的L2帧中。因此，L3段大致依赖于底层L2段能力。</p><p>  L3和L2段边界之间存在有趣的关系。它非常常见的是L3和L2段的1：1映射。然而，技术上，没有任何东西可以防止我们通过单个L2广播域具有多个L3段。</p><p>  如果需要更严格的隔离，则VLAN可以被配置为将L2段分成多个非交叉广播域。</p><p>  有趣的是，在某些（相当特殊的）案例中，单个L3段可以通过通过路由器互连的多个L2段配置单个L3段。该技术称为代理ARP，它被记录在（相当日期）RFC 1027中。</p><p>    当节点想要向驻留在另一个L3段（IP子网）中的节点发送IP数据包时，需要将该数据包发送到网关路由器。由于节点只能直接与来自同一L2段的其他节点通信，因此路由器和＃39的一个接口必须驻留在发件人＆＃39; s l2段上。路由器的IP地址可以从路由表中获得每个节点应该被配置。因此，数据包发送过程与上述相同相同，而不是将带有包裹的IP数据包指定到最终目标＆＃39; S MAC地址（这可能几乎可以为发件人已知），而是通过它到路由器。路由器通常连接到多个网络段。因此，当路由器获取这样的框架时，它会使用其其他接口之一揭开它并重新发送底层的IP数据包。 IE。每个路由器的下一跳路由器必须驻留在路由器直接连接到的L2段中的一个。</p><p>   在某种程度上，VLAN可以被视为覆盖网络。 IE。 VLAN允许人们在现有网段之上创建多个虚拟段。但是，存在一些重大限制。 VLAN假设已经下面有一个广播域，所以它＆＃39; ll通过标记帧将其分成多个子域。此外，不能超过4096个VLAN共享相同的底层L2段。只需12个备用位，以以太网帧格式编码VLAN ID字段。 </p><p>VXLAN技术还从现有网络创建虚拟广播域。所以，它也是一种覆盖网络。然而，它以完全不同的方式确实如此。 VXLAN表示所有参与节点都有L3（即IP）连接，而不是依赖潜在的L2段功能。在每个VXLAN节点上，将捕获输出以太网帧，然后捕获到UDP数据报（封装），并通过L3网络发送到目标VXLAN节点。到达时，以太网帧被从UDP报文（解封装）中提取，并注入目的地＆＃39; S网络接口。该技术称为隧道。结果，VXLAN节点创建虚拟L2段，因此是L2广播域。</p><p>  当然，没有什么能阻止我们将所有Vxlan节点放在单个L3 / L2段中。因此，VXLAN只是一种克服每段网络数量的VLAN的限制。但是，通常，VXLAN在多个互连的L3段上使用。</p><p> i＆＃39想象一下，大多数现实世界的vxlans可能居住在一个或几个紧密连接的数据中心中。但是，由于VXLAN仅需要IP到参与节点的IP连接，因此它基本上允许一个将任意的互联网节点转换为虚拟化L2段。虽然不切实际，这样的虚拟L2段可以跨越多个WAN甚至是互联网的一部分。思想吹🤯</p><p>  从某些角度来看，VXLAN甚至可以看到VLAN。 VLAN将单个L2段（和广播域）拆分为多个非交叉段，然后可以使用，然后设置多个L3段。 vxlan相反可以将多个L3段组合成一个[虚拟] L2段。</p><p> 喜欢这篇文章？让它成为一个伟大的友谊的开始。留下您的电子邮件，以便我可以通知您关于此博客主题的新文章或任何其他有趣的事件。我保证没有垃圾邮件！ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://iximiuz.com/en/posts/computer-networking-101/">https://iximiuz.com/en/posts/computer-networking-101/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ip/">#ip</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/节点/">#节点</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1051608.html"><img src="http://img2.diglog.com/img/2021/3/thumb_ea1865f54c8d4d8aaf0a14292b37ffd9.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1051608.html">netaddr.ip：Go的新IP地址类型 </a></div><span class="my_story_list_date">2021-3-11 6:11</span></div><div class="col-sm"><div><a target="_blank" href="/story/1036264.html"><img src="http://img2.diglog.com/img/2020/11/thumb_8db2e366564e2c12ed24a02c34dad838.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1036264.html">物联网分解第二部分：IP地址，网络，Zigbee，自定义固件，焊接</a></div><span class="my_story_list_date">2020-11-24 16:46</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031939.html"><img src="http://img2.diglog.com/img/2020/10/thumb_cbbddf3f487617d505e88b8e09cd9087.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031939.html">出售业余AMPRnet TCP/IP地址筹集1.08亿美元</a></div><span class="my_story_list_date">2020-10-29 13:4</span></div><div class="col-sm"><div><a target="_blank" href="/story/1022396.html"><img src="http://img2.diglog.com/img/2020/9/thumb_7219f93c9f66b79cf16af14029282a18.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1022396.html">Pikvm：基于Raspberry Pi的开放廉价DIY IP-KVM</a></div><span class="my_story_list_date">2020-9-6 23:46</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>