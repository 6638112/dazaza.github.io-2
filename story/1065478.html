<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>sqlite合并 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">sqlite合并 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-13 18:47:18</div><div class="page_narrow text-break page_content"><p>超过100个单独的源文件被连接到Asingle大文件的C代码中名为＆＃34; sqlite3.c＆＃34; Andcalled＆＃34;合并＆＃34; AmalgamationContains的所有应用程序需要嵌入SQLite.Malgamation文件超过220,000行长，超过7.5mgabytes（截至2018-11-24）。</p><p> 将SQLite的所有代码组合到一个大文件中使SQLiteeasier部署 - 只有一个文件来跟踪。并且因为所有代码是INA单个翻译单元，编译器可以做出更好的过程间隙导致机器代码速度较快的5％和10％。</p><p>  SQLite库由102个C代码（如3.9.0  -  2015-10-14）中的102个文件组成，其中包含32个额外文件，implent oppling fts3，fts5，rtree，dbstat，json1和rbu扩展。主要源文件，大约75％是C代码，大约25％是C头文件。这些都是＆＃34;来源＆＃34;文件中的文件在SQLite版本控制系统中，在普通文本编辑器中手动编辑。但是使用ScriptSor辅助程序生成一些C语言文件。例如，parse.yfile包含一个LALR（1）语言的SQL语言，该语言被编译为文件＆＃34中的解析器; parse.c＆＃34;和＃34; parse.h＆＃34;由柠檬解析器生成器。</p><p> sqlite的makefiles有一个＆＃34; sqlite3.c＆＃34;建立文件的目标我们呼叫＆＃34;合并＆＃34;融合是一个C代码文件，名为＆＃34; sqlite3.c＆＃34;那些包含核心SQLite库和FTS3的所有C代码，fts5，rtree，dbstat，json1和rbu扩展。这个文件包含大约184k行代码（113k如果省略空行和注释），并且超过6.4 megabytesin尺寸。虽然各种扩展名包括在＆＃34; sqlite3中.c＆＃34;合并文件，它们是使用#ifdef语句禁用的。使用编译时选项激活扩展名：</p><p>  合并包含将SQLite集成到更大项目中所需的一切。只需将合并复制到您的源目录中并与项目中的其他C代码文件复制。（更详细地讨论了编译过程即可。）您可能还希望使用＆＃34; sqlite3.h＆ ＃34;定义SQLite编程API的标题文件。 SQLite3.h标题文件单独使用。 SQLite3.h文件也包含在融合中，是前几千线。因此，如果您有SQLite3.c的副本，但似乎无法找到SQLite3.h，您可以通过复制和粘贴来自合并来复制和粘贴来重新生成SQLite3.h。</p><p> 除了使SQLite更容易合并到其他项目中，合并还使其运行更快。当它在单个翻译单元中包含在诸如合并中的单个翻译单元中时，许多人能够在代码上进行额外的优化。当我们使用合并编译SQLite而不是单个源文件时，我们在5到10％之间测量了5％和10％的性能改进。该额外优化通常采用函数内联的形式，这倾向于使得产生的尺寸更大。</p><p>   开发人员有时会遇到麻烦调试185,000行长的合并源文件，因为一些德鲁格卡尔只能处理小于32,768的源代码行号。合并源代码运行正常。一个只是无法在调试器中单独踩它。 </p><p>为了规避这一限制，融合也是可用的拆分形式，由文件＆＃34; sqlite3-1.c＆＃34 ;,＆＃34; sqlite3-2.c＆＃34;，andso，每个文件都是少于32,768行，并且文件的连接位于文件的串联中包含所有代码，用于合并算法。然后有一个名为＆＃34; sqlite3-all.c和＃34的单独的源文件;基本上由这样的代码组成：</p><p>  应用分裂合并的应用程序只是编译反对＆＃34; sqlite3-all.c＆＃34;而不是＆＃34; sqlite3.c＆＃34;这两个文件完全相同。但是用＆＃34; sqlite3-all.c＆＃34;，没有单一源文件包含oreThan 32,767行代码，因此使用Somedebugger更方便。分割合并的缺点是它由6个C源代码文件而不是1。</p><p>  合并和SQLite3.h头文件可在下载页面上作为名为SQLite-Amalgamation-X.zipwhere的文件可用，X被适当的版本号替换。</p><p>   为了构建合并（完整的融合或算法），首先从三个服务器中的一台获得规范源代码。然后，在unix的系统和具有免费Mingw开发的Windows系统上，合并可以是使用以下命令构建：</p><p>    在这两种情况下，可以通过拟许＆＃34获得分割合并; SQLite3-All.C＆＃34; for＆＃34; sqlite3.c＆＃34;作为制作目标。</p><p>  构建过程大量使用TCL脚本语言。您需要拥有TCL的TCL脚本，以便为上述制作目标进行工作。易于使用的安装人员可以从http://www.tcl-lang.org/.Many UNIX工作站获得TCL默认安装。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.sqlite.org/amalgamation.html">https://www.sqlite.org/amalgamation.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/sqlite/">#sqlite</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/文件/">#文件</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>