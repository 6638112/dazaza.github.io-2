<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>始终保留比您发现的更好的代码Always leave the code better than you found it</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Always leave the code better than you found it<br/>始终保留比您发现的更好的代码</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-28 22:22:44</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/93a06039d75d9e3f76cb8d5179a568b5.jpg"><img src="http://img2.diglog.com/img/2020/11/93a06039d75d9e3f76cb8d5179a568b5.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>I’ve spent a lot of my time maintaining working code. I think that is more typical of software developers than working in greenfield development. Yes, there are definitely jobs where you are writing more new code than maintaining, upgrading, bug fixing and improving old code (startups without product market fit being one, consulting being another) but in general code is expensive and folks want to run it for a long time.</p><p>我花了很多时间来维护工作代码。我认为这比软件开发人员的工作更典型。是的，肯定有一些工作需要编写更多的新代码，而不是维护，升级，错误修复和改进旧代码（没有产品市场适应性的启动公司，而提供咨询的另一种），但是总的来说，代码很昂贵，人们希望将其用于很长时间。</p><p> Often you’ll jump into code to fix a bug, investigate an issue or answer a question.</p><p> 通常，您会跳入代码来修复错误，调查问题或回答问题。</p><p> When you do so, improve it. This doesn’t mean you rewrite it, or upgrade all the libraries it depends on, or rename all the variables.</p><p> 当您这样做时，请对其进行改进。这并不意味着您重写它，或升级它依赖的所有库，或重命名所有变量。</p><p>  But you should make it better. Just clean it up a bit. Doing so makes everyone’s lives just a bit better, helps the codebase in a sustainable way, and assists the business by making its supporting infrastructure more flexible.</p><p>  但是你应该做得更好。只是清理一点。这样做可以使每个人的生活变得更好一点，以可持续的方式帮助代码库，并通过使其支持的基础架构更加灵活来帮助企业。</p><p>   Whether that is a comment that explains something tricky, a larger piece of documentation external to the code which explains how to interact with it, or fixing a typo, trustworthy documentation is key to interacting with code. This is a good way to start improving a codebase because it has minimal impact on the actual code. Therefore it is low risk. But if you’ve ever had a great comment explain a confusing bit of code, you’ll appreciate the time this effort can save.</p><p>   无论是注释说明了某些棘手的问题，还是代码外部的较大文档来解释如何与之交互，还是修正了错字，可信赖的文档，这都是与代码进行交互的关键。这是开始改进代码库的好方法，因为它对实际代码的影响最小。因此，它是低风险的。但是，如果您曾经在注释中解释过一些令人困惑的代码，那么您将不胜感激，因为这样做可以节省时间。</p><p> You can also help documentation by removing old, crufty docs. If you see a comment that doesn’t apply, remove it. If there’s cut and paste documentation which doesn’t apply, get rid of it. That cleans up the code for the next person to come along (who might be you).</p><p> 您也可以通过删除旧的，笨拙的文档来帮助文档。如果您看到不适用的评论，请将其删除。如果存在不适用的剪切和粘贴文档，请删除它。这将清理代码，以便下一个人（可能是您）出现。</p><p>  Tests help you write maintainable, extensible code that others can change fearlessly. If you run across code that isn’t tested and you have time and the supporting framework to write one, do so.</p><p>  测试可以帮助您编写可维护的，可扩展的代码，其他人可以毫不费力地更改它们。如果您运行未经测试的代码，并且有足够的时间和支持框架来编写代码，请这样做。</p><p> Even if it tests simple functionality such as “can I instantiate this object” or “how does this function react when I pass it two null values”, an additional test will help the robustness of the code.</p><p>即使它测试了诸如“我可以实例化该对象”或“当我向它传递两个空值时该函数如何反应”之类的简单功能，另外的测试也将有助于代码的鲁棒性。</p><p>  This is one of the most flexible improvements. Refactoring code can range from renaming a variable to be more true to its nature to an overhaul of an entire module. Start small and don’t get wrapped up in perfection. Make the code clearer in intent.</p><p>  这是最灵活的改进之一。重构代码的范围可以从重命名变量以使其更真实，到对整个模块进行全面检查。从小处着手，不要陷入完美。有意使代码更清晰。</p><p> It’s easy with refactoring to get wound around an axle and make too many changes and end up with broken things. Timeboxing is one technique I use to avoid, or at least minimize, my tendencies toward this when refactoring. If all I have is 30 minutes, I’ll make my changes smaller in scope.</p><p> 重构很容易缠绕到车轴上，进行过多的更改并最终导致损坏。时间调整是我在重构时避免或至少最小化这种倾向的一种技术。如果我只剩下30分钟，那么我将缩小范围。</p><p> A warning about refactoring. Don’t refactor what you don’t understand. Don’t drive by refactor. Discuss your plan with someone more familiar with the code;  git blame is your friend. Especially if the code is not well tested, you want to make sure you don’t do more harm than good.</p><p> 有关重构的警告。不要重构您不了解的内容。不要开车重构。与更熟悉代码的人讨论您的计划； git blame是你的朋友。尤其是如果代码没有经过良好的测试，则要确保所造成的伤害不会大于弊端。</p><p>  It’s sometimes a winding path, but upgrading your dependencies regularly is a good way to maintain the code. I remember working in a fork of struts. It was an important application for the company, but we didn’t spend the time upgrading the dependencies, because it was too painful. Eventually, parts of the code became harder to update. The entire application couldn’t benefit from newer technologies and paradigms because of the older dependencies holding it back.</p><p>  有时这是一条曲折的道路，但是定期升级依赖项是维护代码的好方法。我记得在支柱上工作。对于公司来说，这是一个重要的应用程序，但是我们花了很多时间来升级依赖关系，因为这太痛苦了。最终，部分代码变得更难更新。整个应用程序无法从较新的技术和范例中受益，因为旧的依赖关系使其无法使用。</p><p> It never feels good to spend time updating a dependency; to me this always feels like running in place. But if you don’t do so, eventually dependencies will end of life and you’ll be forced to update. That’ll be even less pleasant.</p><p> 花时间更新依赖关系永远不会感觉很好。对我来说，这总是感觉像在运行。但是，如果您不这样做，最终依赖项将会终止，并且您将被迫更新。那会更加令人不愉快。</p><p> All of these actions not only help others because they improve the quality of the code, they also provide examples to other developers on how to do so. For example, it is far easier to write the second test in a suite than the first. You can cut and paste a lot of the setup code and tweak only what is different. The first bit of documentation will inspire more.</p><p> 所有这些动作不仅可以帮助其他人，因为它们可以提高代码质量，还可以向其他开发人员提供有关如何这样做的示例。例如，在套件中编写第二个测试要比编写第一个测试容易得多。您可以剪切和粘贴许多设置代码，并仅调整不同的地方。文档的第一部分将启发更多。</p><p> Code isn’t everything, but it is an important work output. Whenever you touch it, you should strive to leave it in a better place that it was before you did so.</p><p>代码不是一切，但它是重要的工作成果。每当您触摸它时，都应努力将其放在比这样做之前更好的地方。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://letterstoanewdeveloper.com/2020/11/23/always-leave-the-code-better-than-you-found-it/">https://letterstoanewdeveloper.com/2020/11/23/always-leave-the-code-better-than-you-found-it/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/代码/">#代码</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/保留/">#保留</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/leave/">#leave</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>