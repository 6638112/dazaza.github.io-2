<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>复选框 Checkbox</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Checkbox<br/>复选框 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-04-04 06:08:06</div><div class="page_narrow text-break page_content"><p>/   checkbox   Hi xkcd visitors! Today we released  &#34;Checkbox&#34;, our 2021 April Fool&#39;s project. I proposed the original concept for this one and built the frontend. The backend and editor tooling was made by davean and  Kevin Cotrone, with content written by a collection of amazing folks credited in the header of  the comic and the one and only Randall Munroe.</p><p>/复选框嗨xkcd访客！今天我们发布＆＃34;复选框＆＃34 ;,我们2021年4月傻瓜＆＃39;项目。我提出了这个原始概念，并建立了前端。后端和编辑器工具是由达瓦顿和凯文科特鲁隆制造的，内容由一系列令人难以置信在漫画和唯一的Randall Munroe中的令人惊叹的人。</p><p> This year was a doozy. We specced and scrapped several different ideas in the months leading up to today. We finally settled on today&#39;s concept just 3 days ago. The need to do something simple was a really useful constraint, and we leaned into the idea of making something primitive but deep. I&#39;m really proud of how it turned out!</p><p> 今年是一个多泽。我们在今天导致的几个月中被宣传并报废了几个不同的想法。我们终于在3天前选择了今天的概念。需要做一些简单的事情是一个非常有用的限制，我们倾向于制作原始的想法，但深。我真的为自己结果感到骄傲！</p><p>    If you take a peek at the JS code,   comic.js, you&#39;ll find that it&#39;s written in morse code!</p><p>    如果你在JS代码，Comic.js，你＆＃39; ll找到它＆＃39;写在摩尔斯代码中！</p><p> &#34;.---- -.-. -.. - .. ... ...-..- -.-.-- ..--- . ---.. ..- -.-- -. ----- -----</p><p> ＆＃34; .-----。 -  ..  -  ... ... ... ...  -  .-- ..----。 --- .. ......--  - 。 ----- -----</p><p>----- ---.. ---.. ..-. ..--.- -.... .---- --... ---.. .--- -..- ..-. ....-</p><p>----- --- --- ...... --- ..-。 ..  -   -  ...  -  ......  -  ...... --- ...... ----- ......-。 ....-</p><p>-..-. -....- .-.-.- --- ... ..--- --. -.-.-. .---- .-.-. -..- -. .--.-. -----</p><p>-..-。 -....-。 -  .-  -   -   -  ...... -----  - 。 -  .-。 .---- .- .-。 -..-  - 。 。 -  .-。 -----</p><p>.-. ...-- -.--. -.- -.-. --.- ..- -....- .--. ...-..- .... --.. .---- ..-.</p><p>.-。 ......  -   -   -  .-- -.- -.-。 -  .- ..- ......--。 ......  -  ......  -  ......  - 中学。 </p><p>-.-.-. ---.. . -.-. -... --. ----- --- ...- .. ...- .-... ..--.- ---... -.-.--</p><p>-  .-。 --- .. -  .-。 -...  - 。 ----- --- ...  -  ... ...  -  ......  -  ......  -  ...  -   -  ......  -  .--</p><p>.. ..... .-- -.--. ----. -.-- -. .--. .---- .--- -...- ... -..-. ---.. -..</p><p>...... ......----。 ----。 ----  - 。 .--。 .---- .--- ...  -  ...... --- ..  -  ..</p><p>&lt;snip&gt;</p><p>＆lt; Snip＆gt;</p><p>-.-.-- .... -... -. ..... -..-. . - .-..-. --..--&#34;.split(&#34;;D&#34;).map(morse.run);</p><p> -   -  .-- ......  -  ......  - 。 .........-。 。 - 。 -  ..-。 -  ...和＃34; .split（＆＃34 ;; d＆＃34;）。地图（莫尔塞.Run）;</p><p> When you paste the code into a morse translator, unfortunately the result is not very helpful:</p><p> 当你将代码粘贴到莫尔斯翻译时，不幸的是结果不是很有帮助：</p><p>   Initially, I&#39;d hoped to faithfully translate the JS code to morse and back. When I started implementing this, I noticed that my character table did not contain curly brace characters. Hmm, this was going to be a problem.</p><p>   最初，我希望忠实地将JS代码转换为莫尔斯和背部。当我开始实现这一点时，我注意到我的字符表没有包含卷曲支架字符。嗯，这将是一个问题。</p><p> I considered adding new characters to the morse table, but this seemed like it could become tedious, and ran the risk of overlapping with other more obscure morse sequences I wasn&#39;t aware of. My next idea was to interpret sequences of 8 dots and dashes as binary bytes, which seemed like a pretty good solution, though a bit verbose. I took a break from thinking about this, and then had an idea: it&#39;s pretty common to encode arbitrary data into letters and numbers, so would something like  base-36 work?</p><p> 我想到了向莫尔斯特表中添加新角色，但这似乎可能会变得繁琐，并且与其他更模糊的摩尔斯序列的重叠的风险我没有意识到。我的下一个想法是将8个点和破折号的序列解释为二进制字节，这似乎是一个非常好的解决方案，但有点冗长。我休息了思考这个，然后有一个想法：它很难用成字母和数字编码任意数据，所以像Base-36工作那样是什么？ </p><p> Now we were getting somewhere! As a slight enhancement over base-36, I pulled in the excellent  base-x library, which accepts an arbitrary list of characters to encode/decode binary data into. I threw our 56 character morse code table into it, and we were in business!</p><p>现在我们达到了！随着对Base-36的略有增强，我拔入了优秀的基础X库，它接受要编码/解码二进制数据的任意字符列表。我把我们的56个角色摩尔斯特码表扔进了，我们开心了！</p><p> So, the JS code is actually encoded  twice: once in base-56, and then in morse code. If you count UTF-8 – which actually came into play when I needed to add an emoji to the source! – it&#39;s running through three layers of encoding. :)</p><p> 因此，JS代码实际上是两次编码：一次在Base-56中，然后在MORSE代码中。如果您计算UTF-8  - 当我需要向源添加表情符号时实际上发挥作用！ - 它＆＃39;跑过三层编码。 :)</p><p>  Shortly before launching, we discovered a really strange bug: if you tried to send just the letter &#34;E&#34;, you wouldn&#39;t see the intended response. The server did not recognize the input, even though we specifically handled &#34;E&#34;. Also, two &#34;E&#34;s, or any other combination of letters, was working normally.</p><p>  在发起之前不久，我们发现了一个非常奇怪的错误：如果你试图发送信＆＃34; e＆＃34;，你会看到预期的响应。即使我们专门处理＆＃34; E＆＃34，服务器也没有识别输入。此外，两个＆＃34; e＆＃34; s，或任何其他字母组合，正常工作。</p><p> So we started digging into both the client and the backend to see what was going on. We took great pains to make the API for this project use morse code in the transport. If you take a look at the network inspector, you&#39;ll notice that the URLs requested have morse code in them:</p><p> 所以我们开始挖掘客户和后端，以查看正在发生的事情。我们采取了很大的痛苦，使这个项目的API在运输中使用莫尔斯电码。如果您看看网络检查员，请注意，请求的URL在其中有摩尔斯码：</p><p> chromakode@atavist:~$ curl &#39;https://xkcd.com/2445/morse/.../...._..&#39; -v</p><p> Chromakode @ Atavist：〜$ Curl＆＃39; https：//xkcd.com/2445/morse/.../...._..&#39; -v.</p><p>&gt; GET /2445/morse/.../...._.. HTTP/1.1</p><p>＆gt;获取/2445/morse/.../...._ .. http / 1.1</p><p>&gt;</p><p>＆gt; </p><p>&lt; HTTP/1.1 200 OK</p><p>＆lt; http / 1.1 200确定</p><p>&lt; Content-Type: text/x-morse;charset=utf-8</p><p>＆lt;内容类型：文本/ x-morse; charset = UTF-8</p><p>-.. -... ...-- ...-- ....- .- .- -... -....- ----. ..--- .- .---- -....- .---- .---- . -... -....- ---.. ----- ----- .---- -....- ---.. -.-. .---- -.... ....- ..... ....- ..-. -... ----- ..--- .- / .... . .-.. .-.. --- -.-.-- / .- -. -.-- -... --- -.. -.-- / --- ..- - / - .... . .-. . ..--..</p><p> -  ...... ......-- ......- .- .- .- .---。 ......--- .- .---- .---- .----。 -... -....- --- --- ... ----- ----- .----  -  --- .-。 .----- ...... ...... ......-。 -... ----- ..-- .- / ....。 .- .- .- .. --- .-- / .-  - 。 -   -   -  ...... ---  -  ......-- / --- ...  -   -  /  -  ....。 .-。 。 ......  - </p><p> The letter &#34;E&#34;, as it happens, is the simplest character to enter in morse code: it&#39;s a single &#34;.&#34; – hence how we discovered this relatively obscure bug so quickly.</p><p> 字母＆＃34; e＆＃34;因为它发生的是，是摩尔斯代码中最简单的角色：它＆＃39; s一个单一＆＃34;。＆＃34; - 因此，我们如何快速发现这种相对晦涩的错误。</p><p> Back to the problem at hand. We noticed that the client wasn&#39;t sending the morse for the letter &#34;E&#34; along. Instead, the comic would request as if nothing had been entered at all: an empty path. Investigating a step further, I verified that the client was generating and requesting the right URL with the morse letter &#34;E&#34; in it! What was going on?</p><p> 回到手头的问题。我们注意到客户没有送莫尔斯＆＃34; e＆＃34;沿着。相反，漫画将请求好像什么都没有输入：空路径。进一步调查一步，我核实客户正在生成并请求正确的URL与莫尔斯字母＆＃34; E＆＃34;在里面！发生了什么事？</p><p> Then, an  even stranger thing happened. I copied and pasted the correct URL into my browser and pressed enter, and right before my eyes, it deleted the &#34;.&#34; from the end of the URL and returned a different result. This immediately set off alarm bells in my mind, thinking that this period at the end somehow made it a malformed URL. Could it be a quality-of-life feature to correct typos when a URL is at the end of a sentence? No, that didn&#39;t add up, because it had originally failed when requested by JavaScript, a context in which URLs are not human input.</p><p> 然后，发生了陌生人的事情。我将正确的URL复制并粘贴到我的浏览器中，然后按Enter键，并在我的眼前，它删除了＆＃34;。＆＃34;从URL的末尾并返回不同的结果。这立即在我的脑海中掀起了闹钟，认为这段时间结束时，以某种方式使其成为一个畸形的URL。当一个URL在句子结束时，它是否可以是生活质量特征，以纠正拼写错误？不，它没有加起来，因为它最初在JavaScript请求时最初失败，其中URL不是人为投入的上下文。</p><p> Ok, next idea. Was there a spec somewhere that described URLs ending in a period? My googling eventually led me to  this StackOverflow post by user &#34;speedplane&#34; (which at the time of writing has one vote):</p><p> 好的，下一个想法。有没有一个规格在某处描述了在一段时间内结束的网址？我的googling最终用我的用户＆＃34带领我到这个stackoverflow post; speedplane＆＃34; （在撰写本文时有一票）： </p><p> &#34;As other answers have noted, periods are allowed in URLs, however you need to be careful. If a single or double period is used in part of a URL&#39;s path, the browser will treat it as a change in the path, and you may not get the behavior you want.&#34;</p><p>＆＃34;作为其他答案已注意到，URL中允许期间允许，但您需要小心。如果在URL＆＃39的一部分中使用单个或双倍时段，则浏览器将其将其视为路径的变化，而且您可能无法获得所需的行为。＆＃34;</p><p> Evidently, a bare  . or  .. in a URL will be interpreted by browsers similar to UNIX filesystem paths: as referring to the current and parent directory respectively. This appears to be particularly relevant for  relative URLs. So in addition to &#34;E&#34;, the letter &#34;I&#34; (morse: &#34;..&#34;) would also be affected.</p><p> 显然，一个裸露的。或者..在URL中将被类似于Unix文件系统路径的浏览器解释：涉及当前和父目录。这似乎与相对URL特别相关。除了和＃34; e＆＃34;，字母＆＃34;我＆＃34; （莫尔斯：＆＃34; ..＆＃34;）也会受到影响。</p><p> We fixed this issue by adding an extra separator character before the period, making the urls  /_. and  /_...</p><p> 我们通过在句点之前添加额外的分隔符来修复了此问题，使URL / _进行URL / _。和  /_...</p><p>  If you&#39;re interested in learning more about how this was made, we&#39;ll be releasing the code on  https://github.com/xkcd when it&#39;s ready. You can also &#34;check&#34; out the comics from previous years there. I&#39;m partial to  Alto, our infinite menu system. You can find more of my work on  github.com/chromakode and  @chromakode.</p><p>  如果您＆＃39; reve you you more＆＃39;我们＆＃39; ll在https://github.com/xkcd上释放代码＆＃39;准​​备好了解。你也可以＆＃34;检查＆＃34;从前几年开始漫画。 i＆＃39; m部分到alto，我们的无限菜单系统。您可以在github.com/chromakode和@chroromakode上找到更多我的工作。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://chromakode.com/post/checkbox">https://chromakode.com/post/checkbox</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/复选框/">#复选框</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/checkbox/">#checkbox</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/url/">#url</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>