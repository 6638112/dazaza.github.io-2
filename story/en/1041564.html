<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Waveshare的12.48英寸（1304x984）三色电子纸显示屏 A 12.48 Inch (1304x984) Three-Color E-Paper Display by Waveshare</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">A 12.48 Inch (1304x984) Three-Color E-Paper Display by Waveshare<br/>Waveshare的12.48英寸（1304x984）三色电子纸显示屏 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-24 21:32:41</div><div class="page_narrow text-break page_content"><p>I&#39;m running a  solar-powered blog and I wanted to add a low-power display to show the daily solar &#39;harvest&#39;  1 and maybe some additional information.</p><p>我正在运行一个太阳能博客，我想添加一个低功率显示器以显示每日的太阳能收获1，也许还有一些其他信息。</p><p> So I decided to use an  e-paper display. I wanted a display that would be readable from a distance, so bigger would be better. I therefore chose the  Waveshare 12.48 inch e-paper display  2.</p><p> 因此，我决定使用电子纸显示器。我想要一个可以从远处读取的显示器，所以越大越好。因此，我选择了Waveshare 12.48英寸电子纸显示屏2。</p><p>   This particular display costs $179 excluding taxes and shipping at the time this article was written.</p><p>   在撰写本文时，这种特殊的显示器售价179美元（不含税和运费）。</p><p>  Waveshare sells a  two-color (black and white) and a three-color version (black, white, red). I bought the three-color version. The three-color version is the (B) model.</p><p>  Waveshare出售两种颜色（黑色和白色）和三种颜色的版本（黑色，白色，红色）。我买了三色版。三色版本是（B）模型。</p><p>  Screen size : 12.48 inchesResolution : 1304 x 984Colors : black, white, redGreyscale : 2 levelsRefresh rate : 16 secondsPartial refresh : Not supportedInterfaces : Raspberry Pi, ESP32, STM32, Arduino</p><p>  屏幕尺寸：12.48英寸分辨率：1304 x 984颜色：黑色，白色，红色灰度：2级刷新率：16秒部分刷新：不支持接口：Raspberry Pi，ESP32，STM32，Arduino</p><p>  This display is clearly quite slow. Furthermore, the lack of partial refresh support could make this display unsuitable for some applications. I was OK with this slow refresh rate.</p><p>  该显示显然很慢。此外，缺少部分刷新支持可能会使此显示不适用于某些应用程序。刷新速度很慢，我还可以。</p><p> The image below demonstrates different fonts and sizes. I think  DejaVuSansMono-Bold looks really well on the display, better than the font supplied by Waveshare.</p><p> 下图演示了不同的字体和大小。我认为DejaVuSansMono-Bold在显示器上看起来确实不错，比Waveshare提供的字体更好。 </p><p>   The display includes a microcontroller that in turn can be driven through one of four interfaces:</p><p>该显示器包括一个微控制器，该微控制器又可以通过四个接口之一驱动：</p><p>  I&#39;ve tried the Arduino header with an Arduino Uno, but the supplied demo code didn&#39;t work. I did not investigate further why this was the case. It could be a problem with voltage regulation.</p><p>  我曾用Arduino Uno尝试使用Arduino标头，但提供的演示代码无法正常工作。我没有进一步调查为什么会这样。电压调节可能会出现问题。</p><p>    These e-paper displays are mostly sold as product information displays for supermarkets and other businesses. However, the quality is good enough to display images. Especially the support for red can make an image stand out.</p><p>    这些电子纸显示器主要作为超市和其他企业的产品信息显示器出售。但是，质量足以显示图像。特别是对红色的支持可以使图像突出。</p><p>       The display acts like it is actually  two displays in one. A black and white display, and a red and white display.</p><p>       该显示实际上就像是将两个显示合而为一。黑色和白色显示，以及红色和白色显示。</p><p> First, the black and white image is drawn. Next, the red and white image is put on top.</p><p> 首先，绘制黑白图像。接下来，将红色和白色图像放在顶部。</p><p> Because the display has to draw two images in succession, it takes 16 seconds to refresh the screen. This explains why the black-and-white version of this screen does a refresh in eight seconds: it doesn&#39;t have to refresh the red color.</p><p> 因为显示器必须连续绘制两个图像，所以刷新屏幕需要16秒。这就解释了为什么此屏幕的黑白版本会在八秒内刷新：它不必刷新红色。</p><p> Please note that the entire process of displaying content on the screen takes much longer.</p><p> 请注意，在屏幕上显示内容的整个过程需要更长的时间。 </p><p>     At the time this article was written, I could not find any information or tools for this display  3.</p><p>在撰写本文时，我找不到用于此显示器的任何信息或工具3。</p><p> Many Waveshare e-paper displays are popular and have a decent community support. However, it seems that this display is rather unknown.</p><p> 许多Waveshare电子纸显示器很受欢迎，并得到了社区的良好支持。然而，似乎这种显示是相当未知的。</p><p> Therefore, it seems that there are no tools available to display an arbitrary image on this display. You can use the example Python code to display an image but you have to follow these steps:</p><p> 因此，似乎没有可用的工具在此显示器上显示任意图像。您可以使用示例Python代码显示图像，但必须遵循以下步骤：</p><p> Create a red-and-white version of the image, that contains only data for the red parts of the image</p><p> 创建图像的红色和白色版本，其中仅包含图像红色部分的数据</p><p> If the source image doesn&#39;t match the required resolution, you have to resize, crop and fill the image where appropriate.</p><p> 如果源图像不符合要求的分辨率，则必须在适当的地方调整图像大小，裁剪并填充图像。</p><p> Both &#39;black&#39; and &#39;red&#39; images need to exactly match the resolution of the display (1304x984) or the library will abort with an error.</p><p> 都是＆＃39;黑色＆＃39;和＆＃39; red＆＃39;图像需要与显示器的分辨率（1304x984）完全匹配，否则库将因错误中止。</p><p>   I&#39;ve used the python library as supplied by Waveshare and created a  command-line tool (Github) on top of it to perform all the required steps as described in the previous section. I&#39;m using Imagemagick for all the image processing.</p><p>   我使用了Waveshare提供的python库，并在其之上创建了一个命令行工具（Github），以执行上一部分中所述的所有必需步骤。我正在使用Imagemagick进行所有图像处理。 </p><p>    The color red is extracted from an image but it&#39;s not always perfect. By applying the --fuzz parameter (the argument is a percentage), it is possible to capture more of the red (or selected color) of an image.</p><p>红色是从图像中提取的，但并非总是完美的。通过应用--fuzz参数（参数为百分比），可以捕获图像的更多红色（或选定的颜色）。</p><p> The --color option specifies which color should be &#39;converted&#39; to red. By default this color is &#39;red&#39; (obviously). The &#39;solar chart&#39; (at the start of this article) is an example where a yellow line was converted to red.</p><p> --color选项指定应将颜色转换为＆＃39;变成红色。默认情况下，此颜色为＆＃39;红色＆＃39; （明显）。太阳能图表（在本文开头）是一个将黄线转换为红色的示例。</p><p> Very slow: it takes about  55 seconds to display an image using the Raspberry Pi 3B+. Half of that minute is spend converting the images to the appropriate format using Imagemagick.</p><p> 非常慢：使用Raspberry Pi 3B +大约需要55秒才能显示图像。那分钟的一半是花在使用Imagemagick将图像转换成适当的格式上。</p><p> Informational: The Python program includes a  modified version of the Waveshare Python library. This library has been altered to  prevent double conversion of images, which significantly degrades image quality.</p><p> 信息性：Python程序包括Waveshare Python库的修改版本。已对该库进行了更改，以防止图像的双重转换，这会严重降低图像质量。</p><p>  If you use the provided Python library (Python3 compatible) it takes about  30+ seconds to draw an image on the screen. (This excludes the image processing performed with the &#39;display&#39; tool.)</p><p>  如果您使用提供的Python库（与Python3兼容），则大约需要30秒钟以上才能在屏幕上绘制图像。 （这不包括使用＆＃39; display＆＃39;工具执行的图像处理。）</p><p> Further testing showed that the Python library converts and dithers the image before it is sent to the display. And it does so for both black and red. Dithering is performed by looping in Python over every of the 1.3 milion pixels.</p><p> 进一步的测试表明，Python库会在将图像发送到显示器之前对其进行转换和抖动处理。黑色和红色都可以。通过在Python中循环遍历130万像素中的每一个像素来执行抖动。</p><p> Each of these loops (for black and red) take about 10 seconds on the Raspberry Pi 3B+, which explains why it takes so long to update the display. Therefore, I think the combination of Python + the Raspberry Pi 3B+ is not ideal in this case.</p><p> 在Raspberry Pi 3B +上，每个循环（黑色和红色）大约需要10秒钟，这解释了为什么更新显示需要这么长时间。因此，我认为在这种情况下，Python + Raspberry Pi 3B +的组合并不理想。 </p><p>  I wanted to share my experience with this display to make other people aware of its existence. The tool I created should make it simple to get up and running and display an image.</p><p>我想分享我的经验，让其他人知道它的存在。我创建的工具应该使安装和运行以及显示图像变得简单。</p><p> It clearly has some drawbacks but due to the size, resolution and third color, it seems to be unique and may therefore be interesting.</p><p> 它显然有一些缺点，但是由于尺寸，分辨率和第三种颜色，它似乎是唯一的，因此可能很有趣。</p><p> Although I never tried the display with an ESP32, I think its an ideal for the purpose of a low-power picture frame.</p><p> 尽管我从未尝试过使用ESP32进行显示，但我认为它非常适合用于低功耗相框。</p><p>  Please note: Waveshare also sells a smaller  10.3 inch black-and-white e-paper display for a similar price with some significant benefits:</p><p>  请注意：Waveshare还以相近的价格出售较小的10.3英寸黑白电子纸显示屏，具有一些明显的优势：</p><p> Screen size : 10.3 inchesResolution : 1872 x 1404Colors : black and whiteGreyscale : 16 levelsRefresh rate : 450 milisecondsPartial refresh : Supported</p><p> 屏幕尺寸：10.3英寸分辨率：1872 x 1404颜色：黑色和白色灰度：16级刷新率：450毫秒部分刷新：支持</p><p> This particular display is smaller but has a higher resolution, supports 16 grayscale levels and updates in half a second. This display may better suit your particular needs. For example, I believe that this display may have been used in  this project, a solar-powered digital photo frame.</p><p> 这种特殊的显示屏较小，但具有较高的分辨率，支持16个灰度级别，并在半秒内更新。此显示可能会更适合您的特定需求。例如，我相信该显示器可能已在该项目中使用过，它是太阳能数码相框。</p><p>  This information is straight from the Waveshare site but I include it for completeness and ease of use.</p><p>  这些信息直接来自Waveshare网站，但出于完整性和易用性考虑，我将其包括在内。 </p><p>          Caution: The library seems to be deprecated. The Raspberry Pi 4 is supported but future versions of the Raspberry Pi may not.</p><p>警告：该库似乎已弃用。支持Raspberry Pi 4，但可能不支持Raspberry Pi的未来版本。</p><p> The wiringPi library is used as part of a compiled library called &#34;DEV_Config.so&#34; as found in the ./lib directory.</p><p> connectionPi库用作名为＆＃34; DEV_Config.so＆＃34;的已编译库的一部分。在./lib目录中找到。</p><p> @raspberrypi:~/epaper_display $ ldd lib/DEV_Config.so linux-vdso.so.1 (0x7ee0d000) /usr/lib/arm-linux-gnueabihf/libarmmem-${PLATFORM}.so =&gt; /usr/lib/arm-linux-gnueabihf/libarmmem-v7l.so (0x76f1e000) libwiringPi.so =&gt; /usr/lib/libwiringPi.so (0x76f00000) libm.so.6 =&gt; /lib/arm-linux-gnueabihf/libm.so.6 (0x76e7e000) libc.so.6 =&gt; /lib/arm-linux-gnueabihf/libc.so.6 (0x76d30000) libpthread.so.0 =&gt; /lib/arm-linux-gnueabihf/libpthread.so.0 (0x76d06000) librt.so.1 =&gt; /lib/arm-linux-gnueabihf/librt.so.1 (0x76cef000) libcrypt.so.1 =&gt; /lib/arm-linux-gnueabihf/libcrypt.so.1 (0x76caf000) /lib/ld-linux-armhf.so.3 (0x76f46000)</p><p> @raspberrypi：〜/ epaper_display $ ldd lib / DEV_Config.so linux-vdso.so.1（0x7ee0d000）/usr/lib/arm-linux-gnueabihf/libarmmem-${PLATFORM}.so =＆gt; /usr/lib/arm-linux-gnueabihf/libarmmem-v7l.so（0x76f1e000）libwiringPi.so =＆gt; /usr/lib/libwiringPi.so（0x76f00000）libm.so.6 =＆gt; /lib/arm-linux-gnueabihf/libm.so.6（0x76e7e000）libc.so.6 => /lib/arm-linux-gnueabihf/libc.so.6（0x76d30000）libpthread.so.0 =＆gt; /lib/arm-linux-gnueabihf/libpthread.so.0（0x76d06000）librt.so.1 =＆gt; /lib/arm-linux-gnueabihf/librt.so.1（0x76cef000）libcrypt.so.1 =＆gt; /lib/arm-linux-gnueabihf/libcrypt.so.1（0x76caf000）/lib/ld-linux-armhf.so.3（0x76f46000）</p><p>  sudo apt-get updatesudo apt-get install python3-pipsudo apt-get install python3-pilsudo pip3 install RPi.GPIOsudo pip3 install spidev</p><p>  sudo apt-get更新udo apt-get安装python3-pipsudo apt-get安装python3-pilsudo pip3安装RPi.GPIOsudo pip3安装spidev</p><p>  I see myself as a consumer and I don&#39;t have any desire to hack the display for lower refresh-rates or partial refresh support, with the risk of damaging the display in the process.</p><p>  我将自己视为消费者，我不希望以较低的刷新率或部分刷新支持来破坏显示器，但有损坏显示器的风险。</p><p> However one resource about this topic I find very informative is a video from the Youtube Channel &#34;Applied Science&#34; (By Ben Krasnow), called  &#34;E-paper hacking: fastest possible refresh rate&#34;.</p><p> 但是，我发现关于该主题的一个非常有用的资源是来自YouTube频道＆＃34; Applied Science＆＃34;的视频。 （Ben Krasnow），称为“电子纸骇客：最快的刷新率”。</p><p>   I also found  this github repository that may support this display. This code (also) didn&#39;t work for me on my Arduino uno. This could be due to a voltage mismatch, but I&#39;m not willing to solder and potentially destroy the display.</p><p>   我还找到了可能支持此显示的github存储库。该代码（也）在我的Arduino uno上对我不起作用。这可能是由于电压不匹配造成的，但是我不愿意焊接并可能损坏显示屏。 </p><p>     During fall and winter, there is almost no power generation due to the very sub-optimal location of my balcony.  ↩</p><p>在秋天和冬天，由于阳台的位置不太理想，几乎没有电力产生。 ↩ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://louwrentius.com/a-1248-inch-1304x984-three-color-e-paper-display-by-waveshare.html">https://louwrentius.com/a-1248-inch-1304x984-three-color-e-paper-display-by-waveshare.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/电子/">#电子</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/color/">#color</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/图像/">#图像</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>