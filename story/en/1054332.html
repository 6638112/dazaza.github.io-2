<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>GeoGuessr与深入学习 GeoGuessing with Deep Learning</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">GeoGuessing with Deep Learning<br/>GeoGuessr与深入学习 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-26 19:35:42</div><div class="page_narrow text-break page_content"><p>During this last lockdown in the UK, my wife and I have been playing GeoGuessr. It’s slower paced than the computer games we normally play but it goes well with having an 11-week old baby who becomes more alive each and every day.</p><p>在英国的最后一次锁定期间，我的妻子和我一直在玩Geoguessr。它比我们通常播放的电脑游戏更慢，但有一个11周的大宝宝，每天都变得更加活跃。</p><p> GeoGuessr is a  geographic discovery game. You are dropped into a random Google Street View and tasked with pointing out your location on a map. You can look around, zoom, and follow the car’s path through the local streets.</p><p> GeoGuessr是一个地理发现游戏。您被丢弃到一个随机的Google Street View，并在地图上指出您的位置。你可以环顾四周，缩放，并通过当地的街道遵循汽车的路径。</p><p>  We’ve started to take the Daily Challenge on GeoGuessr quite seriously. We show up every day and push for a new high score. In the Daily Challenge there’s a three minute limit per round which, for us, is either filled with frantic clicking as we zip through the Australian outback (probably while mistaking it for South Africa), or debating back and forth about whether  ø exists in the Swedish language.</p><p>  我们已经开始对Geoguessr的日常挑战非常重视。我们每天都出现，推动新的高分。在日常挑战中，每轮3分钟限制，对于我们来说，我们的粉末是疯狂的点击，因为我们通过澳大利亚内陆（可能在南非犯下它时），或者概述Ø是否存在瑞典语。</p><p> I now have a lot of  I’ll know it when I see it knowledge. I know Greenland on sight. My lost knowledge of country flags has returned, along with new knowledge of USA state flags, which countries drive on the right vs. left, which use KM vs M. I know pretty much every country-specific domain name (they’re often on roadside adverts) – I won’t forget  .yu anytime soon.</p><p> 当我看到它知识时，我现在有很多我会知道它。我知道格陵兰岛。我对国家旗帜的遗失知识已经返回，以及美国国家旗帜的新知识，各国在右侧驾驶，左边是左边的，它使用KM与M.我知道每个特定国家的域名（他们经常打开路边广告） - 我不会很快忘记。yu。</p><p> Did you know that black and white guard rails are commonly found in Russia and Ukraine? Or that you can make out the blue EU bar on license plates through Google Street View’s blurification? Read more in this  80,000 word guide –  Geoguessr - the Top Tips, Tricks and Techniques.</p><p> 您是否知道黑色和白色护栏常见于俄罗斯和乌克兰？或者，您可以通过Google Street View的模糊在牌照上制作蓝色欧盟酒吧？在这个80,000个Word Guide  -  GeoGuessr  - 顶尖，技巧和技术中阅读更多。</p><p> The red and white striped arrow pointing downwards indicates that you are in Japan, most likely on the island of Hokkaido or possibly on the island of Honshu near mountains.</p><p> 指向向下的红色和白色条纹箭头表明您在日本，最有可能在北海道岛上或可能在山附近的屋内岛上。</p><p>   I once read that machine learning is currently capable of doing anything a human can do in under one second. Recognize a face, pick out some text from an image, swerve to avoid another car. This got me thinking, and thinking led me to a paper called  Geolocation Estimation of Photos using a Hierarchical Model and Scene Classification by Eric Müller-Budack, Kader Pustu-Iren, and Ralph Ewerth. This paper treats “geolocalization as a classification problem where the earth is subdivided into geographical cells.”</p><p>   我曾经读过那个机器学习目前能够做任何人类可以在一秒钟内完成任何事情。识别一张脸，从图像中挑出一些文字，转发以避免另一辆车。这让我思考，思考导致我使用EricMüller-Budack，Kader Pustu-Iren和Ralph Ewerth的分层模型和场景分类给了一份名为地理位置估计的照片。本文将“地理化为地球被细分为地理细胞的分类问题”。 </p><p>   Even indoor photos! (GeoGuessr’s Daily Challenge will often trap you inside a museum).</p><p>甚至是室内照片！ （Geoguessr的日常挑战将经常将您陷入博物馆内）。</p><p> Recently, the paper’s authors released a PyTorch implementation and provided weights of a pre-trained  base(M, f*) model with underlying ResNet50 architecture.</p><p> 最近，本文的作者发布了一个Pytorch实现，并提供了具有底层Reset50架构的预先训练的基础（M，F *）模型的权重。</p><p> I presumed that the pretrained model would not map well to the sections of photospheres that I could scrape from GeoGuessr. For training data, the authors used “a subset of the Yahoo Flickr Creative Commons 100 Million dataset (YFCC100M)“. Which contains “around five million geo-tagged images from Flickr [and] ambiguous photos of, e.g., indoor environments, food, and humans for which the location is difficult to predict.”</p><p> 我假设预磨模的模型不会很好地映射到我可以从Geoguessr刮擦的照片。对于培训数据，作者使用了“雅虎Flickr创造性公共1亿个数据集（YFCC100M）”的一个子集。其中包含“大约五百万个地理标记的图像，来自Flickr [和]暧昧的照片，例如难以预测所在地的室内环境，食物和人类。”</p><p> What was interesting was that on the Im2GPS dataset, humans found the location of an image at country granularity (within 750km) 13.9% of the time but the Individual Scene Networks were able to do it 66.7% of the time!</p><p> 有趣的是，在IM2GPS数据集上，人类发现了乡村粒度的图像的位置（750公里内）13.9％的时间，但个人场景网络能够做到66.7％的时间！</p><p>  So the question became: who is better at GeoGuessr, my wife (a formidable player) or the machine?</p><p>  所以问题变得：谁在Geoguessr，我的妻子（一个强大的球员）或机器更好？</p><p>  To scrape screenshots of the current in-game location, I created a Selenium program that performs the following four times:</p><p>  要扫描当前游戏中的屏幕截图，我创建了一个硒计划，执行以下四次：</p><p>    &#39;&#39;&#39;Given a GeoGuessr map URL (e.g. https://www.geoguessr.com/game/5sXkq4e32OvHU4rf)take a number of screenshots each one step further down the road and rotated ~90 degrees.Usage: &#34;python file_name.py https://www.geoguessr.com/game/5sXkq4e32OvHU4rf&#34;&#39;&#39;&#39; from selenium  import webdriver import time import sysNUMBER_OF_SCREENSHOTS  =  4geo_guessr_map  = sys .argv [ 1 ]driver  = webdriver .Chrome ( )driver .get (geo_guessr_map ) # let JS etc. loadtime .sleep ( 2 ) def  screenshot_canvas ( ) :  &#39;&#39;&#39; Take a screenshot of the streetview canvas. &#39;&#39;&#39;  with  open (  f&#39;canvas_  { int (time .time ( ) ) } .png&#39; ,  &#39;xb&#39; )  as f : canvas  = driver .find_element_by_tag_name ( &#39;canvas&#39; ) f .write (canvas .screenshot_as_png ) def  rotate_canvas ( ) :  &#39;&#39;&#39; Drag and click the &lt;main&gt; elem a few times to rotate us ~90 degrees. &#39;&#39;&#39; main  = driver .find_element_by_tag_name ( &#39;main&#39; )  for _  in  range ( 0 ,  5 ) : action  = webdriver .common .action_chains .ActionChains (driver ) action .move_to_element (main ) \  .click_and_hold (main ) \  .move_by_offset ( 118 ,  0 ) \  .release (main ) \  .perform ( ) def  move_to_next_point ( ) :  &#39;&#39;&#39; Click one of the next point arrows, doesn&#39;t matter which one as long as it&#39;s the same one for a session of Selenium. &#39;&#39;&#39; next_point  = driver .find_element_by_css_selector ( &#39;[fill=&#34;black&#34;]&#39; ) action  = webdriver .common .action_chains .ActionChains (driver ) action .click (next_point ) .perform ( ) for _  in  range ( 0 , NUMBER_OF_SCREENSHOTS ) : screenshot_canvas ( ) move_to_next_point ( ) rotate_canvas ( )driver .close ( )</p><p>    ＆＃39;＆＃39;＆＃39;给定一个地质渊博地图URL（例如https://www.geoguessr.com/game/5sxkq4e32ovhu4rf）截图每一步一次，旋转〜90度.musage：＆＃34; python file_name.py https：//www.geoguessr.com/game/5sxkq4e32ovhu4rf&#34 ;&#39 ;&#39 ;&#39;来自Selenium Import WebDriver导入时间导入Sysnumber_of_screenshots = 4geo_guessr_map = sys .argv [1] driver = webdriver .chrome（）驱动程序.get（geo_guessr_map）＃let js等loadtime .sleep（2）def screenshot_canvas（）：＆＃39; ＆＃39;＆＃39;拍摄街景画布的屏幕截图。 ＆＃39;＆＃39;＆＃39;打开（f＆＃39; canvas_ {int（时间.Time（））} .png＆＃39;，＆＃39; xb＆＃39;）作为f：canvas = driver .find_element_by_tag_name（＆＃39;画布＆＃39; ）f .write（canvas .screenshot_as_png）def rotate_canvas（）：＆＃39;＆＃39;＆＃39;拖动并单击＆lt; main＆gt; elem几次旋转US〜90度。 ＆＃39;＆＃39;＆＃39; main = driver .find_element_by_tag_name（＆＃39; main＆＃39;）范围（0,5）：action = webdriver .common .action_chains .actionchains（驱动程序）操作.move_to_element（main）\ .click_and_hold（main）\ .move_by_offset（118,0）\ .Lelease（main）\ .perform（）def move_to_next_point（）：＆＃39;＆＃39;单击下一个点箭头，没有，只要它和＃39; S＆＃39; S＆＃39;对于硒的会话相同。 ＆＃39;＆＃39;＆＃39; next_point = driver .find_element_by_css_selector（＆＃39; [填充=＃34; black＆＃34;]＆＃39;）action = webdriver .common.action_chains .actionchains（驱动程序）动作.click（next_point）.perform（）for _在范围内（0，number_of_screenshots）：screenshot_canvas（）move_to_next_point（）rotate_canvas（）驱动程序.close（） </p><p> The screenshots will also contain the GeoGuessr UI. I didn’t look into stripping it.</p><p>屏幕截图还将包含GeoGuessr UI。我没有看着它。</p><p>  I checked out the  PyTorch branch, downloaded the pretrained model, and installed the dependencies via  conda. I commend the repository’s README. The  requirements section was quite clear and I didn’t run into any problems on a fresh Ubuntu 20.04 box.</p><p>  我检查了Pytorch分支，下载了预先训练的模型，并通过公共区域安装了依赖关系。我赞扬了存储库的自述文件。要求部分非常清楚，我没有遇到新鲜Ubuntu 20.04盒子上的任何问题。</p><p> I picked the  World map on GeoGuessr for the showdown between human and machine. I gave the URL to my Selenium program and then ran inference against the four screenshots captured from GeoGuessr.</p><p> 我在人类和机器之间挑选了Geoguessr的世界地图。我向我的Selenium程序提供了URL，然后对从GeoGuessr捕获的四个截图进行推动。</p><p>  python -m classification.inference --image_dir ../images/ lat lngcanvas_1616446493 hierarchy 44.002556 -72.988518canvas_1616446507 hierarchy 46.259434 -119.307884canvas_1616446485 hierarchy 40.592514 -111.940224canvas_1616446500 hierarchy 40.981506 -72.332581</p><p>  蟒蛇-m classification.inference --image_dir ../images/ LAT lngcanvas_1616446493层次44.002556 -72.988518canvas_1616446507层次46.259434 -119.307884canvas_1616446485层次40.592514 -111.940224canvas_1616446500层次40.981506 -72.332581</p><p> I presented the same four screenshots to my wife. She guessed a point in Texas. The actual starting location was over in Pennsylvania. The machine, indecisively, had four different guesses for each of the four screenshots. All of the machine’s guesses were in the USA. Two very close ones and two further away.</p><p> 我向我的妻子展示了同样的四个截图。她猜到了德克萨斯州的一点。实际的起始地点在宾夕法尼亚州。无论如何，机器对四个屏幕截图中的每一个有四种不同的猜测。所有机器的猜测都在美国。两个非常接近的，两个人进一步。</p><p>   We played two more follow up rounds and the final results were 2-1 to the machine. The machine got quite close with a street in Singapore but failed to get anywhere near a snowy street in Canada (Madeline got the town in seconds).</p><p>   我们打出了两轮的再次，最终结果为2-1。这台机器在新加坡的一条街道很近，但未能在加拿大的一条雪街附近的任何地方（Madeline以秒为单位）。</p><p> I learned after writing this post that there’s some fantastic prior art on machine vs. human on the battleground of GeoGuessr. In  PlaNet - Photo Geolocation with Convolutional Neural Networks, Tobias Weyand, Ilya Kostrikov, and James Philbin also tried to determine the location of a photo from just its pixels.</p><p> 在写这篇文章后我了解到这篇文章，在Geoguessr战场上的机器与人类上有一些梦幻般的现有技术。在行星 - 与卷积神经网络的照片地理位理，托比亚斯Weyand，Ilya Kostrikov和James Philbin也试图从刚刚的像素确定照片的位置。 </p><p> To find out how PlaNet compares with human intuition, we let it compete against 10 well-traveled human subjects in a game of Geoguessr (www.geoguessr.com).</p><p>为了了解行星如何与人类直觉进行比较，我们让它在Geoguessr游戏中竞争10种旅行的人类受试者（www.geoguessr.com）。</p><p> [H]umans and PlaNet played a total of 50 different rounds. PlaNet won 28 of the 50 rounds with a median localization error of 1131.7 km, while the median human localization error was 2320.75 km.</p><p> [H]救扣和行星共出了50轮。 Planet赢得了50轮中的28次，中位数本地化误差1131.7公里，中位数人体定位错误是2320.75公里。</p><p>  The authors of  Geolocation Estimation of Photos using a Hierarchical Model and Scene Classification built a pretty neat web-tool. Here I’ve run it against one of the Selenium screenshots.</p><p>  使用分层模型和场景分类的照片地理位置估计作者构建了一个非常简洁的网络工具。在这里，我将它与其中一个屏幕截图运行。</p><p> A graphical demonstration where you can compete against the deep learning approach presented in the publication can be found on:  https://tibhannover.github.io/GeoEstimation/. We also created an extended web-tool that additionally supports uploading and analyzing your own images:  https://labs.tib.eu/geoestimation</p><p> 可以在出版物中竞争的图形演示可以找到：https://tibhannover.github.io/geoeStimation/。我们还创建了一个扩展的网络工具，另外还支持上传和分析您自己的图像：https://labs.tib.eu/geoestimation</p><p>   There are many reasons why trying to beat GeoGuessr (by which we mean out performing a human very often) with machine learning might be easier than locating any human-taken photo.</p><p>   试图击败GeoGuessr的原因有很多，因为机器学习可能比定位任何人类的照片更容易。</p><p> Compared to general geolocation estimation, in GeoGuessr we are (almost always) trying to find out which road we are on. This means more effort can be made into recognizing things which are always there – like road markings or car makes and models (both often betray a country). Effort could be made to travel down roads looking for road signs which provide the country’s language or the signage text could be used to search a look-up table.</p><p> 与通用地理定位估计相比，在GeoGuessr中，我们（几乎总是总是）试图找出我们所在的道路。这意味着更多的努力可以识别始终存在的东西 - 像路标或汽车一样，模型（经常背叛一个国家）。可以在寻找提供该国语言的道路标志的道路上进行努力，或者可以使用标牌文本来搜索查找表。</p><p> There are other markers, that some in the GeoGuessr community consider cheating, that a learning framework may pick up.</p><p> 还有其他标记，其中一些在地理学社区考虑作弊，即学习框架可能会接受。 </p><p> Looking downwards in street view will reveal part of the vehicle that captured the current photosphere. For example, in Kenya the front of the street view car has a black snorkel. Much of Vietnam was recorded on a motorbike and you can often see the rider’s helmet. Countries are often covered by the same car with a unique color or antenna.</p><p>向下俯视街景将显示捕获当前拍摄照片的车辆的一部分。例如，在肯尼亚的街道景色的前部有黑色浮潜。越南的大部分被记录在摩托车上，你经常看到骑手的头盔。各国通常由同一辆车覆盖，具有独特的颜色或天线。</p><p>  In other places, there are rifts in the sky where the photosphere stitching looks torn (largely in Senegal, Montenegro and Albania). Across Africa, there are sometimes escort cars that follow the street view car. There are different camera generations – with different resolutions, types of halo, colouring, and blurring at the bottom of the sphere. In the bottom corner of the photosphere there is the credit message – it usually has “Google” and a year but will occasionally have a photographer’s name.</p><p>  在其他地方，天空中存在裂缝，其中photosphere缝制看起来被撕裂（主要是塞内加尔，黑山和阿尔巴尼亚）。在非洲，有时护送汽车跟随街景车。有不同的相机代 - 具有不同的分辨率，晕圈类型，着色，以及球体底部的模糊。在Photosphere的底部角落里有信用信息 - 它通常有“谷歌”和一年，但偶尔会有摄影师的名字。</p><p> By exploiting these, I wouldn’t be surprised if a machine could take down even the best GeoGuessrers in a timed competition. In fact, I’ll go as far to say we are one research grant away from being categorically worse at GeoGuessr than machines.</p><p> 通过利用这些，如果机器可以在定时竞争中即使是最佳的地理位置，我就不会感到惊讶。事实上，我要去说，我们是一项研究授权，远离大于机器的地理位置。</p><p>  Comments or questions? I enjoy talking with readers over  email. I write about code. Get my posts, projects, and personal updates straight to your inbox!</p><p>  评论或问题？我喜欢通过电子邮件与读者交谈。我写了关于代码。将我的帖子，项目和个人更新直接到您的收件箱！ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://healeycodes.com/geoguessing-with-deep-learning/">https://healeycodes.com/geoguessing-with-deep-learning/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/深入/">#深入</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/deep/">#deep</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/geoguessr/">#geoguessr</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>