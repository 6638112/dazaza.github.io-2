<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>使用1.5行代码创建功能齐全的命令行界面</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">使用1.5行代码创建功能齐全的命令行界面</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-08-09 11:58:09</div><div class="story_img_container"><a href="http://img.diglog.com/img/2020/8/4dd8b15fc4ef1cf9cad0c0a4f8a9d356.png"><img src="http://img.diglog.com/img/2020/8/4dd8b15fc4ef1cf9cad0c0a4f8a9d356.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Fire for C++受python-fire的启发，是一个从函数签名创建命令行界面的库。以下是使用命令行将两个数字相加的整个程序：</p><p>#include&lt；iostream&gt；#include&lt；Fire.hpp&gt；int fired_main(int x=fire：：arg(&#34；-x&34；)，int y=fire：：arg(&#34；-y&34；){std：：cout&lt；&lt；x+y&lt；&lt；std：：endl；return 0；}fire(Fired_Main)。</p><p>这不是一个微不足道的样本数量，特别是对于简单的脚本。正因为如此，程序员有时会跳过可选部分，但这会导致显著的可用性成本。此外，许多库在转换步骤中完全没有帮助。</p><p>使用FIRE-HPP，您只需调用FIRE(...)。并定义论点。当fired_main()作用域开始时，所有四个步骤都已经完成。</p><p>典型构造，如Expanding-abc&lt；=&gt；-a-b-c and-x=1&lt；=&gt；-x 1。</p><p>配置/构建：cmake..。&amp；&amp；cmake--生成。(或将后面的命令替换为适当的构建系统调用，例如，Make-J8或忍者)。</p><p>如果遇到错误，请清除build目录，并使用cmake-D DISABLE_PEDANIC=..将Pedonic警告作为错误禁用。(鼓励您打开一期)。</p><p>Int fired_main(int x=fire：：arg(&#34；-x&#34；)，int y=fire：：arg(&#34；-y&34；)){//定义并转换参数std：：cout&lt；&lt；x+y&lt；&lt；std：：endl；//使用x和y，它们是整数！Return 0；}fire(Fired_Main)//调用fired_main()</p><p>Fire(函数名)fire(Fired_Main)扩展为定义程序入口点的实际main()函数，并激发fired_main()。调用FIRED_MAIN时不带参数，因此强制编译器使用默认的FIRE：：arg值。</p><p>Fire：：arg(标识符)接受参数的名称/速记/描述/位置的构造函数。对其中几个使用大括号随附列表(例如，Fire：：arg({&#34；-x&#34；，&#34；--较长名称&#34；，&#34；参数说明&#34；})或fire：：arg({0，&#34；零元素&#34；})。该库要求单字符速记使用单个破折号，多字符名称使用两个破折号，描述使用零破折号。Fire：：Arg对象应用作激发函数参数的默认值。有关详细信息，请参阅文档。</p><p>INT FIRED_MAIN(参数)这就是您认为的程序入口点。所有参数必须是bool、整数、浮点、fire：：可选&lt；T&gt；、std：：string或std：：Vector&lt；T&gt；类型，并且使用Fire：：Arg对象初始化的默认值(未能正确初始化将导致未定义的行为！)。请参阅转换以了解每种转换如何影响CLI。</p><p>火(...)。和Fire_no_space_Assignment(...)。两者都创建主函数来解析参数并调用...，但是它们在解析参数的方式上有所不同。火(...)。将PROGRAM-x 1解析为PROGRAM-x=1，但FIRE_NO_SPACE_ASSIGNMENT(...)。将-x解析为标志，将1解析为位置参数。</p><p>将位置参数和命名参数与空格分隔值混合使用无论如何都会造成糟糕的CLI，例如：程序a-xbc看起来不像a和c作为位置参数的-x=b。</p><p>标识符用于从命令行查找参数并提供说明。它可以由速记、详细名称、说明或职位组成(必须至少包含以下内容之一：速记、详细名称或职位)。如果只提供其中一个，则可以省略大括号。</p><p>如果未通过命令行提供值，则为默认值。可以是std：：string、整型或浮点类型，而Fire：：arg必须转换为相同类型。此默认设置也显示在帮助页面上。</p><p>为了方便地获取具有正确类型的参数并自动检查输入的有效性，Fire：：arg类定义了几个隐式转换。</p><p>将命令行上的参数值转换为相应的类型。如果无法转换或默认值的类型错误，则显示错误。</p><p>用于没有合理默认值的可选参数。这样就不会在帮助消息中打印默认值。基础类型可以是std：：string、整型或浮点型。</p><p>Fire：：Optional是std：：Optional的拆卸版本，具有与HAS_VALUE()、VALUE_OR()和VALUE()兼容的实现。</p><p>布尔标志在命令行上存在时为TRUE，在不存在时为FALSE。命令行上可以通过使用单个连字符作为前缀来打包多个单字符标志：-abc&lt；=&gt；-a-b-c。</p><p>获取所有位置参数的方法(不需要空间分配模式)。构造的对象可以转换为std：：Vector&lt；std：：string&gt；、std：：Vector&lt；整型&gt；或std：：Vector&lt；浮点类型&gt；。可以为帮助消息提供说明。使用Fire：：arg：：Vector禁止使用fire：：arg(索引)提取位置参数。</p><p>这个库使用广泛的测试。单元测试位于tests/中，而Examples/用作集成测试。后者还确保示例是最新的。在提交之前，请验证python3./build/tests/run_Standard_tests.py是否成功。</p><p>Ubuntu 18.04 clang=={3.5，3.6，3.7，3.8，3.9，4.0}：C++11，C++14，clang=={5.0，6.0，7.0，8.0，9.0}：C++11，C++14，C++17。</p><p>改进帮助消息帮助消息具有更好的组织(在用法和描述中分开位置参数、命名参数、标志等)</p><p>确保API用户在可选位置参数后使用必需的位置参数时收到错误消息。</p><p>保存(...)。关键字将参数括起来，即使不是所有必需的参数都存在或正确(例如，For--版本)</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/kongaskristjan/fire-hpp">https://github.com/kongaskristjan/fire-hpp</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/代码/">#代码</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/fully/">#fully</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/参数/">#参数</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1017080.html"><img src="http://img.diglog.com/img/2020/8/thumb_cf50f0dbf3cb92e2206ca21dfba577df.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1017080.html">PYSA：用于检测和预防Python代码中的安全问题的开源工具</a></div><span class="my_story_list_date">2020-8-9 11:57</span></div><div class="col-sm"><div><a target="_blank" href="/story/1016962.html"><img src="http://img.diglog.com/img/2020/8/thumb_53da66b10bfc5b34315995e688d34f6b.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1016962.html">Facebook正式开源Pysa，这是一个针对Python代码的静态分析工具，它在2020年上半年检测到了Instagram服务器端代码中44%的安全漏洞</a></div><span class="my_story_list_date">2020-8-8 7:32</span></div><div class="col-sm"><div><a target="_blank" href="/story/1016818.html"><img src="http://img.diglog.com/img/2020/8/thumb_74f8fc5e31d7f7c300a8543428d3d3a9.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1016818.html">英特尔正在调查其超过20 GB的源代码和私人数据泄露事件</a></div><span class="my_story_list_date">2020-8-7 8:8</span></div><div class="col-sm"><div><a target="_blank" href="/story/1016795.html"><img src="http://img.diglog.com/img/2020/8/thumb_d72bc9c7dd1af7ffdbae338f29ea025f.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1016795.html">“软件团队乔尔测试”本周末将迎来20周年纪念日。</a></div><span class="my_story_list_date">2020-8-7 7:20</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>