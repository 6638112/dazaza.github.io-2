<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>AMD 和 Valve 致力于新的 Linux CPU 性能扩展设计AMD and Valve Working on New Linux CPU Performance Scaling Design</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">AMD and Valve Working on New Linux CPU Performance Scaling Design<br/>AMD 和 Valve 致力于新的 Linux CPU 性能扩展设计</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-08-03 03:02:37</div><div class="page_narrow text-break page_content"><p>We Rely On Your Support: This site is primarily supported by advertisements.  Ads are what have allowed this site to be maintained for the past 16 years. We do our best to ensure only clean, relevant ads are shown, when any nasty ads are detected, we work to remove them ASAP. If you would like to view the site without ads while still supporting our work,  please consider  our ad-free Phoronix Premium. You can also consider  a tip via PayPal.   Along with other optimizations to benefit the Steam Deck, AMD and Valve have been jointly working on CPU frequency/power scaling improvements to enhance the Steam Play gaming experience on modern AMD platforms running Linux.   It&#39;s no secret that the ACPI CPUFreq driver code has at times been less than ideal on recent AMD processors with delivering less than expected performance/behavior with being slow to ramp up to a higher performance state or otherwise coming up short of disabling the power management functionality outright. AMD hasn&#39;t traditionally worked on the Linux CPU frequency scaling code as much as Intel does to their P-State scaling driver and other areas of power management at large.    AMD is ramping up efforts in these areas including around the Linux scheduler given their recent hiring spree while it now looks like thanks to the Steam Deck there is renewed interest in better optimizing the CPU frequency scaling under Linux.   AMD and Valve have been working to improve the performance/power efficiency for modern AMD platforms running on Steam Play (Proton / Wine) and have spearheaded &#34;[The ACPI CPUFreq driver] was not very performance/power efficiency for modern AMD platforms...a new CPU performance scaling design for AMD platform which has better performance per watt scaling on such as 3D game like Horizon Zero Dawn with VKD3D-Proton on Steam.&#34;   AMD will be presenting more about this effort next month at XDC. It&#39;s quite possible this new effort is focused on  ACPI CPPC support with the previously proposed AMD_CPUFreq. Back when Zen 2 launched in 2019, AMD did post patches for their new CPUFreq driver that leveraged ACPI Collaborative Processor Performance Controls but the driver was never mainlined nor any further iterations of the patches posted. When inquiring about that work a few times since then, AMD has always said it&#39;s been basically due to resource constraints that it wasn&#39;t a focus at that time. Upstream kernel developers also voiced their preference to seeing AMD work to improve the generic ACPI CPPC CPUFreq driver code rather than having another vendor-specific solution. It&#39;s also possible AMD has been working on better improvements around the now-default Schedutil governor for scheduler utilization data in making CPU frequency scaling decisions.   In any case, we are excited to see the AMD+Valve power/performance scaling improvements come to Linux. The Steam Deck leverages a Zen 2 based custom APU. If it&#39;s indeed leveraging ACPI CPPC, these Linux AMD platform improvements should benefit all Zen 2 hardware and newer (Zen 1 and prior lacking CPPC).   Hopefully AMD and Valve continue cooperating about further Linux optimizations both for on the CPU and graphics side. Already on the graphics side in recent years Valve has been employing multiple developers to improve Mesa with a particular focus on the RADV Vulkan driver and their work on the ACO compiler back-end and much more for significantly boosting the open-source Radeon advantage for Linux gamers.</p><p>我们依赖您的支持：本网站主要由广告支持。在过去的 16 年里，广告是使该网站得以维护的原因。我们尽最大努力确保只显示干净、相关的广告，当检测到任何令人讨厌的广告时，我们会尽快将其删除。如果您想在支持我们的工作的同时查看没有广告的网站，请考虑我们的无广告 Phoronix Premium。您也可以考虑通过 PayPal 支付小费。除了其他有益于 Steam 平台的优化之外，AMD 和 Valve 一直在共同致力于 CPU 频率/功率扩展改进，以增强运行 Linux 的现代 AMD 平台上的 Steam Play 游戏体验。众所周知，ACPI CPUFreq 驱动程序代码在最近的 AMD 处理器上有时不太理想，提供低于预期的性能/行为，缓慢上升到更高的性能状态或无法禁用电源管理功能彻底的。传统上，AMD 在 Linux CPU 频率缩放代码上的工作不像英特尔在其 P-State 缩放驱动程序和整个电源管理的其他领域那样多。鉴于最近的招聘热潮，AMD 正在这些领域加紧努力，包括围绕 Linux 调度程序，而现在看来多亏了 Steam 平台，人们对更好地优化 Linux 下的 CPU 频率缩放重新产生了兴趣。 AMD 和 Valve 一直致力于提高在 Steam Play（Proton / Wine）上运行的现代 AMD 平台的性能/能效，并率先提出“[ACPI CPUFreq 驱动程序] 对于现代 AMD 平台来说性能/能效不是很好......一种针对 AMD 平台的新 CPU 性能扩展设计，在 Steam 上使用 VKD3D-Proton 的 Horizo​​n Zero Dawn 等 3D 游戏中具有更好的每瓦扩展性能。” AMD 将在下个月的 XDC 上更多地介绍这项工作。这项新工作很可能侧重于使用先前提议的 AMD_CPUFreq 对 ACPI CPPC 的支持。早在 2019 年 Zen 2 推出时，AMD 确实为他们的新 CPUFreq 驱动程序发布了补丁，该驱动程序利用了 ACPI 协作处理器性能控制，但该驱动程序从未主线，也没有发布补丁的任何进一步迭代。从那以后几次询问这项工作时，AMD 一直说这基本上是由于资源限制，当时它不是重点。上游内核开发人员还表示，他们更愿意看到 AMD 努力改进通用 ACPI CPPC CPUFreq 驱动程序代码，而不是拥有另一个特定于供应商的解决方案。也有可能 AMD 一直在围绕现在默认的 Schedutil 调控器进行更好的改进，用于调度程序利用率数据，以做出 CPU 频率缩放决策。无论如何，我们很高兴看到 AMD+Valve 功率/性能扩展改进来到 Linux。 Steam 平台利用基于 Zen 2 的自定义 APU。如果它确实利用了 ACPI CPPC，那么这些 Linux AMD 平台改进应该使所有 Zen 2 和更新的硬件（Zen 1 和之前没有 CPPC）受益。希望 AMD 和 Valve 继续合作，在 CPU 和图形方面进一步优化 Linux。近年来，Valve 已经在图形方面聘请了多名开发人员来改进 Mesa，特别关注 RADV Vulkan 驱动程序及其在 ACO 编译器后端的工作，以及更多用于显着提升 Linux 的开源 Radeon 优势的工作游戏玩家。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/性能/">#性能</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/valve/">#valve</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/amd/">#amd</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1071210.html"><img src="http://img2.diglog.com/img/2021/8/thumb_1361b06937bf19bb40267a3ec51319b0.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1071210.html">Google 推出配备 6.4&quot; FHD+ 90Hz 显示屏的 Pixel 6 和配备 6.7&quot; QHD+ 120Hz 显示屏和 4 倍光学变焦的 Pixel 6 Pro，配备 Google 设计的 Tensor SoC</a></div><span class="my_story_list_date">2021-8-3 0:28</span></div><div class="col-sm"><div><a target="_blank" href="/story/1071171.html"><img src="http://img2.diglog.com/img/2021/8/thumb_eebd3451535c62ea7342662608b01786.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1071171.html">“球机”设计师乔治·罗兹去世</a></div><span class="my_story_list_date">2021-8-2 22:7</span></div><div class="col-sm"><div><a target="_blank" href="/story/1070815.html"><img src="http://img2.diglog.com/img/2021/7/thumb_786799b84cac4157da190e669e18aa7d.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1070815.html">Lumen：替代 BEAM 实现，专为 WebAssembly 设计</a></div><span class="my_story_list_date">2021-7-31 15:55</span></div><div class="col-sm"><div><a target="_blank" href="/story/1070693.html"><img src="http://img2.diglog.com/img/2021/7/thumb_4e3bb96925435accd92f0ec8302ecdcf.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1070693.html">设计专家 Scott Tong 概述了创始人在设计产品时应考虑的 4 个概念</a></div><span class="my_story_list_date">2021-7-31 1:41</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>