<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>带声音的DOS JavaScript画布</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">带声音的DOS JavaScript画布</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-08-18 17:29:46</div><div class="story_img_container"><a href="http://img.diglog.com/img/2020/8/91fdb3063f28c1c50be58a5913ea86c6.png"><img src="http://img.diglog.com/img/2020/8/91fdb3063f28c1c50be58a5913ea86c6.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>DOJS是一种JavaScript编程环境，适用于运行MS-DOS、FreeDOS或任何基于DOS的Windows(如95、98、ME)的系统。它具有集成编辑器、图形和声音输出、鼠标/键盘/操纵杆输入等功能(见下文)。灵感来自于维基百科上描述的处理过程：</p><p>Processing是一个开源图形库和集成开发环境(IDE)/游乐场，专为电子艺术、新媒体艺术和视觉设计社区构建，目的是在视觉环境中向非程序员传授计算机编程的基础知识。</p><p>它还具有p5js兼容模式，其中可以使用p5js的一些功能，并且脚本可以具有类似于处理草图的结构。</p><p>您可以使用内置的脚本或您最喜欢的文本编辑器键入脚本，然后在DOS命令提示符下运行它。</p><p>您可以在GitHub版本页面上找到二进制版本。只需解压缩存档内容并运行DOjS.exe即可。</p><p>DOJS在DOSBOX上运行，并在装有MS-DOS、FreeDOS或任何基于DOS的Windows(如Windows 95/98/ME)的真实硬件或虚拟机上运行。要使用3dfx/Glide支持，您需要一个巫毒卡或DOSBox-X(见下文)。</p><p>如果你在真实的硬件上运行，你至少需要一个4MB的80386。我推荐一台至少有32MB内存的奔腾级机器(&gt；=100 MHz)。示例文件在Athlon 1 GHz和256MB RAM上运行良好。</p><p>8/16/24和32位2D图形。在24/32位显示模式下，Alpha通道透明度可用。</p><p>/*该函数在脚本启动时调用一次。*/Function Setup(){PINK=new Color(241，66,244,255)；//定义粉色}/*重复此函数，直到按Esc或调用Stop()。*/Function Loop(){ClearScreen(EGA.。黑色)；TextXY(SizeX()/2，sizey()/2，&#34；Hello World！&#34；，PINK，NO_COLOR)；TextXY(10，10，&#34；rate=&#34；+GetFramerate()，EGA。布莱克，EGA。Light_Blue)；}/*此函数在任何输入上调用。*/函数输入(事件){str=JSON。Stringify(事件)；}。</p><p>使用DOjS.EXE Examples\exampl.js打开此脚本，或使用DOjS.EXE-r Examples\exampl.js运行该脚本，而无需先启动集成编辑器。如果脚本不存在，则编辑器加载新脚本的模板。</p><p>如果要使用p5js的语法编写脚本，则需要使用include(&#39；p5&#39；)；作为脚本的第一行。您可以在Examples/examplp5.js中找到以下示例：</p><p>Include(&#39；p5&#39；)；/*此函数在脚本启动时调用一次。*/Function Setup(){PINK=COLOR(241，66,244)；//定义粉色}/*重复此函数，直到按下Esc或调用Stop()。*/函数Draw(){Background(EGA.。黑色)；笔触(粉色)；填充(粉色)；文本(&#34；Hello p5js World！&#34；，width/2，Height/2)；笔划(EGA.。浅蓝色)；填充(EGA.。Light_Blue)；文本(&#34；rate=&#34；+getFrameRate()，10，10)；}。</p><p>有关更多信息，请参阅本自述末尾的用法部分和API文档。也请看下面的示例。</p><p>DOJS支持与3dfx加速卡一起使用的大部分Glide3API。支持以下硬件：</p><p>此外，您可以使用DOSBox-X，它模拟巫毒1卡。Glide函数可以在文档的3dfx-module中找到，Javascript支持函数有&#34；fx&34；前缀，所有本机函数都有&#34；fx&#34；前缀。详细的Glide3-API文档可以在互联网上找到，例如在FalconFly Central上。确保你抓取的是Glide3SDK，而不是Glide2！</p><p>可以使用随附的DOS版本的TEXUS.EXE将位图转换为可以作为纹理加载的3DF纹理文件。</p><p>！！！注意！3dfx/Glide3支持仅适用于纯DOS，而不适用于Windows9x的DOS/命令窗口！在尝试使用任何FX函数之前，请确保始终引导至纯DOS提示符！在使用3dfx/Glide3支持之前，您需要将相应的GLIDE3X.DXE复制到与DOJS.EXE相同的目录中。您可以通过使用分发ZIP存档中的V_XXX.BAT脚本来完成此操作。</p><p>您可以在任何现代Linux(以下说明适用于基于Debian的发行版)或使用Windows Subsystem for Linux(WSL)的Windows 10上编译DOJS。按照本指南设置Windows Subsystem for Linux(WSL)(我使用的是Ubuntu 18.04 LTS)。</p><p>根据本指南构建并安装DJGPP 7.2.0。我使用以下命令行更新/安装依赖项：</p><p>Sudo apt-获取更新udo apt-get dist-upgradesudo apt-get install bison flex curl GCC g++make texinfo zlib1g-dev g++unzip HTOP Screen git bash-Complete build-Essential npm zip-g jsdocsudo npm install-g tui-jsdoc-template。</p><p>在文本编辑器中打开Makefile，并根据您的安装将路径更改为DJGPP。</p><p>现在，您可以使用Make Clean All编译DOjS了。这可能需要一些时间，因为依赖项相当大。Make Distlean也将清除依赖项。Make zip将创建分发ZIP，make doc将重新创建HTML帮助。</p><p>为了编译DOjS，您需要Glide3Includes和二进制文件。包含在DOjS源代码中的那些是使用GitHub上的My Glide存储库创建的。</p><p>GRX字体受麻省理工学院和其他许可。有关详细信息，请参阅许可证中的Coping.grx。</p><p>这段代码取自金树公司Hotwarez LLC的游戏Cylindrix，在GPLv2下发布。</p><p>此二进制分发中的文件可以在GPL(带源代码)下重新分发，也可以在没有提供源代码的情况下重新分发。</p><p>该代码在3dfx Glide源代码通用公共许可证下获得许可。源代码可在https://github.com/SuperIlu/glide获得。</p><p>DZComm串行库作为礼品发布。有关详细信息，请参阅dzcomm文件夹中的readme.txt。</p><p>DOJS的标识狗是从Pexels下载的，由Iago Garcia Garcia亲切提供。</p><p>徽标字体是Jeff Davis根据SIL开放字体许可证版本1.1提供的漫画浮雕。</p><p>MIDI文件是从Freedoom项目下载的，并根据本许可证进行许可。</p><p>用法：DOjS.EXE[-r][-s][-f][-a]&lt；script&gt；[脚本参数]-r：不调用编辑器，只运行脚本。-w&lt；width&gt；：屏幕宽度：320或640，默认值：640。-b&lt；bpp&gt；：每像素位数：8、16、24、32。默认值：32。-s：没有波音。-F：没有调频音响。-a：禁用alpha(加快渲染速度)。</p><p>F1：打开/关闭帮助Shift-F1：函数上下文帮助F3：保存脚本F4：运行脚本F7：查找文本F9：显示/关闭日志文件F10：退出Shift-F4：截断日志文件并运行脚本Shift-F7：再次查找CTRL-D：删除当前行Shift+移动：选择文本。松开Shift键取消选择CTRL-C：复制选定内容CTRL-X：剪切选定内容CTRL-V：粘贴CTRL-LEFT：上一字CTRL-RIGHT：下一字CTRL/PAGE-UP：上一页CTRL/PAGE-DOWN：下一页HOME：转到行尾：转到行尾CTRL-HOME：转到行首CTRL-END：转到行尾TAB：插入空格直到下一页TAB-停在光标SHIFT-TAB：可以通过在日志查看器中按DEL键截断日志文件。</p><p>您可以在doc/html/director.cn中找到完整的API文档。请转到p5.js主页查看p5.js参考。</p><p>脚本需要提供三个函数：setup()、Loop()和input()。脚本是自上而下加载和执行的。之后，调用一次setup()，然后重复调用Loop()。每当发生键盘输入的鼠标时，都会调用input()。</p><p>此函数在设置后重复调用，直到调用stop()。在调用stop()之后，程序在Loop()退出时结束。</p><p>DOJS支持IPX联网。节点地址是由0-255之间的6个数字组成的数组。默认套接字编号和广播地址定义可以在jsboot/ipx.js中找到。</p><p>将include(&#39；p5&#39；)；添加为脚本的第一行。在此之后，您将拥有(有限的)p5.js兼容性。不起作用的东西：</p><p>所有通过print()和Println()的输出都被发送到文件JSLOG.TXT。您可以改用Debug()，并且只有在设置全局变量DEBUG=TRUE时才会生成输出。</p><p>此功能允许您通过IPX网络和第二台计算机调试正在运行的脚本。要使用远程日志记录，请执行以下操作：</p><p>通过设置DEBUG=TRUE启用调试，通过REMOTE_DEBUG=TRUE启用远程调试。您可以修改JSBOOT\FUNC.JS或更改脚本开头的变量。</p><p>这对于DOSBox的两个实例也很有效。请注意，如果日志消息传输得很快，则DOJS的接收实例在显示时可能会跳过其中的一些。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/SuperIlu/DOjS">https://github.com/SuperIlu/DOjS</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/java/">#java</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/声音/">#声音</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/脚本/">#脚本</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1018428.html"><img src="http://img.diglog.com/img/2020/8/thumb_9677254c7a3947ba79672240e5568027.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1018428.html">ZzFXM-一个小型JavaScript音乐系统</a></div><span class="my_story_list_date">2020-8-16 9:6</span></div><div class="col-sm"><div><a target="_blank" href="/story/1018178.html"><img src="http://img.diglog.com/img/2020/8/thumb_17a6d962d6597bb93e9f05439b0f864a.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1018178.html">JavaScript代码自动玩Google Dinosaur/T-Rex游戏</a></div><span class="my_story_list_date">2020-8-15 2:57</span></div><div class="col-sm"><div><a target="_blank" href="/story/1018021.html"><img src="http://img.diglog.com/img/2020/8/thumb_69d8844ec29b8efb6a4ec2bc5a3f1bcc.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1018021.html">JavaScript人脸检测和识别库2020</a></div><span class="my_story_list_date">2020-8-14 20:36</span></div><div class="col-sm"><div><a target="_blank" href="/story/1017898.html"><img src="http://img.diglog.com/img/2020/8/thumb_a68659abdf44b8748eb20f0203cc055a.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1017898.html">42正在招聘软件工程师(远程)-JavaScript/Python/Spark</a></div><span class="my_story_list_date">2020-8-13 13:20</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>