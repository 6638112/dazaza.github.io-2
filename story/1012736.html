<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Kubectl-配置指南</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Kubectl-配置指南</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-07-18 23:20:53</div><div class="story_img_container"><a href="http://img.diglog.com/img/2020/7/dd916dc66ec5e2cfafc5d579c5621528.jpg"><img src="http://img.diglog.com/img/2020/7/dd916dc66ec5e2cfafc5d579c5621528.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Kubectl配置文件的主要位置是$HOME/.kube，默认情况下，我们有一个名为config的配置文件：</p><p>[node1~]$cd$HOME/.kube[node1.kube]$ls-lahtal4.0Kdrwxr-xr-x 1 root root 37 Mar 12 20：48.dr-xr-x-1 root root 19 11月29 11：46.drwxr-x-3 root 23 Mar 12 20：48 ccherrwxrwxrwx 1 root 26 11月29 11：46 config-&gt。</p><p>我们可以检查当前配置(它将为空，因为我的附加_CONFIG文件中没有任何内容-我们稍后会添加一些内容-而这只是我的KUBECONFIG变量中的文件)：</p><p>[node1~]$kubectl config--kubeconfig=.kube/config视图api版本：V1群集：-CLUSTER：CERTIFICATE-AUTHORITY-DATA：DATA+省略的服务器：https：//192.168.0.38：6443名称：Kubernetes上下文：-CONTEXT：CLUSTER：KUBERNETES USER：KUBERNETES-ADMIN@KUBERNETES-ADMIN@KUBERNETES CURRENT-CONTEXT：KUBERNETES-ADMIN@KUBERNETES。</p><p>如果不设置KUBECONFIG变量，则所有配置都将从$HOME/.kube/config中获取。</p><p>[node1~]$kubectl config--kubeconfig=.kube/additional_config set-cluster dev--SERVER=https://192.168.1.100--CERTIFICATE-AUTHORITY=FAKE-CACLUSTER&#34；DEV&34；SET。[node1~]$kubectl config--kubeconfig=.kube/additional_config set-cluster prod--SERVER=https://10.1.1.100--CERTIFICATE-AUTHORITY=FAKE-CACLUSTER&#34；PROD&34；SET。</p><p>[node1~]$kubectl config--kubeconfig=.kube/additional_config set-credentials developer--client-Certificate=fake-cert-file--client-key=fake-key-seefileUser&#34；developer&#34；set。[node1~]$kubectl config--kubeconfig=.kube/Additional_config Set-Credentials prod_admin--client-Certificate=fake-cert-file--client-key=fake-key-seefileUser&#34；prod_admin&#34；set。</p><p>[node1~]$kubectl config--kubeconfig=.kube/additional_config set-context simple_app_development--cluster=dev--nampace=simple_app_dev--user=developerContext&#34；simple_app_development&#34；已创建。[node1~]$kubectl config--kubeconfig=.kube/Additional_config set-context simple_app_product--cluster=prod--nampace=simple_app_prod--user=prod_adminContext&#34；simple_app_product&#34；已创建。</p><p>[node1~]$kubectl config--kubeconfig=.kube/additional_config视图apiVersion：V1群集：-cluster：Certificate-Authority：/root/fake-ca server：https：//192.168.1.100名称：dev-cluster：Certificate-Authority：/root/fake-ca server：https：//10.1.1.100名称：Prod Context：-Context：cluster：dev命名空间：SIMPLE_APP_DEV用户：开发人员名称：Prod命名空间：SIMPLE_APP_PROD用户：PROD_ADMIN名称：SIMPLE_APP_PRODUCTION CURRENT-CONTEXT：&#34；&#34；Kind：配置首选项：{}用户：-name：开发人员用户：client-Certificate：/root/fake-cert-file客户端密钥：/root/fake-key-seefile-name：prod_admin用户：client-Certificate：/root/fake-cert-file客户端密钥：/root/fake-key-seefile。</p><p>要获取上下文列表(不需要--kubeconfig，因为我们已将附加_CONFIG添加到KUBECONFIG变量)：</p><p>[node1~]$kubectl config get-contextCURRENT名称群集AUTHINFO命名空间SIMPLE_APP_DEVICATION DEV Developer SIMPLE_APP_DEV SIMPLE_APP_PRODUCTION PROD_ADMIN SIMPLE_APP_PROD。</p><p>Kubeconfig上下文作为bash提示符-来自Gardener的Georgi-shell技巧和Windows CLI方法</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://knowledgepill.it/posts/kubernetes-kubectl-client-config/">https://knowledgepill.it/posts/kubernetes-kubectl-client-config/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/配置/">#配置</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/config/">#config</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1006218.html"><img src="http://img.diglog.com/img/2020/6/thumb_05906a1f5eb959f4da193cf03dbc787f.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1006218.html">错误配置的Kubeflow工作负载存在安全风险</a></div><span class="my_story_list_date">2020-6-12 6:28</span></div><div class="col-sm"><div><a target="_blank" href="/story/1000868.html"><img src="http://img.diglog.com/img/2020/5/thumb_bb39fc5f5572f24637e119426ca069ed.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1000868.html">增量测试：在单一回购的配置项上节省时间和资金</a></div><span class="my_story_list_date">2020-5-6 10:49</span></div><div class="col-sm"><div><a target="_blank" href="/story/technology_hardware_762024.html"><img src="http://img.diglog.com/img/2013/6/thumb_77f07e09-d59a-4a35-8d5c-f307256a9b36.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_hardware_762024.html">树莓派(Respberry Pi)USB无线网卡配置方法</a></div><span class="my_story_list_date">2013-6-30 18:45</span></div><div class="col-sm"><div><a target="_blank" href="/story/technology_internet_114216.html"><img src="http://img.diglog.com/img/2008/12/thumb_50e7ebf5d9d7475db32f1d0b01ea44f3.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_internet_114216.html">2008全球PC游戏玩家硬件调查结果揭晓</a></div><span class="my_story_list_date">2008-12-23 9:8</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>