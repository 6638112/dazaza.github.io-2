<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如何利用金融市场的自相关 How to Utilise Autocorrelation for the Financial Markets</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">How to Utilise Autocorrelation for the Financial Markets<br/>如何利用金融市场的自相关 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-04-17 20:25:12</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/4/264b61a4ad653878841d3de83edcf4da.jpeg"><img src="http://img2.diglog.com/img/2021/4/264b61a4ad653878841d3de83edcf4da.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>The term  autocorrelation is used to refer to the correlation between observations in the same time series. Essentially, an autocorrelated time series is one that is correlated with a lagged version of itself.</p><p>术语自相关术语用于指同一时间序列之间观察之间的相关性。基本上，自相关时间序列是与本身的滞后版本相关的。</p><p> This is hugely important for the discovery of cyclical trends in a dataset. It helps us establish whether we can predict a repeated underlying pattern and add our residual variations on top of this. This can significantly help us in building our forecasts, because it provides the building block of any time series analysis -&gt; the trend.</p><p> 这对于发现数据集中的周期性趋势非常重要。它有助于我们确定我们是否可以预测重复的底层模式，并在此之上增加我们的剩余变化。这可以显着帮助我们建立我们的预测，因为它提供了任何时间序列分析的构建块 - ＆gt;趋势。</p><p> Autocorrelation is a summary statistic of our data. In order to define it, we have to discuss its components, which are in themselves, also summary statistics.</p><p> 自相关是我们数据的摘要统计信息。为了定义它，我们必须讨论其本身的组件，也概述统计数据。</p><p> The  expectation of a variable x is the mean value of that variable, denoted as E(x) or the greek symbol mu.</p><p> 变量x的期望是该变量的平均值，表示为e（x）或希腊符号mu。</p><p> The  variance of a variable is a measure of the spread of the data, specifically the expectation of the deviations from the mean squared, denoted as Var(x) = E[(x - mu)^2].</p><p> 变量的方差是数据传播的量度，特别是与平均平方的偏差的期望表示为var（x）= e [（x-mu）^ 2]。</p><p> The  standard deviation is another and more common metric for the spread of the data, since its units is the same as the data itself. It is represented by the greek letter sigma and calculated as the square root of the variance.</p><p> 标准偏差是数据传播的另一个和更常见的度量，因为其单位与数据本身相同。它由希腊字母Sigma表示，并计算为方差的平方根。</p><p> The  covariance tells us how much two variables vary together, or “co-vary”. This is a useful measure to understand how two variables are correlated and is calculated using the following formula -&gt; sigma(x,y) = E[(x - mu_x)(y - mu_y)].</p><p> 协方差告诉我们两个变量在一起的变化，或“共同变化”。这是了解两个变量相关的有用措施，并使用以下公式计算 - ＆gt; sigma（x，y）= e [（x-mu_x）（y-mu_y）]。 </p><p>   An issue with our covariance measure is similar to that of the variance, in that this metric does not give us any comparable information. As an example, if you take the previous year of GBPUSD and GBPCHF prices, plotted below and calculate their covariance, we get a figure of 0.000382. This doesn’t tell us too much, there’s no limits for the values, all we can infer is that these two variables move together, since our covariance is greater than 0.</p><p>我们的协方差措施的问题类似于方差的问题，因为该度量标准没有给我们任何可比信息。作为一个例子，如果您参加前一年的GBPUSD和GBPCHF的价格，绘制下面并计算他们的协方差，我们得到了0.000382的数字。这并没有告诉我们太多，价值没有限制，我们可以推断的只是这两个变量一起移动，因为我们的协方差大于0。</p><p>  Enter  correlation, which standardises our covariance by dividing it by the product of our two standard deviations. This ensures that our figure now has a minimum value of -1, a maximum value of +1, which makes it far easier for us to compare values. The correlation between GBPUSD and GBPCHF for the past year is 0.7514, which makes far more sense given the chart.</p><p>  输入相关性，通过将我们的两个标准偏差的产品分开来标准使用我们的协方差。这可确保我们的数字现在具有-1的最小值，最大值+1，这使我们更容易比较值。 GBPUSD和GBPCHF之间过去一年之间的相关性为0.7514，这对图表给出了更有意义。</p><p> Autocorrelation requires one parameter, a lag k, the number of time steps our original time series is shifted to create our new one. We then calculate the correlation between these two time series using the same method just described, returning a figure, as before, in the range of [-1,1].</p><p> 自相关需要一个参数，延迟k，我们原始时间序列的时间次数转移以创建新的步骤。然后，我们使用刚刚描述的相同方法计算这两个时间序列之间的相关性，返回一个图，如前所述，在[-1,1]的范围内。</p><p>  In Python, we make use of the  statsmodels package to run an autocorrelation calculation and visualisation, abbreviated as an acf plot. We can pass a parameter  lags to the  plot_acf() method which sets the max lags we wish to calculate autocorrelation for. The code below shows the implementation of this.</p><p>  在Python中，我们使用StatsSmodels包来运行自相关计算和可视化，缩写为ACF图。我们可以将参数滞后传递给Plot_acf（）方法，该方法设置我们希望计算自相关的MAX LAG。下面的代码显示了此实现。</p><p>  The shaded blue figure shows us a 5% significance boundary. If we observe a correlation outside this value, this indicates that we have enough evidence to suggest significant autocorrelation within our dataset.</p><p>  阴影的蓝色图显示了5％的重要性边界。如果我们观察到这个值之外的相关性，这表明我们有足够的证据表明我们的数据集中的显着自相关。</p><p>  The inference from autocorrelation is not as simple as just finding the lag value with the highest correlation number. There are a few concepts that we should be aware of when we are analysing acf graphs.</p><p>  从自相关的推断并不像找到具有最高相关数的滞后值一样简单。当我们分析ACF图表时，我们应该注意一些概念。</p><p> Every lag contains the same dataset used in our calculations, so if we have one lag (other than 0, since the correlation for this would always be 1) that has a correlation significantly outside our boundary, we expect subsequent values to follow suit and also show high correlation. For us as analysts, this is not an ideal situation, when you look at the GBPUSD acf plot below this becomes apparent. We’ve taken almost 2 decades of history of incremental changes between each time period and the result of this is that our legs are all very close to 1. I will go into this in some more detail in next week’s article on Random Walk Models, where I will provide the formula to explain exactly how this phenomenon arises.</p><p> 每个遗失包含在我们计算中使用的相同数据集，因此如果我们有一个滞后（除了0之外，因为这将永远是1），那么在我们的边界之外具有显着相关的相关性，我们希望随后的值遵循西装和显示高相关。对于我们作为分析师来说，这不是一个理想的情况，当你看看下面的GBPUSD ACF Plot时变得明显。我们在每次期间之间采取了近2年的增量变化历史，结果是我们的腿都非常接近1.我将在下周的随机步行车型中更详细地进入这一点，在我将提供公式，以准确地解释这种现象是如何产生的。 </p><p>  The kind of chart we see above doesn’t give us much direction in terms of building a forecast and the reason for that is because we can’t tie any autocorrelation to an external variable. When we see a time series that shows high correlation for certain lags, we need to be able to understand why those lags occur from a logical perspective. If we can’t explain the reason behind the correlation, then we don’t have a sophisticated model we can build, because in that case all we’re doing is using past data to try and predict future data without any additional intelligence.</p><p>我们看到的那种图表在构建预测的方面并没有向我们提供大量方向，而是因为我们无法将任何自相关绑定到外部变量。当我们看到为某些滞后显示高相关的时间序列时，我们需要能够理解为什么这些滞后从逻辑的角度出现。如果我们无法解释相关性背后的原因，那么我们就没有一个复杂的模型，我们可以构建，因为在这种情况下我们正在做的是使用过去的数据来尝试和预测未来的数据，而无需任何额外的智能。</p><p> As an example, take the dataset visualised below, which measures the number of sunspots each year over 3 centuries (1700 - 2008). Roughly every 11 years, the magnetic field of the sun flips and the north and south pole essentially switch places. At the beginning of each cycle, the sun has the lowest number of sunspots, whilst during the middle period it has the highest. This has become a measure of identifying how far through its Solar Cycle the Sun actually is.</p><p> 例如，拍摄下面可视化的数据集，该数据集每年衡量3世纪超过3世纪的太阳黑子数量（1700  -  2008）。大约每11年，磁场的太阳翻转和北极基本上切换地。在每个周期的开始时，太阳有太阳黑子数量最低，同时它具有最高的。这已成为识别通过其太阳循环的距离实际上是多远的措施。</p><p>   The point I’m trying to raise through this example is that we have an external cause here. When we look at the autocorrelation charts, we see significant positive correlation at lags 10 and 11 and then 21 and 22. A chart like the one we see here is far more beneficial to an analyst because we have an underlying reason for why specific lags reject our initial hypothesis.</p><p>   我正在尝试通过这个例子提出的重点是我们在这里有一个外部原因。当我们查看自相关图表时，我们在LAG 10和11然后21和22中看到了显着的正相关。像我们在这里看到的图表对分析师更有利于，因为我们有一个潜在的理由为什么特定的滞后拒绝为什么我们的初步假设。</p><p> Autocorrelation isn’t always guaranteed to give you insights that will help you create a model. However, it is useful to check if your time series is at any point in time repeating past behaviour, because a deeper study might reveal more similarities between periods of economic activity that you can then use for future analysis and forecasts.</p><p> 自相关并不总是保证为您提供有助于您创建模型的见解。然而，检查您的时间序列是否在重复过去行为的任何时间点，因为更深入的研究可以揭示您可以使用的经济活动期间更深入的研究，以便将来用于将来分析和预测。</p><p>  This article is inspired by the information from Chapter 8 of Advanced Algorithmic Trading by Michael Halls Moore on Serial Correlation.</p><p>  本文的灵感来自Michael Halls Moore在串行相关性上由高级算法交易第8章的信息。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://algofin.substack.com/p/how-to-calculate-and-analyse-autocorrelation">https://algofin.substack.com/p/how-to-calculate-and-analyse-autocorrelation</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/金融市场/">#金融市场</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/相关/">#相关</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>