<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Distcc –同时在多台计算机上分发构建版本（2006） Distcc – distribute builds across multiple machines simultaneously (2006)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Distcc – distribute builds across multiple machines simultaneously (2006)<br/>Distcc –同时在多台计算机上分发构建版本（2006） </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-02 08:16:43</div><div class="page_narrow text-break page_content"><p>Speed, it seems to me, provides the one genuinely modern pleasure.  — Aldous Huxley distcc is a program to distribute builds of C, C++, Objective C or Objective C++ code across several machines on a network. distcc should always generate the same results as a local build, is simple to install and use, and is usually much faster than a local compile.  distcc does not require all machines to share a filesystem, have synchronized clocks, or to have the same libraries or header files installed. They can even have different processors or operating systems, if cross-compilers are installed.  Just wanted to drop you a line to say that we are now using distcc at work andit is excellent. We have a rack of opteron machines that we use forcomputational tasks and we are now using them as a compile farm to compileour ~1MLOC C++ tree (which can take an hour on a single CPU to recompile ifwe change certain header files). We tried using Sun&#39;s grid engine to do this(we already use it to schedule our computational jobs), but the combinationof its polled operation and the overhead of NFS led to little improvement(and greatly stressed our network). With distcc compile times are way downand my productivity has greatly improved; the two best features for me areits low impact on the network and its simplicity.</p><p>在我看来，速度提供了一种真正的现代乐趣。 — Aldous Huxley distcc是一个程序，用于在网络上的多台计算机上分发C，C ++，Objective C或Objective C ++代码的构建。 distcc应该始终生成与本地版本相同的结果，易于安装和使用，并且通常比本地编译要快得多。 distcc不需要所有机器共享一个文件系统，同步时钟或安装相同的库或头文件。如果安装了交叉编译器，它们甚至可以具有不同的处理器或操作系统。只是想让您说一句，我们现在正在使用distcc，它非常好。我们有一架用于执行计算任务的opteron机器，现在我们将它们用作编译场来编译〜1MLOC C ++树（如果更改某些头文件，则可能需要一个小时在单个CPU上进行重新编译）。我们尝试使用Sun的网格引擎来执行此操作（我们已经使用它来调度我们的计算作业），但是将其轮询操作和NFS开销结合起来并没有带来什么改善（并且极大地增加了我们的网络压力）。随着distcc编译时间的减少，我的工作效率大大提高了；对我来说，两个最好的功能是对网络的影响小且简单。</p><p>  For each machine,  download distcc	 unpack, and do	   ./configure &amp;&amp; make &amp;&amp; sudo make install  On each of the servers, run  distccd --daemon, with  --allow options to restrict access.  Put the names of the servers in your environment:   export DISTCC_POTENTIAL_HOSTS=&#39;localhost red green blue&#39;   Build!   Wrap your build command in the &#34;pump&#34; script and use &#34;distcc&#34; as your C compiler:   cd ~/work/myproject; pump make -j8 CC=distcc</p><p>  对于每台机器，下载distcc解压缩，然后执行./configure＆amp;＆amp;制作＆amp;＆amp; sudo make install在每个服务器上，运行distccd --daemon和--allow选项以限制访问。将服务器的名称放入您的环境中：export DISTCC_POTENTIAL_HOSTS =＆＃39; localhost红色绿色蓝色＆＃39;建立！将构建命令包装在＆＃34; pump＆＃34;中。脚本并使用＆＃34; distcc＆＃34;作为您的C编译器：cd〜/ work / myproject;泵品牌-j8 CC = distcc</p><p> For more detailed installation instructions, see the INSTALL file. distcc is developed on GNU/Linux, but has been reported to work on other systems including FreeBSD, NetBSD, Darwin, Solaris, HP-UX, IRIX, Cygwin and BSD/OS.  distcc sends the complete preprocessed source code across the network for each job, so all it requires of the volunteer machines is that they be running the  distccd daemon, and that they have an appropriate compiler installed.  distcc is not itself a compiler, but rather a front-end to the  GNU C/C++ compiler (gcc) and  LLVM compiler (clang). (There is preliminary support for some other compilers but the main focus is gcc.) Almost all gcc options and features work as normal.  distcc is designed to be used with the  -j parallel-build feature in  GNU Make or  SCons, or other build tools. Shipping files across the network takes time, but few cycles on the client machine. Any files that can be built remotely are essentially &#34;for free&#34; in terms of client CPU.  distcc has been under development since early 2002. It reliably and successfully compiles large, complex free and proprietary software systems. Programs known to build correctly with distcc include the  Linux kernel,  rsync,  KDE,  GNOME (via  GARNOME),  Samba and  Wireshark.  distcc is nearly linearly scalable for small numbers of machines: Building Linux 2.4.19 on a single 1700MHz Pentium IV machine with distcc 0.15 takes 6 minutes, 45 seconds. Using distcc across three such machines on a 100Mbps switch takes only 2 minutes, 30 seconds:  2.6x faster. The (unreachable) theoretical maximum speedup is 3.0x, so in this case distcc scales with 89% efficiency.  You don&#39;t need a lot of machines to benefit:  a laptop and a single desktop is much faster than a laptop alone.  There are several tools available separately that enhance or complement distcc:  ccache	 caches compiler output to accelerate builds.  dmucs helps distcc select appropriate servers.  ccontrol 	gives centralized control of parallelism, caching and distribution 	even while the build is running.</p><p> 有关更详细的安装说明，请参阅INSTALL文件。 distcc是在GNU / Linux上开发的，但据报道可在其他系统上工作，包括FreeBSD，NetBSD，Darwin，Solaris，HP-UX，IRIX，Cygwin和BSD / OS。 distcc为每个作业通过网络发送完整的预处理源代码，因此，志愿机器所需要的只是它们正在运行distccd守护程序，并且已安装了适当的编译器。 distcc本身不是编译器，而是GNU C / C ++编译器（gcc）和LLVM编译器（clang）的前端。 （对其他一些编译器有初步支持，但主要关注点是gcc。）几乎所有gcc选项和功能都可以正常工作。 distcc设计为与GNU Make或SCons中的-j并行构建功能一起使用，或与其他构建工具一起使用。通过网络传送文件需要时间，但是在客户端计算机上的循环很少。基本上可以免费构建的任何可以远程构建的文件。在客户端CPU方面。 distcc自2002年初开始开发。它可靠且成功地编译了大型，复杂的自由和专有软件系统。已知可以使用distcc正确构建的程序包括Linux内核，rsync，KDE，GNOME（通过GARNOME），Samba和Wireshark。 distcc对于少量机器几乎可以线性扩展：在使用distcc 0.15的1700MHz Pentium IV机器上构建Linux 2.4.19需要6分45秒。在100Mbps交换机上的三台此类计算机上使用distcc只需2分钟30秒：快2.6倍。 （无法达到的）理论最大加速比是3.0倍，因此在这种情况下distcc的缩放效率为89％。您不需要大量机器即可受益：笔记本电脑和单个台式机比单独的笔记本电脑快得多。可以单独使用几种增强或补充distcc的工具：ccache缓存编译器输出以加快构建速度。 dmucs帮助distcc选择合适的服务器。即使构建在运行中，ccontrol也可以对并行性，缓存和分发进行集中控制。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://distcc.github.io/">https://distcc.github.io/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/构建/">#构建</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/distcc/">#distcc</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>