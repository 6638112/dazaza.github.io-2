<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>PyPy项目寻求赞助以增加对Apple Silicon的支持 PyPy Project looking for sponsorship to add support for Apple Silicon</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">PyPy Project looking for sponsorship to add support for Apple Silicon<br/>PyPy项目寻求赞助以增加对Apple Silicon的支持 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-01 08:06:24</div><div class="page_narrow text-break page_content"><p>Looking for sponsorship Apple now ships Macs which are running on an arm64 variant machine with thelatest version of MacOS, Big Sur M1. We are getting requests for PyPy tosupport this new architecture. Here is our position on this topic (or at leastmine, Armin Rigo&#39;s), and how you can help.</p><p>寻找赞助商苹果现在提供了Mac，这些Mac运行在具有最新版本的MacOS Big Sur M1的arm64变体计算机上。我们正在要求PyPy支持这种新架构。这是我们在该主题（或至少是Armin Rigo的主题）上的立场，以及如何提供帮助。</p><p> Porting PyPy is harder than just re-running the compiler, because PyPy containsa few big architecture-dependent &#34;details&#34;, like the JIT compiler and theforeign function interfaces (CFFI and ctypes).</p><p> 移植PyPy不仅比重新运行编译器还难，因为PyPy包含一些与体系结构有关的大细节，例如JIT编译器和外部函数接口（CFFI和ctypes）。</p><p> Fixing the JIT compiler should not be too much work: we already support arm64,just the Linux one. But Apple made various details different (like the callingconventions). A few other parts need to be fixed too, notably CFFI and ctypes,again because of the calling conventions.</p><p> 修复JIT编译器应该不会做太多工作：我们已经支持arm64，仅支持Linux。但是苹果公​​司将各种细节做了不同（例如召集惯例）。同样，由于调用约定，还需要修复其他一些部分，尤其是CFFI和ctypes。</p><p> Fixing that would be a reasonable amount of work. I would do it myself for asmall amount of money. However, the story doesn&#39;t finish here. Obviously, the start of the story would be to get ssh access to a Big Sur M1 machine. (If atthis point you&#39;re thinking &#34;sure, I can give you ssh access for three months&#34;,then please read on.) The  next part of the story is that we need a machineavailable long term. It can be either a machine provided and maintained by athird party, or alternatively a pot of money big enough to support theacquision of a machine and ongoing work of one of us.</p><p> 解决该问题将是一项合理的工作。我会自己花一点钱去做。但是，故事还没有到此结束。显然，故事的开始将是通过SSH访问Big Sur M1机器。 （如果此时您正在考虑并确定，我可以给您ssh访问权限三个月，然后请继续阅读。）故事的下一部分是我们需要长期可用的计算机。它既可以是由第三方提供和维护的机器，也可以是足够大的钱来支持对机器的购置和我们其中一个人的日常工作。</p><p> If we go with the provided-machine solution: What we need isn&#39;t a lot ofresources. Our CI requires maybe 10 GB of disk space, and a few hours of CPUper run. It should fit into 8 GB of RAM. We normally do a run every night butwe can certainly lower the frequency a bit if that would help. However, we&#39;dideally like some kind of assurance that you are invested into maintaining themachine for the next 3-5 years (I guess, see below). We had far too manymachines that disappeared after a few months.</p><p> 如果我们使用提供的机器解决方案：我们需要的资源不是很多。我们的CI可能需要10 GB的磁盘空间，并需要几个小时的CPU运行时间。它应该适合8 GB的RAM。我们通常每天晚上进行一次跑步，但是如果有帮助的话，我们当然可以降低频率。但是，我们非常希望您可以在未来3-5年内对机器的维护投入一定的保证（我想，请参阅下文）。我们有太多的机器在几个月后消失了。</p><p> If we go with the money-supported solution: it&#39;s likely that after 3-5 yearsthe whole Mac base will have switched to arm64, we&#39;ll drop x86-64 support forMac, and we&#39;ll be back to the situation of the past where there was only onekind of Mac machine to care about. In the meantime, we are looking at 3-5years of lightweight extra maintenance. We have someone that has said he woulddo it, but not for free.</p><p> 如果我们采用资金支持的解决方案：3-5年后，整个Mac基础可能会切换到arm64，我们将放弃对Mac的x86-64支持，并且将回到过去的情况，那里只需要一种Mac机器。同时，我们正在研究3-5年的轻量级额外维护。我们有一个人说他会这样做，但不是免费的。</p><p> If either of these two solutions occurs, we&#39;ll still have, I quote, &#34;probablysome changes in distutils-type stuff to make python happy&#34;, and then somepackaging/deployment changes to support the &#34;universal2&#34; architecture, i.e.including both versions inside a single executable (which will  not be just anextra switch to clang, because the two versions need a different JIT backendand so must be translated separately).</p><p> 如果出现这两种解决方案中的任何一种，我都会引用distutils类型的东西中可能会有一些更改以使python满意，然后进行一些打包/部署更改以支持＆＃34 ; universal2＆＃34;架构，即将两个版本都包含在一个可执行文件中（这不仅是向clang的额外切换，因为两个版本需要不同的JIT后端，因此必须分别翻译）。 </p><p> So, now all the factors are on the table. We won&#39;t do the minimal &#34;just theJIT compiler fixes&#34; if we don&#39;t have a plan that goes farther. Either we getsufficient money, and maybe support, and then we can do it quickly; or PyPywill just remain not natively available on M1 hardware for the next 3-5 years.We are looking forward to supporting M1, and view resources contributed bythe community as a vote of confidence in assuring the future of PyPy on thishardware. Contact us:  pypy-dev@python.org, or our private mailinglist  pypy-z@python.org.</p><p>因此，现在所有因素都摆在桌面上。我们不会做的只是JIT编译器的最小修复程序。如果我们没有更远的计划。我们要么有足够的资金，也许还有支持，然后我们就可以迅速做到。或PyPy在接下来的3-5年内将不再在M1硬件上本地可用。我们期待支持M1，并将社区贡献的资源视为对确保PyPy在此硬件上的未来充满信心的投票。与我们联系：pypy-dev@python.org，或我们的私人邮件列表pypy-z@python.org。</p><p> Looking for sponsorship Apple now ships Macs which are running on an arm64 variant machine with thelatest version of MacOS, Big Sur M1. We are getting requests for PyPy tosupport this new architecture. Here is our position on this topic (or at leastmine, Armin Rigo&#39;s), and how you can help.</p><p> 寻找赞助商苹果现在提供了Mac，这些Mac运行在具有最新版本的MacOS Big Sur M1的arm64变体计算机上。我们正在要求PyPy支持这种新架构。这是我们在该主题（或至少是Armin Rigo的主题）上的立场，以及如何提供帮助。</p><p> Porting PyPy is harder than just re-running the compiler, because PyPy containsa few big architecture-dependent &#34;details&#34;, like the JIT compiler and theforeign function interfaces (CFFI and ctypes).</p><p> 移植PyPy不仅比重新运行编译器还难，因为PyPy包含一些与体系结构有关的大细节，例如JIT编译器和外部函数接口（CFFI和ctypes）。</p><p> Fixing the JIT compiler should not be too much work: we already support arm64,just the Linux one. But Apple made various details different (like the callingconventions). A few other parts need to be fixed too, notably CFFI and ctypes,again because of the calling conventions.</p><p> 修复JIT编译器应该不会做太多工作：我们已经支持arm64，仅支持Linux。但是苹果公​​司将各种细节做了不同（例如召集惯例）。同样，由于调用约定，还需要修复其他一些部分，尤其是CFFI和ctypes。</p><p> Fixing that would be a reasonable amount of work. I would do it myself for asmall amount of money. However, the story doesn&#39;t finish here. Obviously, the start of the story would be to get ssh access to a Big Sur M1 machine. (If atthis point you&#39;re thinking &#34;sure, I can give you ssh access for three months&#34;,then please read on.) The  next part of the story is that we need a machineavailable long term. It can be either a machine provided and maintained by athird party, or alternatively a pot of money big enough to support theacquision of a machine and ongoing work of one of us.</p><p> 解决该问题将是一项合理的工作。我会自己花一点钱去做。但是，故事还没有到此结束。显然，故事的开始将是通过SSH访问Big Sur M1机器。 （如果此时您正在考虑并确定，我可以给您ssh访问权限三个月，然后请继续阅读。）故事的下一部分是我们需要长期可用的计算机。它既可以是由第三方提供和维护的机器，也可以是足够大的钱来支持对机器的购置和我们其中一个人的日常工作。</p><p> If we go with the provided-machine solution: What we need isn&#39;t a lot ofresources. Our CI requires maybe 10 GB of disk space, and a few hours of CPUper run. It should fit into 8 GB of RAM. We normally do a run every night butwe can certainly lower the frequency a bit if that would help. However, we&#39;dideally like some kind of assurance that you are invested into maintaining themachine for the next 3-5 years (I guess, see below). We had far too manymachines that disappeared after a few months.</p><p> 如果我们使用提供的机器解决方案：我们需要的资源不是很多。我们的CI可能需要10 GB的磁盘空间，并需要几个小时的CPU运行时间。它应该适合8 GB的RAM。我们通常每天晚上进行一次跑步，但是如果有帮助的话，我们当然可以降低频率。但是，我们非常希望您可以在未来3-5年内对机器的维护投入一定的保证（我想，请参阅下文）。我们有太多的机器在几个月后消失了。</p><p> If we go with the money-supported solution: it&#39;s likely that after 3-5 yearsthe whole Mac base will have switched to arm64, we&#39;ll drop x86-64 support forMac, and we&#39;ll be back to the situation of the past where there was only onekind of Mac machine to care about. In the meantime, we are looking at 3-5years of lightweight extra maintenance. We have someone that has said he woulddo it, but not for free.</p><p> 如果我们采用资金支持的解决方案：3-5年后，整个Mac基础可能会切换到arm64，我们将放弃对Mac的x86-64支持，并且将回到过去的情况，那里只需要一种Mac机器。同时，我们正在研究3-5年的轻量级额外维护。我们有一个人说他会这样做，但不是免费的。 </p><p> If either of these two solutions occurs, we&#39;ll still have, I quote, &#34;probablysome changes in distutils-type stuff to make python happy&#34;, and then somepackaging/deployment changes to support the &#34;universal2&#34; architecture, i.e.including both versions inside a single executable (which will  not be just anextra switch to clang, because the two versions need a different JIT backendand so must be translated separately).</p><p>如果出现这两种解决方案中的任何一种，我都会引用distutils类型的东西中可能会有一些更改以使python满意，然后进行一些打包/部署更改以支持＆＃34 ; universal2＆＃34;架构，即将两个版本都包含在一个可执行文件中（这不仅是向clang的额外切换，因为两个版本需要不同的JIT后端，因此必须分别翻译）。</p><p> So, now all the factors are on the table. We won&#39;t do the minimal &#34;just theJIT compiler fixes&#34; if we don&#39;t have a plan that goes farther. Either we getsufficient money, and maybe support, and then we can do it quickly; or PyPywill just remain not natively available on M1 hardware for the next 3-5 years.We are looking forward to supporting M1, and view resources contributed bythe community as a vote of confidence in assuring the future of PyPy on thishardware. Contact us:  pypy-dev@python.org, or our private mailinglist  pypy-z@python.org.</p><p> 因此，现在所有因素都摆在桌面上。我们不会做的只是JIT编译器的最小修复程序。如果我们没有更远的计划。我们要么有足够的资金，也许还有支持，然后我们就可以迅速做到。或PyPy在接下来的3-5年内将不再在M1硬件上本地可用。我们期待支持M1，并将社区贡献的资源视为对确保PyPy在此硬件上的未来充满信心的投票。与我们联系：pypy-dev@python.org，或我们的私人邮件列表pypy-z@python.org。</p><p>  Posted by Armin Rigo</p><p>  发表者Armin Rigo </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://morepypy.blogspot.com/2020/12/mac-meets-arm64.html">https://morepypy.blogspot.com/2020/12/mac-meets-arm64.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/项目/">#项目</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/project/">#project</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/pypy/">#pypy</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>