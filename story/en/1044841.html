<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>为单行地址输入禁用Safari自动填充（2019） Disabling Safari AutoFill for a single line address input (2019)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Disabling Safari AutoFill for a single line address input (2019)<br/>为单行地址输入禁用Safari自动填充（2019） </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-18 13:11:16</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/1/c75ef9d9cc163902e555326103eb4424.jpeg"><img src="http://img2.diglog.com/img/2021/1/c75ef9d9cc163902e555326103eb4424.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Filling out a form on mobile is tedious — as the user jumps from input to input, the previous information entered becomes out of view and difficult to return to. In an effort to simplify the address collection process, we are moving away from asking the user to enter each item of their address into a separate input. Instead, we collect their entire address in a single input, similar to the way the Google Maps works.</p><p>在移动设备上填写表格很乏味-随着用户从输入到输入的跳跃，先前输入的信息变得不可见，并且难以返回。为了简化地址收集过程，我们不再要求用户将其地址的每个项目输入到单独的输入中。相反，我们在一次输入中收集了他们的整个地址，类似于Google Maps的工作方式。</p><p> Although AutoFill (or Autocomplete, depending on what the browser calls it) is designed to assuage the original concern of filling multiple inputs, it does not behave well when those inputs are combined. In our case, when we ask the user to provide a street address, city, and state in a single input, AutoFill only populates the field with one of the values.</p><p> 尽管“自动填充”（或“自动完成”，取决于浏览器所称的名称）旨在缓解最初填充多个输入的问题，但是当合并这些输入时，它的表现并不理想。在我们的例子中，当我们要求用户在单个输入中提供街道地址，城市和州时，AutoFill仅使用值之一填充该字段。</p><p>  For simplicity sake, let’s assume that our input tag is defined as such:</p><p>  为了简单起见，假设我们的输入标签定义如下：</p><p>  Safari will populate the input with the user’s stored state, “GA”, when the user was expecting it to populate it with “123 Main St, Atlanta, GA”.</p><p>  当用户期望Safari用“ GA Main St，Atlanta，GA”填充输入时，Safari将使用用户的存储状态“ GA”填充输入。</p><p>   This problem exists in all browsers. Currently, no browser AutoFill can neatly concatenate multiple address pieces into a single input. However, the solution for these browsers is more straightforward and documented. In Chrome and Firefox, you can thwart attempts to auto fill by setting the input type equal to “search” and autocomplete to “off”.</p><p>   在所有浏览器中都存在此问题。当前，没有浏览器的自动填充功能可以将多个地址片段整齐地串联到一个输入中。但是，针对这些浏览器的解决方案更加简单明了且已记录在案。在Chrome和Firefox中，您可以通过将输入类型设置为“搜索”并将自动完成设置为“关闭”来阻止自动填充尝试。</p><p>    After some trial-and-error investigation and experimentation, we found that Safari’s AutoFill makes a best attempt effort to determine which AutoFill field it should populate the input with. Safari evaluates the input’s attributes in this order: name, placeholder, and label. If Safari finds that the name does not contain any of the keywords, it will fall back to the placeholder text and so on.</p><p>    经过反复试验和实验，我们发现Safari的AutoFill尽最大努力确定应使用哪个AutoFill字段填充输入内容。 Safari会按以下顺序评估输入的属性：名称，占位符和标签。如果Safari发现该名称不包含任何关键字，它将退回到占位符文本，依此类推。</p><p>  &lt;label&gt; Address &lt;input type=“search” placeholder=“City” name=“state” /&gt; &lt;/label&gt;</p><p>  ＆lt;标签＆gt;地址＆lt;输入类型=“搜索”占位符=“城市”名称=“州” /＆gt; ＆lt; / label＆gt; </p><p> If multiple values exists it will use the last value — in this case, “State”.</p><p>如果存在多个值，它将使用最后一个值-在这种情况下为“状态”。</p><p>   Up until version 7, Safari used to respect the value of the autocomplete attribute, so setting it to “off” would work. Most modern browsers now choose to ignore the value of autocomplete, so this solution no longer works. You can find the full table of autocomplete support  here.</p><p>   直到第7版，Safari一直使用autocomplete属性的值，因此将其设置为“ off”即可。现在，大多数现代浏览器都选择忽略自动完成的值，因此该解决方案不再起作用。您可以在此处找到自动完成支持的完整表格。</p><p>  Another option was to set autocomplete to an invalid value, such as “false”. This works in some browsers because the browser can’t interpret the value, so it does not attempt to show AutoFill.</p><p>  另一种选择是将自动完成设置为无效值，例如“ false”。这在某些浏览器中有效，因为浏览器无法解释该值，因此它不会尝试显示“自动填充”。</p><p>  If you don’t want to use a name attribute, another approach is to insert the equivalent unicode characters into your placeholder.</p><p>  如果您不想使用name属性，另一种方法是将等效的unicode字符插入占位符。</p><p>    You should also be aware that this makes your site less accessible to vision-impaired users as screen readers will be unable to correctly read the placeholder text.</p><p>    您还应该注意，这会使视力障碍的用户无法访问您的站点，因为屏幕阅读器将无法正确阅读占位符文本。</p><p>  We didn’t have a label element, just an input  with a placeholder value. Our solution was to add a name attribute with the word “search” in it. Safari considers “search” a valid AutoFIll value and maps it to an input that does not require AutoFIll, so it doesn’t attempt to check the values for placeholder or label. We were unable to find a Safari AutoFIll regex list ,such as the  AutoFill Regex provided by Chrome. We cannot say which values other than “search” would prevent AutoFill from showing.</p><p>  我们没有标签元素，只有带有占位符值的输入。我们的解决方案是在名称属性中添加单词“ search”。 Safari认为“搜索”有效的AutoFIll值并将其映射到不需要AutoFIll的输入，因此它不会尝试检查占位符或标签的值。我们找不到Safari自动填充正则表达式列表，例如Chrome提供的自动填充正则表达式。我们不能说“搜索”以外的其他值会阻止自动填充显示。</p><p> &lt;input type=“search” autocomplete=“off” placeholder=“Street address, city, state” name=“searchTerm” /&gt;</p><p> ＆lt;输入类型=“搜索”自动完成=“关”占位符=“街道地址，城市，州”名称=“搜索项” /＆gt; </p><p>  Inserting text with the word “search” into the name attribute will prevent Safari from showing the AutoFill icon and keyboard option. This works because Safari performs a regex and maps “search” to an input that does not require the AutoFill.</p><p>在名称属性中插入带有“搜索”一词的文本将阻止Safari显示“自动填充”图标和键盘选项。 之所以可行，是因为Safari执行正则表达式并将“搜索”映射到不需要自动填充的输入。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://bytes.grubhub.com/disabling-safari-autofill-for-a-single-line-address-input-b83137b5b1c7">https://bytes.grubhub.com/disabling-safari-autofill-for-a-single-line-address-input-b83137b5b1c7</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/地址/">#地址</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/safari/">#safari</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/输入/">#输入</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>