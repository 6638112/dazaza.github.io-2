<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Linux内核接受SM2(中文)国家秘密算法</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Linux内核接受SM2(中文)国家秘密算法</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-30 12:33:56</div><div class="page_narrow text-break page_content"><p>On October 25, a developer posted that the SM2 national secret algorithm was finally accepted by the Linux kernel community.  The author stated that the SM2 patch has been updated to version v7. This version of the patch was finally accepted by the community. It has been    merged into the 5.10-rc1 of the Linux mainline   . If nothing   else  , it will be officially released in the 5.10 kernel version.</p><p>10月25日，有开发者发帖称，SM2国密算法终于被Linux内核社区接受。作者声明SM2补丁已经更新到版本v7。这个版本的补丁最终被社区接受。它已经合并到Linux主线的5.10-RC1中。如果没有其他事情，它将在5.10内核版本中正式发布。</p><p>  National Secret is the abbreviation of National Commercial Encryption. The National Encryption Administration Bureau formulates algorithm standards, and it also formulates a large number of product and interface specifications and application scenarios.  Since 2012, the State Cryptography Administration has successively published SM2/SM3/SM4 and other cryptographic algorithm standards and their application specifications in the form of the &#34;People&#39;s Republic of China Password Industry Standards&#34;.  Among them, &#34;SM&#34; stands for &#34;commercial secret&#34;, which is a cryptographic technology used for commercial use that does not involve state secrets.</p><p>National Secret是National Commercial Encryption的缩写。国家加密管理局制定了算法标准，也制定了大量的产品和接口规范和应用场景。自2012年以来，国家密码管理局陆续以中华人民共和国密码行业标准的形式发布了SM2/SM3/SM4等密码算法标准及其应用规范。其中，&lt;foreign language=“English”&gt;SM&lt;/foreign&gt;代表&lt;foreign language=“English”&gt;商业秘密&lt;/foreign&gt;，这是一种不涉及国家秘密的商用密码技术。</p><p>  According to the author, the current Linux kernel has well supported the SM3 and SM4 algorithms, thanks to the widespread use of wireless LAN standards.  However, the SM2 algorithm and the national secret certificate have not been supported for a long time, and it is impossible to establish full-stack trust and integrity verification in the kernel based on the national secret. Therefore, it has become urgent to support this system in the kernel.</p><p>根据作者的说法，由于无线局域网标准的广泛使用，当前的Linux内核已经很好地支持SM3和SM4算法。但是，SM2算法和国密证书长期不被支持，不可能基于国密在内核中建立全栈信任和完整性验证。因此，在内核中支持该系统已成为当务之急。</p><p>  It took 7 rounds for the kernel community to accept SM2.  The initial consideration was to migrate from openssl, but the openssl architecture and infrastructure code needed to be ported because of the huge workload.  After several rounds of discussion and testing, I found that the existing libgcrypt already has a complete elliptic curve basic algorithm, so I tried to implement SM2 in libgcrypt first, and finally the SM2 algorithm was accepted by the community as a sub-algorithm of ECC.  After that, SM2 was gradually accepted by the kernel community.</p><p>内核社区花了7轮时间才接受SM2。最初的考虑是从OpenSSL迁移，但由于巨大的工作负载，需要移植OpenSSL体系结构和基础设施代码。经过几轮的讨论和测试，我发现现有的libgcrypt已经有了一个完整的椭圆曲线基本算法，所以我首先尝试在libgcrypt中实现SM2，最后SM2算法被社区接受为ECC的一个子算法。此后，SM2逐渐被内核社区接受。</p><p>  At present, libgcrypt has fully supported the national secret algorithm SM2/3/4, and these implementations will be officially released in the next version 1.9.0.  At the same time, as a user-mode tool for IMA integrity signatures, ima-evm-utils&#39; support for national secrets has not fallen.  Click to view    related submissions   .</p><p>目前，libgcrypt已全面支持国密算法SM2/3/4，这些实现将在下一版本1.9.0中正式发布。与此同时，作为IMA完整性签名的用户模式工具，ima-evm-utills&#39；对国家机密的支持率并没有下降。单击以查看相关提交。</p><p>    To support national secret certificate verification, SM2 either does not compile, or it must be built-in compilation, and does not support compilation into modules.  Of course, SM2, as an asymmetric algorithm, only signs a hash or IMA verification based on national secrets, and there is no such limitation.</p><p>为了支持国家秘密证书验证，SM2要么不编译，要么必须内置编译，不支持编译成模块。当然，SM2作为一种非对称算法，只对基于国家机密的HASH或IMA验证进行签名，没有这样的限制。</p><p>  The IMA signature tool ima-evm-utils and the national secret algorithm used by the kernel to calculate the SM3 hash of the file do not add Za. This is a little difference from the specification.</p><p>IMA签名工具ima-evm-utils和内核用来计算文件的SM3散列的国家秘密算法没有添加Za。这和说明书有一点不同。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.codetd.com/en/article/12031985">https://www.codetd.com/en/article/12031985</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/算法/">#算法</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/内核/">#内核</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/chinese/">#chinese</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1032172.html"><img src="http://img2.diglog.com/img/2020/10/thumb_8e14106858486c437024bab167895bd9.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032172.html">Linux游戏将会变得更好</a></div><span class="my_story_list_date">2020-10-30 6:35</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031923.html"><img src="http://img2.diglog.com/img/2020/10/thumb_99194f67e5542018f2c1c325832cade0.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031923.html">Linux可执行文件中有什么？</a></div><span class="my_story_list_date">2020-10-29 12:5</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031876.html"><img src="http://img2.diglog.com/img/2020/10/thumb_6b6739de6498c22a43a4a89275ba0e7b.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031876.html">Dn2l-Dos Navigator开源项目的Linux移植</a></div><span class="my_story_list_date">2020-10-29 10:29</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031674.html"><img src="http://img2.diglog.com/img/2020/10/thumb_aa894409fa807c74d89e9d9ad6dea94c.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031674.html">将MacOS作为虚拟化操作系统运行的Linux PC比hackinstosh更快</a></div><span class="my_story_list_date">2020-10-28 9:30</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>