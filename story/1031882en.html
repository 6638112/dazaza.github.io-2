<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>软件正确性很像用牙线清洁</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">软件正确性很像用牙线清洁</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-29 10:31:20</div><div class="page_narrow text-break page_content"><p>My work brings me though a lot of software correctness techniques, things like type theory, test-driven development (TDD), and formal methods. The surrounding communities all have the same problem: they can’t get people using these techniques. They all ask “Don’t people care about correct software?” To which the insiders usually answer “programmers don’t care about correctness, they just care about shoveling out garbage to make money!”</p><p>我的工作带给我很多软件正确性技术，比如类型理论、测试驱动开发(TDD)和形式化方法。周围的社区都有同样的问题：他们无法让人们使用这些技术。他们都会问“难道人们不关心正确的软件吗？”对于这一点，业内人士通常会回答“程序员不在乎正确性，他们只关心把垃圾铲出来赚钱！”</p><p> I’ve heard this from every single community I’ve explored, many of which are in direct conflict with each other. Bertrand Meyer, the main popularizer of Design by Contract,  1 wrote an essay  attacking functional programming, while many TDD advocates reject formal methods entirely. Every single one of these communities can point at the other ones and say “they don’t care about correctness, they just want to shovel crap out”, and those communities can say the same things right back at them. A very nice symmetry, isn’t it?</p><p>我从我考察过的每个社区都听到了这一点，其中许多社区彼此之间存在直接冲突。契约式设计(Design By Contract)的主要推广者伯特兰·迈耶(Bertrand Meyer)1写了一篇文章抨击函数式编程，而许多TDD倡导者则完全反对形式化方法。这些社区中的每一个都可以指着其他社区说“他们不在乎正确性，他们只想把垃圾铲出去”，而那些社区也可以对他们说同样的话。对称性很好，不是吗？</p><p> Which means that they’re not seeing the bigger picture. An explanation of why programmers “don’t care about correctness” shouldn’t just be post-hoc rationalizations. Here’s my main argument for why most programmers don’t  seem to care about software correctness:</p><p>这意味着他们没有看到更大的图景。对为什么程序员“不在乎正确性”的解释不应该仅仅是事后的合理化。对于为什么大多数程序员似乎不关心软件正确性，我的主要论点是：</p><p>  Whenever I pose this in a discussion, I get the same answer: everyone thinks root canals are worse, and at most half of the group flosses daily. That’s ridiculous! Flossing takes like three minutes a day. But people don’t do it because it’s fiddly, annoying, and inconvenient. If people are unwilling to do something simple to keep their teeth from rotting, why should we expect people to use annoying inconvenient tools to improve software?</p><p>每当我在讨论中提出这个问题时，我得到的答案都是一样的：每个人都认为根管更糟糕，每天最多有一半的人使用牙线。那太荒谬了!。用牙线清洁牙齿一天大概需要三分钟。但人们不这么做是因为它太麻烦、太烦人、太不方便。如果人们不愿意做一些简单的事情来防止他们的牙齿腐烂，为什么我们要指望人们使用恼人的不方便的工具来改进软件呢？</p><p> Some purely anecdotal evidence I have in favor of this is that I vastly prefer to use TDD with Ruby than with other languages, entirely because of  rspec. Rspec is the most pleasant unit testing library I’ve ever used. It was easy to set up, easy to tweak, and easy to read and write. To add to this, there’s a huge array of Ruby libraries, like  factorybot and  capybara, to handle the inconveniences of TDD. I don’t have hard numbers, but I’d  speculate that a far greater percentage of Rails projects use TDD vs projects in other web frameworks. Part of this is culture, sure, but the affordances in rspec certainly help.</p><p>我有一些纯粹的轶事证据支持这一点，那就是与其他语言相比，我更喜欢在Ruby中使用TDD，这完全是因为RSpec。RSpec是我使用过的最令人愉快的单元测试库。它很容易设置，很容易调整，也很容易读写。除此之外，还有大量的Ruby库，如factorybot和capybara，来处理TDD带来的不便。我没有确切的数字，但我推测使用TDD的Rails项目比使用其他Web框架的项目比例要高得多。当然，部分原因是文化，但RSpec的负担能力肯定会有所帮助。</p><p> I’ve also seen a lot of my friends get more excited about type systems because they started using Elm or Typescript. If you are Too Online you’ve probably seen essays attacking these two for either being unsound (in the case of Typescript) or for  lacking typeclasses (in the case of Elm). On the other hand, these languages are much more UI/UX oriented and provide significant tooling affordances. Elm is famous for its  compiler error messages and Typescript has great IDE integration. Both of these play a significant role in user adoption. Many people then migrate from these two languages to more “hardcore” type systems, like PureScript or Haskell. Experienced people are willing to tolerate more inconvenience for more power.</p><p>我也看到我的很多朋友对打字系统更感兴趣，因为他们开始使用Elm或TypeScript。如果你太在线了，你可能看过抨击这两个人的文章，要么是不健全的(在打字稿的情况下)，要么是因为缺少类型类(在Elm的情况下)。另一方面，这些语言更多地面向UI/UX，并提供了大量的工具。ELM以其编译器错误消息而闻名，并且TypeScript具有很好的IDE集成。这两个因素在用户采用方面都起着重要作用。然后，许多人从这两种语言迁移到更“核心”的系统，如PureScript或Haskell。有经验的人愿意忍受更多的不便，以换取更多的权力。</p><p> That tolerance might be why insiders don’t see inconvenience as a serious issue and prefer “easier” explanations, like developer laziness. But inconvenience is a serious barrier to beginners and interested outsiders. And when inconvenience isn’t addressed- or even acknowledged- in the community then it’s a signal that the community doesn’t care about growth. So it’s not just that user-friendliness makes it easier for people to use these techniques, it also makes it easier for them to commit. They are more likely to believe that the community has the user’s best interests in mind.</p><p>这种宽容可能就是为什么内部人士不认为不便是一个严重的问题，而更喜欢“更容易”的解释，比如开发人员的懒惰。但对于初学者和感兴趣的外来者来说，不便是一个严重的障碍。当社区中的不便问题没有得到解决，甚至没有得到承认时，这就是一个信号，表明社区并不关心增长。因此，这不仅仅是因为用户友好性使人们更容易使用这些技术，也使他们更容易提交。他们更有可能相信社区把用户的最大利益放在心上。</p><p> One reason I don’t like the “developers don’t care” excuse is that it’s too nihilistic. If that’s the case, there is nothing that we can do to encourage people to use better correctness techniques. Changing “developers don’t care” would mean changing the fundamental culture of our society, which is way above our pay grades. On the other hand, if adoption is a “flossing problem”, then it’s within our power to change. We can improve our UI/UX, we can improve our teaching methods, and we can improve our auxiliary tooling. I’ve seen this work in my own life. I’ve done a lot of educational outreach for formal methods and have seen spectacular results. A lot of those “apathetic” developers started using formal methods once learning it was easier.</p><p>我不喜欢“开发人员不关心”这个借口的一个原因是它太虚无主义了。如果是这样的话，我们无法鼓励人们使用更好的正确性技术。改变“开发商不在乎”将意味着改变我们社会的基本文化，这远远超出了我们的工资等级。另一方面，如果领养是一个“用牙线清洁的问题”，那么这是我们有能力改变的。我们可以改进我们的UI/UX，我们可以改进我们的教学方法，我们可以改进我们的辅助工具。我在自己的生活中见过这样的作品。我已经做了很多正规方法的教育推广，并看到了令人惊叹的结果。很多“不感兴趣”的开发人员在学习正式方法变得更容易之后就开始使用正式方法。</p><p>  I suspect there are three major reasons why people avoid “convenience” explanations for tool adoption:  2</p><p>我怀疑人们避免对工具采用进行“方便”解释有三个主要原因：2。</p><p> Once you’re an expert in something, it’s really easy to work around the inconveniences, so people may not even realize that things  are inconvenient.  3 This is sometimes called  expert blindness.</p><p>一旦你成为某方面的专家，就很容易绕过这些不便之处，所以人们甚至可能没有意识到事情是不方便的。3这有时被称为专家性失明。</p><p> Convenience sounds like “polish”, a nice-to-have that gets pushed to the wayside when budgets are limited. Performance and security are thrown out under time crunch, so why should usability be any different?</p><p>便利听起来像是“波兰语”，当预算有限时，它会被推到一边。在时间紧迫的情况下，性能和安全性都被抛弃了，那么可用性又有什么不同呢？</p><p> Similarly, in academia, UI/UX is low prestige work. Academics can’t publish papers about how they made a tool easier to use, even if improving usability would dramatically improve industry adoption. The incentive structures are all messed up.</p><p>同样，在学术界，UI/UX也是低声望的作品。学者们不能发表关于他们如何使工具更易于使用的论文，即使提高可用性会极大地提高行业采用率。激励结构都是乱七八糟的。</p><p> UI/UX is  really hard and requires a skill set completely distinct from the skills required to technically address software correctness. This means a lot of the core contributors and early adopters of a tool aren’t equipped to make it more convenient.</p><p>UI/UX真的很难，需要与从技术上解决软件正确性所需的技能完全不同的技能集。这意味着工具的许多核心贡献者和早期采用者并没有准备好让它更方便。</p><p> Fortunately, there are low hanging fruit that can be provided by the communities without needing fundamental changes to tools. I contribute through writing documentation. There’s also providing snippets and cookbooks. Higher level UI abstractions help, too: we could probably increase  property-based testing adoption by providing input generators more sophisticated than the core primitives, or by developing test generators like  ghostwriter and  QuickSpec. These don’t make the tools easy, but it makes them  easier. Some people who were “just barely” put off will take the plunge, growing the community and bringing in people who can help shift the usability window more in the future.</p><p>幸运的是，社区可以提供一些容易摘到的果实，而不需要对工具进行根本性的更改。我通过撰写文档进行贡献。还提供了一些小吃和食谱。更高级别的UI抽象也有帮助：我们可能会通过提供比核心原语更复杂的输入生成器，或者通过开发ghostWriter和QuickSpec等测试生成器来增加基于属性的测试采用率。这些不会让工具变得简单，但会让它们变得更容易。一些“勉强”被推迟的人将会冒险一试，扩大社区，并引入一些能够在未来更多地帮助改变可用性窗口的人。</p><p> Ultimately adoption is a optimization problem: where do you best invest resources for the good of the community? Some communities aren’t interested in growth at all and that’s fine. Some may decide that improving things for existing users is more important than finding new ones, and that’s also fine. But for communities who want to go mainstream, it’s a mistake to blame outsiders for not seeing the light. Maybe you just have a grimy window.</p><p>归根结底，采用是一个优化问题：为了社区的利益，您最好将资源投入到哪里？有些社区对增长一点也不感兴趣，这没什么。有些人可能会认为，为现有用户改进东西比寻找新用户更重要，这也没问题。但对于想要成为主流的社区来说，指责外来者没有看到光明是错误的。也许你只是有一扇肮脏的窗户。</p><p> I shared the first draft of this essay on my  newsletter. If you like my writing, why not subscribe?</p><p>我在我的时事通讯上分享了这篇文章的初稿。如果你喜欢我的作品，为什么不订阅呢？</p><p> These don’t apply as much for the adoption of practices, like TDD or code review, but the tools used to do them suffer from similar issues.   [return]</p><p>这些不太适用于实践的采用，如TDD或代码审查，但用于执行它们的工具遇到了类似的问题。[返回]。</p><p> This is different from the aforementioned “experts acknowledge there’s inconvenience but don’t think it matters to adoption”.   [return]</p><p>这不同于前面提到的“专家承认存在不便，但认为收养无关紧要”。[返回]</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.hillelwayne.com/post/flossing/">https://www.hillelwayne.com/post/flossing/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/软件/">#软件</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1031803.html"><img src="http://img2.diglog.com/img/2020/10/thumb_9ffeeb2b3cb09fe79abfff2f1157616a.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031803.html">制造人工智能客户支持软件的ForeThink筹集了1700万美元的B系列资金</a></div><span class="my_story_list_date">2020-10-29 9:40</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031745.html"><img src="http://img2.diglog.com/img/2020/10/thumb_fb244cf4d7e38ffba303ea20785e7e66.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031745.html">Qt6将通过柯南软件包管理器提供其他库</a></div><span class="my_story_list_date">2020-10-28 20:19</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031642.html"><img src="http://img2.diglog.com/img/2020/10/thumb_10c2eb52ef6dd8706b0bb5c9498d7a93.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031642.html">我们永远不会有足够的软件开发人员</a></div><span class="my_story_list_date">2020-10-28 6:42</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031598.html"><img src="http://img2.diglog.com/img/2020/10/thumb_ca53241672ace6561f8ad80dc615dfd3.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031598.html">特斯拉突破：全速行驶</a></div><span class="my_story_list_date">2020-10-28 4:16</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>