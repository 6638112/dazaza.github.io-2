<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>小狗助手：我的狗的智能家居 Puppy Assistant: the smart home for my dog</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Puppy Assistant: the smart home for my dog<br/>小狗助手：我的狗的智能家居 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-01 04:39:34</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/2e425e3f39fb457a19189cf3525e3a80.jpg"><img src="http://img2.diglog.com/img/2021/3/2e425e3f39fb457a19189cf3525e3a80.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>I want to share with you 3 &#34;smart&#34; ideas that help me in some day-to-day tasks with my Dog.</p><p>我想与您分享3＆＃smart＆＃34;可以帮助我与Dog一起完成某些日常任务的想法。</p><p>  This is like one of those long recipes&#39; introduction nobody cares. But hey, there&#39;s a puppy photo!</p><p>  这就像那些长食谱之一。简介没人关心。但是，嘿，有一张小狗照！</p><p> I&#39;m a proud owner of Doc, a funny 10 months old  Lagotto Romagnolo.  We adopted Doc at the beginning of August 2020 when he was 3 months old. He is really a good boy, probably a 14/10 on the  @WeRateDogs scale.</p><p> 我是Doc的骄傲拥有者，一个10个月大的搞笑Lagotto Romagnolo。 Doc在2020年8月刚满3个月大时就采用了。他确实是一个好男孩，@ WeRateDogs评分可能是14/10。</p><p>  Doc is shy and easily frightened by new things, but fortunately this is nothing that the right treats can fix. In the first weeks, he had a lot of personal battles against many things: his own shade and reflection, other dogs in the distance, the neighbor&#39;s shutter sound, the trash can, an orange cone, the sound of a moving chair, and so on.  After some training and a lot of care, he has now found a little bit more courage and he likes to play with the neighbor&#39;s dog, and most of the time he doesn&#39;t care anymore about his reflection.</p><p>  Doc害羞并且容易被新事物吓到，但是幸运的是，正确的解决方法无法解决任何问题。在最初的几周里，他与许多事物进行了许多个人斗争：他自己的阴影和反射，远处的其他狗，邻居的快门声，垃圾桶，橙色的圆锥形，动静的声音椅子等等。经过一些训练和精心照顾之后，他现在发现了更多的勇气，他喜欢和邻居的狗一起玩，而且大多数时候他不再关心自己的反思。</p><p> Keep in mind that everything they say about having a puppy is true, it takes a lot of effort to create the right bond between you and your dog.  I highly advise you to find a good dog trainer and to follow a puppy class, a smart home will not help you much in that.</p><p> 请记住，他们所说的关于养小狗的一切都是真实的，要在您和您的狗之间建立正确的纽带需要花费大量的精力。我强烈建议您找到一个好的训犬师并参加小狗课程，而聪明的家在这方面并没有多大帮助。</p><p>   You can start to add smart functionalities to your home with a relatively cheap setup. I&#39;m going to share with you the devices I use in my home and some cheap alternatives to start with.</p><p>   您可以通过相对便宜的设置开始向家庭添加智能功能。我将与您分享我在家中使用的设备以及一些廉价的替代品。</p><p>  I&#39;m a big fan of  Home Assistant(HA), an open-source automation tool that runs in my home since the first day I entered the house. If you don&#39;t know it check it out on their official website, and if you speak Italian you can take a look at  this introduction by me.</p><p>  我是Home Assistant（HA）的忠实支持者，这是一种开放源代码的自动化工具，自从我进入屋子的第一天起，它就在我的家里运行。如果您不知道它，请在他们的官方网站上查看，如果您说意大利语，则可以阅读我的介绍。 </p><p> You can run HA on any computer, I suggest starting with an old computer or an economic Raspberry PI. After 1 year I moved my setup from a Raspberry Pi to a Synology DS218+ to have my NAS and my home automation hub in the same place.</p><p>您可以在任何计算机上运行HA，建议您从旧计算机或经济型Raspberry PI开始。一年后，我将设置从Raspberry Pi移到了Synology DS218 +，以将NAS和家庭自动化集线器放在同一位置。</p><p> Cheap alternative: A raspberry Pi with HA is quite cheap, but you can have some good results with just Google Home/Alexa/Siri mobile app.</p><p> 便宜的替代方案：带有HA的树莓派非常便宜，但是仅使用Google Home / Alexa / Siri移动应用程序，您就可以获得一些不错的结果。</p><p>  I have 3 Google Home in my house, I use them mostly to play music and to control lights and shutters. They are connected directly to HA so I can run powerful scripts and automation.</p><p>  我家有3个Google Home，我主要将它们用于播放音乐以及控制灯光和百叶窗。它们直接连接到HA，因此我可以运行功能强大的脚本和自动化。</p><p>   I bought a used D-Link webcam on Amazon, I prefer a webcam that doesn&#39;t require a cloud subscription and supports the most common protocol(i.e. ONVIF). I connected it to Synology Surveillance Station, an app pre-installed in all the latest Synology NAS, so the webcams are recorded and I can access the video stream quickly. A good two-way audio camera it&#39;s the best solution, but the good ones usually are not quite cheap.</p><p>   我在亚马逊上购买了二手D-Link网络摄像头，我更喜欢不需要云订阅且支持最常见协议（即ONVIF）的网络摄像头。我将其连接到Synology Surveillance Station，这是所有最新Synology NAS中预先安装的应用程序，因此可以记录网络摄像头，并且可以快速访问视频流。好的双向音频摄像机是最好的解决方案，但是好的音频摄像机通常并不便宜。</p><p> Cheap alternative: Use an old Android/iOS phone as a webcam, just install a webcam app (i.e.  DroidCam) and connect it directly to HA</p><p> 便宜的替代方案：使用旧的Android / iOS手机作为网络摄像头，只需安装网络摄像头应用程序（即DroidCam）并将其直接连接到HA</p><p>     The doors and windows have sensors wired to a  Konnected Alarm Panel. I like its support for HA and the compatibility will almost all the wired alarm systems.</p><p>     门窗的传感器连接到Konnected报警面板。我喜欢它对HA的支持，并且兼容性几乎可以与所有有线警报系统兼容。</p><p>    I had many ideas since Doc joined us, but I want to share the ones I use the most. I implemented them with all the things listed above, but you can apply these three ideas to any other smart home platform and many different device combinations.</p><p>    自Doc加入我们以来，我有很多想法，但我想分享我最常使用的想法。我已经用上面列出的所有东西实现了它们，但是您可以将这三个想法应用到任何其他智能家居平台和许多不同的设备组合中。 </p><p>  Doc sleeps downstairs, when he wakes up he wants to be sure we&#39;re around and we&#39;ve not been kidnapped while sleeping. It&#39;s cute but after one week of waking up at 3:00 A.M. we were definitely tired.</p><p>Doc睡在楼下，当他醒来时，他想确保我们在周围，并且在睡觉时没有被绑架。它很可爱，但是在凌晨3:00醒来一周后我们肯定很累。</p><p> One night I&#39;ve found out that just shouting something like &#34;Doc sleep, please&#34; calms him down, great! The neighbors were not thinking the same, apparently, it has the opposite effects on them.  The night after I remembered that you can use a Google Home as an intercom with the  Broadcast functionality. I said the magical phrase, and yes it worked! Doc went to sleep immediately.  The annoying part is that this is still something too complicated to do at 3:00 A.M. because you need to be sure the volume is right, then you have to press a good amount of buttons and then talk.</p><p> 一天晚上，我发现自己只是在喊“ Doc睡觉”之类的东西，请让他平静下来，太好了！邻居们的想法并不一样，显然，这对他们产生了相反的影响。我记得您可以在第二天晚上使用Google Home作为具有广播功能的对讲机。我说了神奇的话，是的，它奏效了！ Doc立即入睡。令人讨厌的部分是，这仍然是一件太复杂的事情，无法在凌晨3:00进行。因为您需要确保音量合适，所以您必须按很多按钮然后再说。</p><p>   I solved the first task with this HA script that plays my recorded voice through the Google Home near Doc:</p><p>   我用此HA脚本解决了第一个任务，该脚本通过Doc附近的Google Home播放我录制的声音：</p><p> doc_sleep :  alias :  Doc Sleep  mode :  single  sequence :  # set the right volume level to the nearest Google Home  -  data :  volume_level :  0.2  entity_id :  media_player.gh_living  # my Google Home device  service :  media_player.volume_set  # play a custom mp3 with my recorded voice  -  data :  media_content_id :  https://www.your.domain/your-voice.mp3  # the recorded voice  media_content_type :  music  entity_id :  media_player.gh_living  # my Google Home device  service :  media_player.play_media</p><p> doc_sleep：别名：Doc Sleep模式：单序列：＃将正确的音量级别设置为最近的Google Home-数据：volume_level：0.2 entity_id：media_player.gh_living＃我的Google Home设备服务：media_player.volume_set＃与我一起播放自定义mp3录制的语音-数据：media_content_id：https：//www.your.domain/your-voice.mp3＃录制的语音media_content_type：音乐实体ID：media_player.gh_living＃我的Google Home设备服务：media_player.play_media</p><p> The second part of the solution is to find a way to easily and blindly trigger the script, a big button you can press without turning on the lights is the perfect thing. I used a spare  Amazon Dash Button that I keep on my bedside table. They&#39;re not sold anymore but you can find many ways of triggering the script with a wireless button or your phone.</p><p> 解决方案的第二部分是找到一种方法，可以轻松且盲目地触发脚本，可以在不打开灯的情况下按下一个大按钮是完美的选择。我用了一个备用的Amazon Dash Button，放在床头柜上。它们不再出售，但是您可以找到许多通过无线按钮或手机触发脚本的方法。</p><p> When the button is pressed  Dasshio HA add-on will trigger the script. Dasshio configuration is the following:</p><p> 当按下按钮时，Dashshio HA附加组件将触发脚本。 Dasshio的配置如下：</p><p> timeout :  20 buttons :  -  name :  DashButton  address :  &#39; AA:AA:AA:AA:AA:AA&#39;  domain :  script  service :  doc_sleep  # the previous script name  service_data :  &#39; {}&#39;</p><p> 超时：20个按钮：-名称：DashButton地址：＆＃39; AA：AA：AA：AA：AA：AA＆＃39; domain：脚本服务：doc_sleep＃先前的脚本名称service_data：＆＃39; {}＆＃39; </p><p>  Before going to sleep I give Doc some time to relieve himself, but because it&#39;s dark outside and he is a suspicious dog he needs some time to check no one is around. I noticed that when the lights are on he is more comfortable so what about doing it automatically? I&#39;ve automated the garden lights to turn on for 5 minutes when I open the main door and it&#39;s dark outside.</p><p>在入睡之前，我给Doc腾出一些时间来放松自己，但由于外面一片漆黑，而且他是一只可疑的狗，因此他需要一些时间来检查周围没有人。我注意到，开灯后他会更舒服，那么自动执行该怎么办？当我打开大门并且外面很暗时，我自动将花园灯打开了5分钟。</p><p> The idea is to use the alarm sensor mounted on the main door to trigger an automation that turns on the light and starts a timer.</p><p> 其想法是使用安装在主门上的警报传感器来触发自动装置，该自动装置打开灯并启动计时器。</p><p> -  id :  &#39; 123123123123&#39;  alias :  Turn on garden light on the main door opened  trigger :  -  entity_id :  binary_sensor.main_door  platform :  state  to :  &#39; on&#39;  condition :  -  condition :  state  entity_id :  sun.sun  state :  below_horizon  action :  -  data :  entity_id :  -  light.garden  service :  homeassistant.turn_on  -  data :  entity_id :  timer.garden_light  # remember to setup the timer on your configuration.yaml  service :  timer.start</p><p> -id：＆＃39; 123123123123＆＃39;别名：打开打开的主门上的庭院灯触发器：-实体ID：binary_sensor.main_door平台：状态为：＆＃39;在＆＃39;条件：-条件：状态entity_id：sun.sun状态：below_horizo​​n操作：-数据：entity_id：-light.garden服务：homeassistant.turn_on-数据：entity_id：timer.garden_light＃记住在您的configuration.yaml服务上设置计时器：timer.start</p><p>  -  id :  &#39; 456456456456&#39;  alias :  Turn off garden light at the end of the timer  trigger :  -  event_data :  entity_id :  timer.garden_light  event_type :  timer.finished  platform :  event  action :  -  data :  entity_id :  -  light.garden  service :  homeassistant.turn_off</p><p>  -id：＆＃39; 456456456456＆＃39;别名：在计时器触发器结束时关闭花园灯：-event_data：entity_id：timer.garden_light event_type：timer.finished平台：事件操作：-data：entity_id：-light.garden服务：homeassistant.turn_off</p><p>  A puppy is a puppy and he needs to discover his surroundings, but sometimes he can find something that is not good for him or he can do something he should not do. I work from home so it&#39;s easier for me to keep an eye on him with a webcam and be there if something is not right.</p><p>  小狗是小狗，他需要发现自己的周围环境，但是有时他会发现对自己不利的事情，或者他可以做一些他不应该做的事情。我在家工作，因此使用网络摄像头可以更轻松地监视他，如果有不对劲的话，可以去那里。</p><p> I configured the Synology integration in HA to watch the live feed or the recordings, but I mostly use the official mobile app (DS Cam). The notifications on movement are configured to be sent directly to a Telegram group where I get all the notifications from my house.</p><p> 我在HA中配置了Synology集成以观看实时供稿或录音，但是我主要使用官方的移动应用（DS Cam）。关于移动的通知被配置为直接发送到电报组，在那里我从家中获取所有通知。</p><p> Before using Synology Surveillance Station my MJPEG compatible camera was directly connected to HA and I used a sensor to trigger the script that sends to Telegram 3 photos at 5 seconds distance between each other.</p><p> 在使用Synology Surveillance Station之前，我的MJPEG兼容相机直接连接到HA，并且我使用传感器触发了脚本，该脚本将彼此间隔5秒的距离发送到Telegram 3照片。 </p><p>  -  id :  &#39; 7897897879789&#39;  alias :  Send multiple photos to telegram on dog movement  trigger :  -  entity_id :  binary_sensor.dog_sensor  platform :  state  to :  &#39; on&#39;  sequence :  -  delay :  &#39; 5&#39;  -  service :  script.telegram_photo  -  delay :  &#39; 10&#39;  -  service :  script.telegram_photo  -  delay :  &#39; 10&#39;  -  service :  script.telegram_photo</p><p>-id：＆＃39; 7897897879789＆＃39;别名：在狗移动触发时将多张照片发送给电报：-实体ID：binary_sensor.dog_sensor平台：状态为：＆＃39;在＆＃39;顺序：-延迟：＆＃39; 5＆＃39; -服务：script.telegram_photo-延迟：＆＃39; 10＆＃39; -服务：script.telegram_photo-延迟：＆＃39; 10＆＃39; -服务：script.telegram_photo</p><p> This is the script that gets an image from the webcam and sends it through Telegram:</p><p> 这是从网络摄像头获取图像并通过Telegram发送图像的脚本：</p><p> telegram_photo :  alias :  Telegram Photo  sequence :  -  data :  data :  photo :  auth :  basic  password :  randomrandom  # your camera password  url :  http://192.168.2.26/IMAGE.JPG  # your camera ip  username :  admin  # your camera username  message :  &#39; &#39;  service :  notify.telegram_house  # your telegram house group</p><p> telegram_photo：别名：Telegram照片序列：-数据：数据：照片：auth：基本密码：randomrandom＃您的摄像机密码URL：http://192.168.2.26/IMAGE.JPG＃您的摄像机IP用户名：admin＃您的摄像机用户名消息：＆＃39; ＆＃39;服务：notify.telegram_house＃您的电报房组</p><p>   The ideas shared in this post are the ones I still use every day. I have some other things in my mind and I&#39;m gonna post something new if I find anything useful to share.</p><p>   这篇文章中分享的想法是我每天仍在使用的想法。我有其他想法，如果我发现有什么要分享的内容，我会发布一些新的内容。</p><p> Leave a comment below if want to share some of the things you did for your dog!</p><p> 如果想分享您为狗做的一些事情，请在下面发表评论！ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://dev.to/andtos90/puppy-assistant-the-smart-home-for-my-dog-2f3b">https://dev.to/andtos90/puppy-assistant-the-smart-home-for-my-dog-2f3b</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/助手/">#助手</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/assistant/">#assistant</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/脚本/">#脚本</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>