<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我们的年度回顾：我们如何在2020年使Firefox更快 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">我们的年度回顾：我们如何在2020年使Firefox更快 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-16 04:10:15</div><div class="page_narrow text-break page_content"><p>今年与我们任何人都经历过的不同。全球大流行影响了我们学习，与他人联系，工作，娱乐，购物等的方式。它直接或间接地影响了我们生活的方方面面。因此，普遍开放和可访问的Internet对我们的日常生活变得越来越重要。对于某些Firefox用户，访问Internet不仅重要，而且至关重要。</p><p> 当Firefox团队调整为专注于功能和改进以帮助我们的用户过上基于互联网的生活时，性能计划加倍了我们的努力，以实现“为每个体验带来性能”的愿景。我们希望通过加快Firefox和Gecko的关键部分（如页面加载，JavaScript响应性和启动）的速度，并确保新功能发挥最佳性能，我们可以使新常态的痛苦减轻一些，而更多……正常。</p><p>  考虑到这一点，我们想分享我们今年最引以为豪的工作，并重点介绍如何使每个版本的Firefox比上一个版本更快。自从今年以来我们取得了很多成就以来，我们将这些成就分为几个部分，这些部分与我们对工作的看法有关：</p><p> “性能文化”包括所有开发测试，指标，流程和其他工作的工作，以确保性能对于Firefox构建的所有内容都至关重要。</p><p> 最后，“以正确的速度浏览”涵盖了在Mozilla生态系统之外提高Web性能的工作。</p><p>   我们认为与浏览器和网页的交互应快速流畅。页面快速加载。网络反应灵敏。并且资源得到了周到的利用。这是我们期望所有Mozilla产品的基准性能。 2020年，我们改善了所有这些领域。</p><p>   Firefox 75包括对惰性图像加载标准的支持。通过在需要时而不是在初始页面加载的关键路径上加载图像，此功能可以提高页面加载性能并减少数据。 </p><p>Firefox 80添加了针对Flexbox回流的优化。在某些情况下，这可以将页面加载性能提高20％以上，并减少页面加载期间的布局偏移。</p><p> Firefox 82具有推测性JavaScript解析功能，允许浏览器在提取外部JavaScript脚本后就对其进行解析，即使它们从未执行过也是如此。此更改通常将页面加载量提高3-4％，但对于某些网站，可以将页面加载量提高67％以上。</p><p>  Firefox 84增加了对链接预加载的支持，这使开发人员可以更好地控制资源加载，并且可以将页面加载提高10％以上。</p><p> 8月发布的新版Android Firefox浏览器的页面加载速度比年初增加了20％，使其成为有史以来最快的Android Firefox浏览器。</p><p>   Firefox 72对Firefox管理插件阻止列表的方式进行了更改，从而使启动和会话还原时间缩短了7％。</p><p> 完成了Fast Shutdown项目的三个计划阶段的前两个阶段，从而使Firefox关闭速度提高了三倍。</p><p> Firefox 85 Nightly for Windows包括一个用于启动的新框架UI，这意味着Firefox启动的第一个迹象发生的时间是以前的10％。 Firefox感知性能的这种改进对于速度较慢的计算机上的用户特别有用。我们希望默认在2021年初发布这种新体验。 </p><p>在启动时为about：home页面实现了一个缓存，从而将启动时Top Sites呈现的时间缩短了20％以上。</p><p> 在需要时延迟加载Firefox UI的部分而不是自动加载，会导致浏览器窗口打开得更快。在Firefox 77和Firefox 80之间，一旦Firefox在Windows上的使用时间减少，打开新窗口的时间减少了大约10％。</p><p> 启用WebRender后，Firefox 81可以在macOS上为60fps VP9视频提供更好的播放质量。</p><p> WebRender还包括用于着色器编译的优化，可将启动和会话还原时间缩短10％以上。</p><p> 八月份发布的新版Firefox for Android打开了来自其他应用程序的链接，速度提高了25％。在某些设备上，这意味着它比旧版Android Firefox快60％。</p><p> 与2019年6月发布的MVP相比，一般初创公司的进步并不大。虽然通常不是要庆祝的理由，但是在添加功能以将浏览器从MVP开发到旗舰Firefox的同时能够做到这一点Android上的浏览器是一个相当大的成就。</p><p> Firefox（Android版）还对用户界面关键部分的响应速度进行了许多改进，包括准确性和触摸滚动控制，降低的摇动抖动，键盘显示速度，键入时出现的文字以及菜单对用户输入的响应。 </p><p>Firefox 83包括对MacOS的WebRender支持，并进一步改善了功耗，特别是在滚动或观看视频时。这项工作建立在2019年末发布的改进的基础上，并将macOS上的Firefox功耗降低了300％。</p><p>  我们相信，为Mozilla产品做出贡献的每个人都有自己的表现。为了使所有人共享所有权，性能计划必须建立经过验证的测试，工具，指标和其他资源（例如，仪表板，文档）的基础，以使每个人都能够理解和影响浏览器的性能。在2020年，我们改进了测试基础架构，并增强了性能工具以衡量改进并诊断性能下降。</p><p>  通过添加内存，网络，冷，热页面加载和实时页面加载的类别，改进了性能仪表板https://arewefastyet.com。还添加了WebRender和Fission变体的结果。</p><p> 引入并改进了警长效率度量标准，用于测量警长分类和引发回归错误所需的时间。这些指标是9月提高绩效的时事通讯的重点。</p><p>   增加了对在单个CI作业中的多个构建中以批处理模式运行性能测试的支持，从而在不影响覆盖范围的情况下更有效地利用了机器时间。</p><p> 对Perfherder的一些改进，包括支持以批处理模式运行的测试提取结果，在比较视图中对结果进行排序的功能以及改进的错误模板。</p><p>  在用于Android，Linux和macOS的持续集成（CI）管道中引入了用于页面负载测试的视觉指标，预计Windows将于今年年底发布。这项工作用流行的开源浏览器时间工具取代了我们专有的页面加载引擎。 </p><p>完成了针对Firefox启动的新的基于视觉完整性的测试的第一个版本，以提供有关Firefox启动速度的更具用户代表性的视图。</p><p> 引入了mach perftest，这是一种用于性能测试的现代框架，旨在简化运行和编写测试。所有新测试都将使用此框架，并且随着时间的推移，现有测试将迁移到该框架。一些团队已经利用了这个新的测试框架，包括QUIC和Fenix。</p><p> 增强的mach perftest以支持网络限制，并将其用于我们的第一个用户旅程测试以比较http / 2和http / 3。</p><p> 将冷页和热页合并加载到单个CI作业中，减少了总执行时间，同时增加了测试覆盖率。</p><p>  用Firefox的新Profiler工具栏替换了Gecko Profiler附加组件，统一了台式机和远程移动配置文件的记录流（最终为Firefox工程师和Web开发人员）。</p><p> 设置事件探查器也变得更加容易。一旦Profiler图标出现在工具栏中，开始/捕获快捷方式就将起作用。通过“工具-＆gt;启用它Web Developer –不再需要启用Profiler菜单按钮”。</p><p> 探查器的侧边栏可方便地汇总当前选择的堆栈/叶。我们看到它使我们的用户感到高兴，因此我们通过在“呼叫树”中将其默认设置为“打开”来使其更加突出。 </p><p>现在，在Profiler时间轴中右键单击标记可提供与标记表和图形相同的上下文菜单；让您选择往返时间和复制数据。</p><p> 媒体团队将第一个自定义预设添加到事件探查器，使贡献者可以快速访问具有所有必要线程和设置的录制媒体性能。</p><p> 如果符号转换失败，则Profiler的元数据下拉列表现在提供了一个方便的按钮来重新触发该过程。</p><p> 拖动配置文件以加载它们（以前只能在首页上使用）现在也可以在加载的配置文件上使用</p><p>  Firefox Profiler对显示主线程I / O的FileIO标记的支持已得到扩展，可以显示主线程I / O的标记，甚至对未采样的线程也显示标记。</p><p> Firefox探查器已被Firefox工程师成功用于改善Firefox性能，现已可供Web开发人员使用。它取代了传统的“ Performance” devtools面板。使用Firefox devtools中的Firefox Profiler将显示配置文件，并以新视图集中在当前选项卡上。</p><p> Markers 2.0 –自助探查器标记：在Gecko中，您可以告诉您标记的外观，它会出现在Firefox Profiler前端中您想要的位置，而无需修补前端。 </p><p>创建了一个新的信息中心，以更轻松地从Google Play商店评论和support.mozilla.org论坛等来源中识别与性能相关的用户反馈。</p><p> 开发了用于观察分析的概念验证技术，该技术将性能指标的更改与用户行为指标相关联。</p><p> 在台式机和移动设备上进行实验，以告知船舶决策并指导与启动，页面加载，链接预加载和Warp相关的性能优化。</p><p> 作为改善真实用户指标的项目的一部分，开始了性能遥测的审计和差距分析。</p><p> 添加了新的遥测技术，以更好地了解与速度较慢的启动，长时间运行的脚本和由此引起的浏览器挂起有关的性能和用户影响，移动性能，使用链接预加载时的页面加载性能，垃圾回收和JavaScript执行时间，以及更细粒度的页面加载指标。</p><p> 向Background Hang Reporter添加了注释，以更好地了解Firefox UI中发生的挂起及其对用户的影响。</p><p>  这意味着为网络建立正确的性能。在性能（“轻松”选择）和目标（“正确”选择）之间没有权衡。 Mozilla的独特定位是在对网络用户有利的方面和对网络构建者有利的方面之间取得平衡。这包括影响网络标准，并找到使每个人都更快的网络的方法（无论位置，收入或浏览器如何）。性能计划的成员还积极参加W3C Web性能工作组。 </p><p>今年，为Google的Web Vitals提案的讨论和反馈做出了贡献。这包括对最大内容绘画（LCP）指标的内部分析，以及如何将其与现有性能指标（视觉指标和标准化Web性能API）进行比较，Mozilla在内部使用这些指标来测试台式机和移动设备的性能。我们的分析发现，虽然LCP是对某些先前页面加载指标的有希望的改进，但是当呈现时间不可用时，该指标的值会大大降低。这项工作为在2021年实现更完整的Web Vitals奠定了基础，并缩小了台式机和移动设备上的度量与性能分析功能之间的差距。</p><p>    2020年底并不是Firefox性能工作的终点，而是标志着我们进步的里程碑。我们还有很多要做的事情。</p><p> 在接下来的几个月中，我们将继续致力于提高浏览器关键区域的响应能力，例如长时间运行的脚本会导致挂起，站点内导航和启动。我们还将为2021年下半年与Firefox如何使用CPU，电池和网络带宽之类的资源奠定基础。改善页面加载的工作将继续进行，重点放在性能下降上，这会导致性能严重下降。同样，我们将继续努力发展整个Firefox组织的性能文化并影响更广泛网络的性能。</p><p> 我们希望我们在2020年的工作可以使新常态对您的痛苦减轻一些。我们对2021年的目标是雄心勃勃的，因此我们邀请您加入我们的行列，以努力使正常生活变得越来越痛苦。至少在浏览网页时。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.mozilla.org/performance/2020/12/15/2020-year-in-review/">https://blog.mozilla.org/performance/2020/12/15/2020-year-in-review/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/2020/">#2020</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/年度/">#年度</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/review/">#review</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/性能/">#性能</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1039910.html"><img src="http://img2.diglog.com/img/2020/12/thumb_349ec237324f81622d09453796455182.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1039910.html">2020年是一场灾难，但大流行把安全问题放在了首位 </a></div><span class="my_story_list_date">2020-12-16 3:26</span></div><div class="col-sm"><div><a target="_blank" href="/story/1039906.html"><img src="http://img2.diglog.com/img/2020/12/thumb_96e008c4c75f812bde914ffc0a80530f.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1039906.html">预计2020年将有1.56B口罩进入海洋 </a></div><span class="my_story_list_date">2020-12-16 3:15</span></div><div class="col-sm"><div><a target="_blank" href="/story/1039887.html"><img src="http://img2.diglog.com/img/2020/12/thumb_7c744d6261fb161693832a3428937f74.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1039887.html">明天在TC会议上期待什么：Space 2020 </a></div><span class="my_story_list_date">2020-12-16 2:31</span></div><div class="col-sm"><div><a target="_blank" href="/story/1039740.html"><img src="http://img2.diglog.com/img/2020/12/thumb_be57f5497565f49b96c87089a50d8a8c.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1039740.html">2020年最佳Elixir雷达 </a></div><span class="my_story_list_date">2020-12-15 9:56</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>