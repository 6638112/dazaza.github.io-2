<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>More utils-没有人想过要编写的Unix工具</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">More utils-没有人想过要编写的Unix工具</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-08-22 14:59:31</div><div class="page_narrow text-break page_content"><p>More utils是越来越多的Unix工具集合，很久以前当Unix还很年轻的时候，没有人会想到要编写这些工具。</p><p>我是Unix工具哲学的粉丝，但有时我想知道是否有很多空间可以将新工具添加到这个工具箱中。我一直想要想出我自己的通用新Unix工具。</p><p>嗯，在我的博客的许多后续文章(12，3)中记录了很多反馈之后，我得出了以下结论：</p><p>也许问题不在于没有人在编写它们，或者除了专门的工具之外，单一工具空间被覆盖了，而是最基本的工具都落入了缝隙，从来没有被那些本可以从中受益的人注意到。</p><p>于是，“更多实用程序”收藏应运而生，目的是防止这些程序从裂缝中坠落。</p><p>到目前为止，可能在更多实用工具中最通用的工具是海绵(1)，它允许您执行以下操作：</p><p>下面列出了更多的工具，我总是有兴趣增加更多的收藏，只要它们是合适的通用工具，并且不要重复其他著名的工具。</p><p>Debian包以及更多实用程序的源代码tarball可以从Packages.debian.org下载，也可以使用apt下载。它也在Ubuntu中，我在其他几个Linux发行版中也听说过。</p><p>Vipe：即使临时文件因错误退出，也要清理该文件。谢谢，斯蒂格·帕姆奎斯特。</p><p>海绵：修复错误-当临时文件位于不同的文件系统上时，该模式会使文件的原始内容加倍。</p><p>PEE：忽略SIGPIPE和由于命令未使用其所有输入而导致的写入错误。结束语：#697052谢谢，奥莱·约尔根·布朗纳。</p><p>Vidir：重新编写手册页以更明确地提到文件args。结束语：#885221谢谢，丹尼尔·沙哈夫。</p><p>PEE应支持非阻塞I/O写入管道，以允许程序并发处理数据。或者，切换到喷泉http://hea-www.cfa.harvard.edu/~dj/tmp/fountain-1.0.2.tar.gz.。</p><p>或者，如果没有给定文件，则将海绵缓冲区设置为stdout，并使用它来缓冲来自pee的数据。虽然这会降低效率，并且对于非常大的流也不能很好地工作，除非在这种情况下海绵避免缓冲内存中的全部内容。</p><p>这里有一些正在考虑中，但还没有包括在内。可以自由地建议其他的。我也欢迎反馈意见，说明应该包括哪些内容。</p><p>很难判断一个目录在shell中是否为空，而且，虽然test-e对于单个文件可以正常工作，但是如果您想要查看通配符是否匹配任何内容，它就会失败。</p><p>允许将仍在更改(即正在下载)的文件复制到程序。文件的新位将继续提供给程序，直到下载完成。</p><p>由贾斯汀·阿佐夫提交，并附有代码。然而，它必须使用启发式来猜测下载(或其他)何时完成。目前的启发式方法，10秒无增长，在拨号时对我来说不太管用。</p><p>使用inotify可能是最好的方法。Fsniper是一种不太通用的工具，它使用inotify检测文件何时关闭。</p><p>运行它一次以存储文件的散列，第二次运行它将检查该文件是否已更改。Http://blog.steve.org.uk/the_traffic_is_waiting_outside.html。</p><p>如果操作非常简单，这对于将协同进程编写为需要来回通信的流水线非常方便。</p><p>您可以使用一个很棒的shell(如bash或zsh)来完成其中的一些任务；其余的几乎都可以通过一组mkfio命令加上简单的eredirection来完成，但是会增加复杂性和大量的手动步骤。</p><p>如果您给这个命令本质上提供了一个FD&#39；s的网表来连接，那么这个命令可能会更加强大。我确信命令行句法可以改进，但是您明白我的想法。非常复杂的示例仅用于说明：connect&#39；cmd1&#39；&lt；&gt；#0：3&gt；4&#39；cmd2&#39；&#39；3&gt；&#39；\&#39；cmd3&#39；&#39；3&lt；&gt；3#0：0&gt；&#39；&#39；cmd4&##。*规范指定相邻CMD之间的连接*限定规范(w/&#39；#&#39；)允许更复杂的连接*某些正常的默认设置，但可以覆盖*stdin转到不重定向的第一个进程*stdout来自不重定向的每个人*stderr来自不重定向的每个人*cmd1&&gt;cmd2&39。S FD3*cmd2；s FD3*cmd3；s标准din*cmd3；s FD3*cmd4；cmd3；s FD3*stdin-&gt;；cmd4*cmd4&#39；s FD3*cmd4；cmd1；s FD3*cmd4&#39；s FD3*cmd4；cmd1。</p><p>如果你认为这是个好主意，请告诉我。我有一个基本的connectcommand，但它只执行两个命令。不过，如果有兴趣的话，我很乐意把它编出来。(事实上，我想我无论如何都可以，所以我不会一直做这种特别的事情)。--来自韦斯利·J·兰德克</p><p>应该可以通过添加一种方法来标记要返回的命令退出状态，从而将错误管道上卷到这个位置。</p><p>输入数字列表并输出它们的分布、值以及它在输入http://baruch.ev-en.org/files/todist中出现的次数。</p><p>输入数字列表并输出有关枚举数的一些统计信息：Average、Stddev、Min、Max、Medium Point http://baruch.ev-en.org/files/tostats。</p><p>随机化文件的行数。完美的候选者，但是bogoort和rl(来自随机化-line包)已经在这么做了。</p><p>Http://savannah.nongnu.org/projects/shuffle/也是一个类似的东西，它的作者说它几乎已经准备好了，但它的记忆力很强，是一个很大的NONO&34；。(显然，coreutils 6具有Shouf和Sort--Random-Sort。)。</p><p>MimeInfo Perl模块具有如下工作方式的mimetype，并使用freedesktop.org MIME数据库，与GNOME相同。</p><p>将sed模式应用于文件列表以重命名它们。被拒绝的原因是，perl有一个工作方式几乎相同的重命名程序。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://joeyh.name/code/moreutils/">https://joeyh.name/code/moreutils/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/unix/">#unix</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/文件/">#文件</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1009161.html"><img src="http://img.diglog.com/img/2020/7/thumb_365a49334eac3d73a8008da99e7cdefe.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1009161.html">比尔·香农·里普</a></div><span class="my_story_list_date">2020-7-1 5:30</span></div><div class="col-sm"><div><a target="_blank" href="/story/1004475.html"><img src="http://img.diglog.com/img/2020/5/thumb_2a56767d751fd2cc920f485b8361dd0f.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1004475.html">Unix操作系统(1982)[视频]</a></div><span class="my_story_list_date">2020-5-31 10:5</span></div><div class="col-sm"><div><a target="_blank" href="/story/1000343.html"><img src="http://img.diglog.com/img/2020/5/thumb_f445aec87178b5c9e4b9fb45921abee9.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1000343.html">Unix上的时间</a></div><span class="my_story_list_date">2020-5-2 21:19</span></div><div class="col-sm"><div><a target="_blank" href="/story/technology_linux_761996.html"><img src="http://img.diglog.com/img/2013/6/thumb_ca4b42fd-13a7-42ea-a1b1-be5b4f4bb072.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_linux_761996.html">Linux 为什么要用字符 ~ 来表示 home 目录</a></div><span class="my_story_list_date">2013-6-21 14:23</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>