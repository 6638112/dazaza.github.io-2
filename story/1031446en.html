<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>使用Austin TUI在不降低性能的情况下监视正在运行的Python应用程序</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">使用Austin TUI在不降低性能的情况下监视正在运行的Python应用程序</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-27 19:47:55</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/51ce4d0597c92556e291d1a74d251921.png"><img src="http://img2.diglog.com/img/2020/10/51ce4d0597c92556e291d1a74d251921.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>The Python TUI is a top-like text-based user interface for Austin, written inpure Python. Originally planned as a sample application to showcase Austin uses,it&#39;s been promoted to a full-fledged project thanks to great popularity.</p><p>Python TUI是奥斯汀基于文本的顶级用户界面，用纯Python编写。最初的计划是作为一个样本应用程序来展示奥斯汀的用途，但由于非常受欢迎，它已经升级为一个成熟的项目。</p><p>  The header shows you the information of the application that is being profiled,like its PID, the command line used to invoke it, as well as a plot of theamount of CPU and memory that is being used by it, in a system-monitor style.</p><p>标题以系统监视器的方式向您显示正在分析的应用程序的信息，比如它的PID、用于调用它的命令行，以及它正在使用的CPU和内存量的曲线图。</p><p>    NOTE In order for the TUI to work, the Austin 2 binary needs to be on the PATH environment variable. See  Austininstallation instructions tosee how you can easily install Austin on your platform.</p><p>注意：为了使TUI工作，奥斯汀2二进制文件需要位于PATH环境变量中。请参阅Austin安装说明，了解如何在您的平台上轻松安装Austin。</p><p>  Once Austin and Austin TUI are installed, you can start using themstraight-away. If you want to launch and profile a Python script, say myscript.py, you can do</p><p>一旦安装了Austin和Austin TUI，您就可以立即开始使用它们。如果要启动并剖析Python脚本，例如myscript.py，可以执行以下操作。</p><p>    Like Austin, the TUI can also attach to a running Python application. To analysethe frame stacks of all the processes of a running WSGI server, for example, gethold of the PID of the parent process and do</p><p>与奥斯汀一样，TUI也可以附加到正在运行的Python应用程序。要分析正在运行的WSGI服务器的所有进程的框架堆栈，例如，父进程的PID的gethold和do。</p><p>  The  -C option will instruct Austin to look for child Python processes, and youwill be able to navigate through them with the arrow keys.</p><p>C选项将指示Austin查找Python子进程，您将能够使用箭头键在它们之间导航。</p><p> The TUI is based on  python-curses. The version included with the standardWindows installations of Python is broken so it won&#39;t work out of the box. Asolution is to install the the wheel of the port to Windows from this page. Wheel filescan be installed directly with  pip, as described in the linkedpage.</p><p>TUI基于python-curses。Python的标准Windows安装中包含的版本已损坏，因此无法开箱即用。解决方案是从该页面将端口的滚轮安装到Windows。轮子文件可以直接使用pip安装，如链接页面中所述。</p><p>  By default, Austin TUI shows you statistics of the last seen stack for eachprocess and thread when the UI is refreshed (about every second). This issimilar to what top does with all the running processes on your system.</p><p>默认情况下，Austin TUI在刷新UI时(大约每秒)显示每个进程和线程的上次看到的堆栈的统计信息。这类似于top对系统上所有正在运行的进程执行的操作。</p><p>  If you want to see all the collected statistics, with the frame stacksrepresented as a rooted tree, you can press  F to enter the  Full mode. Thelast seen stack will be highlighted so that you also have that informationavailable while in this mode.</p><p>如果您想要查看所有收集的统计数据，并将帧堆栈表示为有根的树，您可以按F键进入完整模式。最后看到堆栈将突出显示，以便您在此模式下也可以使用该信息。</p><p>   Peeking at a running Python application is nice but in many cases you would wantto save the collected data for further offline analysis (for example, you mightwant to represent it as a flame graph). At any point, whenever you want to dumpthe collected data to a file, you can press the  S key and a file with all thesamples will be generated for you in the working directory, prefixed with austin_ and followed by a timestamp. The TUI will notify of the successfuloperation on the bottom-right corner.</p><p>查看正在运行的Python应用程序很不错，但在许多情况下，您可能希望保存收集的数据以供进一步脱机分析(例如，您可能希望将其表示为火焰图)。无论何时，只要您想要将收集的数据转储到文件中，您都可以按S键，工作目录中将为您生成一个包含所有样本的文件，该文件的前缀为ASTIN_，后跟一个时间戳。TUI将在右下角通知操作成功。</p><p>   Austin TUI has been tested with Python 3.6-3.9 and is known to work on Linux,  MacOS and  Windows.</p><p>Austin TUI已经过Python3.6-3.9的测试，并且已知可以在Linux、MacOS和Windows上运行。</p><p>  Due to the  System Integrity Protection introduced in  MacOS with ElCapitan, Austin cannot profile Python processes that use an executable locatedin the  /bin folder, even with  sudo. Hence, either run the interpreter froma virtual environment or use a Python interpreter that is installed in, e.g., /Applications or via  brew with the default prefix ( /usr/local). Even inthese cases, though, the use of  sudo is required.</p><p>由于带有ElCapitan的MacOS中引入的系统完整性保护，Austin无法评测使用位于/bin文件夹中的可执行文件的Python进程，即使使用sudo也是如此。因此，可以从虚拟环境运行解释器，也可以使用安装在例如/Applications中的Python解释器，或者使用带有默认前缀(/usr/local)的BREW。不过，即使在这些情况下，也需要使用sudo。</p><p>  If you like Austin TUI and you find it useful, there are ways for you tocontribute.</p><p>如果你喜欢奥斯汀途易，并且发现它很有用，有很多方法可以让你做出贡献。</p><p> If you want to help with the development, then have a look at the open issuesand have a look at the  contributing guidelines before youopen a pull request.</p><p>如果您想帮助开发，那么在您打开Pull请求之前，先看一看公开的问题，并看一看有助于开发的指导方针。</p><p> You can also contribute to the development of the Austin TUI by becoming asponsor and/or by  buying me a coffeeon BMC or by chipping in a few pennies on PayPal.Me.</p><p>你也可以通过成为asonsor和/或给我买一杯BMC咖啡，或者在PayPal.me上捐几便士来为奥斯汀TUI的发展做出贡献。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/P403n1x87/austin-tui">https://github.com/P403n1x87/austin-tui</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/性能/">#性能</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/python/">#python</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/running/">#running</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1030653.html"><img src="http://img2.diglog.com/img/2020/10/thumb_51ce4d0597c92556e291d1a74d251921.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030653.html">Pytest-Austin：无指令插入的性能回归测试</a></div><span class="my_story_list_date">2020-10-23 3:46</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030601.html"><img src="http://img2.diglog.com/img/2020/10/thumb_af62daf8ef2bb0719075fe04e35ad4e0.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030601.html">让我们用GPU构建一个高性能的模糊器</a></div><span class="my_story_list_date">2020-10-23 0:41</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030523.html"><img src="http://img2.diglog.com/img/2020/10/thumb_201285ce3299b458b607b1e1c0b9f4d5.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030523.html">自PostgreSQL 8.3以来的TPC-H性能</a></div><span class="my_story_list_date">2020-10-22 20:49</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030389.html"><img src="http://img2.diglog.com/img/2020/10/thumb_c1481866f8ac975e5bd0efeda6491de0.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030389.html">HPE表示，它已获得1.6亿美元的欧盟资金，用于在芬兰建造一台超级计算机，理论上最高性能为550千万亿次浮点运算</a></div><span class="my_story_list_date">2020-10-22 9:10</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>