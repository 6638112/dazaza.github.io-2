<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>基于OpenBSD的基本打印</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">基于OpenBSD的基本打印</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-09-21 02:49:02</div><div class="page_narrow text-break page_content"><p>我旁边的架子上有一台大约有十年历史的HL-5370DW兄弟打印机，这台打印机主要是我妻子用来打印缝纫图案的。当我学习计算机科学时，我有时会打印我写的文件来校对。我经常能够找到我在屏幕上看不到的打字错误，即使在校对了两三次之后也是如此。然而，我没有费心把我的学士论文打印出来。仅仅为了校对而印刷120页对我来说似乎是一种浪费。我在屏幕上非常仔细地校对，没有人抱怨打字错误。(这并不意味着没有。)。</p><p>完成学业后，我几乎从不打印文件。然而，我仍然更喜欢在纸上阅读长篇文本，而不是在屏幕上。因此，我经常买平装或精装的技术书籍，而不是电子书。如果我购买内容苛刻的电子书，我会打印出来供离线阅读。</p><p>在为我的私人计算改用OpenBSD后，我的阅读习惯更多地转向了手册页。当我需要弄清楚OpenBSD是如何工作的时候，在很多情况下，Apropos(1)比Google更适合作为起点。有些手册页非常长，例如ksh(1)。我的地下室里有一本关于Korn Shell的书，书中涵盖了ksh93。但是，ksh93和OpenBSD的pdksh之间有一些不同之处。因此，阅读手册页不仅给了我更准确的信息，而且也减少了阅读。</p><p>那么为什么不打印出手册页ksh(1)呢？我甚至可以使用PostScript很好地格式化：</p><p>但为什么要使用PostScript，而不是像其他任何人一样，在过去的25年里使用PDF呢？因为PostScript是最小的公分母，因此OpenBSD开箱即可支持PostScript。(如果想要更时髦的打印选择，可以去看看杯子，但我现在想让它保持简约。)。</p><p>通过阅读Absolute OpenBSD(2ndEdition)第16章中的lpdprinting Daemon一节(第306-307页)，我了解了如何配置我的打印机。这就是我如何将配置应用到我的本地设置。</p><p>文件末尾必须有换行符。换行符使用反斜杠进行转义，最后一行除外。选项定义如下：</p><p>第一行为我的打印机定义了两个名称：lp，它应该始终在那里，以及brother，这是我对打印机的任意名称。</p><p>第二行(Sh)定义不应打印任何分页(汇总特殊页面上的最后一个打印作业)。</p><p>第三行(RM)指的是网络上的打印机。我的FritzBox总是给我的打印机提供相同的IP。也可以使用打印机的主机名。</p><p>第四行(SD)定义此打印机的假脱机程序目录。打印作业将写入该目录。</p><p>第五行(Lf)定义了错误消息的日志文件，希望您永远不需要检查。</p><p>接下来，需要创建假脱机程序目录。它必须归用户root和组守护进程所有。普通用户需要此目录的写入权限才能打印文档：</p><p>现在需要激活打印机守护进程LPD。要在系统启动时执行此操作，请将以下行添加到/etc/rc.conf/local：</p><p>现在，打印机已准备好接受作业。要打印之前生成的PostScript文件，只需对该文件运行lpr：</p><p>如果不需要预览，也可以将PostScript输出直接发送到打印机(毕竟是Unix)：</p><p>在我的设置中，打印纯文本文件的行为很奇怪，但可能会将pr格式化程序与lpr一起使用，如下所示：</p><p>取而代之的是，我还将纯文本文件转换为PostScript，这在纸上看起来很不错。我使用enscript(1)完成此任务：</p><p>也可以使用GhostScript附带的pdf2ps(1)将PDF转换为PostScript，即ghostscript包：</p><p>不幸的是，这并不适用于所有PDF。但就目前而言，我有足够的手册页可读。顺便说一下，PostScript打印速度非常快。当我在LPR命令末尾按Return时，我几乎可以立即看到打印机上的状态LED开始闪烁。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://paedubucher.ch/articles/2020-09-20-basic-printing-on-openbsd.html">https://paedubucher.ch/articles/2020-09-20-basic-printing-on-openbsd.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/打印/">#打印</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/基本/">#基本</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/printing/">#printing</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1024241.html"><img src="http://img2.diglog.com/img/2020/9/thumb_a0007978221fe230a02adbf9307293b0.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1024241.html">NTopology是一家生产用于设计和制造3D打印部件和产品的软件的公司，该公司在Insight Partners的牵头下筹集了4000万美元的C系列资金</a></div><span class="my_story_list_date">2020-9-16 23:8</span></div><div class="col-sm"><div><a target="_blank" href="/story/1024111.html"><img src="http://img2.diglog.com/img/2020/9/thumb_171a09461a17bbe79180390a6b51c818.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1024111.html">
Formlabs宣布推出大幅面医疗和牙科3D打印机</a></div><span class="my_story_list_date">2020-9-15 21:15</span></div><div class="col-sm"><div><a target="_blank" href="/story/1022427.html"><img src="http://img2.diglog.com/img/2020/9/thumb_69279608292c0c0d35bbfe4e7c4fbcb6.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1022427.html">Creal正在开发皮带驱动的台式3D打印机«Fabbaloo</a></div><span class="my_story_list_date">2020-9-7 2:29</span></div><div class="col-sm"><div><a target="_blank" href="/story/1021092.html"><img src="http://img.diglog.com/img/2020/8/thumb_9b81896840e92aa2ac2f155f38487639.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1021092.html">用喷墨打印的薄皮太阳能电池板</a></div><span class="my_story_list_date">2020-8-29 13:0</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>