<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>在Dubstep Drops中编码数据 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">在Dubstep Drops中编码数据 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-16 00:52:04</div><div class="page_narrow text-break page_content"><p>[警告：那些不能忍受EDM / dubstep的人，哦，关于这个博客，我对您有不好的消息]</p><p> Dubstep的歌曲通常被批评为听起来非常计算机生成，并且往往过于激进/“数字化”，以致于很多人无法欣赏。人们开玩笑说他们听起来好像有人在增加现代噪音的过程中增加了低音和鼓声并不少见。</p><p> 对于某些曲目，这比其他更真实。毕竟，这是一种类型，具有更激进的解释和更轻松的解释。</p><p> 但这让我思考，将机器可读数据实际嵌入到dubstep轨道中要花多大的精力，同时还要确保人类也能欣赏到声音……</p><p> 让我们来跟踪一下，这是Skrillex的构建和完善-正确的方法：</p><p>   如果您可以忍受，那是个好消息！您可能会满意以下所有内容。</p><p> 上面是嵌入的歌曲的频谱图，因此您可以更好地了解歌曲中所有频段的状况。 </p><p>如图所示，有很多频谱可以隐藏数据，但是它存在于高频段，音频压缩可能会将其删除。 那么，如果我们在低音线的频段上看起来较低，该怎么办？  这是0-100hz的声音（您有更多机会在头戴式/耳塞式手机上收听）：  如果我们回到原始位置并移除100hz频段及以下频段，听起来像是：  $ sox orig.wav onlyhigher.wav sinc -b 0 0.2k-22k $ cp onlyhigher.wav tmp.wav $＃做第二轮以确保下带确实为空$ sox tmp.wav onlyhigher.wav sinc -b 0 0.2k-22k $ rm tmp.wav  注意：如果您调高音量以收听最后一个音量，则需要立即还原。  如果您像我一样，并且数学背景很差，那么每次您看到这样的事情：  不幸的是，这几乎完全是DSP世界。 但是，考虑到我在此过程中遇到的困难，我将尝试描述没有任何花哨符号的情况。 </p><p>首先，这基本上是最基本的形式。向扬声器发出信号，告知扬声器应处于什么位置。范围从1（始终）到-1（始终）。在这些位置上移动会排空空气并发出声音！</p><p>  我的想法是，如果像这样将波形移动到上端：</p><p>    这意味着我们现在可以观察到两种状态！最好的部分是（至少我的）人耳看不到这种区别。</p><p>  包mainimport（＆＃34; encoding / binary＆＃34;＆＃34; flag＆＃34;＆＃34; log＆＃34;＆＃34; os＆＃34;）func main（）{ins：= flag.String（ ＆＃34; input＆＃34;，/＃34.in/f64.data&#34;、&#34;&#34;）outs：= flag.String（＆＃34; out＆＃34;，＆ ＃34; ./ out.f64.data＆＃34 ;,＆＃34;＆＃34;）flag.Parse（）inf，err：= os.OpenFile（* ins，os.O_RDONLY，0644）如果err！= nil {log.Fatalf（＆＃34;无法打开输出文件％s＆＃34 ;, err.Error（））} outf，err：= os.OpenFile（* outs，os.O_CREATE | os.O_WRONLY | os。 O_TRUNC，0644）如果err！= nil {log.Fatalf（＆＃34;无法打开输出文件％s＆＃34 ;, err.Error（））} Symbolrate：= 11000 SamplesUntilChange：= Symbolrate UpperFlip：= false位：对于{var raws float64 err == 0，如果err！= nil {log.Printf（＆＃34; Leave％s＆＃34 ;, err.Error（））== binary.Read（inf，binary.LittleEndian，＆amp; raws） ）break} //首先，获得一个上空翻转范数：=（原始+ 1）/ 2 SamplesUntilChange--如果SamplesUntilChange == 0 {UpperFlip =！UpperFlip SamplesUntilChange = Symbolrate bits ++}如果！UpperFlip {normie =范数* -1}如果SamplesUntilChange＆lt; 1000 {dest：= normie * -1 normie = lerp（dest，normie，float64（SamplesUntilChange）/1000.0）} binary.Write（outf，binary.LittleEndian，normie）} log.Printf（＆＃34;用％d结尾位/％d个字节＆＃34 ;，位，位/ 8）} func lerp（a，b，n float64）float64 {return（1-n）* a + n * b}</p><p> 在这一点上，我们可以重新组合输出的低音线文件和较高的频率，并查看它是否可以播放：</p><p> $ sox orig.wav onlylower.wav sinc 0k-0.1k $ sox orig.wav onlyhigher.wav sinc 0.1k-22k $ ffmpeg -i onlylower.wav -f f64le -ar 44100 -ac 1 -y in.f64.data $ ./ASK-dubstep-输入in.f64.data $ ffmpeg -f f64le -ar 44100 -ac 1 -i out.f64.data -y编码-bass.wav $ sox -m编码-bass.wav onlyhigher.wav编码-bassline.wav</p><p>     我可能是错的，但据我所知，这是一种幅移键控。 </p><p>为了使其编码我们自己的数据，我们可以使用一个简单的库来帮助我们以一种易于使用的好方法读取位，然后将它们包含在音频中：</p><p> 包mainimport（＆＃34; encoding / binary＆＃34;＆＃34; flag＆＃34;＆＃34; log＆＃34;＆＃34; os＆＃34;＆＃34; strings＆＃34;＆＃34; github .com / dgryski / go-bitstream＆＃34;）func main（）{ins：= flag.String（＆＃34; input＆＃34 ;,＆＃34; ./ in.f64.data＆＃34 ;,＆＃ 34;＆＃34;）outs：= flag.String（＆＃34; out＆＃34 ;,＆＃34; ./ out.f64.data＆＃34 ;,＆＃34;＆＃34;）编码目标：= flag.String（＆＃34; data＆＃34 ;,＆＃34; Hello World！＆＃34 ;,＆＃34;＆＃34;）flag.Parse（）inf，err：= os.OpenFile（* ins ，os.O_RDONLY，0644）如果err！= nil {log.Fatalf（＆＃34;无法打开输出文件％s＆＃34 ;, err.Error（））} outf，err：= os.OpenFile（* outs ，os.O_CREATE | os.O_WRONLY | os.O_TRUNC，0644）如果err！= nil {log.Fatalf（＆＃34;无法打开输出文件％s＆＃34 ;, err.Error（））} sr：= strings.NewReader（* encodetarget）bitreader：= bitstream.NewReader（sr）Symbolrate：= 5500 SamplesUntilChange：= Symbolrate UpperFlip：= false bits：= 0 nextbit：= false for {var raws float64 err：= binary.Read（inf， binary.LittleEndian，＆amp; raws）如果err！= nil {log.Printf（＆＃34;离开％s＆＃34 ;, err.Error（））break} //首先，获得上翻转范数：=（原始+ 1）/ 2 SamplesUntilChange--如果SamplesUntilChange == 0 {UpperFlip = nextbit b，_：= bitreader.ReadBit（）nextbit = bool（b）SamplesUntilChange = Symbolrate bits ++}如果！UpperFlip {normie = normie * -1}如果SamplesUntilChange＆lt; 1000＆amp;＆amp; UpperFlip！= nextbit {dest：= normie * -1 normie = lerp（dest，normie，float64（SamplesUntilChange）/1000.0）} binary.Write（outf，binary.LittleEndian，normie）} log.Printf（＆＃34;完成带有％d位/％d字节＆＃34 ;，位，位/ 8）} func lerp（a，b，n float64）float64 {return（1-n）* a + n * b}</p><p>  包mainimport（＆＃34; encoding / binary＆＃34;＆＃34; flag＆＃34;＆＃34; fmt＆＃34;＆＃34; log＆＃34;＆＃34; os＆＃34;位流＆＃34; github.com/dgryski/go-bitstream&#34;)func main（）{ins：= flag.String（＆＃34; input＆＃34 ;,＆＃34; ./ in.f64.data＆＃34 ;,＆ ＃34;＆＃34;）symbolrate：= flag.Int（＆lt; srate＆＃34 ;, 5500，＆＃34;示例中的符号率＆＃34;）flag.Parse（）inf，err：= os。 OpenFile（* ins，os.O_RDONLY，0644）如果err！= nil {log.Fatalf（＆＃34;无法打开输出文件％s＆＃34 ;, err.Error（））} bw：= bitstream.NewWriter（ os.Stdout）bw.WriteBit（bitstream.Bit（false））SamplesUntilChange：= *符号位：= 1 negscore：= 0对于{var raws float64 err：= binary.Read（inf，binary.LittleEndian，＆amp; raws）如果err！= nil {fmt.Print（＆＃34; \ n＆＃34;）log.Printf（＆＃34;离开％s＆＃34 ;， err.Error（））break} isNeg：= raws＆lt; 0如果isNeg {negscore ++} SamplesUntilChange-如果SamplesUntilChange == 0 {rsp：= negscore＆lt; （*符号/ 2），如果位！= 1 {bw.WriteBit（bitstream.Bit（rsp））} negscore = 0 SamplesUntilChange = *符号位++}} log.Printf（＆＃34;用％d位/％d结尾字节，位，位/ 8）}</p><p> 该解码器的工作原理是计算“帧”中有多少个样本为负数，并以此为基础声明是1位还是0位。</p><p>   最后，下面是一个现场演示，演示了如何使用另一首歌曲（“平滑-无处”）：</p><p>  我一如既往地在github上推送了代码（尽管它实际上并不是处于可用状态）：https://github.com/benjojo/dubstep-data</p><p> 如果您喜欢这个，您将很高兴得知我将在接下来的10周内前往纽约的Recurse中心！意味着您可以关注我的Twitter或RSS，以跟上我将要做的其他愚蠢的事情！ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.benjojo.co.uk/post/encoding-data-into-dubstep-drops">https://blog.benjojo.co.uk/post/encoding-data-into-dubstep-drops</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/drops/">#drops</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/data/">#data</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/wav/">#wav</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1042532.html"><img src="http://img2.diglog.com/img/2020/12/thumb_ce565473a1e858289af01382da5df943.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1042532.html">FTC反托拉斯诉讼后，RentPath放弃与CoStar的收购交易 </a></div><span class="my_story_list_date">2020-12-30 19:56</span></div><div class="col-sm"><div><a target="_blank" href="/story/1039037.html"><img src="http://img2.diglog.com/img/2020/12/thumb_685d4346feccf6f62dd426b3162f9a9d.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1039037.html">迪士尼+放弃安道尔预告片，宣布耗资数百万亿美元的其他《星球大战》项目 </a></div><span class="my_story_list_date">2020-12-11 10:39</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037692.html"><img src="http://img2.diglog.com/img/2020/12/thumb_214d1e08f4f10d5cd36996faed85b48c.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037692.html">殄！ 英国广播公司（BBC）放弃了Daleks特别革命的预告片 </a></div><span class="my_story_list_date">2020-12-4 22:32</span></div><div class="col-sm"><div><a target="_blank" href="/story/1036275.html"><img src="http://img2.diglog.com/img/2020/11/thumb_31201a2c34489b8093c1431ad1471181.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1036275.html">Kahoot在Drops上投入了5000万美元，用于为其游戏化教育平台增加语言学习</a></div><span class="my_story_list_date">2020-11-24 18:3</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>