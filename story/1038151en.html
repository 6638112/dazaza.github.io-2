<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>让我们加密转移到新的CA根目录 Let’s Encrypt moving to new CA root</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Let’s Encrypt moving to new CA root<br/>让我们加密转移到新的CA根目录 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-07 06:53:11</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/9956ac3da4532fa2415861a543f1a87a.jpg"><img src="http://img2.diglog.com/img/2020/12/9956ac3da4532fa2415861a543f1a87a.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Five years ago, Let&#39;s Encrypt broke out of its private beta and  launched a public beta that allowed administrators to request a valid certificate that could be used for encryption with SSL (now TLS). After starting the private beta with 26,000 certificates issued, it has now grown to supporting  over 230 million sites and has issued  over a billion certificates.</p><p>五年前，Let's Encrypt脱离了其私人Beta版并推出了一个公共Beta版，该版本允许管理员请求可用于SSL加密（现为TLS）加密的有效证书。在通过发行26,000张证书开始私测版后，它现已发展到支持超过2.3亿个站点，并发行了超过十亿张证书。</p><p>  The success of Let&#39;s Encrypt was in only provisioning certificates with a limited lifetime – 90 days, to be precise. Before Let&#39;s Encrypt, certificates were generally created for an expiry of a year or two. This generally led to people forgetting about renewing the certificates, causing problems when the certificate subsequently expired, such as the  Certificate Expiration problem on Azure in 2013. By enforcing a short certificate lifespan, it encouraged the development of automated solutions to acquire and renew certificates periodically. The ACMEv1 protocol was defined and created, and open-source utilities such as  Certbot provided an easy means for an operating system to acquire and renew such certificates. The  ACMEv1 protocol is now deprecated and the ACMEv2 protocol is now standardised as  IETF RFC 8555 and now  many ACMEv2 clients are available.</p><p>  准确地说，Let's Encrypt的成功在于仅供应有限寿命的证书-90天。在进行加密之前，通常会创建一两年的证书。这通常导致人们忘记续订证书，从而在证书随后过期时引起问题，例如2013年Azure上的证书过期问题。通过缩短证书寿命，它鼓励开发自动解决方案以定期获取和更新证书。定义并创建了ACMEv1协议，诸如Certbot之类的开源实用程序为操作系统提供了一种轻松的方法来获取和更新此类证书。现在不建议使用ACMEv1协议，现在将ACMEv2协议标准化为IETF RFC 8555，现在有许多ACMEv2客户端可用。</p><p>  From the start, Let&#39;s Encrypt used a top-level certificate (known as a CA Root) that was  signed by ISRG Root X1 and cross-signed by IdenTrust, which means the certificates are  accepted by existing web browsers. This certificate used 4096 bit RSA key and had an expiry in 2025, and although it&#39;s still got life left, it will become necessary to replace it with a stronger key in the future.</p><p>  从一开始，Let's Encrypt就使用了由ISRG Root X1签名并由IdenTrust交叉签名的顶级证书（称为CA Root），这意味着该证书已被现有Web浏览器接受。该证书使用了4096位RSA密钥，并在2025年到期，尽管它仍然有生命，但是将来有必要用功能更强的密钥替换它。</p><p>  As a result, in September this year, Let&#39;s Encrypt created a  new root certificate ISRG Root X2, using ECDSA. The main advantage of using ECDSA is that it results in a much smaller data set, and therefore a fewer number of packets sent in order to obtain the security handshake. In addition, the new root certificate has been submitted to the browsers who look after the certificate stores; although it has not been included in wide systems yet as much as the ISRG Root X1. The ISRG Root X2 certificate is cross-signed with ISRG Root X1 to allow for certificate validation in the interim.</p><p>  结果，今年9月，Let's Encrypt使用ECDSA创建了一个新的根证书ISRG Root X2。使用ECDSA的主要优点是，它导致数据集更小，因此发送的数据包数量更少，从而获得了安全握手。此外，新的根证书已提交给负责证书存储的浏览器；尽管它尚未像ISRG Root X1一样被包含在广泛的系统中。 ISRG Root X2证书与ISRG Root X1交叉签名，以允许在此期间进行证书验证。</p><p>  The problem is that the DST X3 certificate, which is currently used by Let&#39;s Encrypt to issue certificates, is due to expire in September 2021. As a result, the plans are in place to move towards the ECDSA root for future certificate issuance, but not by default yet. From January 11 next year, the API that serves certificates will move to using certificates issued through the ISRC Root X1 certificate, but not by the DST X3 certificate.</p><p>  问题在于，Let的加密目前使用的DST X3证书将在2021年9月到期。因此，已经制定了计划，准备移至ECDSA根目录以获取将来的证书。发行，但默认情况下尚未发行。从明年1月11日起，提供证书的API将转为使用通过ISRC Root X1证书而非DST X3证书发布的证书。</p><p>  The ACMEv2 protocol provides an &#39;alternate&#39; link, which can be used to rollback to the current behaviour, but the key problem is dealing with older operating systems that either don&#39;t have the correct root certificate, or don&#39;t have support for either the SHA-1 or ECDSA protocols that are used in the process of verifying a certificate. This includes older versions of operating systems, and in particular the  blog post highlights that Android operating systems below 7.1 may not be able to process certificates returned by this mechanism. Alternatively, installing a more recent browser such as  Firefox Mobile will work, or embedding the Let&#39;s Encrypt CA into your app.</p><p>  ACMEv2协议提供了“替代”协议。链接，该链接可用于回滚到当前行为，但是关键问题是处理的旧操作系统要么没有正确的根证书，要么不支持SHA-1或在证书验证过程中使用的ECDSA协议。这包括较早版本的操作系统，尤其是博客文章中强调，低于7.1的Android操作系统可能无法处理此机制返回的证书。另外，也可以安装更新的浏览器（例如Firefox Mobile），或者将Let's Encrypt CA嵌入到您的应用中。</p><p>  More information about the certificates provided by Let&#39;s Encrypt can be found on  their certificates page, and the  community support site has more information about the upcoming changes.</p><p>  可以在其证书页面上找到有关Let's Encrypt提供的证书的更多信息，社区支持网站也提供了有关即将进行的更改的更多信息。 </p><p>  In the space of five years, Let&#39;s Encrypt has changed the way in which encrypted communications happen through the automated generation of certificates and the clients and API to make it happen. By moving towards their own root, and moving to a more compact key representation, it will be possible to optimise the setup connection of encrypted data streams as well as moving towards a stronger encryption model.</p><p>在五年的时间里，Let's Encrypt通过自动生成证书以及客户端和API来改变加密通信的发生方式。通过转向自己的根，并转向更紧凑的密钥表示，将有可能优化加密数据流的设置连接以及转向更强大的加密模型。</p><p>  The changeover on 2021-01-11 to the API will potentially impact older Android clients, and the expiration date of the DST X3 certificate in 2021-09-30 next year is something to watch out for. Bear in mind that the new API will start to return the new root certificate chain but there may be up to 90 days before all existing certificates will be rotated and replaced, so it may be that nothing is visible until February or March.</p><p>  在2021年1月11日向API的转换可能会影响较旧的Android客户端，DST X3证书在下一年2021-09-30年的到期日期值得关注。请记住，新的API将开始返回新的根证书链，但是可能需要90天的时间才能对所有现有证书进行轮换和替换，因此可能要到2月或3月才可见。</p><p>  A round-up of last week’s content on InfoQ sent out every Tuesday. Join a community of over 250,000 senior developers. 			 View an example</p><p>  每周二在InfoQ上发布的上周内容摘要。加入由超过25万名高级开发人员组成的社区。 查看范例</p><p>  Select your country              I consent to InfoQ.com handling my data as explained in this  Privacy Notice.</p><p>  选择您同意的国家/地区，我同意InfoQ.com按照本隐私声明中的说明处理我的数据。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.infoq.com/news/2020/12/five-years-lets-encrypt/">https://www.infoq.com/news/2020/12/five-years-lets-encrypt/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/加密/">#加密</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/moving/">#moving</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/证书/">#证书</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>