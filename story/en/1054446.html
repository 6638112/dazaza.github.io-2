<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我的水冷覆盆子pi集群可以击败我的macbook吗？ Can My Water Cooled Raspberry Pi Cluster Beat My MacBook?</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Can My Water Cooled Raspberry Pi Cluster Beat My MacBook?<br/>我的水冷覆盆子pi集群可以击败我的macbook吗？ </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-26 20:16:59</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/23f698c491cf9e943156317508e667de.jpg"><img src="http://img2.diglog.com/img/2021/3/23f698c491cf9e943156317508e667de.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>You’ll obviously need to increment the last digit of the IP address and repeat this for each of your nodes so that the key is copied to all nodes. This is only done in pairs between the host and each node, so the nodes aren’t able to communicate with each other, only with the host. You should now be able to SSH into each Pi from node 1 without requiring a password.   Next, we’re going to install MPI, which stands for Message Passing Interface, onto all of our nodes. This allows the Pis to delegate tasks amongst themselves and report the results back to the host. Let’s start by installing MPI on the host node by entering:   Again use SSH to then install MPI onto each of the other nodes using the same script:  Once you’ve done this on all of your nodes, you can test that they’re all working and that MPI is running by trying the following:  You should get a report back from each node with it’s hostname:   The last thing to do is to copy the Python script to each of the Pis, so that they all know what they’re going to be doing. Here is the script we’re going to be running on the cluster:  The easiest way to do this is with the following line:  You’ll again obviously need to increment the IP address for each node, and the above assumes that the script prime.py is in the home directory. You can check that this has worked by opening up an SSH connection on any node and trying:  Once this is working, then we’re ready to try out our cluster test.  We’ll start out with calculating the primes up to 10,000. So we’ll start a cluster operation with 8 nodes, list the node’s IP addresses and then tell the operation what script to run, in which application to run it and finally the limit to run the test up to:  The cluster was able to get through the first 10,000 in 0.65 seconds – faster than either of our computers. Which is quite surprising given that the system needs to manage communication to and from the nodes as well. Here are the results for the test to 10,000, 100,000 and then to 200,000:  The search to 200,000 took just 85 seconds, which is again a little over 3 times faster than the Windows PC and 4 times faster than the MacBook. It was also a just a little slower than 8 times faster than the individual Pi. Here is a comparison of the combined results from all of the tests done:  Lastly, I just ran the simulation to 500,000 on the cluster to see how fast it would be.  That took 526 seconds, or a little under 9 minutes. I plotted a trend and forecast the 500,000 times for the other tests so that you can see how they compare. I’ve converted all of these values to minutes to make them a bit more understandable.  So our cluster was able to beat the PC and Mac quite significantly, which might be somewhat surprising, but that is the power of cluster computing. You can imagine that when running really large simulations, which often take a couple of days on a PC, being able to run the simulation just 2-3 times faster is a massive saving. A week-long simulation on the PC can be completed by the Pi Cluster in just two and a half days. Now obviously we could cluster PCs as well to achieve better simulation times, but remember that each Pi node in this setup costs just $35, so you can build a pretty powerful computer for a few hundred dollars using Raspberry Pis. You’re also not limited to just 8 nodes, you could add another 8 nodes to this setup for around $400 and you’d have a cluster which performs 6 times faster than the PC.  As mentioned in an earlier edit in the post, Adi Sieker put together a multi-process version of the script. Here are the results of the tests done so far (I’ll keep adding to them as I complete them on each platform): HP Laptop – Using 16 processes:   I also checked the temperature of the master node, which is midway through the cooling loop (5th in the loop), to see how warm it was after the test:  It was only around 8 degrees above room temperature after the test. Next, I’m going to be doing a full thermal test on the Raspberry Pi Cluster to check how it performs under full load for a duration of time. So be sure to check back in a week or two or  subscribe to my channel for updates on Youtube. As mentioned earlier, feel free to download the script and try it out on your own computer and share your results with us in the comments section. We’d love to see how some other setups compare. Hi, my name is Michael and I started this blog in 2016 to share my DIY journey with you. I love tinkering with electronics, making, fixing, and building – I’m always looking for new projects and exciting DIY ideas. If you do too, grab a cup of coffee and settle in, I’m happy to have you here.</p><p>您将显然需要递增IP地址的最后一位数字，并为每个节点重复此操作，以便将密钥复制到所有节点。这仅在主机和每个节点之间成对完成，因此节点无法彼此通信，只能与主机一起通信。您现在应该能够从节点1中的每个PI SSH而无需密码。接下来，我们将安装MPI，它代表消息传递接口，在所有节点上。这允许PIS将任务委派，并将结果报告回主机。让我们首先通过输入来在主机节点上安装MPI：再次使用SSH然后使用相同的脚本将MPI安装到每个其他节点上：一旦您在所有节点上完成了这一点，您可以测试它们全部工作和MPI正在尝试以下操作：您应该使用IT的主机名从每个节点获取一个报告：最后的愿意要做的是将Python脚本复制到每个PIS，以便他们都知道它们是什么要做。这是我们将在群集中运行的脚本：最简单的方法是使用以下行：您将再次介绍每个节点的IP地址，并且上面假定脚本素数.py在主目录中。您可以通过在任何节点上打开SSH连接并尝试使用：一旦工作，我们就可以检查，然后我们已准备好尝试我们的群集测试。我们将首先计算高达10,000的素数。因此，我们将使用8个节点启动群集操作，列出节点的IP地址，然后告诉操作要运行的脚本是什么脚本，在该应用程序中运行它，最后将测试的限制为：群集可以获得通过前10,000，在0.65秒内 - 比我们的两种计算机快。鉴于系统也需要管理往返节点的通信，这非常令人惊讶。以下是测试到10,000,100,000，然后到200,000的结果：搜索到200,000只花了85秒，这再次比Windows PC快3倍，而不是MacBook的速度快4倍。它也比单个PI快8倍的速度慢。以下是所有完成测试的组合结果的比较：最后，我只是在群集中运行到500,000的模拟，看看它有多快。那花了526秒，或者在9分钟内完成了一点点。我绘制了一个趋势并预测其他测试的500,000次，以便您可以看到它们的比较方式。我已经将所有这些值转换为分钟，使它们更加理解。所以我们的群集能够非常明显地击败PC和Mac，这可能有点令人惊讶，但这是集群计算的力量。您可以想象，当运行非常大的模拟时，这通常需要在PC上需要几天，能够速度运行模拟，更快地速度速度2-​​3倍。在PC上的一周长的仿真可以在仅两天半的时间内完成PI集群。现在显然我们可以聚类PC也可以实现更好的模拟时间，但请记住，此设置中的每个PI节点仅需35美元，因此您可以使用Raspberry PIS为几百美元构建相当强大的计算机。您也不限于仅为8个节点，您可以将另外8个节点添加到此设置约为400美元，您可以使用群集比PC快6倍。如前所述在帖子中的早期编辑中，ADI Sieker将脚本的多流程版本放在一起。以下是迄今为止的测试结果（当我在每个平台上完成它们时，我会继续向它们添加））：HP笔记本电脑 - 使用16个进程：我还检查了主节点的温度，通过冷却循环（循环中的第5个），看看测试后的温暖程度：测试后距离室温超过8度。接下来，我将在Raspberry Pi集群上进行全热测试，以检查它如何在满载下持续时间。因此，请务必在一周或两周内检查或订阅我的频道以获取有关YouTube的更新。如前所述，随意下载脚本并在您自己的计算机上尝试，并在评论部分中向我们分享您的结果。我们很乐意看到其他一些设置的比较。嗨，我的名字是Michael，我在2016年开始这个博客分享我的DIY旅程。我喜欢滋补电子产品，制作，修理和建筑 - 我一直在寻找新的项目和令人兴奋的DIY想法。如果你也这样做，拿一杯咖啡并定居，我很高兴有你在这里。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.the-diy-life.com/can-my-water-cooled-raspberry-pi-cluster-beat-my-macbook/">https://www.the-diy-life.com/can-my-water-cooled-raspberry-pi-cluster-beat-my-macbook/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/macbook/">#macbook</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/覆盆子/">#覆盆子</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/cooled/">#cooled</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/脚本/">#脚本</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>