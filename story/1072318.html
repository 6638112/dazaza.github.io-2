<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>CSS 转换的世界</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">CSS 转换的世界</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-08-09 23:06:46</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/8/20b31ef19931ec2ae0b463642edcf54b.png"><img src="http://img2.diglog.com/img/2021/8/20b31ef19931ec2ae0b463642edcf54b.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>乍一看，这似乎是一件非常小众的事情。毕竟，我们多久需要旋转或倾斜一些东西？然而，我对转换了解得越多，我就越发现自己在利用它。在我博客的代码库中，我使用了 transform 属性超过 350 次！在这篇博文中，我们将深入研究 transform 属性。我会向你展示一些你可以用它做的很酷和意想不到的事情！通过使用诸如 translate 和 skew 之类的变换函数，transform 属性可以做很多不同的事情。我们可以使用 translate 沿任一轴移动项目：x 左右移动，y 上下移动。正值向下和向右移动。负值向上和向左移动。至关重要的是，项目的流入位置不会改变。就我们的布局算法而言，从 Flow 到 Flexbox 再到 Grid，这个属性没有任何作用。例如：在这个可视化中，我们有 3 个使用 Flexbox 对齐的孩子。当我们对中间的孩子应用变换时，Flexbox 算法不会注意到，并将其他孩子保持在同一个位置：这类似于顶部/左侧/右侧/底部在定位布局中的工作方式，具有相对定位的元素.</p><p>当我们想沿单个轴移动一个元素时，我们可以使用 translateX 和 translateY：不过，有一件事使 translate 变得非常强大。 CSS 语言中完全独一无二的东西。当我们在 translate 中使用百分比值时，该百分比指的是元素本身的大小，而不是父容器内的可用空间。设置 transform: translateY(-100%) 将框向上移动精确的高度，无论高度是多少，到像素。当我们希望一个元素正好位于另一个元素之外时，这非常方便： &lt;style&gt; .parent { position: relative; } .child { 宽度：50px;高度：50px； /* 把孩子放在右上角... */ position: absolute;顶部：0；右：0； /* ...然后把它移到外面：*/ transform: translateY(-100%); }&lt;/style&gt;&lt;div class=&quot;parent&quot;&gt; &lt;div class=&quot;child&quot;&gt;&lt;/div&gt;&lt;/div&gt; 这个技巧的一个常见用例是在对话框外添加一个“关闭”按钮：</p><p>&lt;style&gt; .dialog-content { 位置：相对； } .close-btn { 位置：绝对；顶部：0；右：0；变换：translateY(-100%); }&lt;/style&gt;&lt;div class=&quot;dialog-wrapper&quot;&gt; &lt;div class=&quot;dialog-content&quot;&gt; &lt;button class=&quot;close-btn&quot;&gt; &lt;svg xmlns=&quot;http://www.w3.org/ 2000/svg&quot; width=&quot;24&quot; height=&quot;24&quot; viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot;stroke=&quot;currentColor&quot;stroke-width=&quot;2&quot;stroke-linecap=&quot;round&quot;stroke-linejoin= &quot;round&quot; class=&quot;feather Feather-x&quot;&gt;&lt;line x1=&quot;18&quot; y1=&quot;6&quot; x2=&quot;6&quot; y2=&quot;18&quot;&gt;&lt;/line&gt;&lt;line x1=&quot;6&quot; y1=&quot;6 &quot; x2=&quot;18&quot; y2=&quot;18&quot;&gt;&lt;/line&gt;&lt;/svg&gt; &lt;span class=&quot;visually-hidden&quot;&gt; 关闭对话框&lt;/span&gt; &lt;/button&gt; &lt;/div&gt;&lt;/div&gt; 这允许我们添加一个“缓冲区”，这样我们就可以通过它自己的大小加上一些额外的像素来翻译一些东西。 Scale 使用表示倍数的无单位值，类似于 line-height。 scale(2) 意味着元素应该是通常情况下的 2 倍大。乍一看，这似乎等同于设置宽度和高度，但有一个很大的不同。文本随元素上下缩放。我们不只是改变盒子的大小和形状，我们正在改变整个元素及其所有后代。这揭示了关于变换的一个重要事实：元素被展平为纹理。所有这些变换本质上都将我们的元素视为平面图像，像在 Photoshop 中一样对其进行扭曲和扭曲。想想当我们改变宽度之类的东西时需要做多少工作。所有的布局算法都需要重新运行，找出这个元素及其所有兄弟元素的确切位置。如果元素内部有文本，换行算法需要确定这个新宽度是否影响换行符。然后，绘制算法运行，找出每个像素需要的颜色，并填充它。</p><p>在页面加载时执行一次就可以了，但是当我们为某些内容设置动画时，我们需要每秒多次执行所有这些计算。通过转换，我们可以跳过一堆步骤。这意味着计算运行得更快，从而导致更平滑的运动。缩放会拉伸/挤压元素的内容似乎很糟糕，但我们实际上可以利用这种效果来发挥我们的优势。例如，看看这个老式的电视电源动画：而且，如果我们真的不希望我们的文本被挤压，我们可以对孩子应用逆变换。这是一种先进的技术，远远超出了本博客文章的范围，但要知道可以使用缩放来增加元素的大小而不扭曲其子元素。像 Framer Motion 这样的库利用这一事实来构建高性能的动画而无需拉伸或挤压。我们通常使用 deg 单位表示旋转，是度数的缩写。但是我们可以使用另一个方便的单位，一个可能更容易推理的单位：转弯单位表示元素应该转多少圈。 1 转等于 360 度。它晦涩难懂，但得到了很好的支持；转向装置一直回到 IE 9！</p><p>Skew 可用于创建对角线装饰元素 (à la Stripe)。在 calc 和一些三角函数的帮助下，它也可以用于元素而不会扭曲文本！在 Nils Binder 的精彩博客文章“像 2020 年一样创建对角线布局”中深入探讨了这种技术。顺序很重要：变换函数将按顺序应用。在上面的例子中，我们将盒子向右平移，然后就地旋转它。旋转功能不仅旋转元素，它还旋转 X 轴和 Y 轴。当我们首先应用 rotate(45deg) 时， translateX 现在将沿对角线移动元素，因为 X 轴旋转了 45 度。 &lt;style&gt; @keyframes 轨道 { from { transform: rotate(0deg) translateX(80px); } to { 变换：旋转（360度）translateX（80px）； } } @media (prefers-reduced-motion: no-preference ) { .moon { animation: 轨道 6000ms 线性无限； } }&lt;/style&gt;&lt;div class=&quot;wrapper&quot;&gt; &lt;div class=&quot;planet&quot;&gt;&lt;/div&gt; &lt;div class=&quot;moon&quot;&gt;&lt;/div&gt;&lt;/div&gt; 旋转然后变换技术允许我们将一个元素设置为围绕其自然的、未转换的位置“运行”。在这个例子中，我们首先将月球定位在行星的死点，让它围绕它旋转一定距离。某些类型的变换具有原点，即变换锚定到的点。</p><p>这对某些类型的效果很有用（例如，一个元素“从另一个元素中生长出来”）。转换的一个常见问题是它们不适用于 Flow 布局中的内联元素。 &lt;style&gt; .inline-fella { /* 不起作用 :( */ transform: rotate(-10deg); }&lt;/style&gt;&lt;p&gt; 为什么 &lt;span class=&quot;inline-fella&quot;&gt;Hello&lt;/span&gt; &lt;/p&gt; 内联元素不喜欢被推挤。他们的目标是在尽可能少的中断的情况下环绕一些内容。转换不是他们的一杯茶。最简单的解决方法是将其切换为使用显示： inline-block，或者使用不同的布局模式（例如 Flexbox 或 Grid）。除了我们在本教程中介绍的 2D 转换之外，CSS 还可以在第三维中转换元素！3D 转换有自己的怪癖和特质. 为了公平起见，我将单独写一篇关于 3D 变换的文章。敬请期待！</p><p>我必须承认：本教程最初不是作为博客文章编写的。它是从我即将开设的 CSS 课程移植而来的：CSS for JavaScript Developers 是一门综合性的多格式课程，其目标是改变您与 CSS 的关系。该课程是专门为使用 React、Angular 或 Vue 等 JS 框架的人创建的。我们涵盖了 CSS 的基础知识，但在现代 JS 生态系统的背景下。它比我的博客文章更深入。除了数十个练习和项目外，还有 150 多个视频。我已经全职工作一年多了。近 5000 人在早期的众筹中购买了它，他们的反馈使课程变得更好。该课程将于 9 月 27 日发布，您可以在此处了解更多信息：css-for-js.dev。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/转换/">#转换</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/css/">#css</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/quot/">#quot</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>