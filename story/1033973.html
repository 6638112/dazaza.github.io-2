<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>交易背后的算法：订单匹配(CME)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">交易背后的算法：订单匹配(CME)</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-09 12:32:24</div><div class="page_narrow text-break page_content"><p>匹配算法是一种分配匹配数量的技术，当攻击者的订单与一个或多个休息单匹配时使用。算法既适用于直接匹配，也适用于隐含匹配。</p><p>使用市场算法，以最优价格分配休息量，以便与侵略者订单进行交易。</p><p>以下视频提供了CME Globex平台上可用的匹配算法的概述和示例。</p><p>分配算法是一种改进的按比例分配算法，它将优先级(最高顺序)合并到第一个对市场更有利的传入订单中。如果建立了优先级，侵略者订单将首先分配给最高订单，直到订单数量耗尽。</p><p>此外，有一个最低比例的分配参数为两批。所有的填充都被四舍五入到最接近的整数，如果分配的交易数量小于两手，它就被四舍五入为零。多余的批次被分配FIFO。</p><p>FIFO算法使用价格和时间作为完成订单的唯一标准。在该算法中，同一价格水平的所有订单都按时间优先顺序填充，价格水平上的第一个订单就是匹配的第一个订单。</p><p>请务必注意，订单将失去订单优先级，并且在以以下任何一种方式更改时会重新排队：</p><p>当使用先进先出(FIFO)方法匹配交易时，相同价格水平的直接订单将根据时间优先顺序填写。在对直接订单进行了所有可能的匹配之后，隐含订单将使用优先级规则部分中提到的基于规则的系统进行交易：</p><p>汇总隐含订单时，每个价格可以有多个汇总。这是因为每个价差只有一个合计用于生成隐含订单。</p><p>在每个价格集合中，较早的到期日将优先交易(即，对于日历，合约A-合约B将在合约A-合约C之前交易)。</p><p>相同价格的订单按其输入时间进行优先排序，最早的订单具有最高优先级。</p><p>在下例中，如果报价端的任何订单都是以9330的对应价格发出的，则3批次和5批次订单将首先匹配(按该顺序)，而2批次的隐含订单最后完成，因为它的优先级最低。</p><p>带LMM的FIFO算法是一种增强的FIFO算法，允许在FIFO分配之前进行LMM分配。在剩余数量被分配FIFO之前，每个LMM都被分配了侵略者订单的可配置百分比。</p><p>带LMM的FIFO算法是一种增强的FIFO算法，允许在FIFO分配之前进行LMM分配。此外，该算法将优先级(最高顺序)合并到第一个进货订单中，从而使市场变得更好。如果建立了优先级，侵略者订单将首先分配给最高订单，直到订单数量耗尽。</p><p>FX日历算法根据价格、订单批量和时间完成订单。一个进入的侵略者订单的数量乘以每个休眠订单的比例百分比，以计算分配的交易数量。所有填充均向下舍入为最接近的整数；如果分配的交易数量小于2，则向下舍入为零。</p><p>订单的比例百分比是通过将订单数量除以一定价格的总数量来计算的。由于原始分配的交易量四舍五入而出现的过剩批次可以被分配FIFO。</p><p>GCC产品资源中详细介绍了在匹配过程中按比例分配的产品。</p><p>FIFO-将2批次分配给优先级最高的订单，即订单2。</p><p>在本例中，涉及的任何订单都可以是直接的，也可以是暗示的。由于没有考虑时间戳，所以结果是一样的。</p><p>对于第二次分配，以先进先出为基础进行分配，并完成订单2。</p><p>这种被称为按比例分配的匹配算法只适用于芝加哥商品交易所集团的欧洲美元期货(欧洲美元包和捆绑包通过FIFO匹配)。</p><p>顶级订单是指在收到订单时价格对市场有利的订单，因此被指定为具有时间优先权。在任何给定时刻，只有一个买单和一个卖单可以拥有时间优先权。无论大小，具有时间优先级的订单都会首先匹配。</p><p>在开盘前或开盘前以指示性价格下的订单将根据价格和时间优先顺序进行匹配。</p><p>优先顺序被分配给对市场更有利的订单(例如，36英镑的新买单比35英镑的买单更好)。市场的每一方只有一个订单可以拥有最高优先级。可能会出现这样的情况，即市场的一方或双方都不存在顶级订单(例如，订单让市场变得更好，但随后被取消)。</p><p>在填写顶级订单后，按比例分配算法将应用于适用价格水平的其余静止订单，直到填满传入订单。</p><p>按比例分配算法根据每个静止订单在给定价格水平下占总成交量的百分比来分配填充物。例如，占以某一价格停留的总成交量的30%的订单将获得以该价格发生的所有执行的大约30%。可能会出现近似的填充百分比，因为分配的小数数量总是向下舍入(即，收到7.89批次分配的10批次订单将向下舍入为7批次)。</p><p>按比例分配算法将只分配给将收到2个或更多合同的休息单。</p><p>在百分比分配之后，所有先前由于舍入考虑而未分配的剩余合同将按先进先出的方式分配给剩余订单。直接订单将优先于隐含订单，剩余数量将根据其时间戳进行分配。</p><p>然后，隐含订单将按到期日进行分配，最早到期的合同将在较晚到期的合同之前获得分配。如果价差合同具有相同的到期日(即，合同A-合同B和合同A-合同C)，则数量将分配给构成该价差的最早到期的合同(即，合同A-合同B将在合同A-合同C之前获得分配，因为合同B在合同C之前到期)。</p><p>可配置算法结合了与其他CME匹配算法一起使用的步骤，并提供了两个附加步骤。无论哪些步骤配置为开/关，步骤都以相同的顺序进行。使用可配置算法的产品按以下顺序在静止参与者中分配数量：</p><p>顶级订单-顶级订单的价格在收到订单时对市场有利，因此被指定为具有优先权。在任何给定时间，只有一个买入订单和一个卖出订单可以拥有最高优先级。无论大小，具有最高优先级的订单都会首先匹配。有关TOP MIN、TOP MAX和TOP百分比的详细信息，请参阅：CME Globex匹配算法步骤-TOP。</p><p>在剩余数量进入下一步之前，LMM-CME指定的潜在做市商将获得侵略者订单数量的一个可配置百分比。</p><p>拆分-根据产品参数，数量在FIFO步骤和按比例步骤之间进行拆分。对于FIFO或按比例计算，产品参数可以为零。先进先出和按比例分配数量的总百分比将始终等于100%。先进先出-以先进先出的方式将数量分配给静止订单(较早的带时间戳的订单在较晚的带时间戳的订单之前接收填充)。</p><p>按比例-要匹配的数量乘以每个休息单的按比例百分比，以计算分配的交易数量。所有填充都向下舍入为最接近的整数(可以是零)。</p><p>拉平-按比例计算步骤中舍入的剩余数量将分配给参与订单。在此步骤中，任何订单都不能收到多个批次。</p><p>先进先出(FIFO)-任何剩余数量都以先进先出的方式分配给静止订单(较早的有时间戳的订单在较晚的有时间戳的订单之前接收填充)。</p><p>有关每个产品的K算法参数和配置的详细信息，请参阅GCC产品参考表，该表可从GCC产品资源处获得。</p><p>阈值比例算法是一种改进的比例算法，它将优先级(最高顺序)合并到第一个对市场更有利的订单中。如果建立了优先级，则首先将侵略者订单分配给最高级别的订单，直到最大配置的优先级分配(音量上限)。还可以设置最小订单量，但如果订单未达到最低订购量，则没有资格获得顶级订单。此外，还有一个最小可配置分配参数(按比例最小)，该参数被设置为根据初始按比例分配的结果可以分配的数量。所有填充被向下舍入到最接近的整数，并且如果分配的交易数量小于按比例的最小值，它被向下舍入到零。多余的批次被分配FIFO。</p><p>带有LMM算法的门槛比例算法是一种改进的比例算法，它在顶单之后和按比例分配之前纳入了领先做市商(LMM)的分配。</p><p>LMM允许CME集团指定的客户收到侵略者订单的指定分配百分比。分配的数量不会超过传入订单的数量。根据FIFO规则匹配多个LMM订单，直到满足传入订单的数量或所有LMM订单都已收到其分配的数量。任何剩余的数量都按比例分配，最小分配可配置。</p><p>主要做市商(LMM)是授予芝加哥商品交易所集团授权做市商的称号。LMM状态在订单匹配中提供特殊考虑。</p><p>与顶级订单价格水平相同的LMM订单将在顶级订单分配之前获得LMM匹配百分比分配。首先应用LMM匹配规则，然后应用顶级匹配规则。LMM订单也可以是顶级订单。</p><p>属于LMM的最高订单将首先匹配，并且不会包括在以下计算中：</p><p>如果LMM在选定的价格水平下有一个订单，它将匹配剩余接收订单量的N%，N等于LMM的分配百分比。但是，匹配的数量不会超过LMM的订单数量。</p><p>如果LMM在选定的价格水平上有多个订单，则LMM数量将汇总，并将与剩余传入订单数量的N%匹配。在完成N%数量分配之前，将按时间优先级匹配多个LMM订单。</p><p>按照先进先出规则，按照选定的价格水平匹配所有剩余的休息单(包括LMM定单)。</p><p>如果LMM在选定的价格水平下有一个订单，它将匹配剩余接收订单量的N%，N等于LMM的分配百分比。但是，匹配数量不会超过LMM订单数量。如果LMM在选定的价格水平上有多个订单，则LMM数量将汇总，并将与剩余传入订单数量的N%匹配。在完成N%数量分配之前，将按时间优先级匹配多个LMM订单。按照先进先出规则，按照选定的价格水平匹配所有剩余的休息单(包括LMM定单)。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.cmegroup.com/confluence/display/EPICSANDBOX/Supported+Matching+Algorithms">https://www.cmegroup.com/confluence/display/EPICSANDBOX/Supported+Matching+Algorithms</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/算法/">#算法</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/交易/">#交易</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/订单/">#订单</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/trading/">#trading</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1033773.html"><img src="http://img2.diglog.com/img/2020/11/thumb_c080a81f8785ce41c9fcfedc4efe020b.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1033773.html">Synerise推出AI Cleora算法作为开源</a></div><span class="my_story_list_date">2020-11-8 9:40</span></div><div class="col-sm"><div><a target="_blank" href="/story/1033755.html"><img src="http://img2.diglog.com/img/2020/11/thumb_68eaef96ef90392715a86ab4529d5a51.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1033755.html">费曼、算法编排和基于节点的编程</a></div><span class="my_story_list_date">2020-11-8 9:34</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032980.html"><img src="http://img2.diglog.com/img/2020/11/thumb_5ea50c11e87601962553e2d5ad6a8d28.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032980.html">应该允许受人工智能决策影响最大的人在塑造关于算法治理和监管的对话中发挥核心作用</a></div><span class="my_story_list_date">2020-11-3 22:56</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032364.html"><img src="http://img2.diglog.com/img/2020/10/thumb_358ec8b565c36520433f972ae2130006.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032364.html">
根据欧盟计划，大型科技公司的“黑匣子”算法面临监管监督</a></div><span class="my_story_list_date">2020-10-31 3:34</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>