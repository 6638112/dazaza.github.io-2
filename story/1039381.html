<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Graphik：身份识别文档和图形数据库 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Graphik：身份识别文档和图形数据库 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-13 09:11:18</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/f428ff3975532dd4d779a62308a51273.png"><img src="http://img2.diglog.com/img/2020/12/f428ff3975532dd4d779a62308a51273.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>--allow-headers字符串cors允许标题（env：GRAPHIK_ALLOW_HEADERS）（默认[*]）--allow-methods字符串cors允许方法（env：GRAPHIK_ALLOW_METHODS）（默认[HEAD，GET，POST，PUT，PATCH，DELETE] --allow-origins字符串cors允许原点（env：GRAPHIK_ALLOW_ORIGINS）（默认[*]）--metrics启用prometheus＆amp; pprof指标（emv：GRAPHIK_METRICS = true）（默认为true）--open-id字符串open id连接发现uri例如：https://accounts.google.com/.well-known/openid-configuration（env：GRAPHIK_OPEN_ID）- -playground-client-id字符串游乐场oauth客户端ID（env：GRAPHIK_PLAYGROUND_CLIENT_ID）--playground-client-secret字符串游乐场oauth客户端密码（env：GRAPHIK_PLAYGROUND_CLIENT_SECRET --playground-redirect字符串游乐场oauth重定向（env：GRAPHIK_PLAYGROUND_REDIRECT（） 34; http：// localhost：7820 / playground / callback＆＃34;）--root-users字符串一个绕过注册授权者的电子邮件地址列表（env：GRAPHIK_ROOT_USERS）--storage字符串持久存储路径（env：GRAPHIK_STORAGE_PATH）（默认＆＃34; / tmp / graphik＆＃34;）--tls-cert到tls证书的字符串路径（env：GRAPHIK_TLS_CERT）--tls-key到tls密钥的字符串路径（env：GRAPHIK_TLS_KEY）</p><p>       message Ref {// // gtype是doc / connection的类型，例如：pet字符串gtype = 1 [（validator.field）= {regex：＆＃34; ^。{1,225} $＆＃34;}]; // gid是文档/连接在其类型字符串上下文中的唯一ID gid = 2 [（validator.field）= {regex：＆＃34; ^。{1,225} $＆＃34; }];}</p><p>  message Doc {// ref是对文档的引用ref ref = 1 [（validator.field）= {msg_exists：true}]； // k / v对google.protobuf.Struct属性= 2;}</p><p>  message Connection {// ref是对连接的引用ref ref = 1 [（validator.field）= {msg_exists：true}]； //属性是k / v对google.protobuf.Struct属性= 2; //如果连接是双向布尔定向= 3，则定向为假； // from是文档ref，它是连接ref from = 4 [（validator.field）= {msg_exists：true}]的源； // to是文档引用，它是连接引用的目标= 5 [（validator.field）= {msg_exists：true}];}</p><p>  访问令牌授权：所有数据库功能都需要来自已配置的开放ID连接标识提供者的Bearer $ {token}</p><p> 访问令牌用于从oidc元数据url提取的oidc userinfo端点获取用户信息</p><p> 如果数据库中没有用户，则将在gtype下自动创建一个用户：以其电子邮件地址为gid的用户 </p><p>一旦提取了用户，就针对数据库中任何已注册的授权者（CEL表达式）对其进行评估（连同request＆amp; request方法）。  索引可用于加快对大量元素进行迭代的查询  类型验证器是针对特定类型的Doc或Connection进行评估以强制执行自定义约束的CEL表达式  每当创建文档时，也会创建从原始用户到新文档的类型连接  每当创建文档时，也会创建从新文档到原始用户的created_by类型的连接  每当编辑文档时，也会创建从原始用户到新文档的已编辑类型的连接（如果不存在）  每当编辑文档时，也会创建从新文档到原始用户的edited_by类型的连接（如果不存在） </p><p>可以通过遍历方法查询用户曾经与之交互过的每个文档，并将用户作为遍历的根文档</p><p>  在我看来，gRPC是svc-svc通信与通讯的王者。 graphQL是开发用户界面和应用程序的王者探索数据。</p><p> 在graphik中，graphQL＆amp; gRPC几乎相同，但是每个请求都通过gRPC服务器本地流动-graphQL api从技术上讲是一个包装程序，可用于开发用户界面＆amp;从graphQL游乐场查询数据库。</p><p> gRPC服务器性能更高，因此建议您在开发后端API时导入一个gRPC客户端库之一，而不要使用graphQL端点。</p><p> graphQL端点对于开发公共用户界面特别有用，因为它可以通过授权者，cors，验证器和＆amp; tls。</p><p>   所有服务器-＆gt;客户端流/订阅通过gRPC或graphQL中的Stream（）端点启动。在此通道上接收的所有消息都包括触发/发送消息的用户。通道上的消息可以通过CEL表达式进行过滤，以便仅将消息推送到客户端消息可以通过gRPC＆amp;中的Broadcast（）方法直接发送到通道。 graphQL.graphik中的所有状态更改都由graphik发送到状态通道，该通道可以像其他任何通道一样被订阅。</p><p>  如果设置了以下环境变量/标志，则将在/ playground上提供受SSO保护的graphQL游乐场 </p><p>GRAPHIK_PLAYGROUND_CLIENT_ID = $ {client_id}＃oauth2应用程序/客户端idGRAPHIK_PLAYGROUND_CLIENT_SECRET = $ {client_secret}＃oauth2应用程序/客户端密钥GRAPHIK_PLAYGROUND_REDIRECT = $ {playground_redirect}＃oauth2授权句柄重定向到/ callback回调：</p><p>       {＆＃34; data＆＃34 ;: {＆＃34; me＆＃34 ;: {＆＃34; ref＆＃34 ;: {＆＃34; gid＆＃34 ;:＆＃34; coleman。 word@graphikdb.io＆＃34 ;,＆gptype＆＃34 ;:＆＃34;用户＆＃34; }，＆＃34;属性：＃＆＃34; email＆＃34 ;：＆＃34; coleman.word@graphikdb.io＆＃34 ;、＆＃34; email_verified＆＃34 ;：是，＆＃34; family_name＆＃34 ;:＆＃34; Word＆＃34 ;、＆＃34; given_name＆＃34 ;:＆＃34; Coleman＆＃34 ;、＆＃34; hd＆＃34; ：＆＃34; graphikdb.io＆＃34 ;,＆＃34; locale＆＃34 ;:＆＃34; en＆＃34 ;,＆＃34; name＆＃34 ;:＆＃34; Coleman Word＆ ＃34 ;,＆＃34;图片＆＃34 ;：＆＃34; https：//lh3.googleusercontent.com/--LNU8XICB1A/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckp6gwH9JVkhlRkk-PTZdyDFctArg/s96-c/photo.jpg＆＃34 ;，＆＃34; sub：＃105385978122958973720＆＃34; }}}，＆＃34;扩展名＆＃34 ;： {}}</p><p>  查询{getSchema（其中：{}）{doc_types connection_types授权者{授权者{名称表达式}}验证者{验证者{名称表达式}}索引{索引{名称表达式}}}}</p><p> {＆＃34; data＆＃34 ;: {＆＃34; getSchema＆＃34 ;: {＆＃34; doc_types＆＃34 ;: [＆＃34; dog＆＃34 ;,＆＃34; human＆ ＃34;，＆＃34 ;、用户＆＃34; ]，＆＃34; connection_types＆＃34;：[＆＃34; created＆＃34;，＆＃34; created_by＆＃34;，＆＃34; edited＆＃34;，＆＃34; editedby＆＃ 34 ;、所有者＆＃34; ]，＆＃34; authorizers＆＃34 ;: {＆＃34; authorizers＆＃34; :: [{＆＃34; name＆＃34 ;:＆＃34; testing＆＃34 ;,＆＃34; expression ＆＃34 ;：＆＃34; this.user.attributes.email.contains（\＆＃34; coleman \＆＃34;）＆＃34; }]}，＆＃34; validators＆＃34 ;: {＆＃34; validators＆＃34 ;: [{＆＃34; name＆＃34 ;:＆＃34; testing＆＃34 ;,＆＃34 ; expression＆＃34 ;:＆＃34; this.user.attributes.email.contains（\＆＃34; coleman \＆＃34;）＆＃34; }]}，＆＃34;索引＆＃34 ;: {＆＃34;索引＆＃34 ;: [{＆＃34;名称＆＃34 ;:＆＃34;测试＆＃34 ;,＆＃34 ; expression＆＃34 ;:＆＃34; this.attributes.primary_owner＆＃34; }]}}}，扩展名＆＃34 ;： {}}</p><p>  变异{createDoc（输入：{参考：{gtype：＆＃34; note＆＃34;}属性：{标题：＆＃34;洗碗＆＃34;}}）{ref {gid gtype}属性}}</p><p> {＆＃34; data＆＃34 ;: {＆＃34; createDoc＆＃34 ;: {＆＃34; ref＆＃34 ;: {＆＃34; gid＆＃34 ;:＆＃34; 1lU0w0QjiI0jnNL8XMzWJHqQmTd＆ ＃34;，＆g34 type＆＃34 ;：＆＃34; note＆＃34; }，＆＃34;属性：{＆＃34; title＆＃34 ;:＆＃34;洗碗＆＃34; }}}，＆＃34;扩展名＆＃34 ;： {}}</p><p>  ＃在这里查询{遍历（输入：{根：{gid：＆＃34; coleman.word@graphikdb.io＆＃34; gtype：＆＃34; user＆＃34;）算法：BFS限制：6 max_depth：1 max_hops：10}）{遍历{doc {ref {gid gtype}} traversal_path {gid gtype}深度跳}}}} </p><p>查询{traverseMe（其中：{max_hops：100 max_depth：1限制：5}）{遍历{traversal_path {gtype gid}深度跳doc {ref {gid gtype}}}}}</p><p> {＆＃34; data＆＃34 ;: {＆＃34; traverseMe＆＃34 ;: {＆＃34; traversals＆＃34 ;: [{＆＃34; traversal_path＆＃34 ;: null，＆＃34 ; depth＆＃34 ;: 0，＆＃34; hops＆＃34 ;: 0，＆＃34; doc＆＃34 ;: {＆＃34; ref＆＃34 ;: {＆＃34; gid＆＃ 34 ;:＆＃34; coleman.word@graphikdb.io＆＃34 ;,＆＃34; gtype＆＃34 ;:＆＃34;用户＆＃34; }}}，{＆＃34; traversal_path＆＃34 ;: [{＆＃34; gtype＆＃34 ;:＆＃34; user＆＃34 ;,＆＃34; gid＆＃34 ;:＆＃34 ; coleman.word@graphikdb.io＆＃34; }]，＆＃34; depth＆＃34 ;: 1，＆＃34; hops＆＃34 ;: 1，＆＃34; doc＆＃34 ;: {＆＃34; ref＆＃34 ;: {＆ ＃34; gid＆＃34 ;:＆＃34; 1lU0w0QjiI0jnNL8XMzWJHqQmTd＆＃34 ;,＆g34type＆＃34 ;:＆＃34; note＆＃34; }}}]}}，扩展名＆＃34 ;： {}}</p><p>   {＆＃34; data＆＃34 ;: {＆＃34; stream＆＃34 ;: {＆＃34; data＆＃34 ;: {＆＃34; attributes＆＃34 ;: {＆＃34; title ＆＃34 ;：洗碗＆＃34; }，＆＃34; ref＆＃34 ;: {＆＃34; gid＆＃34 ;:＆＃34; 1lUAK3uwwmhQ503ByzC9nCvdH6W＆＃34 ;,＆＃34; gtype＆＃34 ;:＆＃34; note＆＃ 34; }}，＆＃34;用户＆＃34 ;: {＆＃34; gid＆＃34 ;:＆＃34; coleman.word@graphikdb.io＆＃34 ;,＆＃34; gtype＆＃34 ;: ＆＃34;用户＆＃34; }}}，＆＃34;扩展名＆＃34 ;： {}}</p><p>  无论采用哪种部署方法，请设置以下环境变量或将其包含在$ {pwd} /。env文件中</p><p>    版本：＆＃39; 3.7＆＃39;服务：graphik：图片：graphikdb / graphik：v0.5.0 env_file：-.env端口：-＆＃34; 7820：7820＆＃34; -＆＃34; 782：7821＆＃34;卷：-默认：/ tmp / graphik网络：默认：别名：-graphikdbnetworks：默认：卷：默认： </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/graphikDB/graphik">https://github.com/graphikDB/graphik</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/数据库/">#数据库</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/database/">#database</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/身份/">#身份</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/identity/">#identity</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/graphik/">#graphik</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1039360.html"><img src="http://img2.diglog.com/img/2020/12/thumb_92a2127f591192d488ac8e08f7ab9114.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1039360.html">黑客在一个黑暗的Web门户上销售了超过85,000个MySQL数据库 </a></div><span class="my_story_list_date">2020-12-13 6:34</span></div><div class="col-sm"><div><a target="_blank" href="/story/1039351.html"><img src="http://img2.diglog.com/img/2020/12/thumb_8c6348257013322d4f652c392567f902.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1039351.html">THP如何减慢数据库性能以及如何做 </a></div><span class="my_story_list_date">2020-12-13 6:13</span></div><div class="col-sm"><div><a target="_blank" href="/story/1039327.html"><img src="http://img2.diglog.com/img/2020/12/thumb_f97582974e0631ffe847e14d02e3eba1.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1039327.html">使HTAP数据库成为现实：我从PingCAP的VLDB文件中学到的东西 </a></div><span class="my_story_list_date">2020-12-13 4:14</span></div><div class="col-sm"><div><a target="_blank" href="/story/1038844.html"><img src="http://img2.diglog.com/img/2020/12/thumb_5a391064672c131e3a735deca795df60.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1038844.html">eBird的概况，eBird是2002年创建的数据库，现在已成为任何人记录鸟类目击事件的全球门户网站； 每年输入超过1.2亿个观测值 </a></div><span class="my_story_list_date">2020-12-10 18:30</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>