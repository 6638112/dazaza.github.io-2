<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Gab遭到入侵之前，新手编码错误来自网站的CTO Rookie coding mistake prior to Gab hack came from site’s CTO</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Rookie coding mistake prior to Gab hack came from site’s CTO<br/>Gab遭到入侵之前，新手编码错误来自网站的CTO </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-03 03:14:47</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/4754a4de8104bb18f12cffdc170743e7.jpg"><img src="http://img2.diglog.com/img/2021/3/4754a4de8104bb18f12cffdc170743e7.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Over the weekend, word emerged that a hacker  breached far-right social media website Gab and downloaded 70 gigabytes of data by exploiting a garden-variety security flaw known as a SQL injection. A quick review of Gab’s open source code shows that the critical vulnerability—or at least one very much like it—was introduced by the company’s chief technology officer.</p><p>整个周末，有消息称黑客入侵了最右边的社交媒体网站Gab，并利用了各种称为SQL注入的花园式安全漏洞下载了70 GB的数据。快速浏览一下Gab的开放源代码，可以发现该关键漏洞（至少是一个非常类似的漏洞）是由该公司的首席技术官介绍的。</p><p>  The change, which in the parlance of software development is known as a “git commit,” was made sometime in February from the account of Fosco Marotto, a former Facebook software engineer who in November  became Gab’s CTO. On Monday, Gab removed the  git commit from its website. Below is an image showing the February software change,  as shown from a site that provides saved commit snapshots.  The commit shows a software developer using the name Fosco Marotto introducing precisely the type of rookie mistake that could lead to the kind of breach reported this weekend. Specifically, line 23 strips the code of “reject” and “filter,” which are API functions that implement  programming idioms that protect against SQL injection attacks.</p><p>  这项变更在软件开发中被称为“ git commit”，是在2月某个时候从前Facebook软件工程师Fosco Marotto的帐户进行的，Fosco Marotto在11月成为Gab的CTO。周一，Gab从其网站上删除了git commit。下面的图像显示了2月的软件更改，如提供保存的提交快照的站点所示。该提交显示了一个使用Fosco Marotto命名的软件开发人员，准确地介绍了可能导致本周末报告的违规行为的菜鸟错误类型。具体来说，第23行去除了代码“ reject”和“ filter”，它们是实现编程习惯用法的API函数，可以防止SQL注入攻击。</p><p>  These idioms “sanitize” the inputs that website visitors enter into search boxes and other web fields to ensure that any malicious commands are stripped out before the text is passed to backend servers. In their place, the developer added a call to the Rails function that contains the “find_by_sql” method, which accepts unsanitized inputs directly in a query string. Rails is a widely used website development toolkit.</p><p>  这些惯用法“清理”了网站访问者在搜索框和其他Web字段中输入的输入，以确保在将文本传递到后端服务器之前，清除掉所有恶意命令。取而代之的是，开发人员向Rails函数添加了一个包含“ find_by_sql”方法的调用，该方法直接在查询字符串中接受未经过滤的输入。 Rails是一种广泛使用的网站开发工具包。</p><p> “Sadly Rails documentation doesn&#39;t warn you about this  pitfall, but if you know anything at all about using SQL databases in web applications, you&#39;d have heard of SQL injection, and it&#39;s not hard to come across warnings that find_by_sql method is  not safe,” Dmitry Borodaenko, a former Production Engineer at Facebook who brought the commit to my attention wrote in an email. “It is not 100% confirmed that this is the vulnerability that was used in the Gab data breach, but it definitely could have been, and this code change is reverted in the  most recent commit that was present in their GitLab repository before they took it offline.”</p><p> “ Sadly Rails文档没有警告您有关此陷阱的信息，但是如果您完全了解在Web应用程序中使用SQL数据库的任何知识，您就会听说过SQL注入，并且不难理解。碰到警告说find_by_sql方法不安全，” Facebook的前生产工程师Dmitry Borodaenko在电子邮件中写道。 “并没有100％确认这是Gab数据泄露中使用的漏洞，但肯定是可以的，并且此代码更改已在GitLab存储库中使用之前的最新提交中恢复。离线。”</p><p>    Marotto didn’t respond to an email seeking comment for this post. Attempts to contact Gab directly didn&#39;t succeed.</p><p>    Marotto没有回复一封电子邮件，希望对此帖子发表评论。尝试直接联系Gab失败。</p><p>  Besides the commit raising questions about Gab’s process for developing secure code, the social media site is also facing criticism for removing the commits from its website. Critics say the move violates terms of the  Affero General Public License, which governs Gab’s  reuse of Mastodon, an  open source software package for hosting social networking platforms.</p><p>  除了提交有关Gab开发安全代码的过程的问题之外，该社交媒体网站还面临着从其网站删除提交问题的批评。批评人士说，此举违反了Affero通用公共许可的条款，该许可规范Gab对Mastodon的重用，Mastodon是用于托管社交网络平台的开源软件包。</p><p> Critics say the removal violates terms that require forked source code be directly linked from the site. The requirements are intended to provide transparency and to allow other open source developers to benefit from the work of their peers at Gab.</p><p> 批评人士说，该删除行为违反了要求从网站直接链接叉状源代码的条款。这些要求旨在提供透明度，并使其他开放源代码开发人员可以从Gab的同行中受益。 </p><p> Gab had long provided commits at  https://code.gab.com/. Then, on Monday, the site suddenly removed all commits—including the ones that created and then fixed the critical SQL injection vulnerability. In their place, Gab provided source code in the form of a Zip archive file that was protected by the password “JesusChristIsKingTrumpWonTheElection” (minus the quotation marks).</p><p>Gab长期以来在https://code.gab.com/上提供提交。然后，星期一，该站点突然删除了所有提交，包括那些创建并修复了严重SQL注入漏洞的提交。 Gab代替了他们，以Zip存档文件的形式提供了源代码，该文件受密码“ JesusChristIsKingTrumpWonTheElection”（减去引号）保护。</p><p> Representatives from the Mastodon project didn’t immediately respond to an email asking if they shared the critics’ concerns.</p><p> Mastodon项目的代表没有立即回复电子邮件，询问他们是否也分享批评者的担忧。</p><p> Besides questions about secure coding and license compliance, the Gab git commits also appear to show company developers struggling to  fix their vulnerable code. The image below shows someone using the username “developer” trying unsuccessfully to fully fix the code containing the SQL injection vulnerability.</p><p> 除了有关安全编码和许可证合规性的问题外，Gab git提交似乎还表明公司开发人员正在努力修复其易受攻击的代码。下图显示了使用用户名“ developer”的用户尝试完全修复包含SQL注入漏洞的代码，但未成功。</p><p>  Thread participants respond by sarcastically pointing out the difficulty the developer seemed to be having.</p><p>  线程参与者通过讽刺地指出开发人员似乎遇到的困难来回应。</p><p> sorry, not telling where the SQLi still is, maybe you should call an exorcist to figure it out XDDDDDD  pic.twitter.com/R4h0wNkoLg</p><p> 不好意思，不告诉我SQLi仍然在哪里，也许你应该打电话给驱魔人以弄清楚XDDDDDD pic.twitter.com/R4h0wNkoLg</p><p>— crash override (@donk_enby)  March 1, 2021</p><p>—覆盖崩溃（@donk_enby）2021年3月1日</p><p> Gab’s security breach and behind-the-scenes handling of code before and after the incident provide a case study for developers on how  not to maintain the security and code transparency of a website. The lesson is all the more weighty given that the submission used the account of Gab’s CTO, who among all people should have known better.</p><p> Gab的安全漏洞和事件前后的幕后代码处理为开发人员提供了一个案例研究，说明如何不维护网站的安全性和代码透明度。鉴于提交的内容使用了Gab的CTO的帐户，因此该课程的意义更加重大，他在所有人中应该都了解得更多。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://arstechnica.com/gadgets/2021/03/rookie-coding-mistake-prior-to-gab-hack-came-from-sites-cto/">https://arstechnica.com/gadgets/2021/03/rookie-coding-mistake-prior-to-gab-hack-came-from-sites-cto/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/遭到/">#遭到</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/coding/">#coding</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/gab/">#gab</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>