<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>承认函数式编程可能很笨拙(2007)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">承认函数式编程可能很笨拙(2007)</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-25 03:13:35</div><div class="page_narrow text-break page_content"><p>当时，我是典型的自学成才的程序员，学习了BASIC和6502汇编语言，这样我就可以实现我自己的游戏设计。我拿起1985年8月的“字节”(Byte)杂志，阅读有关当时新的阿米加(Amiga)的报道。它也碰巧是关于陈述性语言的问题，重印了巴克斯著名的图灵奖演讲和关于希望的教程，以及其他文章。</p><p>对于一个雅达利800游戏程序员来说，这一切都是相当疯狂的事情。我理解了一些部分，完全忽略了大量其他部分，但有一个关键点吸引了我的想象力：不使用可修改的变量进行编程。这怎么可能行得通呢？如果不将值存储到内存中，即使是最小的游戏我也写不出来。它吸引了我，因为它是不可能的，很大程度上就像我听说机器语言对大多数人来说太难接近一样。但是，虽然我仔细研究了杂志上的汇编语言游戏列表，并因此学会了编写自己的游戏，但函数式编程并没有如此直接的适用性。这让我想知道，但我没有用到它。</p><p>许多年后，当我第一次学习Haskell、Standard ML以及最终的Erlang的教程时，我的目的是弄清楚不修改变量的编程是如何工作的。在小范围内，这是相当容易的。早在1985年，许多看起来很奇怪的东西已经变得司空见惯：垃圾收集，使用复杂的数据结构而不担心内存布局，比C或Pascal少得多的簿记语言。但是，没有破坏性的更新曾经是--现在仍然是--棘手的问题。</p><p>我想显而易见的是，已经有数以万计的视频游戏使用命令式编程风格编写，也许只有一小部分--甚至可能只有几个手指那么大--是以纯功能的方式编写的。当然，有一些游戏是用Lisp编写的，也有一些游戏是由喜欢Objective Caml的语言外行编写的，但它们从来没有被证明是以函数式风格编程的。您可以很容易地用这些语言编写命令性代码。走这条路的原因很简单：完全不清楚如何用函数式语言编写多种类型的复杂应用程序。</p><p>通常我可以处理数据依赖关系，而且我经常发现函数方法有一种潜在的简单性。但对于其他应用……嗯，它们可能会变成拼图。我通常可以在C语言中吃力地通过一个混乱的解决方案，而纯函数解决方案要么让我摸不着头脑，要么需要一些令人费解的东西才能弄清楚。在这些情况下，我觉得我是在与体制作斗争，我意识到为什么它是一条较少人走的路。你不相信吗？你认为功能纯洁永远是正义之路吗？这里有一个简单的例子。</p><p>不久前，我写了一款半成功的Mac游戏，名为“笨蛋”(Bumbler)。它的核心是标准的基于精灵的游戏：许多独立的对象运行一些行为代码并相互交互。这类代码看起来很容易以纯函数的方式编写。蚂蚁以坐标表示，在屏幕上以直线行进，并在碰到相反的屏幕边缘时被删除。这很容易被看作是一个函数。一小块数据进去，另一小块出来。</p><p>但行为和互动可能会比这复杂得多。你可能有一只追逐其他昆虫的昆虫，所以你必须向它传递一份现有实体的列表。你可以让一只昆虫影响其他昆虫的产卵率，但当然你不能直接修改这些产卵率，所以你必须以某种方式返回该数据。你可以让一只昆虫抓住卵子，然后把它们变成其他东西，所以现在有一个行为功能需要进入实体列表并进行修改，但你不允许这样做。你可以拥有一只昆虫，它可以修改物理环境(也就是游戏的背景)并产卵出其他昆虫。其中的每一个都比听起来更混乱，因为有太多的计数器、阈值和限制器要管理，各种情况下都会播放声音，所以数据流无论如何都不干净。</p><p>有趣的是，用C语言编写这段代码是微不足道的。一些递增的，某些条件，直接调用声音播放例程和昆虫产卵函数，从全局计数器和状态变量池中读取和写入。对于纯粹的功能方法，我确信数据流是可以理解的……假设一切都是完美规划的，所有行为都提前定义好了。采用纯粹的移动功能，然后说，好吧，我想要的是，一旦这个物体从屏幕边缘弹出三次，它就会对其他物体产生引力影响，这要困难得多。是的，这是可行的。与C等效项一样可直接实施</p><p>这是一个选择：承认函数式编程对于某些类型的问题来说是错误的范例。当然可以。我会在那上面下注的。但也可能是，几乎没有人考虑过这样的问题，函数式编程吸引了纯粹主义者和痴迷的学生。在上面的游戏示例中，有些问题是可以解决的，它们只需要不同的方法。其他我不知道如何解决的问题，或者至少我没有像编写顺序C那样简单的解决方案……我承认函数式编程在某些情况下很笨拙。它对其他人也非常有用。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://prog21.dadgum.com/3.html">https://prog21.dadgum.com/3.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/编程/">#编程</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/承认/">#承认</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/游戏/">#游戏</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1030894.html"><img src="http://img2.diglog.com/img/2020/10/thumb_c95c6640c04b0b64f58812e5c40b98fc.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030894.html">安全系统编程为何生锈</a></div><span class="my_story_list_date">2020-10-24 8:11</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030555.html"><img src="http://img2.diglog.com/img/2020/10/thumb_66677dbb1fb90331051acf350be81b57.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030555.html">循序渐进：增量编程</a></div><span class="my_story_list_date">2020-10-22 22:33</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030394.html"><img src="http://img2.diglog.com/img/2020/10/thumb_2c2bdfa2dc7529c1988bef213a9e80ef.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030394.html">Kite将其AI代码完成从2种扩展到13种编程语言</a></div><span class="my_story_list_date">2020-10-22 9:12</span></div><div class="col-sm"><div><a target="_blank" href="/story/1029787.html"><img src="http://img2.diglog.com/img/2020/10/thumb_e53752bd18d47c7f19ff44e8b34448be.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1029787.html">如何学习编程：成为软件工程师的路线图</a></div><span class="my_story_list_date">2020-10-19 20:54</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>