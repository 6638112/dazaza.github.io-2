<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>AWS Lambda赢得了胜利，但首先它不得不消亡 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">AWS Lambda赢得了胜利，但首先它不得不消亡 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-19 01:58:10</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/6f0496e5df7bf239ccf2ced132ba3258.jpg"><img src="http://img2.diglog.com/img/2020/12/6f0496e5df7bf239ccf2ced132ba3258.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>重大功能更改已成功将Lambda工作负载推向主流，即使FaaS纯粹主义者感到背叛</p><p>  如果您问AWS，他们肯定会说。今年，在亚马逊内部构建的所有新应用程序中，几乎有一半在Lambda上运行。安迪·贾西（Andy Jassy）在他的re：Invent主题演讲中花了一些时间，召集了成千上万现在在生产中运行Lambda工作负载的企业，但也许最有趣的是，今年新的无服务器功能公告逐渐转变为贾西（Jassy）的主题演讲-通常是最华丽的地方，是一年中最具战略意义的内容。至少，AWS明确认为无服务器现在是其云的主要卖点之一。</p><p> （另一方面，有一篇很奇怪的文章，它的大部分时间都在说明FaaS的增长，但是却以“无服务器采用失速”为标题，因为…Kubernetes团队说他们没有使用太多的Lambda？报告少吃蔬菜。）</p><p> 没有争议的是，Lambda仍然是FaaS的重达900磅的大猩猩，今天看起来与2015年发布GA时大不相同。大声，怪异的利基市场的工程师们早早地购买了无服务器，他们对什么有一个非常具体的想法好的无服务器系统看起来像……最近，Lambda一直在推敲自己的假设。</p><p>  最初的FaaS纯度理想并不仅仅是凭空实现的。就在2016年，AWS无服务器领导层开始谈论他们称之为“无服务器计算宣言”的事情。这是功能即服务应如何运作的根本愿景。宣言出现在各种演讲中，包括ACG的ServerlessConf。以下是其主要宗旨：</p><p>   该宣言为如何构建和部署软件形成了令人震惊且高度反文化的蓝图。它吸引了一个规模很小但生机勃勃的真正信徒团体，以及一些更大更响亮的怀疑论者。</p><p> 但是回想起来，无服务器计算宣言很难渗透到那个小的，参与的核心。大胆的愿景只是遗漏了太多的现有遗留工作负载和团队。 </p><p>因此，逐渐地，就像奥威尔（Orwell）的动物农场中的诫命一样，AWS的无服务器无协议计算的不可商议性开始发生变化。让我们遍历宣言的每个要点，看看Lambda是否仍然遵守宣言。</p><p>  Sorta，但不严格。您可以部署多功能Lambda层来管理大型二进制文件，也可以（现在处于预览状态）部署Lambda Extensions来插入第三方代理，我听说这绝对不应该被视为“ Lambda的辅助工具”。</p><p>  不再如此。从re：Invent 2020开始，Lambda现在允许您带上自己的容器，而不仅仅是运送ZIP文件。</p><p>  不必要。 Lambda现在与EFS集成，从技术上讲，我认为它是“在其他地方”，但是与附加到服务器的任何其他NFS共享相比，“在其他地方”没有更多。这是安装在您的计算机上的持久文件系统。</p><p>  是!现在Lambda可以运行容器了，我认为请求模型现在是Lambda与托管容器服务（例如AWS Fargate）之间最大的概念差异。 Lambda为每个并发请求提供了一个新的执行环境，而类似Fargate的服务仍将在同一个（长期存在的）容器上处理多个并发请求。</p><p>  不再如此。满足预置容量，它将您的冷启动问题换成热成本问题。 （我偷偷摸摸，但“预配置容量”比运行自己的Lambda预热作业好很多，以前很多人都这样做。）</p><p>    恩这是关于抽象出可用区，除了Lambda（包括Fargate！）之外，现在还有许多更高级别的AWS服务。就是说，我们开始从AWS那里听到更多的指导，实际上，您需要考虑的故障域是区域。没错：区域是新的可用区域，而精明的Lambda开发人员正在推出他们自己的（非常不受管理的）多区域架构。 </p><p>为了加强趋势，让我们检查一下Lambda的其他两个定义性早期功能：</p><p>  越来越少的真实。在过去的5年中，功能磁盘的大小，运行时限制以及CPU和内存的大小稳步增长。今天，您可以使用10 GB内存和6个vCPU在Lambda函数上运行15分钟，这是一个足够大的计算量，足以使您认真考虑多线程，多用途函数以及其他与之相反的理想做法。 FaaS。</p><p>  只要你想要。在过去，Lambda体系结构严重偏向于IAM安全性，而不是使用VPC，部分原因是出于意识形态原因，而且还因为将功能附加到自定义ENI上增加了巨大的冷启动开销。如今，AWS的创新使客户管理的VPC与Lambda更加兼容。</p><p>    巧克力工厂之旅结束时，我感觉像威利·旺卡（Willy Wonka），环顾四周，看看所有孩子们都去了哪里。在所有这些意识形态原则中，每条要求的缩放比例都是唯一的问题。</p><p> 当然，您仍然可以根据原始的无服务器宣言进行构建。但是该服务不需要您。</p><p> 如果您不得不将Lambda的修订后的价值支柱精炼成动物农场风格的单一格言，那么您现在会说什么？ “所有工作负载都得到管理，但是有些工作负载比其他工作负载更受管理？”</p><p>  现在似乎是时候来说明我最喜欢Lambda的新增功能了。我认为它们是必要的，并且在许多情况下是不可混和的商品。 </p><p>四年前我不会这么说。那时我更像是FaaS纯粹主义者。让我改变主意的是，多年以来，听到了工程团队的非常特殊的陈述，并以不同的形式反复出现：</p><p> 我想使用Lambda，如果可以的话……[连接回我的本地VPC，足以应付我的工作量，让我使用与其他系统相同的语言或开发人员工具，一直很热情，支持某种形式共享存储等）</p><p> 我对这些陈述的第一个反应是：如果无法或不支持无状态，无容器，从零缩放到零的函数，为什么要使用Lambda？这就是Lambda的重点。在我看来，这就像来自《 New Stack》调查中的那些Kubernetes猫，说如果它们只含有更多的肉，它们真的很想吃蔬菜。</p><p> 但自那以后，我开始理解该声明的真正强大部分是开始部分。这是渴望的声明。</p><p>  Lambda和一般的无服务器计算到底是什么激发了这么多人的反应？为什么从小型初创公司到大型OL传统企业，全新的婴儿计算范式都会引起如此强烈的兴趣？</p><p> 因为无处不在，所以无服务器计算是一个主意。用一个简单的词组表达一个想法：少拥有，多建设。所有无服务器的学说，所有技术指导都可以归结为这一目标。 Lambda是一种理想的生活方式。</p><p> 大约在2016年的Lambda大大领先于它的时代，并且在某种程度上仍然如此。但是，由于增加了新功能（包括容器支持，包括容器支持），因此与以往相比，它使自己的东西更少，构建更多的身份对于更多的构建者更易于访问。 </p><p>AWS正在做的是一个接一个地删除if onlys。他们通过为需要它们的团队提供令人放心的选项（共享存储，已配置的容量）来消除对无服务器的反感。我很想使用Lambda！</p><p>  某些团队是否会出于混乱或惯性使用这些功能，而没有意识到他们可以构建更激进，更像宣言的东西？是的，我认为这是AWS可以提供​​更多帮助的领域。</p><p> 看起来，Lambda控制台是一团糟–您知道，我知道，AWS也知道。与2001年的VCR相比，它具有更完善的功能蠕变和不连贯的UX路径。并说出您对基础架构即代码的看法，控制台仍然是人们探索新服务的方式。他们如何对自己想要成为什么样的建筑商产生感觉。</p><p> 当然，需要重新设计控制台，而不仅仅是重新设计。我们需要一个能够支持原始宣言的Lambda功能的应用程序：代码级编程抽象，功能级部署。然后，在您突破宣言的限制或您自己的组织约束条件时，仔细揭示渐进式复杂性。 （是否存在“递归复杂性”之类的东西？因为这是当前的控制台。）</p><p> 您想要的是使构建者在每次开始新项目时都要面对更简单，更受管理的选项。随着时间的流逝，这会改变人们的看法。它不断以“无服务器方式”向他们展示：嘿，我可以使用事件来构建它！我不需要将此功能放在VPC中！默认值很重要。我期待看到AWS如何在这里继续指导其客户取得成功。</p><p> 同时，Lambda最终获得了认真的采用，最终赢得了胜利，因为它摆脱了标志着其早期发展的FaaS纯粹主义-在不损害其真正价值的前提下，逐渐减少拥有自己的东西，建立更多的东西。无服务器计算宣言必须消亡，这样无服务器的承诺才能最终实现。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://acloudguru.com/blog/engineering/aws-lambda-is-winning-but-first-it-had-to-die">https://acloudguru.com/blog/engineering/aws-lambda-is-winning-but-first-it-had-to-die</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/lambda/">#lambda</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1037445.html"><img src="http://img2.diglog.com/img/2020/12/thumb_9f3bbb1512fed78d0efc767999417a59.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037445.html">微软为Excel引入了LAMBDA函数 </a></div><span class="my_story_list_date">2020-12-4 20:32</span></div><div class="col-sm"><div><a target="_blank" href="/story/1029778.html"><img src="http://img2.diglog.com/img/2020/10/thumb_e2b8bc38276bc158265a5470ba58d117.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1029778.html">兰姆达微积分的乐趣</a></div><span class="my_story_list_date">2020-10-19 20:31</span></div><div class="col-sm"><div><a target="_blank" href="/story/1027795.html"><img src="http://img2.diglog.com/img/2020/10/thumb_47b7d4ea49cec87ec74d8dea5eb74cd4.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1027795.html">完整的AWS Lambda初学者手册</a></div><span class="my_story_list_date">2020-10-8 7:16</span></div><div class="col-sm"><div><a target="_blank" href="/story/1019579.html"><img src="http://img.diglog.com/img/2020/8/thumb_7188aa2b75d6b4ea856b967a3c622499.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1019579.html">
Lambda School为其虚拟编码学校筹集了7400万美元，只有在找到工作后才能支付学费</a></div><span class="my_story_list_date">2020-8-21 20:47</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>