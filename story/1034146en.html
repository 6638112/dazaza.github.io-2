<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>一颗隐藏在声音对称中的宝石</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">一颗隐藏在声音对称中的宝石</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-10 05:48:21</div><div class="page_narrow text-break page_content"><p>Autocorrelation is used to compare a signal with a time-delayed version of itself. If a signal is periodic, then the signal will be perfectly correlated with a version of itself if the time-delay is an integer number of periods. That fact, along with related experiments, has implicated autocorrelation as a potentially important part of signal processing in human hearing.</p><p>自相关用于将信号与自身的延时版本进行比较。如果信号是周期性的，那么如果时延是整数个周期，则该信号将与其自身的一个版本完全相关。这一事实，加上相关的实验，暗示了自相关可能是人类听觉信号处理的一个重要部分。</p><p> ACF is a simple method to visualize music that produces surprisingly good results. Perhaps the most unexpected property of ACF is that it accurately transfers the subjective “harmony level” from music to images. It’s almost an unreasonable property, if you think about it. Images below are ACF height maps in polar coordinates.</p><p>ACF是一种将音乐可视化的简单方法，其效果出人意料地好。或许ACF最让人意想不到的属性是，它将主观的“和声水平”从音乐准确地传递到了图像中。如果你仔细想想，这几乎是一项不合理的资产。下面的图片是以极坐标表示的ACF高度图。</p><p>     Contrary to what you might think, our ears don’t seem to rely on an FFT-like process to extract isolated frequencies. Instead, our ears detect periodic parts in the signal, although in most cases those periodic parts closely match the FFT frequencies. There is a simple  experiment that proves this point:</p><p>与你可能认为的相反，我们的耳朵似乎并不依赖于类似于FFT的过程来提取孤立的频率。相反，我们的耳朵会检测信号中的周期性部分，尽管在大多数情况下，这些周期性部分与FFT频率非常匹配。有一个简单的实验可以证明这一点：</p><p>  As can be clearly seen on the FFT image, the A signal is a pure sinusoidal tone, while B is a mix of tones. Despite each tone in B is higher than A, our ears perceive B as a lower tone. If we plot both waveforms, we’ll see that A has about 9 peaks in a 20 ms window, while B has only 5. The definition of “peak” is moot, but it doesn’t stop our ears from counting them and using the “number of peaks per second” as a proxy to the tone height.</p><p>在FFT图像上可以清楚地看到，A信号是纯正弦音调，而B是混合音调。尽管B中的每一个音调都高于A，但我们的耳朵认为B的音调较低。如果我们绘制这两个波形图，我们会发现A在20ms的窗口中有大约9个峰值，而B只有5个。“峰值”的定义是没有意义的，但这并不能阻止我们的耳朵计算它们，并使用“每秒峰值的数量”来代替音调高度。</p><p> ACF detects those peaks. ACF sees that there are 5 equally spaced time shifts where  B[t] * B[t + shift] reaches the maximum, so on the ACF output we’ll see those 5 peaks.</p><p>ACF检测到这些峰值。ACF看到在B[t]*B[t+Shift]达到最大时有5个等间隔的时间移位，因此在ACF输出上我们将看到这5个峰值。</p><p> Given that I’ve shamelessly stolen the experiment’s illustration above, I feel obligated to recommend the book where the illustration came from:  Auditory Neuroscience.</p><p>考虑到我厚颜无耻地偷了上面实验的插图，我觉得有义务推荐插图出自的那本书：听觉神经科学。</p><p> One downside of ACF is that it drops the phase component of the input signal, and thus ACF is not reversible. This means that images that only render ACF, lose about 50% of the information from the sound and those 50% are important, e.g. dropping the phase from recorded speech makes that speech indiscernible. Real world sounds, such as voice, heavily use nuanced amplitude and phase modulation. ACF captures the former, but ignores the latter.</p><p>ACF的一个缺点是它降低了输入信号的相位分量，因此ACF是不可逆的。这意味着，只呈现ACF的图像会丢失声音中约50%的信息，而这50%是重要的，例如，从录制的语音中去掉相位会使该语音无法辨别。现实世界中的声音，如语音，大量使用细微差别的幅度和相位调制。ACF抓住了前者，但忽略了后者。</p><p>    And thus ACF contains exactly the same information as the spectral density  S (the well known spectrogram).</p><p>因此，ACF包含与光谱密度S(众所周知的谱图)完全相同的信息。</p><p> If you’re familiar with the ACF definition, you’ll notice that I should’ve used the inverse FFT in the last step. There is no mistake. The inverse FFT can be computed as  FFT[X*]*, where  X* is complex conjugate, but since  S[i] is real-valued (and positive, in fact), the conjugate has no effect on it, and since ACF is also real valued in this case, the second conjugate has no effect either.</p><p>如果您熟悉ACF的定义，您会注意到我应该在最后一步中使用逆FFT。这是没有错的。逆FFT可以计算为FFT[X*]*，其中X*是复共轭，但是因为S[i]是实值的(实际上是正的)，所以共轭对它没有影响，而且由于ACF在这种情况下也是实值的，所以第二个共轭也不起作用。</p><p> ACF is a periodic and even function and so it can be naturally rendered in polar coordinates. In most cases, ACF has a very elaborate structure. Below are some examples, where red = ACF &gt; 0 and blue = ACF &lt; 0.</p><p>ACF是一个周期且均匀的函数，因此可以在极坐标中自然渲染。在大多数情况下，ACF具有非常精细的结构。下面是一些例子，其中红色=ACF&gt；0，蓝色=ACF&lt；0。</p><p>  Looking at the first example, we can tell that there are 5 prominent peaks in a 20 ms sound sample, which corresponds to 250 Hz. This means that our ears would necesserarily perceive this sound as a 250 Hz tone, regardless of what its spectrogram says. If it was a pure 250 Hz tone, we’d see perfectly round shapes of the  r = cos(250Hz * t) line, but it’s not the case here: we see that the 5 peaks are modulated with small wavelets: there is one big wavelet in the middle (which consists of 3 smaller wavelets) and 4 smaller wavelets. Our ears would hear the big wavelet as the 2nd harmonic of the 250 Hz tone (i.e. it would be a 500 Hz tone with a smaller amplitude) and the 4 small wavelets as the 5th harmonic (1000 Hz) at barely discernible volume. In addition to that, the 500 Hz harmonic is also modulated by the 3 tiny wavelets, which means we’d hear a 1500 Hz tone, almost inaudible. We can say all this without even looking at the spectrogram or hearing the sound.</p><p>看第一个例子，我们可以看出，在一个20ms的声音样本中有5个突出的峰值，对应于250 Hz。这意味着我们的耳朵必然会感觉到这个声音是250赫兹的音调，不管它的频谱图是怎么说的。如果它是一个纯250赫兹的音调，我们会看到r=cos(250赫兹*t)线的完美圆形，但这里不是这样：我们看到5个峰值被小波调制：中间有一个大的小波(由3个更小的小波组成)和4个更小的小波。我们的耳朵会听到大小波作为250赫兹音调的第二次谐波(即，它将是一个幅度较小的500赫兹音调)，而4个小波作为第五次谐波(1000赫兹)，音量几乎听不见。除此之外，500赫兹的谐波还受到3个小波的调制，这意味着我们会听到1500赫兹的声音，几乎听不见。我们甚至不用看谱图或听到声音就能说出这一切。</p><p>  Music is a temporal ornament. There are many types of ornaments, e.g. the 17 types of wallpaper tesselations, but few of them look like music. However there is one particular type of ornament that resembles music a lot - I mean those “mandala” images. I don’t know how and why those are produced, but I noticed a connection between those images and music:</p><p>音乐是一种暂时的装饰品。装饰品有很多种，例如17种壁纸花纹，但很少有看起来像音乐的。然而，有一种特别的装饰品与音乐非常相似--我指的是那些“曼陀罗”形象。我不知道这些图片是如何制作的，也不知道为什么，但我注意到了这些图片和音乐之间的联系：</p><p> The 1st obvious observation is that a mandala is drawn in polar coordinates and is  2*PI periodic. Sound is periodic too, so I thought the two facts are related.</p><p>第一个明显的观察是，曼陀罗是在极坐标下绘制的，是2*Pi周期的。声音也是周期性的，所以我认为这两个事实是相关的。</p><p>  The 2nd observation is that patterns on those images evolve over the radial axis. Ans so is music is a sequence of evolving sound patterns.</p><p>第二个观察结果是，这些图像上的图案是在放射轴上进化的。音乐也是如此，它是一系列不断演变的声音模式。</p><p>  The 3rd observation is that a  2*PI periodic function trivially corresponds to a set of frequencies. We usually use FFT to extract the frequencies and another FFT to restore the  2*PI periodic function. Thus, a single radial slice of a mandala could encode a set of frequencies. If this is correct, a mandala is effectively an old school vinyl disk.</p><p>第三个观察结果是，2*PI周期函数通常对应于一组频率。我们通常用FFT来提取频率，再用一次FFT来恢复2*PI周期函数。因此，曼陀罗的一个径向切片就可以编码一组频率。如果这是正确的，曼陀罗实际上就是一张老式的黑胶唱片。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://soundshader.github.io/hn/acf/index.html">https://soundshader.github.io/hn/acf/index.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/声音/">#声音</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/gem/">#gem</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/acf/">#acf</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>