<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>在美人鱼的降价文件中加入图表Include diagrams in your Markdown files with Mermaid</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Include diagrams in your Markdown files with Mermaid<br/>在美人鱼的降价文件中加入图表</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2022-02-17 03:36:25</div><div class="page_narrow text-break page_content"><p>A picture tells a thousand words, but up until now the only way to include pictures and diagrams in your Markdown files on GitHub has been to embed an image. We added  support for embedding SVGs recently, but sometimes you want to keep your diagrams up to date with your docs and create something as easily as doing ASCII art, but a lot prettier.</p><p>一张图片能说出千言万语，但到目前为止，在GitHub上的标记文件中包含图片和图表的唯一方法是嵌入一张图片。最近，我们增加了对嵌入SVG的支持，但有时你想让你的图表与你的文档保持最新，并像创建ASCII艺术一样简单，但要漂亮得多。</p><p>  Mermaid is a JavaScript based diagramming and charting tool that takes Markdown-inspired text definitions and creates diagrams dynamically in the browser. Maintained by  Knut Sveidqvist, it supports a bunch of different common diagram types for software projects, including flowcharts, UML, Git graphs, user journey diagrams, and even the dreaded Gantt chart.</p><p>Mermaid是一个基于JavaScript的图表绘制工具，它采用了Markdown风格的文本定义，并在浏览器中动态创建图表。由Knut Sveidqvist维护，它支持软件项目的一系列不同的常见图表类型，包括流程图、UML、Git图、用户旅程图，甚至可怕的甘特图。</p><p> Working with Knut and also the wider community at  CommonMark, we’ve rolled out a change that will allow you to create graphs inline using  Mermaid syntax, for example:</p><p>通过与Knut以及CommonMark更广泛的社区合作，我们推出了一项更改，允许您使用Mermaid语法创建内联图，例如：</p><p>     When we encounter code blocks marked as  mermaid, we generate an iframe that takes the raw Mermaid syntax and passes it to Mermaid.js, turning that code into a diagram in your local browser.</p><p>当我们遇到标记为mermaid的代码块时，我们会生成一个iframe，它采用原始mermaid语法并将其传递给mermaid。js，将代码转换为本地浏览器中的图表。</p><p> We achieve this through a two-stage process—GitHub’s  HTML pipeline and Viewscreen, our internal file rendering service.</p><p>我们通过GitHub的HTML管道和我们的内部文件呈现服务Viewscreen两个阶段来实现这一点。</p><p> First, we add a filter to the HTML pipeline that looks for raw  pre tags with the  mermaid language designation and substitutes it with a template that works progressively, such that clients requesting content with embedded Mermaid in a non-JavaScript environment (such as a screen reader or an API request) will see the original Markdown code.</p><p>首先，我们在HTML管道中添加了一个过滤器，用于查找带有美人鱼语言名称的原始预标记，并用一个渐进工作的模板替换它，这样，在非JavaScript环境（如屏幕阅读器或API请求）中请求嵌入美人鱼内容的客户端将看到原始标记代码。</p><p> Next, assuming the content is viewed in a JavaScript-enabled environment, we inject an iframe into the page, pointing the  src attribute to the Viewscreen service. This has several advantages:</p><p>接下来，假设内容是在支持JavaScript的环境中查看的，我们向页面中注入一个iframe，将src属性指向Viewscreen服务。这有几个优点：</p><p> It offloads the library to an external service, keeping the JavaScript payload we need to serve from Rails smaller.</p><p>它将库卸载到外部服务，从而使我们需要从Rails提供服务的JavaScript负载更小。</p><p> Rendering the charts asynchronously helps eliminate the overhead of potentially rendering several charts before sending the compiled ERB view to the client.</p><p>异步呈现图表有助于消除在将已编译的ERB视图发送到客户端之前呈现多个图表的潜在开销。</p><p> User-supplied content is locked away in an iframe, where it has less potential to cause mischief on the GitHub page that the chart is loaded into.</p><p>用户提供的内容被锁定在iframe中，在加载图表的GitHub页面上造成破坏的可能性较小。</p><p> Here is a visual representation of the path your Mermaid-flavored Markdown takes to become a fully-rendered Mermaid chart. (Here’s  the Mermaid code for the diagram.)</p><p>这里是一个视觉呈现的路径，你的美人鱼风味的降价需要成为一个完全呈现美人鱼图表。（这是图表的美人鱼代码。）</p><p> The net result is fast, easily editable, and vector-based diagrams right in your documentation where you need them.</p><p>最终的结果是快速、易于编辑，并且基于矢量的图表就在您需要它们的文档中。</p><p> Mermaid has been getting increasingly popular with developers and has a  rich community of contributors led by the maintainer  Knut Sveidqvist. We are very grateful for Knut’s support in bringing this feature to everyone on GitHub. If you’d like to learn more about the Mermaid syntax, head over to the  Mermaid website or check out Knut’s first official  Mermaid book.</p><p>Mermaid在开发人员中越来越受欢迎，并且拥有一个由维护人员Knut Sveidqvist领导的丰富的贡献者社区。我们非常感谢Knut为GitHub上的每个人提供此功能的支持。如果你想了解更多关于美人鱼语法的信息，请访问美人鱼网站或查看Knut的第一本美人鱼官方书籍。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/降价/">#降价</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/diagrams/">#diagrams</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/图表/">#图表</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>