<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>从1月4日开始，Google将禁止从嵌入式浏览器框架登录Starting January 4 Google will block sign-ins from embedded browser frameworks</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Starting January 4 Google will block sign-ins from embedded browser frameworks<br/>从1月4日开始，Google将禁止从嵌入式浏览器框架登录</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-22 07:19:14</div><div class="page_narrow text-break page_content"><p>Michael Catanzaro  mcatanzaro at gnome.org    Tue Nov 17 10:42:25 PST 2020  Hi,Today I received a Google Developers email with subject &#34;[Action Required] Starting January 4, 2021, we will block all sign-ins to Google accounts from embedded browser frameworks.&#34; It linked to this Google blog post: https://developers.googleblog.com/2020/08/guidance-for-our-effort-to-block-less-secure-browser-and-apps.htmlSummary: Google will attempt to block logins from &#34;CEF-based apps and other non-supported browsers.&#34; Presumably &#34;non-supported browsers&#34; likely includes non-Safari WebKit, considering how much time I spend trying to develop user agent quirks to suppress Google&#39;s unsupported browser warnings on Gmail, Google Docs, etc. I guess we will find out on January 4.Google says: &#34;The browser must identify itself clearly in the User-Agent. The browser must not try to impersonate another browser like Chrome or Firefox.&#34; We cannot comply with this because user agent spoofing is required for compatibility with various Google websites. I am continually fighting to maintain our user agent quirks for Google domains, see e.g. [1] or [2]. Even if we were to remove all user agent quirks, it would still be impossible for Google to distinguish between a desktop browser and an embedded browser framework, since the user agent header is going to be the same: Epiphany doesn&#39;t even append &#34;Epiphany&#34; anymore, in order to maximize the chances that websites will treat us like Safari. Even if we did, there are many other WebKit-based browsers that would be impacted (off the top of my head: eolie, surf, etc.)So we&#39;ll see what happens on January 4. If our users get locked out of google.com, I&#39;ll try to come up with new quirks if possible, but if Google is really determined to block non-Safari WebKit, it will win. E.g. it&#39;s easy to do JS feature detection (scary) or TLS handshake fingerprinting (extremely scary) and see we are not really the browser that our user agent quirk claims to be. We are largely toothless here, unfortunately. If Google continues to discriminate solely on the basis of the user agent header, and doesn&#39;t adopt any more advanced discrimination mechanisms, then we will survive, although it would help if Apple is willing to take a hard stance and adopt the same set of cross-platform quirks in Safari, which would &#34;work&#34; by causing Safari to break in the same way as non-Safari WebKit... probably not very palatable, but if adopted well in advance of this Jan 4 flag date, it would at least make it *harder* for Google to hurt non-Safari WebKit. (Adopting the quirks *after* the flag date would likely just immediately break Safari.)But if Google does this properly and uses more sophisticated browser fingerprinting techniques, Epiphany is done for. This could be an existential threat for non-Safari WebKit browsers. Nobody is going to be interested in using a browser that doesn&#39;t support Google websites. Google&#39;s expressly-stated goal is to block embedded browser frameworks and non-supported browsers from signing into Google accounts. The blog post says: &#34;This block affects CEF-based apps and other non-supported browsers.&#34; It says: &#34;We do not allow sign-in from browsers based on frameworks like CEF or Embedded Internet Explorer.&#34; Clearly CEF is the main target, but I guess WebKit (and likely also QtWebEngine) is at risk too; even if we&#39;re not mentioned directly, it seems pretty clear that WebKitGTK, WPE, PlayStation and WinCairo ports, etc. are all likely non-grata.So what should WebKit do about this? I don&#39;t know. Nothing has happened yet, so I guess we could wait and see what happens on January 4. Maybe this won&#39;t affect us at all. But my fear is that January 4 will arrive, we will be blocked, and more user agent quirks may or may not work. Even if WebKit is not blocked, we can be confident January 4 will be a sad day for browser diversity. I wonder if this is something that WebKit as a project could push back against... somehow. Maybe publish a statement supporting browsers based on embedded frameworks (WebKit, CEF, QtWebEngine)? Or some new WebKit project policy? Any suggestions?Michael[1]  https://trac.webkit.org/browser/webkit/trunk/Source/WebCore/platform/UserAgentQuirks.cpp?rev=269908[2]  https://bugs.webkit.org/show_bug.cgi?id=215845</p><p>gnome.org的Michael Catanzaro mcatanzaro，星期二11月17日10:42:25 PST 2020嗨，今天我收到了一封Google开发人员电子邮件，主题为“ [需要采取措施]从2021年1月4日开始，我们将禁止从嵌入式浏览器框架。”它链接到此Google博客文章：https://developers.googleblog.com/2020/08/guidance-for-our-effort-to-block-less-secure-browser-and-apps.html摘要：Google将尝试阻止来自“基于CEF的应用和其他不支持的浏览器”的登录。考虑到我花了多少时间来尝试开发用户代理怪癖来抑制Google在Gmail，Google Docs等上不受支持的浏览器警告，大概“不受支持的浏览器”可能包括非Safari WebKit。我想我们会在1月4日找到答案。 Google说：“浏览器必须在User-Agent中清楚地表明自己的身份。浏览器不得尝试模仿其他浏览器，例如Chrome或Firefox。”我们不能遵守此规定，因为与各种Google网站兼容需要使用用户代理欺骗。我一直在努力维护Google域的用户代理怪癖，例如[1]或[2]。即使我们要删除所有用户代理怪癖，对于Google来说，仍然无法区分桌面浏览器和嵌入式浏览器框架，因为用户代理标头将是相同的：Epiphany甚至不会附加“ Epiphany” ”，以便最大程度地提高网站将Safari视为我们的机会。即使我们这样做了，也会有很多其他基于WebKit的浏览器受到影响（我的头上是eolie，surf等）。因此，我们将看到1月4日会发生什么。 google.com，如果可能，我会尝试提出新的怪癖，但如果Google确实决心阻止非Safari WebKit，它将胜出。例如。进行JS功能检测（很恐怖）或TLS握手指纹（非常可怕）很容易，并且看到我们并不是我们的用户代理怪异的浏览器。不幸的是，我们在这里没有牙齿。如果Google继续仅基于用户代理标头进行区分，并且不采用任何更高级的区分机制，那么我们将生存下来，尽管如果苹果愿意采取强硬立场并采用相同的一套做法将有所帮助。 Safari中的跨平台怪癖，可以通过使Safari以与非Safari WebKit相同的方式中断来“起作用” ...可能不太好用，但是如果在此1月4日标志日期之前采用，至少会使Google更加“难”地伤害非Safari WebKit。 （在*标记日期之后*采用怪异行为可能会立即破坏Safari。）但是，如果Google做到这一点并使用更复杂的浏览器指纹技术，则Epiphany就可以解决。对于非Safari WebKit浏览器而言，这可能是一个生存威胁。没有人会对使用不支持Google网站的浏览器感兴趣。 Google明确声明的目标是阻止嵌入式浏览器框架和不受支持的浏览器登录Google帐户。博客文章说：“此阻止影响基于CEF的应用程序和其他不受支持的浏览器。”它说：“我们不允许从基于CEF或嵌入式Internet Explorer等框架的浏览器登录。”显然，CEF是主要目标，但我猜WebKit（还有可能QtWebEngine）也处于危险之中。即使我们没有直接提及，但很显然WebKitGTK，WPE，PlayStation和WinCairo端口等可能都不受欢迎，那么WebKit应该怎么做呢？我不知道。尚未发生任何事情，所以我想我们可以等待，看看1月4日发生了什么。也许这根本不会影响我们。但是我担心1月4日到来，我们将被封锁，更多的用户代理怪癖可能会或可能不会起作用。即使未阻止WebKit，我们也可以确信1月4日对于浏览器的多样性将是可悲的一天。我不知道这是否是WebKit作为项目可以以某种方式推后的目标。也许发布支持基于嵌入式框架（WebKit，CEF，QtWebEngine）的浏览器的声明？还是一些新的WebKit项目策略？有任何建议吗？迈克尔[1] https://trac.webkit.org/browser/webkit/trunk/Source/WebCore/platform/UserAgentQuirks.cpp?rev=269908[2] https://bugs.webkit.org/show_bug .cgi？id = 215845</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://lists.webkit.org/pipermail/webkit-dev/2020-November/031604.html">https://lists.webkit.org/pipermail/webkit-dev/2020-November/031604.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/禁止/">#禁止</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/january/">#january</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>