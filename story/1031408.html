<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>提高Postgres连接可伸缩性：快照</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">提高Postgres连接可伸缩性：快照</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-27 13:10:38</div><div class="page_narrow text-break page_content"><p>%3CLINGO-SUB%20id%3D%22lingo-sub-1806462%22%20slang%3D%22en-US%22%3EImproving%20Postgres%20Connection%20Scalability%3A%20Snapshots%3C%2FLINGO-SUB%3E%3CLINGO-BODY%20id%3D%22lingo-body-1806462%22%20slang%3D%22en-US%22%3E%3CP%3EI%20recently%20%3CA%20href%3D%22https%3A%2F%2Ftechcommunity.microsoft.com%2Ft5%2Fazure-database-for-postgresql%2Fanalyzing-the-limits-of-connection。-scalability-in-postgres%2Fba-p%2F1757266%22%20target%3D%22_blank%22%20rel%3D%22noopener%22%3Eanalyzed%20the%20limits%20of%20connection%20scalability%3C%2FA%3E%2C%20to%20understand%20the%20most%20effective%20way%20to%20improve%20Postgres&#39；%20handling%20of%20large%20numbers%20of%20connections%2C%20and%20why%20that%20is%20important.%20I%20%3CA%20href%3D%22https%3A%2F%2Ftechcommunity.microsoft.com%2Ft5%2Fazure-database-for-postgresql%2Fanalyzing-the-limits-of-connection-scalability-in-postgres%2Fba-p%2F1757266%23conclusion-start-by-improving-snapshot-scalability-in-postgres%22%20target%3D%22_blank%22%20rel%3D%22noopener%22%3Econcluded%3C%。2FA%3E%20that%20the%20most%20pressing%20issue%20is%20%3CA%20href%3D%22https%3A%2F%2Ftechcommunity.microsoft.com%2Ft5%2Fazure-database-for-postgresql%2Fanalyzing-the-limits-of-connection-scalability-in-postgres%2Fba-p%2F1757266%23snapshot-scalability%22%20target%3D%22_blank%22%20rel%3D%22noopener%22%3Esnapshot%20scalability%3C%2FA%3E.%3C%2FP%3E%0A%3CP%3E%26nbsp%3B%3C。%2FP%3E%0A%3CP%3EThis%20post%20details%20the%20improvements%20I%20recently%20contributed%20to%20Postgres%2014%20(to%20be%20released%20Q3%20of%202021)%2C%20significantly%20reducing%20the%20identified%20snapshot%20scalability%20bottleneck.%3C%2FP%3E%0A%3CP%3E%3CSPAN%20class%3D%22lia-inline-image-display-wrapper%20lia-image-align-inline%22%20image-alt%3D%22pgbench-before-and-after-performance-comparison-Postgres。-snapshot-scalability-v2-1920x1080.jpg%22%20style%3D%22width%3A%20400px%3B%22%3E%3CIMG%20src%3D%22https%3A%2F%2Ftechcommunity.microsoft.com%2Ft5%2Fimage%2Fserverpage%2Fimage-id%2F228383i00393979FBE65C85%2Fimage-size%2Fmedium%3Fv%3D1.0%26amp%3Bpx%3D400%22%20role%3D%22button%22%20title%3D%22pgbench-before-and-after-performance-comparison-Postgres-snapshot-scalability-v2-1920x1080.jpg%22%20alt%3D。%22pgbench-before-and-after-performance-comparison-Postgres-snapshot-scalability-v2-1920x1080.jpg%22%20%2F%3E%3C%2FSPAN%3E%3C%2FP%3E%0A%3CP%3EAs%20the%20explanation%20of%20the%20implementation%20details%20is%20fairly%20long%2C%20I%20thought%20it%E2%80%99d%20be%20more%20fun%20for%20of%20you%20if%20I%20start%20with%20the%20results%20of%20the%20work%2C%20instead%20of%20the。%20technical%20details%20(I%E2%80%99m%20cheating%2C%20I%20know%20%3B)).%3C%2FP%3E%0A%3CHR%20%2F%3E%0A%3CDIV%20class%3D%22toc%22%3E%3CNAV%20id%3D%22TableOfContents%22%3E%0A%3COL%3E%0A%3CLI%3E%3CA%20href%3D%22%23first-performance-improvements%22%20target%3D%22_self%22%20rel%3D%22nofollow%20noopener%20noreferrer%。20noopener%20noreferrer%22%3EFirst%3A%20Performance%20Improvements%3C%2FA%3E%3C%2FLI%3E%0A%3CLI%3E%3CA%20href%3D%22%23unfortunately-a-minimal-transaction-visibility-primer%22%20target%3D%22_self%22%20rel%3D%22nofollow%20noopener%20noreferrer%20noopener%20noreferrer%22%3EUnfortunately%3A%20A%20Minimal%20Transaction%20Visibility%20Primer%3C%2FA%3E%3COL%3E%0A%3CLI%3E%3CA%20href%3D%22%23multi-。Version-concurrency-control-mvcc%22%20target%3D%22_self%22%20rel%3D%22nofollow%20noopener%20noreferrer%20noopener%20noreferrer%22%3EMulti%20Version%20Concurrency%20Control%20(MVCC)%3C%2FA%3E%3C%2FLI%3E%0A%3CLI%3E%3CA%20href%3D%22%23snapshots%22%20target%3D%22_self%22%20rel%3D%22nofollow%20noopener%20noreferrer%20noopener%20noreferrer%22%3ESnapshots%3F%3C%2FA%3E%3C%2FLI%3E。%0A%3CLI%3E%3CA%20href%3D%22%23snapping-snapshots%22%20target%3D%22_self%22%20rel%3D%22nofollow%20noopener%20noreferrer%20noopener%20noreferrer%22%3ESnapping%20Snapshots%3C%2FA%3E%3C%2FLI%3E%0A%3CLI%3E%3CA%20href%3D%22%23past-optimizations%22%20target%3D%22_self%22%20rel%3D%22nofollow%20noopener%20noreferrer%20noopener%20noreferrer%22%3EPast%20Optimizations%3C%2FA%3E%3C。%2FLI%3E%0A%3C%2FOL%3E%0A%3C%2FLI%3E%0A%3CLI%3E%3CA%20href%3D%22%23finally-addressing-bottlenecks%22%20target%3D%22_self%22%20rel%3D%22nofollow%20noopener%20noreferrer%20noopener%20noreferrer%22%3EFinally%3A%20Addressing%20Bottlenecks%3C%2FA%3E%3COL%3E%0A%3CLI%3E%3CA%20href%3D%22%23bottleneck-1-ping-pong%22%20target%3D%22_self%22。%20rel%3D%22nofollow%20noopener%20noreferrer%20noopener%20noreferrer%22%3EBottleneck%201%3A%20Ping%20Pong%3C%2FA%3E%3C%2FLI%3E%0A%3CLI%3E%3CA%20href%3D%22%23interlude-removing-the-need-for-recentglobalxminhorizon%22%20target%3D%22_self%22%20rel%3D%22nofollow%20noopener%20noreferrer%20noopener%20noreferrer%22%3EInterlude%3A%20Removing%20the%20need%20for%3CCODE%3ERecentGlobalXminHorizon%3C%2FCODE%3E%3C%2FA%3E。%3C%2FLI%3E%0A%3CLI%3E%3CA%20href%3D%22%23bottleneck-2-density%22%20target%3D%22_self%22%20rel%3D%22nofollow%20noopener%20noreferrer%20noopener%20noreferrer%22%3EBottleneck%202%3A%20Density%3C%2FA%3E%3C%2FLI%3E%0A%3CLI%3E%3CA%20href%3D%22%23bot</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://techcommunity.microsoft.com/t5/azure-database-for-postgresql/improving-postgres-connection-scalability-snapshots/ba-p/1806462">https://techcommunity.microsoft.com/t5/azure-database-for-postgresql/improving-postgres-connection-scalability-snapshots/ba-p/1806462</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/postgres/">#postgres</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/image/">#image</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1031154.html"><img src="http://img2.diglog.com/img/2020/10/thumb_35f98d82e9fd080c7bde372bd1e29d18.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031154.html">提高Postgres连接可伸缩性：快照</a></div><span class="my_story_list_date">2020-10-26 8:15</span></div><div class="col-sm"><div><a target="_blank" href="/story/1029163.html"><img src="http://img2.diglog.com/img/2020/10/thumb_9822746f673b175b658119a7879db373.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1029163.html">针对高写入负载调整Postgres数据库</a></div><span class="my_story_list_date">2020-10-16 9:5</span></div><div class="col-sm"><div><a target="_blank" href="/story/1025611.html"><img src="http://img2.diglog.com/img/2020/9/thumb_511e8306e74c6a2db7456c789727ce3c.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1025611.html">将数据从Postgres流式传输到Apache Kafka</a></div><span class="my_story_list_date">2020-9-22 23:51</span></div><div class="col-sm"><div><a target="_blank" href="/story/1025383.html"><img src="http://img2.diglog.com/img/2020/9/thumb_2625827acf7bab2cec3c058c83070689.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1025383.html">Ccrchy Bridge：现代的多云Postgres即服务</a></div><span class="my_story_list_date">2020-9-22 0:59</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>