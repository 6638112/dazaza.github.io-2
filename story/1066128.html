<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>尺度不可靠 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">尺度不可靠 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-16 13:07:56</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/6/9adcef5825484983a413439645db577f.png"><img src="http://img2.diglog.com/img/2021/6/9adcef5825484983a413439645db577f.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Warning: Can only detect less than 5000 characters</p><p>Facebook团队得出结论：静默数据损坏是在刻度运行的数据中心应用程序中的真实现象。我们在这里提出了一个示例，其示出了我们遇到的许多方案之一，这些方案依赖于这些数据，隐居且难以调试错误。了解这些损坏有助于我们进入硅装置特征的见解;通过复杂的指令流量及其与编译器和软件架构的互动。存在多种检测和缓解策略，每个策略都会促进额外的成本和复杂性进入大规模的数据中心基础设施。更好地了解这些腐败已经帮助我们发展我们的软件架构更容易容忍和弹性。这些策略允许我们在Facebook的规模上减轻数据损坏的成本。</p><p> 谷歌团队＆＃39; S文件采取更广泛的问题，即他们称为腐败的执行错误（CEES）：因为制造推动较小的特征尺寸和更精细的计算结构，并且介绍了越来越多的专业指导 - 硅配对为了提高性能，我们观察到在制造测试期间未检测到的短暂计算误差。不能始终通过诸如微代码更新的技术来减轻这些缺陷，并且可以与处理器内的特定组件相关联，允许小的代码改变以实现可靠性的大移位。更糟糕的是，这些故障通常是“沉默” - 唯一的症状是错误的计算。我们指的是一种发展为“Mercurial”这种行为的核心。 Mercurial Cores非常罕见，但在一批服务器中，我们可以观察它们导致的中断，往往足以将它们视为一个独特的问题 - 一个需要硬件设计师，处理器供应商和系统软件架构师之间的合作。</p><p>他们叙述了最初检测到的CEES：想象一下，在生产中运行大规模的数据分析管道，并且有一天它开始给予错误的答案 - 在管道中的某个地方，一类计算都会产生腐败的结果。调查手指令人惊讶的原因：对低级图书馆的无害变化。变化本身是正确的，但它导致服务器更重用使用其他很少使用的指令。此外，仅对服务器计算机的一个小子集重复负责错误。这发生在我们谷歌。更深入的调查显示，这些指令由于制造缺陷而发生故障，这种情况是只能通过检查这些指示的结果来检测到预期结果的结果;这些是“沉默的＆＃34;腐败的执行错误或cees。更广泛的调查发现多种不同的cees;检测到的发病率远远高于软件工程师的期望;它们不仅仅是硬件错误的背景速率的增量增加;在初始安装后，这些可以长时间表现得很长;并且它们通常在多核CPU上折磨特定核心，而不是整个芯片。我们将这些核心称为“mercurial。＆＃34;因为CEES可能与核心内的特定执行单元相关联，因为有几种原因，它们将我们暴露于突然和不可预测的大型风险，包括似乎较小的软件更改。高音斯人对客户有责任保护他们免受这种风险。出于商业原因，我们无法透露确切的CEE率，但我们观察到每几千台机器的几个Mercurial核心的顺序 - 类似于Facebook [8]报告的速率[8]。问题足以让我们足够认真地应用了许多工程师的几十年。</p><p>＆＃34;每几千台机器的少数Mercurial核心;造成了广泛的问题：我们看到了CEE的一些具体例子：一个确定性AES错误计算，它是“自我反转”：加密和解密在同一核心上产生了身份函数，但其​​他地方的解密产生了Gibberish。</p><p>  数据库索引导致某些查询，具体取决于哪个副本（核心）为它们提供服务，不确定性地损坏。</p><p> 在特定位位置（不太可能是编码错误而困扰）重复的位翻转。</p><p>要感谢它是＆＃39;你的工作调试这些问题！每个人都可能像Facebook一样多的噩梦。 </p><p>当谷歌团队询问＆＃34时，揭示了在尺度长期存储中的CEE和静音数据损坏的相似性。为什么我们刚刚学习关于Mercurial Cores？＆＃34 ;:有许多合理的原因：更大的服务器舰队;提高整体可靠性;减少软件错误率的软件开发的改进。但我们认为有一个更根本的原因：更小的特征尺寸，推动更接近CMOS缩放的限制，再加上建筑设计中不断增长的复杂性。这些核实制造商用于检测多样化制造缺陷的验证方法创造了新的挑战 - 特别是那些在角落案件中显现的缺陷，或者只在部署后老化。</p><p>换句话说，在技术上和经济地是不可行的，可以实现存储系统和CPU的测试，以确保在尺度使用中不会发生错误。即使可以说服硬件供应商要使更多资源投入到可靠性，那将不会消除软件的需求，以适当持怀疑核心作为计算结果返回的数据，就像软件需要对数据持怀疑态度存储设备和网络接口返回。这篇论文都必须阅读恐怖故事。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.dshr.org/2021/06/unreliability-at-scale.html?m=1">https://blog.dshr.org/2021/06/unreliability-at-scale.html?m=1</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/尺度/">#尺度</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/错误/">#错误</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>