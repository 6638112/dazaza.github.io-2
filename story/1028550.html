<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>将NoSQL转换为SQL</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">将NoSQL转换为SQL</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-14 01:02:02</div><div class="page_narrow text-break page_content"><p>NoSqlOnSql是SQL的严格语法超集，它为SQL语言添加了面向NoSQL文档的功能。为此，它使用类似JSON的文档，将它们集成到正常的SQL语句流中。</p><p>NoSqlOnSql基于扩展SQL数据库来支持NoSQL特性，而无需任何内核更改。从这个意义上说，它类似于其他计划，如https://www.torodb.com或https://www.microsoft.com/en-us/research/project/json-server-2/.。</p><p>然而，NoSqlOnSql的方法不同，不是在处理流程中挂钩中间件，而是在处理开始之前处理NoSQL语义。NoSqlOnSql被实现为源到源转换器：NoSqlOnSql语句被编译成由数据库正常执行的常规SQL语句。此编译可以随时进行，甚至可以在创建数据库之前开发查询期间进行。</p><p>NoSqlOnSql能够在没有任何模式定义的情况下创建、更新和查询文档。文档使用类似于JSON的表示法定义。</p><p>供应商之间的SQL实现不兼容。除此之外，符合标准的程度也相当不同。这意味着，不幸的是，NoSqlOnSql的每个实现都必须针对特定的SQL风格。NoSqlOnSql的当前实现面向Transact-SQL或T-SQL。这是Microsoft SQL Server中使用的语言。</p><p>任何有效的SQL语句都是有效的NoSqlOnSql语句。SQL和NoSqlOnSql语句可以组合使用。NoSqlOnSql被转换成等价的SQL语句。例如，可以从NoSqlOnSql选择查询创建SQL视图。</p><p>实现应该尽可能不具侵入性。NoSqlOnSql创建的永久工件的数量减少到一个实现集合中所有文档的层次结构表。</p><p>在处理复杂查询时，NoSqlOnSql可能需要创建临时对象，这些对象将在查询完成后丢弃。为避免名称冲突，所有NoSqlOnSql对象都以NOSQL_前缀开头。</p><p>如果需要更改某个值，则会创建该值的新版本。结果是：</p><p>默认情况下，只有最新版本的值可用，但可以访问文档的更改历史记录。这使得NoSqlOnSql存储成为实施区块链的完美介质。</p><p>在SQL层，实现集合只需要支持INSERT和SELECT。也就是说，表上的任何记录都不会被修改或删除。在考虑容错(即复制)和可伸缩性(即分片)时，这提供了许多优势。</p><p>NoSqlOnSql语法类似于SQL，它遵循相同的语句、数据集和数据集操作范例。所有NoSqlOnSql语句都以NoSQL开头。</p><p>NoSqlOnSql完全集成在SQL中，两种类型的语句及其结果都可以混合使用。</p><p>因为一个例子胜过千言万语，下面的例子是不言而喻的。此时此刻，不要太关注语法，只关注大体感觉以及NoSqlOnSql如何与SQL混合。</p><p>NoSQL create Springfield Override NoSQL INSERT{名称：&#34；荷马&34；，国籍：&#34；美国&34；，年龄：34，颜色：&#34；绿色&34；，姓氏：&#34；辛普森&34；，权重：90，喜欢：[&#39；足球&39；，&#39；甜甜圈#39；]，孩子：[{名称：&#34；巴特&34；，姓氏：&#34；辛普森&34；，重量：38，年龄：10}，{姓名：&#34；丽莎&34；，姓氏：&#34；辛普森&#34；，年龄：8，点赞：[&#39；音乐&#39；]}}进入Springfield NoSQL插入{姓名：&#34；MOE&#34；，姓氏：&#34；Szyslk&34；，职业：&#34；调酒师&#34；}到Springfield NoSQL SELECT？，$name，$LASTNAME，#age，$Children[0].name中，名为chi0 from Springfield_where$lastName=&#39；Simpson&#39；</p><p>ID|姓名|姓氏|年龄|孩子0-0 1|荷马|辛普森|34|巴特1 4|巴特|辛普森|10|2 5|丽莎|辛普森|8</p><p>使用NoSQL查询和支持的SQL方言类型调用Transpile(“MSSQL”代表MS SQL Server)。假结果表示语法错误：</p><p>代码、注释和主机回调是代码转换的结果，但我们只对代码块感兴趣，它们只是普通的SQL代码。因此，我们像往常一样执行它们：</p><p>Using(var database=new SqlConnection(ConnectionString)){for(var i=0；i&lt；nosql.Code.Length；i++){if(nosql.Code[i].Type==BlockType.Code){using(SqlCommand command=new SqlCommand(nosql.Code[i].value，database)){using(vars=command d.ExecuteReader())...照常处理！！}。</p><p>NoSqlOnSql未准备好投入生产。目前，这只是一个概念证明(PoC)，以说明SQL和基于NoSQL文档的差距不是技术差距，而是概念差距。因此，它完全可以用现有的功能加上一些思考来涵盖。</p><p>PoC是有效的和可靠的，但将其转化为可操作的产品所需的努力不是我愿意独自涉足的。所以，如果你有兴趣扩展这篇文章，只需给我写信或写评论即可。</p><p>本文以及任何相关的源代码和文件均受代码项目开放许可证(CPOL)的许可</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.codeproject.com/Articles/5282547/Introduction-to-NoSqlOnSql-Implementing-NOSQL-on-S">https://www.codeproject.com/Articles/5282547/Introduction-to-NoSqlOnSql-Implementing-NOSQL-on-S</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/转换/">#转换</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/nosql/">#nosql</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/sql/">#sql</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/technology_web2_385842.html"><img src="http://img.diglog.com/img/2011/3/thumb_a9d110e5bafe47e3a5e95eef048c4eca.gif" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_web2_385842.html">YoutubeToMP3：简单好用的YouTube视频转换为MP3的在线工具</a></div><span class="my_story_list_date">2011-3-20 18:1</span></div><div class="col-sm"><div><a target="_blank" href="/story/technology_web2_383993.html"><img src="http://img.diglog.com/img/2011/3/thumb_1058f2fe0f354f469b540098f9387b23.gif" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_web2_383993.html">Filsh：视频格式转换工具</a></div><span class="my_story_list_date">2011-3-8 18:9</span></div><div class="col-sm"><div><a target="_blank" href="/story/technology_software_363082.html"><img src="http://img.diglog.com/img/2010/8/thumb_f7465ed2fafd44949a1e37376027c8af.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_software_363082.html">PDF WORD PPT的相互转换</a></div><span class="my_story_list_date">2010-8-25 9:34</span></div><div class="col-sm"><div><a target="_blank" href="/story/technology_internet_358345.html"><img src="http://img.diglog.com/img/2010/6/thumb_14a63fa908b243c0889aeba6a007a7b3.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/technology_internet_358345.html">convertfiles.com：在线文件转换利器</a></div><span class="my_story_list_date">2010-6-18 13:33</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>