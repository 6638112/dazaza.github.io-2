<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>GStreamer 1.20：嵌入式和WebRTC引领潮流GStreamer 1.20: Embedded and WebRTC lead the way</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">GStreamer 1.20: Embedded and WebRTC lead the way<br/>GStreamer 1.20：嵌入式和WebRTC引领潮流</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2022-02-19 03:54:11</div><div class="page_narrow text-break page_content"><p>Made available earlier this month, GStreamer 1.20 is the fruitful result of 17 months of hard work from the entire community. Over 250 developers contributed code to make this release happen, and once again, Collabora had more contributors than any other organization.</p><p>本月早些时候发布的GStreamer 1.20是整个社区17个月辛勤工作的成果。超过250名开发人员贡献了代码来实现这一版本，而且Collabora的贡献者再次超过了任何其他组织。</p><p>  Our work focused on the two areas in which we believe GStreamer shines the brightest: embedded systems, and network streaming, in particular WebRTC. Below is a summary of the impact our team of engineers had on this latest release.</p><p>我们的工作集中在两个领域，我们认为GStreamer在这两个领域最为耀眼：嵌入式系统和网络流媒体，尤其是WebRTC。下面是我们的工程师团队对最新版本的影响摘要。</p><p>  As usual, you can also learn more about the enhancements done by the rest of the community by looking at the project&#39;s 1.20  release notes.</p><p>和往常一样，你也可以通过查看项目#39；s 1.20发行说明。</p><p>    GStreamer is already the pre-eminent media framework for embedded systems, and this is an area where Collabora has been very active over the last release cycle. Here are some of the improvements that we&#39;ve made.</p><p>GStreamer已经是嵌入式系统的卓越媒体框架，而这是Collabora在上一个发布周期中非常活跃的领域。以下是我们所做的一些改进&#39；我做了。</p><p>  After many years of efforts by Guillaume, Nicolas, Stéphane, and Aaron, we finally landed the support for sub-frame decoding. This has made it possible to start decoding video frames before the entire frame has been received from the network if the decoder supports this. We&#39;ve implemented this for JPEG2000 with OpenJPEG, with H.264 with ffmpeg, as well as in gst-omx when using the Allegro extensions present on the Xilinx Zynq UltraScale+ MPSoC EV processors.</p><p>经过纪尧姆、尼古拉斯、斯特凡和亚伦多年的努力，我们终于获得了对子帧解码的支持。这使得在解码器支持的情况下，可以在从网络接收到整个帧之前开始解码视频帧。我们&#39；我用OpenJPEG实现了JPEG2000，用ffmpeg实现了H.264，在使用Xilinx Zynq UltraScale+MPSoC EV处理器上的Allegro扩展时，也在gst omx中实现了这一点。</p><p>  In partnership with Huawei, we also improved the GStreamer build system to make it possible to create a library containing only the specific parts of GStreamer used by a particular application or a set of applications. Take a look at this  blog post to learn more.</p><p>与华为合作，我们还改进了GStreamer构建系统，使其能够创建一个库，其中只包含特定应用程序或一组应用程序使用的GStreamer的特定部分。看看这篇博文，了解更多信息。</p><p>  Nicolas added  MPEG2 and VP9 Stateless Linux support and contributed to enhancing the VP9 parser. The H264 Stateless Linux decoder also gained support for interlaced video streams, though only for slice-based decoders and not for frame-based decoders since no driver in the mainline Linux kernel supports that.  Nicolas also added support for a rendering delay that allows multiple frames to be queued in a stateless decoder and enhances throughput at the cost of higher latency. He implemented this for the MPEG 2 Video, VP8, and VP9 decoders. He also added support for HEVC decoding to the new &#34;va&#34; plug-in that uses the new GStreamer common decoder implementation to support VA-API-based decoders.</p><p>Nicolas添加了MPEG2和VP9无状态Linux支持，并为增强VP9解析器做出了贡献。H264无状态Linux解码器也获得了对隔行视频流的支持，尽管只支持基于切片的解码器，而不支持基于帧的解码器，因为主线Linux内核中没有驱动程序支持这一点。Nicolas还增加了对渲染延迟的支持，允许多个帧在无状态解码器中排队，并以更高的延迟为代价提高吞吐量。他为MPEG 2视频、VP8和VP9解码器实现了这一功能。他还为新的#34；弗吉尼亚州和#34；使用新的GStreamer通用解码器实现来支持基于VA API的解码器的插件。</p><p>  Nicolas also implemented videocodectestsink: a small element that computes the checksum of incoming frames to compare them against a known good reference. This is useful for creating tests that ensure no regression in decoder implementations. He also added the necessary code in GStreamer to react to resolution changes in Video4Linux source. This is primarily relevant if the source is, for example, an HDMI input.</p><p>Nicolas还实现了VideoCodeTestSink：一个小元素，用于计算传入帧的校验和，将它们与已知的良好参考进行比较。这对于创建确保解码器实现中没有回归的测试非常有用。他还在GStreamer中添加了必要的代码，以便对Video4Linux源代码中的分辨率更改做出反应。例如，如果源是HDMI输入，这主要是相关的。</p><p>    For much of the framework’s history, GStreamer’s principal focus has been on streaming media over a network. This is an area in which we&#39;ve also made several contributions over this cycle.</p><p>在该框架的大部分历史中，GStreamer主要关注网络上的流媒体。这是一个我们&#39；在这个周期中，我也做出了一些贡献。</p><p>  We&#39;ve contributed many improvements related to GStreamer&#39;s WebRTC stack, which is one of the most complete and flexible independent implementations of the WebRTC protocols. I&#39;ve worked on GStreamer&#39;s WebRTC stack and have added many features. I included support for explicit notification of the end of candidates so that failing connections can be recognized faster. I reworked the WebRTC library API to ensure it is thread-safe by hiding all information behind properties. I also added support for the &#34;priority&#34; to media streams; setting the various priorities now adds the correct DSCP markings making it possible for network administrators to prioritize the traffic accordingly. I significantly improved the WebRTC statistics to expose most statistics that existed somewhere in the GStreamer RTP stack through the convenient WebRTC API, particularly those coming from the RTP jitter buffer.</p><p>我们&#39；我对GStreamer和#39；是WebRTC协议最完整、最灵活的独立实现之一。我&#39；我在GStreamer和#39上工作过；的WebRTC堆栈，并添加了许多功能。我包括了对明确通知候选人结束的支持，以便更快地识别失败的连接。我修改了WebRTC库API，通过将所有信息隐藏在属性后面来确保其线程安全。我还增加了对&#34；优先权&#34；媒体流；现在，设置各种优先级会添加正确的DSCP标记，从而使网络管理员能够相应地对流量进行优先级排序。我显著改进了WebRTC统计信息，通过方便的WebRTC API公开了GStreamer RTP堆栈中的大部分统计信息，尤其是来自RTP抖动缓冲区的统计信息。</p><p>  Jakub has implemented an RTP Header extension making it possible to send colorspace information per frame; this enables GStreamer to share Dynamic HDR content over RTP. The extension we implemented is compatible with the proposal from Google&#39;s libwebrtc team. The basic specification for sending Opus over RTP only supports mono and stereo. The Google libwebrtc team has created an extension called &#34;multiopus,&#34; making it possible to send multiple stereo Opus streams together to serve more than two channels. Jakub implemented this in GStreamer&#39;s Opus RTP payloader and depayloader. We&#39;ve implemented RFC 6464, an RTP header extension allowing a client to send the server the relative level (volume) of the audio in the packet; this allows the server to prioritize clients who are speaking over others without having to decode all audio. We&#39;ve also added support for the iSAC codec; it is a legacy audio codec that was open-sourced by Google in libwebrtc a couple of years ago. We&#39;ve added a plug-in that wraps the reference implementation of the codec, and we&#39;ve also written an RTP payloader and depayloader to enable GStreamer to send and receive audio encoded with this codec over RTP.</p><p>Jakub实现了一个RTP报头扩展，使得每帧发送颜色空间信息成为可能；这使GStreamer能够通过RTP共享动态HDR内容。我们实施的扩展与谷歌的提议兼容&#39；libwebrtc团队。通过RTP发送Opus的基本规范仅支持单声道和立体声。Google libwebrtc团队创建了一个名为&#34；多部作品&#34；可以同时发送多个立体声作品流，为两个以上的频道提供服务。Jakub在GStreamer和#39中实现了这一点；s Opus RTP payloader和depayloader。我们&#39；我们实现了RFC 6464，这是一个RTP报头扩展，允许客户端向服务器发送数据包中音频的相对级别（音量）；这使得服务器可以优先考虑那些与他人交谈的客户端，而不必解码所有音频。我们&#39；我们还增加了对iSAC编解码器的支持；这是一个传统的音频编解码器，几年前由谷歌在libwebrtc开源。我们&#39；我们添加了一个插件，它封装了编解码器的参考实现，我们&#39；我还编写了一个RTP payloader和depayloader，使GStreamer能够通过RTP发送和接收用该编解码器编码的音频。</p><p>  As part of the  Hwangsaeul project sponsored by SK Telecom, we&#39;ve improved the  SRT support. Raghavendra added support for authentication, while Jakub added a way for the application to be notified of broken connections and added more options to the URI in a way that is compatible with the SRT demo application.</p><p>作为SK Telecom赞助的Hwangsaeul项目的一部分，我们&#39；我们改进了SRT支持。Raghavendra增加了对身份验证的支持，而Jakub则增加了一种方法，使应用程序能够收到断开连接的通知，并以与SRT演示应用程序兼容的方式向URI添加了更多选项。</p><p>    GStreamer being an incredibly flexible cross-platform framework, we&#39;ve also made several improvements that fall outside of the two main categories.</p><p>GStreamer是一个非常灵活的跨平台框架，我们&#39；我们还做了一些不属于这两大类的改进。</p><p>  Nicolas implemented support for decoding alpha channels in WebM videos. This is a bit special as the alpha channel is carried as a second video stream. He&#39;s also added support for decoding those using hardware-accelerated decoders such as V4L2 based decoders.</p><p>Nicolas实现了对WebM视频中alpha通道解码的支持。这有点特别，因为alpha通道作为第二个视频流传输。他&#39；s还增加了对使用硬件加速解码器（如基于V4L2的解码器）进行解码的支持。</p><p>  Aaron added the first element specifically for machine learning to the core GStreamer plug-in collection. It uses the ONNX library to do object detection; we hope to add more elements using the ONNX library in the future.</p><p>Aaron在核心GStreamer插件集合中添加了第一个专门用于机器学习的元素。它使用ONNX库进行目标检测；我们希望将来使用ONNX库添加更多元素。</p><p>  Aaron also helped Rabindra Harlalka from NICE to contribute upstream elements that can encrypt a stream using AES encryption. This just applies the AES in CBC mode to the incoming stream with the key provided by the application.</p><p>Aaron还帮助NICE的Rabindra Harlalka贡献了上游元素，这些元素可以使用AES加密对流进行加密。这只是将CBC模式下的AES应用于具有应用程序提供的密钥的传入流。</p><p>  Xavier again made numerous improvements to the Meson build system; in particular, he replaced GStreamer&#39;s custom pkg-config file generator with one he contributed to Meson itself. This ensures that the generated pkg-config files match the libraries that are in the build system.</p><p>Xavier再次对介子构建系统进行了大量改进；特别是，他取代了GStreamer&#39；s的定制pkg配置文件生成器，其中一个是他为介子本身提供的。这确保生成的pkg配置文件与构建系统中的库匹配。</p><p>  I added a &#34;stats&#34; property to the identity element; this makes it easier to instrument pipeline to get statistics for monitoring. I added support for the newer &#34;constrained high&#34; and &#34;progressive high&#34; H.264 profiles to the various GStreamer elements where those are relevant. Those profiles are just a subset of the existing High profile.</p><p>我加了一个&#34；统计数据&#34；属性到身份元素；这使得对管道进行检测以获取用于监控的统计数据变得更容易。我增加了对更新版本&#34的支持；限制性高&#34；和&#34；进步高中#34分；H.264配置文件与各种GStreamer元素相关。这些配置文件只是现有高配置文件的一个子集。</p><p>  Jakub improved the d3d11desktopup plug-in to capture the Windows desktop to DirectX 11 textures. He implemented support to follow dynamic resolution changes of the desktop and also for capture Windows User Account Control (UAC) prompts.</p><p>Jakub改进了D3D11Desktoup插件，将Windows桌面捕捉到DirectX 11纹理。他实现了对跟踪桌面动态分辨率更改的支持，以及对捕获Windows用户帐户控制（UAC）提示的支持。</p><p>  I improved GstAudioAggregator base class used by elements such as the audiomixer and audiointerleave elements, it now emit a QoS message telling the application whenever it drops incoming buffers because they are late.</p><p>我改进了由audiomixer和audiointerleave等元素使用的GstAudioAggregator基类，它现在会发出一条QoS消息，告诉应用程序何时因为延迟而丢弃传入缓冲区。</p><p>  Stéphane fixed the MXF and Matroska demuxers to seek precisely to a frame; this makes it possible to use them as a source for video editing.</p><p>Stéphane将MXF和Matroska解复用器固定在一个框架上，以精确搜索；这样就可以将它们用作视频编辑的来源。</p><p>  Xavier spent quite some time helping with the merge of the GStreamer repositories  into a single one. This was an effort of the whole community, making our  CI system more simple and generally makes life easier for GStreamer developers.</p><p>Xavier花了相当多的时间帮助将GStreamer存储库合并为一个存储库。这是整个社区的努力，使我们的CI系统更简单，并且总体上使GStreamer开发人员的生活更轻松。</p><p>  As usual, we have also contributed a large number of bug fixes across the board, but we won’t list them all out here.</p><p>和往常一样，我们也提供了大量全面的bug修复，但我们不会在这里全部列出。</p><p>    Our team of engineers already has a number of contributions planned for the next release. These include a rework of the MPEG PS demuxer for more accurate seeking, improvements to the Wayland support like a GTK3 sink that can take advantage of Wayland&#39;s support for hardware video overlays, and support for DRM modifiers to enable higher performance zero-copy between hardware decoders and display.</p><p>我们的工程师团队已经为下一个版本计划了许多贡献。其中包括重新设计MPEG PS解复用器以实现更精确的搜索，改进Wayland支持，如GTK3接收器，可利用Wayland#39；s支持硬件视频覆盖，并支持DRM修改器，以实现硬件解码器和显示器之间更高性能的零拷贝。</p><p>  If you are ready to explore GStreamer 1.20, or have any questions about how to take advantage of its exciting new features to get the maximum performance from your hardware, please do not hesitate to  contact us. Collabora&#39;s multimedia team is always available to assist you to leverage or implement the latest feature releases of GStreamer.</p><p>如果您已经准备好探索GStreamer 1.20，或者对如何利用其令人兴奋的新功能从您的硬件获得最大性能有任何疑问，请随时与我们联系。Collabora和#39；s的多媒体团队随时可以帮助您利用或实施GStreamer的最新功能版本。</p><p>   Please tick this box to confirm you have read and accept the terms of our  privacy notice regarding collection/storage and usage of your personal data: *</p><p>请勾选此框，确认您已阅读并接受我们的隐私通知中有关收集/存储和使用您个人数据的条款：*</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/webrtc/">#webrtc</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/支持/">#支持</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>