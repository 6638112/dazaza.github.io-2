<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>实际上，DMARC与邮件列表合作（2018） </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">实际上，DMARC与邮件列表合作（2018） </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-18 20:38:49</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/86d53cafa5901534cb9553a4df08cb83.png"><img src="http://img2.diglog.com/img/2021/3/86d53cafa5901534cb9553a4df08cb83.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>在网上有一个常见的信念，DMARC是一种防守网络钓鱼技术，防止了电子邮件列表的适当运行。要绕过感知的问题，许多文章以打破SMTP规范的方式建议重新配置ListServ软件。</p><p> 然而，存在一种配置，允许邮件列表完全工作，并且仍然能够在DMARC的存在下中继消息。在描述之前，让我们直接得到一些术语。</p><p>  （A.K.A.返回路径。）SMTP消息的“信封”中的记录，称在交付失败时要联系。在到达目的地之前，电子邮件可以在多个跳中传输到服务器，从服务器转发到服务器。在运输过程中，RFC5321.MailFrom报头包含发送沿当前跃点的消息的服务器的电子邮件地址。</p><p>  消息本身内部的标题，希望跨越啤酒花。这是电子邮件客户端显示的“来自”字段，它应该是负责电子邮件的人的电子邮件地址。</p><p>  一个不太常见的电子邮件标题，它表示代表其他人写入或发送消息的中介。 RFC 5322给出了秘书（发件人）的例子，他代表BOSS（来自）发出并发送消息。</p><p>  发件人策略框架。一个TXT DNS记录，它发布允许为（子）域发送或中继消息的邮件服务器的地址。接收邮件服务器可以检查RFC5321.Mailfrom并反弹消息如果它与SPF记录中列出的服务器不匹配。</p><p>  DomainKeys已识别邮件。 DKIM是TXT DNS记录，每个记录都包含允许加上密钥的公钥签署正文，以及应在签名中涵盖哪些电子邮件标题的列表。发送服务器必须知道私钥才能登录邮件，并且接收邮件服务器可以检查对公钥的电子邮件以确保它通过。这可确保只有授权服务器可以为域发起邮件，并且还原中继服务器无法修改消息。 </p><p>基于域的消息身份验证，报告和一致性。一个TXT DNS记录，它发布了域的策略，了解接收邮件服务器应该如何对SPF或DKIM失败作用。操作包括忽略问题，将消息发送到垃圾邮件文件夹，或者彻底弹跳消息。 DMARC Record包含其他一些设置，例如邮件服务器的电子邮件地址，以报告他们收到的任何不合格邮件。</p><p>  托管一个名为反射器的特殊地址的继电器邮件服务器。邮件列表将发送到其反射器发送到列表订阅者的地址的任何消息。邮件列表用于组讨论，包括协作软件开发。</p><p> 虽然PGP等早期方法已经存在于揭示邮件伪造，但DMARC已成为最受欢迎的选择，并在所有主要邮件服务器上获得荣誉。但是，域名雇用DMARC的人无法通过传统配置的邮件列表发送消息。在DMARC在Gmail和雅虎等主要领域采用期间，邮件列表开始具有广泛的问题。</p><p> 有些人称为DMARC的破碎标准。他们未能为邮寄列表行为实施优雅的调整，并使用贺卡变通方法来解决问题。</p><p> 让我们来看看消息如何通过或失败DMARC，然后了解如何修复列表。如果SPF或DKIM通过，则传递消息，并且仅在SPF和DKIM失败时才会失败。这样，仅限SPF和DKIM的消息都可以通过DMARC，但没有SPF / DKIM的消息将始终失败。</p><p>  对于DKIM，这意味着该消息具有一个有效的DKIM签名，“d = rfc5322.from”。</p><p>    邮件列表将为使用DMARC和SPF但不是DKIM的任何域都有一个艰难的时间中继消息。考虑此消息： </p><p>但是，如果mailinglist.org不在dmarcomain.com的SPF记录中，则Destination.com将拒绝此消息。此外，良好的SPF记录是不够的，因为返回路径和来自对齐（它们指定不同的域）。</p><p> 处理这种情况是导致贺卡变通方法的原因。列表必须使用从营地或MIME消息包装等技术来获取邮件。</p><p>  返回路径：＆lt; fun-bounce@mailinglist.org& gt;来自：＆＃34;莎莉发件人通过有趣的列表＆＃34; ＆lt; fun@mailinglist.org& gt;回复 - 至：＆＃34;莎莉发件人＆＃34; ＆lt; sender@demarcomomain.com& gt; to：＆＃34; roger读者＆＃34; ＆lt; reader @ destination.com& gt;主题：每个人都有hihi</p><p> 收件人只需检查将通过的MailingList.org的DMARC。然而，这是电子邮件的使用差，因为它是歪曲谁发起了消息。此外，电子邮件客户端通常具有与回复标头的劣化接口。它通常在消息列表中不可见，不用于排序，而不是添加到地址簿中。</p><p>  如果发送域使用DKIM，它会避免从营地或其他黑客攻击。它在列表不修改消息的情况下工作。</p><p>   正如我们之前看到的那样，SPF将失败，因此DMARC将尝试DKIM检查。没有修改，受试者和身体，所以它们将被正确签署。 DKIM检查RFC5322之间的对齐。来自和签名的域，也将匹配。 DKIM通过，消息交付。</p><p> 应该是完美的，对吗？嗯，除了列表中，除了传统上添加了中继消息的主题和主体中的额外信息，并且修改的字段不会通过DKIM检查。来自传统邮件列表的消息通常如此如此： </p><p>返回路径：＆lt; fun-bounce@mailinglist.org& gt;来自：＆＃34;莎莉发件人＆＃34; ＆lt; sender@dmarcomain.com& gt;发件人：＆＃34;有趣的名单＆＃34; ＆lt; fun@mailinglist.org& gt; to：＆＃34;罗杰读者＆＃34; ＆lt; reader @ destination.com& gt;主题：[有趣] Hihi Everys  - 您订阅了Fun列表，到Unsubscribevisit https://mailinglist.org/unsub/123</p><p> 主题行标记通常用于将消息对在电子邮件客户端中的用户定义规则之后的单独邮箱中。身体中的取消订阅链接是便利（并避免政府罚款违反CAN-SPAM法案。）</p><p> 我们需要为客户提供一种方法来排序邮件，取消订阅等，而无需修改DKIM签名的消息的部分。幸运的是，有rfcs。 RFC2369于1998年和RFC2919从2001年开始，两者都是预测DMARC机械。首先介绍列表信息和控件的标题字段。</p><p> 对于我们的示例，RFC2369允许我们添加列表 - 取消订阅：＆lt; https：//mailinglist.org/unsub/123&gt;它还介绍了List-help，list-subscribe，list-post，list-owner和list-arprive的标题。更重要的是，许多邮件客户理解这些标题。在检测到列表 - 取消订阅时，Gmail将取消订阅按钮添加到Web界面。</p><p> 第二个RFC提供了一种方法来识别包含另一个标题的列表，如列表ID：有趣列表＆lt; fun.mailinglist.org＆gt ;.邮件客户端规则可以查询此标题，而不是检查主题字段是否包含[有趣]。</p><p>  现在是合理的，要求域使用DMARC的邮件列表用户也启用DKIM。事实上，列表软件可以在订阅时间检查发件人的域，如果域域使用DMARC，则会引发错误，但不是DKIM。</p><p> 列表应保持来自地址，主题和消息完全不变。它们应该添加一个发件人标题来指示其继电器角色，并至少设置邮箱规则和订阅管理的列表ID和列表 - 取消订单。 </p><p>此配置将允许邮件列表在DMARC时代的函数中作为正确的SMTP公民。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://begriffs.com/posts/2018-09-18-dmarc-mailing-list.html">https://begriffs.com/posts/2018-09-18-dmarc-mailing-list.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/邮件/">#邮件</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/works/">#works</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/消息/">#消息</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1052614.html"><img src="http://img2.diglog.com/img/2021/3/thumb_0bd42146ddca8cc102a01db79a2942fb.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1052614.html">为什么新的USPS邮件卡车看起来很奇怪 </a></div><span class="my_story_list_date">2021-3-16 7:24</span></div><div class="col-sm"><div><a target="_blank" href="/story/1049633.html"><img src="http://img2.diglog.com/img/2021/2/thumb_b53dc5cdbb20686081112c60237b1787.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1049633.html">WhatsApp和大多数替代方案存在相同的问题 </a></div><span class="my_story_list_date">2021-2-27 3:31</span></div><div class="col-sm"><div><a target="_blank" href="/story/1048153.html"><img src="http://img2.diglog.com/img/2021/2/thumb_eed4ee956c9511d02101741acb98e61d.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1048153.html">每日邮件 </a></div><span class="my_story_list_date">2021-2-18 7:21</span></div><div class="col-sm"><div><a target="_blank" href="/story/1036405.html"><img src="http://img2.diglog.com/img/2020/11/thumb_12e566e20bfbf449ea52d7233611a545.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1036405.html">Vivaldi浏览器介绍Vivaldi邮件，日历和RSS技术预览</a></div><span class="my_story_list_date">2020-11-25 4:35</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>