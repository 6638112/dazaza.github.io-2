<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>一年的Elixir：它如何比较红宝石 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">一年的Elixir：它如何比较红宝石 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-05-07 07:52:07</div><div class="page_narrow text-break page_content"><p>去年我在BREX开始了一份新工作，Elixir是业务逻辑的主要编程语言。这是我在Ruby（主要）为我的职业生涯工作后第一个真正的冒险。由于JoséGalim来自Ruby World，因此Elixir是我多年来听到的常见流行语。我在这里做过了一个教程或两个，但从未真正使用它。现在，回顾过去一年，我对elixir变得相当舒适，并希望概述一些我真正喜欢的一些关于酏剂的东西，以及我想念的一些我想念的东西。</p><p>  首先有很多关于Elixir编程语言的好事。这篇文章绝不是将所有这些帖子覆盖或谈论，何时应该使用Elixir vs Ruby。这些只是我在过去一年中收集的一些意见和观察，从Ruby（在Rails）背景中收集了Elixir。</p><p>  进程是一种抽象，内置于语言（谢谢Erlang），在内存和CPU方面非常轻量级，并且允许代码以隔离运行并同时运行。进程为Elixir中的并发性提供了构建块，并允许我们编写分布式和容错代码。由于流程在Elixir中编写并发代码非常简单和简单。但是在Ruby中，存在全局解释器锁（GIL）的概念，这可以防止多个Ruby线程同时执行。</p><p>  在文献中，Elixir在文件方面做得非常好。通过Hexdocs，开发人员可以轻松地与其代码内联编写文档，然后免费生成并托管它！这使得为​​您的OSS创建文档令人难以置信的努力。核心团队开发的Elixir语言和其他库充分利用了六角洲，创造了非常强大的文档。 Hexdocs设计得很好，这使得它们难以读和导航。您甚至可以从文档中编写和运行测试，这是在文档中编写多功能代码示例的重要方法。只需查看Elixir DateTime Docs，下面的@doc模块属性将生成Hexdocs，并且通过将Doctest DateTime添加到XXX_Test.exs文件中的测试期间，将在测试期间运行示例。</p><p> ＆＃34;＆＃34;＆＃34;比较两个DateTime结构。如果第一个DateTime晚于第二个DATETIME而返回“：GT`，则为”：LT`反之亦然。如果两个日期时间是平等的`：返回EQ`。请注意，在完成比较时，将考虑UTC和标准偏移。 ##示例IEX＆gt; dt1 =％datetime {年：2000，月：2，日：29，zone_abbr：＆＃34; amt＆＃34; ...＆gt;小时：23，分钟：0，第二：7，微秒：{0，0}，...＆gt; UTC_OFFSET：-14400，std_offset：0，time_zone：＆＃34;美国/ Manaus＆＃34;} Iex＆gt; dt2 =％datetime {年：2000，月：2，日：29，zone_abbr：＆＃34; cet＆＃34; ...＆gt;小时：23，分钟：0，第二：7，微秒：{0，0}，...＆gt; UTC_OFFSET：3600，std_offset：0，time_zone：＆＃34;欧洲/华沙＆＃34;} Iex＆gt; DateTime.comPare（DT1，DT2）：GT＆＃34;＆＃34;＆＃34; ＆＃34; 1.4.0＆＃34;比较（日历.datetime（），calendar .datetime（））:::LT | ：EQ | ：GT DEF比较（...）做...</p><p>  当我在大学时，我采取了一个功能的程序编程课程，教我OCAML。这是我第一次进入功能规划和回来的方式，然后我意识到了令人难以置信的强大和有用的模式匹配是多么令人难以置信的。没有更复杂，难以读取交换机/ if语句。因此，当我第一次开始写Elixir时，我很高兴再次使用模式匹配。例如，= sign是Elixir中的匹配操作员而不是赋值。模式匹配允许我们匹配简单的值，数据结构甚至函数。那么这在实践中是什么样的？</p><p> 在这里，我们可以看到我们如何将元组的值提升为变量。我们还看到了PIN运算符^的示例，它将与当前值vs提取到变量中的匹配。这使得简单地写作自信的代码。 </p><p>IEX＆gt; {a，b，c} = {：你好，＆＃34;世界＆＃34; ，42} {：你好，＆＃34;世界＆＃34; ，42} iex＆gt;答：Helloiex＆gt; B＆＃34;世界＆＃34; iex＆gt; ^ c = 34 * *（matchError）没有右手边的匹配</p><p> 图案匹配权的另一个例子是基于参数动态分配函数。例如，下面显示定义为处理三种不同参数模式的第一函数，并动态选择正确的函数定义。</p><p>  最后，通过案例陈述或如下陈述，控制流程非常棒，如果先前的模式匹配，则只能沿着当前流程继续沿着当前流程。例如，坐标必须是三元组，每个评估函数必须返回确定的元组以进行最终添加。如果任何模式不匹配它将转到else子句，并尝试将匹配匹配返回0（虽然没有模式匹配的情况，但我们得到一个鼠置场景。</p><p> 使用{x，y，z}＆lt;  - 坐标，{：确定，x_val}＆lt;  - 评估（x），{：确定，y_val}＆lt;  - 评估（y），{：确定，z_val}＆lt;  - 评估（z）do x_val + y_val + z_val else nil  - ＆gt; 0 {：错误，_REAN}  - ＆gt; 0结束</p><p>  Elixir标准库配有许多有用的功能和模块，以及一流的工具。首先，外出和异步测试在Ruby中是一个大的胜利。在Ruby工作时，第一件事就是拉到RSPEC和任何必要的匹配，但在Elixir中，这不是必需的，因为散发是语言的。您可以开箱即用测试框架，它还允许您异步运行测试！这是一个巨大的痛苦点，当我在铁路巨石上的Ruby时，随着时间的推移同步地运行所有测试，但在Elixir中，即使在大型服务中，也与Async测试运行相对较快。 Elixir中的另一个伟大的工具是混合，它是“带有Elixir的构建工具，并提供用于创建，编译，测试应用程序，管理其依赖项的任务。”混合允许您快速且轻松地通过MIX New，2）启动新的Elixir项目，2）通过Mix Deps.get，3）通过Mix测试运行测试，4）格式化您的代码可以轻松地进行测试通过混合格式读取和摘要。在Ruby中，这将替换为4个单独的工具：Rails新项目或模板，用于启动新项目，2）Bundler用于管理和检索依赖项，3）RSPEC用于运行测试，4）Rubocop或其他用于格式化和检查的第三方工具你的代码。这使得它非常简单且易于通过轻松获得项目和运行。</p><p>  管道（|＆gt;）是轻松链接函数调用在Elixir中的好方法，类似于你将如何在Ruby中呼叫。在我知道熟悉Elixir之前，管道运营商有点混乱，但在快速介绍后，您可以轻松地发现它们并理解代码的流程。</p><p>      据说，关于红宝石还有很多好事和我想念的一些事情。这些可能是过去一年中真正错过的最大两件事。 </p><p>就个人而言，Ruby最伟大的事情是它周围的大量社区和资源。 Ruby于1995年开始，而Elixir是一个较新的，最初在2011年发布。Ruby和Ruby在Rails上获得了大量的用户基础，因为这有很多资源。关于Ruby的最佳事物之一是，几乎总是将永远是您想要做的内容（Gem），并且它们通常保持良好。最重要的是，有一个富豪的教程和资源来学习Ruby。具有Elixir的大痛点是较小的社区和缺乏开源库。虽然新的Elixir开发商有很多学习资源。 Core Elixir团队的大多数需要也有很多伟大的图书馆，但与其他语言相比，仍然没有很多图书馆。在BREX，我们需要为我们的特定需求或第三方服务编写许多内部ELIXIR库，或者在Elixir中没有SDK。其他一些问题是，许多以纯粹的西仙图书馆都没有得到很好的维护，经常保持休眠，或者由单个维护者维护，这使得难以及时获得更新。被称为Elixir仍然是一个相当年轻的语言，并且持续增长，希望它将改善。</p><p>  猴子补丁是一种扩展或更改Ruby类的方法，包括库中，通过将代码直接写入项目中动态地进行动态。这使得令人难以置信的易于个性化或自定义图书馆功能，以便您的个人需求或修补错误作为停止间隙，直到可以修复底层库。在Elixir中，您可以使用自己的代码包装开源库以扩展或个性化，但这可能是大量的样板和额外的代码，只需添加简单的更改。通常，这也可能涉及写一种宏，只要尽可能避免。但是，这不允许您修复像猴子修补的底层库中的错误。您需要拼写一个库并使自己的变化，然后将项目指向分支以便在不等待潜在的图书馆修复这一点。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://boredhacking.com/one-year-of-elixir/">https://boredhacking.com/one-year-of-elixir/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ruby/">#ruby</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/elixir/">#elixir</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1056542.html"><img src="http://img2.diglog.com/img/2021/4/thumb_b28b911cc848b4e0e4f1878e1b55d1db.gif" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1056542.html">仅在Ruby（2019）上只花了15％的基本妨碍行动预算 </a></div><span class="my_story_list_date">2021-4-7 0:40</span></div><div class="col-sm"><div><a target="_blank" href="/story/1055815.html"><img src="http://img2.diglog.com/img/2021/4/thumb_49b4427b076a89252a64529550d8df89.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1055815.html">用Ruby语法发布1.0的C型Crystal语言 </a></div><span class="my_story_list_date">2021-4-3 3:6</span></div><div class="col-sm"><div><a target="_blank" href="/story/1055032.html"><img src="http://img2.diglog.com/img/2021/3/thumb_ad03f640b141cd0e3e7f181c558596e2.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1055032.html">Ruby Off rails：代码库ranked在许可证blunder上 </a></div><span class="my_story_list_date">2021-3-30 0:14</span></div><div class="col-sm"><div><a target="_blank" href="/story/1052636.html"><img src="http://img2.diglog.com/img/2021/3/thumb_77bd155648a2c2af8403eb5531f75ba0.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1052636.html">在Rails应用程序上添加一个黑暗主题到Ruby </a></div><span class="my_story_list_date">2021-3-16 9:47</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>