<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Keptn：基于事件的控制平面，用于持续交付和自动化操作</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Keptn：基于事件的控制平面，用于持续交付和自动化操作</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-17 07:04:51</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/9a968b8065e4a58abf66979f34740eac.png"><img src="http://img2.diglog.com/img/2020/10/9a968b8065e4a58abf66979f34740eac.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Keptn will be installed with its control-plane for quality gates and automated operations. If the  --use-case flag is set, the services for continuous delivery will be installed too.</p><p>Keptn将与其控制平面一起安装，以实现高质量的闸门和自动化操作。如果设置了--use-case标志，则还将安装用于连续交付的服务。</p><p> Define your delivery process using a  shipyard file and  create a new project using your shipyard.yaml file:</p><p>使用Shipyard.yaml文件定义交付流程，并使用shipyard.yaml文件创建新项目：</p><p>  stages: - name: &#34;dev&#34; deployment_strategy: &#34;direct&#34; test_strategy: &#34;functional&#34; - name: &#34;staging&#34; approval_strategy: pass: &#34;automatic&#34; warning: &#34;manual&#34; deployment_strategy: &#34;blue_green_service&#34; test_strategy: &#34;performance&#34; - name: &#34;production&#34; approval_strategy: pass: &#34;manual&#34; warning: &#34;manual&#34; deployment_strategy: &#34;blue_green_service&#34; remediation_strategy: &#34;automated&#34;</p><p>阶段：-名称：&#34；dev&#34；部署_策略：&#34；直接&#34；测试_策略：&#34；功能&34；-名称：&#34；分段&#34；审批_策略：通过：&#34；自动&#34；警告：&#34；手动&#34；部署_策略：&#34；蓝色_绿色_服务&#34；测试_策略：&#34；性能&#34；-名称：&#34；生产&#34；批准_策略：通过：&#34；手动&#34；警告：&#34；手动&#34；部署_策略：&#34；BLUE_GREEN_SERVICE&#34；补救_策略：&#34；自动&#34；</p><p> Just onboard a service by providing an initial minimal set of Helm charts allowing to deploy your service</p><p>只需通过提供允许部署服务的初始最小Helm图表集即可加载服务。</p><p>    Your service will be onboarded automatically. Keptn will create the proper Helm charts and Istio configuration behind the scenes. All configuration is stored GitOps-style in a Git repository, which you can link to any upstream repository.</p><p>您的服务将自动登机。Keptn将在幕后创建适当的Helm图表和Istio配置。所有配置都以GitOps方式存储在Git存储库中，您可以将其链接到任何上游存储库。</p><p>  New workflows in Keptn are triggered by sending a new-artifact event either via the CLI or the Keptn API. You can easily add this your Continuous Integration scripts.</p><p>Keptn中的新工作流通过CLI或Keptn API发送新工件事件来触发。您可以很容易地将其添加到您的持续集成脚本中。</p><p>      Keptn will then start the deployment automatically, following the strategy defined in the shipyard file. After the deployment, Keptn starts the tests, evaluates the quality gates, and in case of a problem, Keptn rolls back the last changes.</p><p>然后，Keptn将按照造船厂文件中定义的策略自动开始部署。在部署之后，Keptn开始测试，评估质量关口，在出现问题的情况下，Keptn回滚最后的更改。</p><p> Keptn traces every event and all resulting actions and provides real-time tracing information and a powerful API enabling full visibility of every deployment and operations triggered via Keptn.</p><p>Keptn跟踪每个事件和所有产生的操作，并提供实时跟踪信息和功能强大的API，可全面查看通过Keptn触发的每个部署和操作。</p><p> Provide a remediation file as part of your  deployment or service onboarding enablingautomatically executing remediation workflows</p><p>提供补救文件作为部署或服务自注册启用自动执行补救工作流的一部分。</p><p>  apiVersion: spec.keptn.sh/0.1.4kind: Remediationmetadata: name: serviceXYZ-remediationspec: remediations: - problemType: Response time degradation actionsOnOpen: - name: Scaling ReplicaSet by 1 description: Scales the ReplicaSet of a Deployment action: scaling value: &#34;1&#34; - name: Toogle feature flag action: featuretoggle description: Toggles feature flag EnablePromotion value: EnablePromotion: off</p><p>ApiVersion：spec.keptn.sh/0.1.4种：RemediationMetadata：Name：serviceXYZ-Rememationspec：修正：-ProblemType：响应时间降级操作OnOpen：-Name：Scaling Replica Set by 1描述：缩放部署操作的ReplicaSet：Scaling Value：&#34；1&#34；-Name：Toogle功能标志操作：Feature切换描述：切换功能标志EnableUpgrade值：EnablePromotion：OFF。</p><p>  Remediation command{ &#34;type&#34;: &#34;sh.keptn.events.problem&#34;, &#34;shkeptncontext&#34;: &#34;08735340-6f9e-4b32-97ff-3b6c292bc509&#34;, &#34;data&#34;: { &#34;ImpactedEntity&#34;: &#34;carts-primary&#34;, &#34;ProblemTitle&#34;: &#34;cpu_usage_sockshop_carts&#34;, &#34;State&#34;: &#34;OPEN&#34; },}keptn send event --file=problem.json</p><p>补救命令{&#34；类型&#34；：&#34；sh.keptn.events.Problem&#34；，&#34；shkeptncontext&#34；：&#34；08735340-6f9e-4b32-97ff-3b6c292bc509&#34；，&#34；Data&#34；：{&#34；ImpactedEntity&#34；：&#34；购物车-主要&#34；，&#34；问题标题&#34；：&#34；cpu_Usage_sockshop_carts&#34；，&#34；状态&#34；：&#34；打开&#34；}，}保持发送事件--file=problem.json。</p><p>  Whether you are an end useror you want to participate in the project, we’d love to hear from you! You can find more information about how to reach us in the  Keptn community repo or just ping us via  Slack.</p><p>无论您是最终用户，还是想参与该项目，我们都希望收到您的来信！您可以在Keptn社区回购中找到更多关于如何联系我们的信息，或者通过Slake直接ping我们。</p><p>  Be part of the movement and participate in our  public community meetings every other Thursday!</p><p>成为这项运动的一部分，每隔一个星期四参加我们的公共社区会议！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://keptn.sh/">https://keptn.sh/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/控制/">#控制</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/event/">#event</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/keptn/">#keptn</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>