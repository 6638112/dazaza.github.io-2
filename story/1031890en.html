<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Pyston v2：更快的Python</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Pyston v2：更快的Python</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-29 10:34:42</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/7cf484ceeae6bc7fc2161eddc603cd15.jpg"><img src="http://img2.diglog.com/img/2020/10/7cf484ceeae6bc7fc2161eddc603cd15.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>We’re very excited to release Pyston v2, a faster and highly compatible implementation of the Python programming language. Version 2 is 20% faster than stock Python 3.8 on our macrobenchmarks. More importantly, it is likely to be faster on your code. Pyston v2 can reduce server costs, reduce user latencies, and improve developer productivity.</p><p>我们非常高兴能发布Pyston v2，它是Python编程语言的一个更快、高度兼容的实现。在我们的宏观基准测试中，版本2比股票Python3.8快20%。更重要的是，它可能会在您的代码上运行得更快。Pyston v2可以降低服务器成本、减少用户延迟并提高开发人员的工作效率。</p><p> Pyston v2 is easy to deploy, so if you’re looking for better Python performance, we encourage you to take five minutes and  try Pyston. Doing so is one of the easiest ways to speed up your project.</p><p>Pyston v2易于部署，所以如果您正在寻找更好的Python性能，我们建议您花5分钟时间尝试一下Pyston。这样做是加快项目速度的最简单方法之一。</p><p>  Pyston v2 provides a noticeable speedup on many workloads while having few drawbacks. Our focus has been on web serving workloads, but Pyston v2 is also faster on other workloads and popular benchmarks.</p><p>在几乎没有缺点的情况下，Pyston v2在许多工作负载上提供了显著的加速。我们的重点一直放在Web服务工作负载上，但Pyston v2在其他工作负载和流行基准上的速度也更快。</p><p> Our team put together a new  public Python macrobenchmark suite that measures the performance of several commonly-used Python projects. The benchmarks in this suite are larger than those found in other Python suites, making them more likely to be representative of real-world applications. Even though this gives us a lower headline number than other projects, we believe it translates to better speedups for real use cases. Pyston v2 still shows sped-up performance on microbenchmarks, being twice as fast as standard Python on tests like chaos.py and nbody.py.</p><p>我们的团队构建了一个新的公共Python宏基准测试套件，用于测量几个常用Python项目的性能。该套件中的基准测试比其他Python套件中的基准测试更大，这使得它们更有可能代表真实世界的应用程序。尽管这给了我们一个比其他项目更低的标题数字，但我们相信它可以为实际用例带来更好的加速。Pyston v2在微基准测试上仍然表现出更快的性能，在chaos.py和nbody.py等测试中的速度是标准Python的两倍。</p><p>   [1] Warmup time is defined as time until the benchmark reached 95% of peak performance; if it was not distinguishable from noise it is marked “n/a”. Only post-warmup behavior is considered for latency measurement. [2] mypy and PyTorch don’t support automatically building their C extensions from source, so these Pyston numbers use our unsafe compatibility mode [3] The PyPy benchmark suite was modified to only run the benchmarks that are compatible with Python 3.8</p><p>[1]预热时间定义为基准测试达到峰值性能的95%之前的时间；如果无法与噪声区分，则标记为“n/a”。延迟测量仅考虑预热后行为。[2]Mypy和PyTorch不支持从源代码自动构建其C扩展，因此这些Pyston编号使用我们的不安全兼容模式[3]PyPy基准测试套件已修改为仅运行与Python3.8兼容的基准测试。</p><p>  In our targeted benchmarks (djangocms + flaskblogging), Pyston v2 provides an average 1.22x speedup for mean latency and an 1.18x improvement for p99 latency while using a just few more megabytes per process. We have not yet invested time in optimizing the other benchmarks.</p><p>在我们的目标基准测试(djangocms+flaskblogging)中，Pyston v2在每个进程仅多使用几兆字节的情况下，平均延迟加速1.22倍，P99延迟提高1.18倍。我们还没有投入时间来优化其他基准。</p><p> “p99 latency” is the upper 99th percentile of the response-time distribution, and is a common metric used in web serving contexts since it can provide insight into user experience that is lost by taking an average. PyPy’s high p99 latency on djangocms comes from periodic latency spikes, presumably from garbage collection pauses. CPython and Pyston both exhibit periodic spikes, presumably from their cycle collectors, but they are both less frequent and much smaller in magnitude.</p><p>“p99延迟”是响应时间分布的第99个百分位数，是Web服务上下文中常用的度量标准，因为它可以洞察通过取平均值而丢失的用户体验。PyPy在djangocms上的高p99延迟来自周期性的延迟峰值，大概是因为垃圾收集暂停。CPython和Pyston都显示出周期性的尖峰，大概来自它们的周期收集器，但它们的频率都较低，幅度也小得多。</p><p> The mypy and PyTorch benchmarks show a natural boundary of Pyston v2. These benchmarks both do the bulk of their work in C extensions which are unaffected by our Python speedups. We natively support the C API and do not have an emulation layer, so we are still able to provide a small boost to mypy performance and do not degrade pytorch or numpy performance. Your benefit will depend on your mix of Python and C extension work.</p><p>Mypy和PyTorch基准测试显示了Pyston v2的自然边界。这两个基准测试的大部分工作都是在C扩展中完成的，而C扩展不受我们的Python加速的影响。我们本机支持C API，并且没有模拟层，因此我们仍然能够提供对mypy性能的小幅提升，并且不会降低pytorch或numpy的性能。您的收益将取决于您混合使用Python和C扩展工作。</p><p>  We’re planning on going into more detail in future blog posts, but some of the techniques we use in Pyston v2 include:</p><p>我们计划在未来的博客文章中更详细地介绍，但我们在Pyston v2中使用的一些技术包括：</p><p>   Since Pyston is a fork of CPython, we believe it is one of the most compatible alternative Python implementations available today. It supports all the same features and C API that CPython does.</p><p>由于Pyston是CPython的一个分支，我们相信它是当今可用的最兼容的替代Python实现之一。它支持与CPython相同的所有功能和C API。</p><p> While Pyston is identically functional in theory, in practice there are some temporary compatibility hurdles for any new Python implementation. Please see  our wiki for details.</p><p>虽然Pyston在理论上功能相同，但实际上任何新的Python实现都有一些临时的兼容性障碍。请查看我们的维基了解详细信息。</p><p>  Pyston v2.0 is  immediately available as a pre-built package. Currently, we have packages for Ubuntu 18.04 and 20.04 x86_64. If you would like support for a different OS, let us know by filing an issue in our  issue tracker.</p><p>Pyston v2.0立即以预构建包的形式提供。目前我们有针对Ubuntu 18.04和20.04x86_64的包。如果您希望支持不同的操作系统，请在我们的问题跟踪器中提交问题，让我们知道这一点。</p><p> Trying out Pyston is as simple as installing our package, replacing  python3 with  pyston3, and reinstalling your dependencies with  pip-pyston3 install (though see our  wiki for a known issue about setuptools). If you already have an automated build set up, the change should be just a few lines.</p><p>试用Pyston非常简单，只需安装我们的软件包，用pyston3替换python3，然后用pip-pyston3 install重新安装您的依赖项(尽管有关setuptools的已知问题，请参阅我们的wiki)。如果您已经设置了自动构建，则更改应该只需几行。</p><p> Our plan is to open-source the code in the future, but since compiler projects are expensive and we no longer have benevolent corporate sponsorship, it is currently closed-source while we iron out our business model.</p><p>我们的计划是在未来将代码开源，但是由于编译器项目很昂贵，而且我们不再有善意的企业赞助，所以在我们完善我们的商业模式期间，它目前是关闭源代码的。</p><p>  We are designing Pyston for developers and love to hear about your needs and experiences. So, we’ve set up a  Discord server where you can chat with us. If you’d like a commercially-supported version of Pyston, please  send us an email.</p><p>我们正在为开发人员设计Pyston，并乐于听取您的需求和经验。所以，我们设置了一个不和谐服务器，您可以在那里与我们聊天。如果您想要商业支持的Pyston版本，请给我们发电子邮件。</p><p> We’ve optimized Pyston for several use cases but are eager to hear about new ones so that we can make it even more beneficial. If you run into any problems or instances where Pyston does not help as much as expected, please let us know!</p><p>我们已经针对几个用例对Pyston进行了优化，但我们渴望听到新的用例，这样我们就可以让它更有益处。如果您遇到任何问题或实例，Pyston没有像预期的那样提供帮助，请让我们知道！</p><p>  We designed Pyston v1 at Dropbox to speed up Python for its web serving workloads. After the project ended, some of us from the team brainstormed how we would do it differently if we were to do it again. In early 2020, enough pieces were in place for us to start a company and work on Pyston full-time.</p><p>我们在Dropbox设计了Pyston v1来加速Python的Web服务工作负载。项目结束后，我们团队中的一些人集思广益，如果我们再做一次，我们会如何不同地做这件事。在2020年初，我们有足够多的东西可以成立一家公司，全职从事Pyston的工作。</p><p> Pyston v2 is inspired by but is technically unrelated to the original Pyston v1 effort.</p><p>Pyston v2的灵感来自于最初的Pyston v1，但从技术上讲与之无关。</p><p>  We’re on a mission to make Python faster and have plenty of ideas to do so. That means we’re actively looking for people to join the team.  Let us know if you’d like to get involved. Otherwise stay tuned for future releases and reach out if you have any questions!</p><p>我们的使命是让Python变得更快，我们有很多想法可以做到这一点。这意味着我们正在积极寻找加入团队的人。如果你想参与进来，请告诉我们。否则，请继续关注未来的版本，如果您有任何问题，请联系我们！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.pyston.org/2020/10/28/pyston-v2-20-faster-python/">https://blog.pyston.org/2020/10/28/pyston-v2-20-faster-python/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/python/">#python</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/pyston/">#pyston</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/v2/">#v2</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1031681.html"><img src="http://img2.diglog.com/img/2020/10/thumb_c969aaacb6f2e948b3df52e085ae5422.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031681.html">在Postgres中使用Python和Pandas构建推荐引擎</a></div><span class="my_story_list_date">2020-10-28 10:4</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031446.html"><img src="http://img2.diglog.com/img/2020/10/thumb_51ce4d0597c92556e291d1a74d251921.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031446.html">使用Austin TUI在不降低性能的情况下监视正在运行的Python应用程序</a></div><span class="my_story_list_date">2020-10-27 19:47</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031069.html"><img src="http://img2.diglog.com/img/2020/10/thumb_ca280e09fd83e1f2f155b5d81ec8893c.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031069.html">Python需要改变吗？</a></div><span class="my_story_list_date">2020-10-25 15:53</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030931.html"><img src="http://img2.diglog.com/img/2020/10/thumb_b6d2f44664370d45e7761c500cdb97d3.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030931.html">对159个国家的17K名开发人员的调查：JavaScript是最受欢迎的语言，有1240万活跃开发人员，紧随其后的是Python，有900万，然后是Java，有820万</a></div><span class="my_story_list_date">2020-10-24 14:8</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>