<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>添加Stream.toList()方法[Java]</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">添加Stream.toList()方法[Java]</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-04 07:20:15</div><div class="page_narrow text-break page_content"><p>Stuart Marks  smarks at openjdk.java.net    Tue Nov 3 03:18:08 UTC 2020  This change introduces a new terminal operation on Stream. This looks like a convenience method for Stream.collect(Collectors.toList()) or Stream.collect(Collectors.toUnmodifiableList()), but it&#39;s not. Having this method directly on Stream enables it to do what can&#39;t easily by done by a Collector. In particular, it allows the stream to deposit results directly into a destination array (even in parallel) and have this array be wrapped in an unmodifiable List without copying.In the past we&#39;ve kept most things from the Collections Framework as implementations of Collector, not directly on Stream, whereas only fundamental things (like toArray) appear directly on Stream. This is true of most Collections, but it does seem that List is special. It can be a thin wrapper around an array; it can handle generics better than arrays; and unlike an array, it can be made unmodifiable (shallowly immutable); and it can be value-based. See John Rose&#39;s comments in the bug report: https://bugs.openjdk.java.net/browse/JDK-8180352?focusedCommentId=14133065&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14133065This operation is null-tolerant, which matches the rest of Streams. This isn&#39;t specified, though; a general statement about null handling in Streams is probably warranted at some point.Finally, this method is indeed quite convenient (if the caller can deal with what this operation returns), as collecting into a List is the most common stream terminal operation.-------------Commit messages: - 8180352: Add Stream.toList() methodChanges:  https://git.openjdk.java.net/jdk/pull/1026/files Webrev:  https://webrevs.openjdk.java.net/?repo=jdk&amp;pr=1026&amp;range=00 Issue:  https://bugs.openjdk.java.net/browse/JDK-8180352 Stats: 405 lines in 6 files changed: 358 ins; 23 del; 24 mod Patch:  https://git.openjdk.java.net/jdk/pull/1026.diff Fetch: git fetch  https://git.openjdk.java.net/jdk pull/1026/head:pull/1026PR:  https://git.openjdk.java.net/jdk/pull/1026</p><p>Stuart Marks Smarks at openjdk.java.net Tue Nov 3 03：18：08 UTC 2020此更改在Stream上引入了新的终端操作。这看起来像是Stream.Collect(Collectors.toList())或Stream.collect(Collectors.toUnmodifiableList())，的一个方便方法，但它不是。将此方法直接放在Stream上使其能够做收集器不容易做的事情。特别值得一提的是，它允许流直接将结果存放到目标数组中(即使是并行的)，并将此数组包装在一个不可修改的列表中，而不是复制。过去，我们将集合框架中的大部分内容作为Collector的实现保留，而不是直接在Stream上保存，而只有基本的内容(如toArray)才直接显示在Stream上。大多数收藏品都是如此，但是列表看起来确实很特别。它可以是数组的薄薄包装器；它可以比数组更好地处理泛型；与数组不同，它可以成为不可修改的(浅层不变)；它可以是基于值的。参见John Rose在错误报告中的评论：https://bugs.openjdk.java.net/browse/JDK-8180352?focusedCommentId=14133065&amp；page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14133065This操作是空容忍度，这与其余的流匹配。不过，这并未指定；在某些情况下，可能需要使用有关流中NULL处理的一般语句。最后，此方法确实非常方便(如果调用者可以处理此操作返回的内容)，因为收集到列表中是最常见的流终端操作。-提交消息：-8180352：add Stream.toList()方法更改：https://git.openjdk.java.net/jdk/pull/1026/files webrev：https://webrevs.openjdk.java.net/?repo=jdk&amp；pr=1026&amp；范围=00问题：https://bugs.openjdk.java.net/browse/JDK-8180352统计信息：6个文件中的405行已更改：358INS；23 DEL；24 MOD修补程序：https://git.openjdk.java.net/jdk/pull/1026.diff FETCH：GIT FETCH https://git.openjdk.java.net/jdk Pull/1026/Head：Pull/1026PR：https://git.openjdk.java.net/jdk/pull/1026</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://mail.openjdk.java.net/pipermail/core-libs-dev/2020-November/070782.html">https://mail.openjdk.java.net/pipermail/core-libs-dev/2020-November/070782.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/java/">#java</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/方法/">#方法</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/method/">#method</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/https/">#https</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1032758.html"><img src="http://img2.diglog.com/img/2020/11/thumb_5284cf17db551895b1215de49c9ea500.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032758.html">Dojo3D-用于3D互动故事的简单JavaScript库</a></div><span class="my_story_list_date">2020-11-2 18:59</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032702.html"><img src="http://img2.diglog.com/img/2020/11/thumb_74f1ccfa4249fcc4f7e79edad2d58586.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032702.html">Go中常量的细微差别；Go不是JavaScript</a></div><span class="my_story_list_date">2020-11-2 9:22</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032572.html"><img src="http://img2.diglog.com/img/2020/11/thumb_9b2a7fcceee51585feb5628a787bccaa.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032572.html">打算停止在我的(JavaScript)代码中使用NULL</a></div><span class="my_story_list_date">2020-11-1 10:50</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032482.html"><img src="http://img2.diglog.com/img/2020/10/thumb_443fb78166cd1e98f75aed69f8d85206.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032482.html">Java并发性-了解线程的基础知识</a></div><span class="my_story_list_date">2020-10-31 21:1</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>