<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ZedRipper：第2部分 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">ZedRipper：第2部分 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-03 09:38:39</div><div class="page_narrow text-break page_content"><p>我最初是在2019年12月开始完成这个项目的，与我大多数立即上架，再也不会眨眼的项目不同，这个项目立即成为我的“通勤者爱好”。每天往返办公室约45分钟的火车车程，这是放松和写一些Turbo Pascal的最佳时机。</p><p> 一开始使用它，我便立即想做得更好，因此，一旦它“完成”，我便开始了稳定的3个月的逐步升级（在整个大流行发生之前，我的通勤消失了）。从那以后，它大部分时间一直放在架子上，等待大流行结束并恢复我的日常通勤。</p><p>  为了方便起见，我最初将整个系统运行在83 MHz的通用时钟频率上（由视频生成逻辑决定）。我将视频生成与系统的其余部分解耦，并能够将系统时钟（驱动16个Z80内核和连接它们的单向环形网络）提高到140 MHz –稳定的68％提速（这是真正的）在某些Turbo Pascal任务中值得注意）。基本上，这就是我所使用的Z80内核的时序上限的地方。我也加快了SD卡的访问速度，但这仍然是系统中最令人讨厌的缓慢部分之一，并且将来可以升级。</p><p> 我曾经尝试过像NextZ80这样名义上“更快”的Z80内核，但是我都在使它们可靠运行方面存在问题（因为几乎所有内核都使用略有不同的逻辑接口），而且它们都具有较低的可实现时钟速率。在将来的某个时候，这可能值得重新讨论，但是就目前而言，以8位标准来看，我的140MHz Z80内核还相当可观。</p><p>   好的，它比鼠标更像是一个操纵杆，但还是！我安装了一个5开关操纵杆，可以连接键盘控制器。此刻，CP / NET服务器读取了它，并允许我即时重新排列终端窗口。我还添加了一个很好的眨眼效果，以指示哪个终端处于“活动状态”。</p><p> 我的长期目标是最终制作一个完整的“ GUI”，但到目前为止，这确实是一个不错的多任务功能（比我最初的迭代中键盘控制的“平铺”界面好用得多）。</p><p>  每天通勤时出现的“实用”问题之一就是知道电池的状态–没有内置的电池保护电路，电池端子仅通过机械装置连接到FPGA板上的稳压器开关。像现代设备中无处不在的电池图标可以向您显示剩余的电池寿命百分比，这真是太好了。已经存在一个5V的微控制器，可以将键盘和操纵杆信号转换为串行命令，发送给FPGA –我能够添加一个分压器，该微控制器可以通过ADC进行采样（并使用一些未使用的串行命令）以提供一些低分辨率的电池监控。一旦我在屏幕上的某个地方找到了合适的电池监控器，就再也无需担心在Zork紧张的会议期间再次即刻关机！ </p><p>这是我添加的更大功能之一-在通勤突然结束之前的一周左右，我设法使其全部正常工作，所以我只需要在“现场”实际使用一两次，但它确实工作还不错！</p><p> 我添加了一个装有“ wifi调制解调器”固件的ESP32板，该板可模拟与Hayes兼容的调制解调器。然后将其连接到连接到服务器Z80的UART –瞧！我能够系好手机并连接到火车上的BBS！我的Z80内核使用的硬件终端是ANSI兼容的，所以我的“终端客户端”是Turbo Pascal的几行，基本上可以将东西从调制解调器路由到终端，从键盘路由到调制解调器-现在我可以连接了通过telnet连接到ANSI兼容的公告板！它确实工作正常，并且非常有趣。</p><p>  付出更多的努力，这也可以用于通过Kermit与现代计算机轻松进行文件传输（这是我与连接了类似调制解调器的Kaypro一起使用时的首选解决方案）。</p><p>  我想通过一种简单的方式与之交谈，而又不会打开外壳，所以我将一个兼容FTDI的简单UART端口连接到了外壳的侧面。</p><p>   最初，“窗口”功能非常有限-您一次只能显示4个平铺的终端窗口，而键盘热键则可以选择每个平铺显示的终端。就像在讨论鼠标升级时提到的那样，我现在可以使用内置操纵杆在屏幕上自由移动终端窗口。</p><p> 我还添加了同样有用的升级程序，需要进行更多的手术-两种窗口大小！所有终端都是固定的80×25字符，但最初仅支持固定的8×16字体。通过在半尺寸4×8字体和原始8×16字体之间动态切换，将窗口缩放到其原始大小的1/4，我能够破解“大”和“小”模式！这不仅可以让您一次在屏幕上显示所有16个核，而且还可以混合搭配使用，以便交互式应用程序可以全尺寸显示，而后台或多核应用程序可以为四分之一尺寸。</p><p>   最初的ZedRipper更像是拥有1980年代的计算机实验室，而不是我们认为的“多核”计算机。如何实际使用这种野兽？从逻辑上讲，我将16个CPU细分为8个“应用程序”处理器，用于同时运行各个程序，将8个内核的“存储库”用于多处理实验。这为多核应用程序提供了稳定的目标，同时为我需要运行的任何实际应用程序留出了充足的CPU。 </p><p>但是如何实际使用这些内核？记住–我的系统被构造为CP / NET服务器，该服务器监视键盘并将其转​​发到运行CP / NOS的适当CPU内核。最初，我的想法是您可以单独启动应用程序，但是事实证明这很糟糕。现在，当您选择内核1-7时，通常会以单个“应用程序”处理器为目标，但是选择内核8则可以方便地将击键广播到内核8-15-因此，您现在可以同时在所有8个内核上启动应用程序，并且CP / NET服务器只是自动处理I / O！内核具有可读取的ID寄存器，因此您可以知道正在运行的内核，并为您提供了MPI风格的多程序方式。在实践中，这可能比我的描述所暗示的要好得多–您可以在一个窗口中编辑Turbo Pascal程序，进行编译，然后在8个内核上并行运行它，而同时仍要打开窗口（！）。</p><p> 得益于多尺寸的窗户支撑，我首选的工作模式现在已将所有8个core积核心显示在屏幕的下半部分，上半部分显示了2个前台应用程序，如Conway的Game of以上是生活演示GIF。</p><p>  首先，需要对整个大流行病进行总结，以便我可以重新培训黑客。不过，一旦解决了这些问题，我的ZedRipper待办事项清单上仍然会有一些项目。</p><p> 更好的存储！我正在使用的SD卡模块不稳定，运行缓慢，使用起来令人沮丧。我认为FPGA板上有一些板载闪存可以使用，或者只是改善现有SD卡接口的性能和可靠性。目前绝对是一个薄弱环节。</p><p> 使用该RAM！仍未使用的大型SRAM肯定可以支持Z80的大型共享内存池，以及用于播放图形的良好帧缓冲区。</p><p> 更多Z80s？当我发布有关ZedRipper的第一篇文章时，有人引起了我的注意，那台1980年代的机器叫做ZMOB（其结构与Zed Ripper惊人地相似），这引起了我的兴趣。转向采用SRAM支持的基于缓存的方案可能会使我转向64-256 Z80内核，尽管我尚未确定这是否实际上是一种改进。根据记录，ZMOB具有256 *（4 MHz Z80A）= 1 GHZ80，而ZedRipper现在具有16 *（140 MHz Z80）= 2.24 GHZ80，所以它已经比以前的基于Z80的冠军快了2倍！</p><p> 更好的ROM？我一直在关注非常酷的RomWBW项目，该项目提供了很多功能，这些功能很适合ZedRipper使用。 </p><p>软件！ 软件！ 软件！ 这个东西已经有很多未使用的功能，只是乞求更多的时间坐下来为它编写软件。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="http://www.chrisfenton.com/the-zedripper-part-2/">http://www.chrisfenton.com/the-zedripper-part-2/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/zedripper/">#zedripper</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>