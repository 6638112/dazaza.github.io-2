<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>谷歌为Libcurl工作提供的资助</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">谷歌为Libcurl工作提供的资助</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-09-24 15:24:06</div><div class="page_narrow text-break page_content"><p>今年早些时候，我获得了一笔谷歌补丁拨款，明确表示要提高libcurl的安全性。</p><p>这是谷歌计划的一笔预付款，该计划将自己描述为“一个奖励对选定的开源项目进行主动安全改进的试验性计划”。</p><p>我接受了CURL项目的这笔拨款，我打算继续为确保CURL的安全而努力。我认识到cURL安全的重要性，因为cURL仍然是世界上使用最广泛的软件组件之一，甚至是正在进行网络数据传输的组件，这通常是一项有风险的业务。在平均每天通过互联网完成的所有互联网传输中，CURL负责相当大的份额。我的工作是确保这些转账尽可能安全可靠。当然，这不是我唯一的责任，因为我还有其他任务要做，但仍然如此。</p><p>在CURL项目中，安全已经是并且始终是最重要的，对我个人来说也是如此。当然，这笔拨款将进一步推动我加强cURL的努力，并通过联合来加强它的所有用户。</p><p>当提到与curl相关的安全性时，有些人喜欢提及并宣传其他编程语言，但是curl不会用另一种语言重写。相反，我们将更加努力地编写良好的C语言，更早更好地检测代码中的问题。</p><p>字符串和缓冲区大小限制-libcurl中允许增长的所有字符串输入和所有缓冲区现在都有一个允许的最大大小，这是有意义的。这可以阻止可能使事情发展失控的恶意使用，并有助于检测会导致相同问题的编程错误。此外，通过确保字符串和缓冲区永远不会大得离谱，我们可以更好地避免整类整数溢出风险。</p><p>统一的动态缓冲区功能-通过减少处理“不断增长的缓冲区”的不同实现的数量，我们降低了其中一个缓冲区出现错误的风险，即使它很少使用或模糊器很难到达和“锻炼”的地方也是如此。“dynbuf”内部API在curl 7.71.0(2020年6月)中首次发布。</p><p>Realloc缓冲区增长统一-与前一个几乎相同，但在我们历史的早期，当我们使用愚蠢的realloc()处理时，我们遇到了几个问题，这可能会导致不好的事情。通过限制字符串大小和统一缓冲区函数，我们减少了使用realloc的位置数量，从而减少了出现新realloc错误的位置数量。重新分配错误通常与整数溢出结合在一起。</p><p>代码样式-随着时间的推移，我们逐渐改进了我们的代码样式检查器(checksrc.pl)，我们也逐渐使我们的代码样式更加严格，导致代码、空格和命名的变化较少。我坚信这会使代码看起来更连贯，因此更具可读性，从而减少错误，更容易调试代码。它还使grep和搜索代码变得更容易，因为您需要扫描的变体更少。</p><p>更多的代码分析器-我们通过大量的代码分析器运行每个提交和PR，以帮助我们及早发现错误，并且我们总是删除检测到的问题。撰写本文时使用的分析器：lgtm.com、Codacy、Deepcode AI、Monocle AI、clang tidy、Scan-Build、CodeQL、Muse和Coverity。当然，这还不包括运行整个测试套件的常规运行时工具，如valgrind和saniizer版本。</p><p>内存安全组件--CURL已经支持使用过多的不同库和“后端”来构建，以满足用户的需求和愿望。通过适当地支持并向用户提供用Ruust等编写的组件(或帮助开发人员避免陷阱的其他语言)进行构建，未来的curl和libcurl构建可能会潜在地避免整个部分的风险。(请在不久的将来继续关注有关此主题的更多信息。)。</p><p>认识到无论我们做什么，不管我们经营得多么紧张，我们都会继续偶尔滑倒，这一点很重要，我们应该确保尽可能好地及早发现并修复这些失误。</p><p>提高赏金。虽然不是直接修复问题，但在我们的漏洞赏金计划中提供更多的资金有助于我们获得安全研究人员的更多关注。我们的目标是温和地提高奖励金额，逐步提高到每个漏洞可能数千美元，只要我们有资金支付，并且我们管理将安全漏洞保持在合理的低频率。</p><p>更毛茸茸的。我以前说过，但让我再说一遍：一旦我们修复了我们使用的静态分析器指出的所有缺陷，模糊确实是发现curl中问题的最好方法。CURL的主要模糊是由OSS-Fuzz完成的，它不知疲倦地不停地敲打最新的curl代码。</p><p>好的模糊需要一定程度的“牵手”，才能真正测试所有的API并挖掘最肮脏的角落，我们应该致力于在libcurl中添加更多的“探针”和入口点，让Fuzzer使用更多的代码路径来潜在地检测更多的错误。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://daniel.haxx.se/blog/2020/09/23/a-google-grant-for-libcurl-work/">https://daniel.haxx.se/blog/2020/09/23/a-google-grant-for-libcurl-work/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/libcurl/">#libcurl</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/grant/">#grant</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/curl/">#curl</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1026088.html"><img src="http://img2.diglog.com/img/2020/9/thumb_24051b495d61af98326283214dae32c1.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1026088.html">桑达尔·皮查伊说，谷歌正在计划未来工作的“混合”模式，允许部分在家工作，因为62%的员工希望拥有这种灵活性</a></div><span class="my_story_list_date">2020-9-24 14:18</span></div><div class="col-sm"><div><a target="_blank" href="/story/1026065.html"><img src="http://img2.diglog.com/img/2020/9/thumb_46dd07abe644c2c56764a747b1bdb35b.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1026065.html">英国政府创建的接触者追踪应用程序NHS新冠肺炎在英格兰和威尔士推出，苹果和谷歌的暴露通知API</a></div><span class="my_story_list_date">2020-9-24 11:9</span></div><div class="col-sm"><div><a target="_blank" href="/story/1025963.html"><img src="http://img2.diglog.com/img/2020/9/thumb_d922f1f2a2379ca2e3bb989f9c64b11b.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1025963.html">谷歌扩展了Google Cloud的Chronicle网络安全分析工具，增加了威胁检测和警报功能</a></div><span class="my_story_list_date">2020-9-24 2:51</span></div><div class="col-sm"><div><a target="_blank" href="/story/1025943.html"><img src="http://img2.diglog.com/img/2020/9/thumb_8f70a0841aaea975ea8b282d127448c4.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1025943.html">
谷歌地图获取新冠肺炎图层</a></div><span class="my_story_list_date">2020-9-24 0:49</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>