<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我们不使用Docker（我们不需要它） We Don’t Use Docker (We Don’t Need It)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">We Don’t Use Docker (We Don’t Need It)<br/>我们不使用Docker（我们不需要它） </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-16 11:40:25</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/2db7a91497b9f9c390c90856cfa821ab.png"><img src="http://img2.diglog.com/img/2021/3/2db7a91497b9f9c390c90856cfa821ab.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>UPDATE: minor edits to mention that we do have a dedicated build server after this got posted to reddit.</p><p>更新：在发布到Reddit后，要提到我们确实有专用构建服务器的次要编辑。</p><p> This might end up getting a lot of hate.   In other jobs, we’ve used docker and it’sworked out just fine (for the most part… there was that time the RedHat filesystemon our prod server got mysteriously hosed -- maybe it wasn’t docker’s fault.)   But no, the reason we don’t use docker isbecause we don’t need it. Literally.  Writing golang web services and static html embedded with with golang1.16’s new //embed directive, we end up with a single deployable binary.</p><p> 这可能最终得到了很多仇恨。在其他工作中，我们已经使用了Docker，它已经很好（在大多数情况下......有时间redhat filesystemon我们的Prod服务器获得神秘的东西 - 也许不是Docker的错。）但没有原因我们不使用Docker，因为我们不需要它。字面上地。使用Golang1.16的新//嵌入指令写入Golang Web服务和静态HTML，我们最终可以使用单一可部署二进制文件。</p><p> As a self-sustaining startup, we have limited resources todevote to tasks.   We chose golang exactlyfor this reason.   It sure would be *nice*if we could spend a couple weeks building the perfect CI/CD pipeline, an elegantdeployment process, along with pretty dashboards.   But we have software we need to ship in orderto get users in order to drive subscriptions.  Anything that doesn’t directly serve that goal is a complication.   So at best, docker is a complication.   A 9 million LoC complication that brings itsown bugs and its own idiosyncrasie</p><p> 作为一个自我维持的启动，我们对任务有限的资源拓扑。我们选择了Golang的原因。如果我们可以花几周建造完美的CI / CD管道，优雅的仪表板，它肯定会很好*。但是我们有软件我们需要发货以获得用户才能推动订阅。任何不直接为目标的东西都是一个复杂性。最多，Docker是一种并发症。 900万LOC并发症，带来了Stords Bugs及其自己的idiosyncrasie</p><p> Golang allows us to build web services that are insanelyfast (at least for the level of growth we are currently at) and insanely scalable(again, for the level of growth we are currently at).   We can handle thousands of transactions persecond on a single server.   We don’t haveanywhere close to a thousand transactions per second.   But, sure, we could have probably done the samewith node or deno.   The V8 engine is alsoinsanely fast.   When high traffic foryour app is probably 2 transactions per second (we have a workout video app – wedon’t have the same scalability problems as Twitter), it really doesn’t matterwhat programming language you choose.   Ifyou run out of capacity, upgrade your single server.</p><p> Golang允许我们建立纯粹的Web服务（至少对于我们目前的增长程度）和疯狂地扩展（再次，我们目前的增长水平）。我们可以在单个服务器上处理千万万次交易。我们没有靠近每秒千万万的地方。但是，当然，我们可能已经完成了与节点或丹诺的结果。 V8发动机还快速。当高流量的App可能是每秒2个交易时（我们有一个锻炼视频应用程序 -  WedOn与Twitter具有相同的可扩展性问题），它真的无关紧要您选择的编程语言。如果您耗尽容量，请升级您的单个服务器。</p><p> No, the reason we went with go was because golang’spackaging is *so* much better than node.  Or java.   Or C#.   We get a single binary.     Building is as easy as:</p><p> 不，我们去的原因是因为戈兰的包装是*所以*比节点要好得多。或java。或c＃。我们获得一个二进制文件。建筑物和：</p><p> go build  Testing is as easy as       go test  Deploying the app is as easy as:       scp app user@host:      ssh user@host “nohup ./app”</p><p> Go Buy Destration和Go Test Deploying App as Easy Asseas as Easy As：SCP App User @ Host：SSH用户@ Host“Nohup ./app”。</p><p> Note, we did get a *little* more complicated and create a SystemDscript to launch it at startup.   We also made sure we had a dedicated build server, which essentially runs a 10 line shell script that does all the build goodness needed (git clone, go build, go test, go lint, go vet)  Butthere were those of us arguing that even that was too complicated.  At some point we may even add a UI like https://www.rundeck.com/ to control deploys.   Total time to create our build and deploy system was so small we don’t evenknow how to measure it.  Now, think about how much time you’ve spent learning docker. Deploying docker.Troubleshooting docker.   Even if you loveit, it changed your life, it’s better than sliced bread and it solves worldhunger… in the end can you really say it’s simpler than what we’ve got for freebuilt in to golang?   I guarantee you it’snot.  Please comment below if you like these thoughts.  And while you&#39;re at it, you could give our app a try as well:  https://meezeeworkouts.com/getapp</p><p> 注意，我们确实得到了一个*小*更复杂，并创建一个systemDscript来启动它。我们还确保我们有一个专门的构建服务器，它基本上运行了一个10线shell脚本，这是所需的所有构建良好（git clone，go build，go test，go lint，go vet）仍然是我们争论的这太复杂了。在某些时候，我们甚至可能会添加一个像https://www.rundeck.com/这样的UI来控制部署。创建我们构建和部署系统的总时间是如此小我们甚至不知道如何衡量它。现在，想想你花了多少时间学习码头。部署docker.troubleshooting Docker。即使你喜欢，它也改变了你的生活，它比切片的面包更好，它解决了世界时髦的......到底你真的可以说它比我们为Golang FreeBuilt in FreeBuilt的更简单吗？我保证你不知道。如果您喜欢这些想法，请发表评论。虽然你＆＃39;它，你可以给我们的应用程序尝试：https://meezeeworkouts.com/getapp </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://launchyourapp.meezeeworkouts.com/2021/03/why-we-dont-use-docker-we-dont-need-it.html?m=1">https://launchyourapp.meezeeworkouts.com/2021/03/why-we-dont-use-docker-we-dont-need-it.html?m=1</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/docker/">#docker</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/don/">#don</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/golang/">#golang</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012 - 2021 diglog.com </div></div></body></html>