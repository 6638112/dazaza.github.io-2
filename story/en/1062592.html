<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>用于小型系统的自托管ADA灵感编程语言 A self-hosted Ada-inspired programming language for small systems</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">A self-hosted Ada-inspired programming language for small systems<br/>用于小型系统的自托管ADA灵感编程语言 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-05-14 07:50:41</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/5/90b7496d5b969f36dcf39c27db9980f6.png"><img src="http://img2.diglog.com/img/2021/5/90b7496d5b969f36dcf39c27db9980f6.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Cowgol is an experimental, Ada-inspired language for very small systems(6502, Z80, etc). It&#39;s different because it&#39;s intended to be self-hosted onthese devices: the end goal is to be able to rebuild the entire compiler onan 8-bit micro, although we&#39;re not there yet.</p><p>Cowgol是一种实验性的，适用于非常小的系统的ADA灵感语言（6502，Z80等）。它不同，因为它的＆＃39;旨在自托管在这些设备上：最终目标是能够重建整个编译器onan 8位微量，虽然我们＆＃39;尚未存在。</p><p>  a table-driven, easy to port backend (the 80386 backend is 1.2kloc withno other compiler changes needed)</p><p>  桌面驱动，易于端口后端（80386后端是1.2kloc，需要其他编译器更改）</p><p> tiny: the 80386 Linux compiler binary is 70kB (including ELF overhead)The 8080 CP/M compiler 58kB (split across two executables)</p><p> 微小：80386 Linux编译器二进制文件是70KB（包括ELF开销）8080 CP / M编译器58KB（跨越两个可执行文件）</p><p>  Right now it&#39;s in a state where you can build the cross-compiler on a PC, thenuse it to compile the compiler for your selected device, and if it&#39;s smallenough to fit use  that to compile and run real programs. Realistically you&#39;llbe cross-compiling on a PC.</p><p>  现在它在一个状态下，您可以在一个状态下构建PC上的交叉编译器，然后使用它来编译所选设备的编译器，如果它＆＃39; Smallenough＆＃39; smallengenge and fit fit it prefe程式。实际上你和＃39; LLBE在PC上交叉编译。</p><p>  6303, on the 6303 version of Fuzix (if anyone knows about FLEX and wants tomake this work, please get in touch).</p><p>  6303，在6303版的fuzix上（如果有人知道Flex并希望撕裂这项工作，请联系）。</p><p> 6502 interpreted bytecode, on the BBC Micro with Tube second processor;this works just like above, but produces a stack-based bytecode withintegrated interpreter. It&#39;s much smaller, but also slower.</p><p> 6502解释字节码，在BBC Micro带有管第二处理器;这与上面就像上面一样，但生成了基于堆栈的字节码，其中包含了基于堆栈的字节码。它＆＃39;得更小，但也慢。</p><p>    68000, on Atari ST TOS (although most of the system calls aren&#39;t hooked upyet so you can&#39;t do anything more than print stuff) and Linux m68k (if youcan still find a machine which will run this).</p><p>    68000，在Atari St TOS（虽然大多数系统呼叫aren＆＃39; t挂钩的upyet，所以你可以＆＃39; t做任何事情，而不是打印的东西）和linux m68k（如果youcan仍然找到一个运行的机器）。 </p><p> 8086, on DOS (it emits small mode .exe files with 64kB of code and 64kB of data).</p><p>8086，在DOS上（它发出带有64KB代码和64KB数据的小模式.exe文件）。</p><p>  Generic and terrible C. This produces very big and slow binaries whichare used for bootstrapping the compiler if you don&#39;t have a Cowgolcompiler.</p><p>  通用和可怕的C.这会产生非常大的慢速二进制文件，如果您没有＆＃39; T.T＆＃39; T. The Cowgolcompiler。</p><p> Basic. Yes, really --- there&#39;s a backend which will transpile into terribleMicrosoft Basic. I wrote this mainly as a joke and only a subset of thelanguage is supported, but it does work.</p><p> 基本的。是的，真的---有一个后端，它将转换为terriblemicrosoft基本。我主要作为一个笑话，只支持一部分中语言，但它确实有效。</p><p> (It  used to  support the Apollo GuidanceComputer used in theApollo spacecraft, but I had to remove the code generator while rewriting thecompiler and I haven&#39;t reworked the AGC backend.)</p><p> （它用于支持在TheApollo SpaceCraft中使用的Apollo指南，但我必须在重写Thecompiler和我没有重新制作AGC后端的同时删除代码生成器。）</p><p>  A BBC Micro with Tube second processor.  Follow this link for a livein-browserdemocourtesy of Matt Godbolt&#39;s excellent JSBeeb emulator: press SHIFT+F12(that&#39;s SHIFT+BREAK on a BBC Micro) to start the compiler, and when it&#39;sdone type OUT to run the result. This is generating full 65c02 machinecode.</p><p>  带有管第二处理器的BBC微型。遵循此链接的LientIn-BrowerDemocourtesy的Matt Godbolt＆＃39; s优秀的JSBEEB模拟器：按Shift + F12（＆＃39; s偏移+ bbc micro的shift + break + break + break + break + break + break + bread + bread + back and bbc micro）启动编译器，当它＆＃39; sdone类型出去逃避结果。这是生成完整的65c02 machinecode。</p><p> Many of the other platforms have unfinished system call libraries, so while thecompiler tests all pass and the compilers are being built, they won&#39;t work ifyou run them. This should be easy to fix if necessary --- let me know and ask.(I just haven&#39;t got round to it yet.) Other platforms have working system calllibraries but Cowgol doesn&#39;t provide an assembler, so you need to source yourown (for example: MS-DOS and Atari ST TOS). So the compiler technically worksthere; you just can&#39;t do anything useful with it.</p><p> 许多其他平台都有未完成的系统调用库，因此在复选者测试所有通行证和编译器时，他们赢得了＆＃39; t工作如果你运行它们。如果有必要，这应该是易于修复的 - 让我知道并询问。（我尚无第39岁。）其他平台有工作系统Calllibraries，但CowGol不提供汇编程序，所以您需要源您所在（例如：MS-DOS和ATARI ST TOS）。所以编译器技术上工作;你只能做任何有用的东西。</p><p>   # Free up the node tree rooted in the parameter. This is more exciting than it# should be because we don&#39;t have recursion.## Editorial note: actually this subroutine no longer exists in the compiler# source code because I replaced it with something simpler and better. No# matter, the example still stands.sub Discard(node: [Node]) is var pending := node; while pending != (0 as [Node]) loop node := pending; pending := node.dlink; # Unlink and push any children. if node.left != (0 as [Node]) then node.left.dlink := pending; pending := node.left; end if; if node.right != (0 as [Node]) then node.right.dlink := pending; pending := node.right; end if; # Now free this node. Free(node as [uint8]); end loop;end sub;</p><p>   ＃释放在参数中的节点树。这比它更令人兴奋＃应该是因为我们没有递归。##编辑注意：实际上这个子程序在编译器＃源代码中不再存在，因为我用更简单更好地替换它。没有＃物质，榜样仍然存在.sub discard（node：[node]）是var pending：= node;挂起！=（0作为[节点]）循环节点：=挂起;挂起：= node.dlink; ＃取消链接和推动任何孩子。如果node.left！=（0为[节点]），那么node.left.dlink：= pending;挂起：= node.left;万一;如果node.right！=（0作为[节点]），那么node.Right.Dlink：=挂起;挂起：= node.right;万一; ＃现在免费这个节点。免费（节点为[UINT8]）;结束循环;结束子; </p><p>  no recursion and limited stack use (most of the platforms I&#39;m targetingdon&#39;t really support stack frames)</p><p>没有递归和有限的堆栈使用（大多数平台I＆＃39; m targetingdon＆＃39; t真的支持堆栈框架）</p><p>   I&#39;ve always been interested in compilers, and have had various othercompiler projects:  the Amsterdam Compiler Kitand  Cowbel, to name two. (The languages section of my websitecontains a fair number of entries. The oldest compiler which still existsdates from about 1998.)</p><p>   我始终对编译器感兴趣，并有各种其他的其他其他方案：阿姆斯特丹编译器Kitand Cowbel，名称二。 （我的WebsiteContains的语言部分是公平的条目。从1998年仍然存在的最旧的编译器。）</p><p> Cowgol is based on what I&#39;ve learnt from all this. It&#39;s supposed to be useful, not just a toy. I&#39;m pleasantly surprised by how good the generatedcode is; not that it&#39;s anything up to that of, say, gcc, but the main codegeneration binary of gcc is 23552kB, and Cowgol&#39;s is 65kB...</p><p> Cowgol是基于我从这一切学到的什么。它＆＃39应该是有用的，而不仅仅是一个玩具。我＆＃39; m令人愉快的是，所生成的代码是多么好的惊喜;不是那样的话，GCC的主要代码统一体二进制文件是23552KB，而CowGol＆＃39; s是65kb ...</p><p>  Check out the GitHub repository andbuild from source. (Alternatively, you can download a source snapshot from the latest release,but I suggect the GitHub repositories better because I don&#39;t really intend tomake formal releases often.)  Build instructions are on their ownpage.</p><p>  从源中查看GitHub存储库和博合金。 （或者，您可以从最新版本下载源快照，但是我提出了更好的GitHub存储库，因为我不经常打算暗示粗糙的正式版本。）构建说明是在他们的所有页面上。</p><p> Ask a question by creating a GitHubissue, or just email medirectly at  dg@cowlark.com. (But I&#39;d prefer youopened an issue, so other people can see them.)</p><p> 通过创建一个githubissue询问，或者在dg@cowlark.com上发送发出电子邮件。 （但是我更喜欢你一个问题，所以其他人可以看到它们。）</p><p>   Everything you want to know about Cowgol, the language;tl;dr: very strongly typed; Ada-like syntax; multiple return parameters; norecursion; limited aliasing; nested functions.</p><p>   你想了解关于Cowgol的一切，语言; TL; DR：非常强烈的类型; ada样语法;多个返回参数; NORECUREION;有限的混叠;嵌套功能。</p><p> An overview of Cowgol, the toolchain; tl;dr: single-passcompiler frontend; global analyser and linker feeding into a third-partyassembler; written in pure Cowgol.</p><p> 牛肝，工具链概述; TL; DR：单乘客前锋;全局分析仪和饲养到第三派对的链接器;用纯正的牛头狼写。 </p><p>  It&#39;s new, it&#39;s buggy, it&#39;s underdeveloped, and so far only one actual programis written in Cowgol, which is the Cowgol compiler. (And cowlink and cowwrap.)</p><p>它＆＃39; s＆＃39; s oder＆＃39; s欠发达的，到目前为止，只有一个用在牛头掌中写的实际编程，这是牛歌编译器。 （和牛仔链和牛牛。）</p><p>  no  null. This one&#39;s semantic, but right now you have to cast  0 topointer types to use  null. (I  do know about languages which don&#39;t have null but they&#39;re all for larger machines than Cowgol&#39;s aimed at.)</p><p>  没有空。这个＆＃39; s语义，但现在你必须投射0拓展类型来使用null。 （我知道Don＆＃39; t的语言有null，但它们＆＃39;在大型机器上都比牛肝＆＃39;）瞄准。）</p><p>   Cowgol was written mostly by me, David Given, with additional contributionsfrom  shattered@github. Feel free to contact meby email at  dg@cowlark.com. You may also  like tovisit my website; there may or may not be somethinginteresting there.</p><p>   牛戈尔主要由我写的大卫给出了大卫，额外的贡献是从@ github打碎的贡献。在dg@cowlark.com上随时与Meby邮件联系。您也可能喜欢Tovisit我的网站;那么有可能或可能在那里有吸引力。</p><p>  Cowgol is open source software available  under the 2-clause BSDlicense. Simplifiedsummary: do what you like with it, just don&#39;t claim you wrote it.</p><p>  CowGol是在2-Clase BSDlicense下提供的开源软件。 SimplededSummary：做你喜欢的东西，只是不要声称你写了它。</p><p> The exceptions are the contents of the  third_party directory, which werewritten by other people and are not covered by this license. This directory asa whole contains GPL software, which means that if you redistribute the entiredirectory, you must conform to the terms of the GPL.</p><p> 例外是第三个Party目录的内容，由其他人撰写，并未由此许可证涵盖。此目录ASA整体包含GPL软件，这意味着如果您重新分配了entiFirectory，则必须符合GPL的条款。</p><p> third_party/lib6502 contains a hacked copy of the lib6502 library, which is ©2005 Ian Plumarta and is available under the terms of the MIT license. See third_party/lib6502/COPYING.lib6502 for the full text.</p><p> 第三个_Party / Lib6502包含Lib6502库的黑客副本，即©2005 IAN Plumarta，可根据麻省理工学院许可证提供。有关全文，请参见第三个_party / lib6502 / copying.lib6502。</p><p> third_party/zmac contains a copy of the venerable zmac 8080 and Z80assembler. It&#39;s in the public domain.</p><p> 第三个_party / zmac包含venable zmac 8080和z80assembler的副本。它＆＃39; s在公共领域。 </p><p>  third_party/apout contains a copy of the apout PDP-11 SysV binary emulator,primarily written by Warren Toomey and Eric A. Edwards. It is distributed underthe terms of the MIT license; see  third_party/apout/COPYRIGHT for the fulltext.</p><p>第三个_party / apout包含一个主要由Warren Toomey和Erecwards编写的APOUT PDP-11 SYSV二进制模拟器的副本。它以麻省理工学院执照的条款分发;查看fulltext的第三个_party / apout /版权。</p><p> third_party/rc2014emu contains a subset of the RC2014 emulator written byAlan Cox. It is distributed under the terms of the GPL 3.0 license; see third_party/rc2014emu/COPYING for the full text.</p><p> 第三_Party / RC2014EMU包含由alan Cox编写的RC2014仿真器的子集。它根据GPL 3.0许可的条款分发;请参阅第三个_party / rc2014emu /复制全文。</p><p> third_party/emu2 constains a copy of the emu2 DOS emulator written bydmsc@github (and others). It is distributed under the terms of the GPL 2.0license; see  third_party/emu2/LICENSE for the full text.</p><p> 第三个_party / emu2构成由dmsc @ github（和其他）编写的emu2 dos仿真器的副本。它根据GPL 2.0LICENSE的条款分发;查看全文的第三个_party / emu2 /许可证。</p><p> third_party/djlink contains a copy of the djlink 16-bit linker written by dj@delorie.com. It is distributed under the terms of the GPL 2.0 licesne; see third_party/djlink/copying for the full text, with additional grantsdescribed in  third_party/djlink/copying.dj.</p><p> 第三个_party / djlink包含dj@delorie.com编写的djlink 16位链接器的副本。它是根据GPL 2.0 Licesne的条款分发;有关全文，请参阅第三个_party / djlink /复制，其中包含额外的授予授予第三个_party / djlink / copying.dj。</p><p> third_party/musashi contains a copy of the Musashi 68000 emulation library,written by Karl Stenerud. It is distributable under the terms of the MITlicense; see  third_party/musashi/readme.txt for the full text. It also inturn contains a copy of John R. Hauser&#39;s softfloat library, distributable undera custom but MIT-like license; see  third_party/musashi/softfloat/README.txtfor the text.</p><p> 第三个_Party / Musashi包含由Karl Stenerud编写的Musashi 68000仿真库的副本。它可以根据弥留的条款分配;有关全文，请参见第三个_party / musashi / readme.txt。它还包含John R. Hauser＆＃39; S软空间库，可分配的底部的自定义但Mit牌照的副本;请参阅第三个_party / musashi / softfloat / readme.txtfor the text。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/davidgiven/cowgol">https://github.com/davidgiven/cowgol</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/编程/">#编程</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/托管/">#托管</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/ada/">#ada</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/编译器/">#编译器</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>