<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>TinyCheck：轻松捕获来自智能手机的网络通信 TinyCheck: Easily capture network communications coming from a smartphone</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">TinyCheck: Easily capture network communications coming from a smartphone<br/>TinyCheck：轻松捕获来自智能手机的网络通信 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-04 20:56:46</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/496fd1bf87a54dc24bae80f3c9375c28.jpeg"><img src="http://img2.diglog.com/img/2020/12/496fd1bf87a54dc24bae80f3c9375c28.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>TinyCheck allows you to easily capture network communications from a smartphone or any device which can be associated to a Wi-Fi access point in order to quickly analyze them. This can be used to check if any suspect or malicious communication is outgoing from a smartphone, by using heuristics or specific Indicators of Compromise (IoCs).</p><p>TinyCheck使您可以轻松地捕获来自智能手机或可与Wi-Fi接入点关联的任何设备的网络通信，以便对其进行快速分析。通过使用试探法或特定的危害指标（IoC），可用于检查是否有任何可疑或恶意通信从智能手机传出。</p><p>  In order to make it working, you need a computer with a Debian-like operating system and two Wi-Fi interfaces. The best choice is to use a  Raspberry Pi (3+) with a Wi-Fi dongle and a small touch screen. This tiny configuration (for less than $50) allows you to tap any Wi-Fi device, anywhere.</p><p>  为了使其正常运行，您需要一台具有Debian操作系统和两个Wi-Fi接口的计算机。最好的选择是使用带有Wi-Fi加密狗和小触摸屏的Raspberry Pi（3+）。这种微小的配置（不到50美元）使您可以在任何地方点击任何Wi-Fi设备。</p><p>  The idea of TinyCheck came to me in a meeting about stalkerware with a  French women&#39;s shelter. During this meeting we talked about how to easily detect easily  stalkerware without installing very technical apps nor doing forensic analysis on them. The initial concept was to develop a tiny kiosk device based on Raspberry Pi which can be used by non-tech people to test their smartphones against malicious communications issued by stalkerware or any spyware.</p><p>  TinyCheck的想法是在一次与法国妇女庇护所的跟踪器会议上出现的。在这次会议上，我们讨论了如何在不安装非常技术性的应用程序或不对其进行取证分析的情况下轻松检测跟踪器软件。最初的概念是开发一种基于Raspberry Pi的微型信息亭设备，非技术人员可以使用该设备来测试其智能手机是否受到跟踪软件或任何间谍软件发出的恶意通信的攻击。</p><p> Of course, TinyCheck can also be used to spot any malicious communications from cybercrime or state-sponsored implants. It allows the end-user to push his own extended Indicators of Compromise via a backend in order to detect some ghosts over the wire.</p><p> 当然，TinyCheck也可以用于发现来自网络犯罪或国家资助的植入程序的任何恶意通信。它允许最终用户通过后端推送自己的扩展的危害指示器，以检测线路上的一些虚影。</p><p>   Over a network - TinyCheck is installed on a network and can be accessed from a workstation via a browser.</p><p>   通过网络-TinyCheck安装在网络上，可以通过浏览器从工作站进行访问。</p><p> In kiosk mode - TinyCheck can be used as a kiosk to allow visitors to test their own devices.</p><p> 在信息亭模式下-TinyCheck可用作信息亭，以允许访问者测试自己的设备。</p><p>  Close all the opened applications  This to prevent some FP. Can be good also to disable background refresh for the messaging/dating/video/music apps.</p><p>  关闭所有打开的应用程序，以防止出现某些FP。也可以禁用消息传递/约会/视频/音乐应用程序的后台刷新。 </p><p> Connect your smartphone to the WiFi network generated by TinyCheck  Once connected to the Wi-Fi network, its advised to wait like 10-20 minutes.</p><p>将您的智能手机连接到TinyCheck生成的WiFi网络。一旦连接到Wi-Fi网络，建议等待10至20分钟。</p><p> Interact with your smartphone Send an SMS, make a call, take a photo, restart your phone - some implants might react to such events.</p><p> 与智能手机进行交互发送短信，打电话，拍照，重新启动手机-某些植入物可能会对此类事件做出反应。</p><p>   A backend: where the user can add his own extended IOCs, whitelist elements, edit the configuration etc.</p><p>   后端：用户可以在其中添加自己的扩展IOC，白名单元素，编辑配置等。</p><p> A frontend: where the user can analyze the communication of his device by creating an ephemeral WiFi AP.</p><p> 前端：用户可以通过创建临时WiFi AP来分析其设备的通信。</p><p> An analysis engine: used to analyze the pcap by using Zeek, Suricata, extended IOCs and heuristics.</p><p> 分析引擎：用于通过使用Zeek，Suricata，扩展的IOC和启发式方法分析pcap。</p><p> The backend and the frontend are quite similar. Both consist of a  VueJS application (sources stored under  /app/) and an API endpoint developed in  Flask (stored under  /server/). The data shared between the backend and the frontend are stored under the  config.yaml file for configuration and  tinycheck.sqlite3 database for the whitelist/IOCs.</p><p> 后端和前端非常相似。两者都由VueJS应用程序（源存储在/ app /下）和在Flask中开发的API端点（存储在/ server /下）组成。后端和前端之间共享的数据存储在用于配置的config.yaml文件下，用于白名单/ IOC的tinycheck.sqlite3数据库下。</p><p> It is worthy to note that not all configuration options are editable from the backend (such as default ports, Free certificates issuers etc.). Don&#39;t hesitate to take a look at the  config.yaml file to tweak some configuration options.</p><p> 值得注意的是，并非所有配置选项都可以从后端进行编辑（例如默认端口，免费证书颁发者等）。不要犹豫，看看config.yaml文件来调整一些配置选项。 </p><p>   Two working Wi-Fi interfaces (check their number with  ifconfig | grep wlan | wc -l).</p><p>两个有效的Wi-Fi接口（使用ifconfig | grep wlan | wc -l检查其编号）。</p><p>  By executing  install.sh, all the dependencies associated to the project will be installed and it can take several minutes depending of your internet speed. Four services are going to be created:</p><p>  通过执行install.sh，将安装与项目关联的所有依赖项，这可能需要几分钟的时间，具体取决于您的Internet速度。将创建四个服务：</p><p>    The frontend - which can be accessed from  http://tinycheck.local - is a kind of tunnel which help the user throughout the process of network capture and reporting. It allows the user to setup a Wi-Fi connection to an existing Wi-Fi network, create an ephemeral Wi-Fi network, capture the communications and show a report to the user... in less than one minute, 5 clicks and without any technical knowledge.</p><p>    可以从http：//tinycheck.local进行访问的前端是一种隧道，可以在整个网络捕获和报告过程中帮助用户。它允许用户建立与现有Wi-Fi网络的Wi-Fi连接，创建临时的Wi-Fi网络，捕获通信并向用户显示报告...不到一分钟，五次单击而无需任何技术知识。</p><p>   Once installed, you can connect yourself to the TinyCheck backend by browsing the URL  https://tinycheck.local and accepting the SSL self-signed certificate. The default credentials are  tinycheck /  tinycheck.</p><p>   安装后，您可以通过浏览URL https：//tinycheck.local并接受SSL自签名证书将自己连接到TinyCheck后端。默认凭据为tinycheck / tinycheck。</p><p>  The backend allows you to edit the configuration of TinyCheck, add extended IOCs and whitelisted elements in order to prevent false positives. Several IOCs are already provided such as few suricata rules, FreeDNS, Name servers, CIDRs known to host malicious servers and so on. In term of extended IOCs, this first version of TinyCheck includes:</p><p>  后端允许您编辑TinyCheck的配置，添加扩展的IOC和列入白名单的元素，以防止误报。已经提供了几种IOC，例如很少的suricata规则，FreeDNS，名称服务器，已知托管恶意服务器的CIDR等。就扩展的IOC而言，TinyCheck的第一个版本包括：</p><p>   The analysis engine is pretty straightforward. For this first version, the network communications are not analyzed in real time during the capture. The engine executes Zeek and Suricata against the previously saved network capture.  Zeek is a well-known network dissector which stores in several logs the captured session.</p><p>   分析引擎非常简单。对于此第一个版本，在捕获过程中不会实时分析网络通信。引擎针对先前保存的网络捕获执行Zeek和Suricata。 Zeek是一个著名的网络解剖器，它在多个日志中存储捕获的会话。</p><p> Once saved, these logs are analysed to find extended IOCs (listed above) or to match heuristics rules (which can be deactivated through the backend). The heuristics rules are hardcoded in  zeekengine.py, and they are listed below. As only one device is analyzed at a time, there is a low probability to see heuristic alerts leveraged.</p><p> 保存后，将对这些日志进行分析，以查找扩展的IOC（在上面列出）或与启发式规则匹配（可通过后端停用）。启发式规则在zeekengine.py中进行了硬编码，并在下面列出。由于一次仅分析一台设备，因此利用启发式警报的可能性很小。 </p><p>  On the  Suricata part, the network capture is analysed against suricata rules saved as IOCs. Few rules are dynamics such as:</p><p>在Suricata部分，将根据保存为IOC的suricata规则分析网络捕获。很少有规则是动态的，例如：</p><p>   In order to keep IOCs and whitelist updated constantly, TinyCheck integrates something called &#34;watchers&#34;. It is a very simple service with few lines of Python which grabs new formated IOCs or whitelist elements from public URLs. As of today, TinyCheck integrates two urls, one for the whitelist and one for the IOCs (The formated files are present in the assets folder).</p><p>   为了使IOC和白名单不断更新，TinyCheck集成了称为“观察者”的东西。这是一项非常简单的服务，只有几行Python，可以从公共URL中获取新格式的IOC或白名单元素。到目前为止，TinyCheck集成了两个URL，一个用于白名单，一个用于IOC（格式化的文件位于Assets文件夹中）。</p><p> If you have seen something very suspicious and/or needs to be investigated/integrated in one of these two lists, don&#39;t hesitate to ping us. You can also do you own watcher. Remember, sharing is caring.</p><p> 如果您发现非常可疑的内容和/或需要调查/将其整合到这两个列表之一中，请随时联系我们。您也可以拥有自己的观察者。记住，共享是关怀。</p><p>  Your project seem very cool, does it send data to Kaspersky or any telemetry server?  No, at all. You can look to the sources, the only data sent by TinyCheck is an HTTP GET request to a website that you can specify in the config, as well as the watchers URLs. Kaspersky don&#39;t - and will not - receive any telemetry from your TinyCheck device.   Can you list some hardware which can be used with this project (touch screen, wifi dongle etc.)?  Unfortunately, we prefer to not promote any hardware/constructor/website on this page. Do not hesitate to contact us if you want specific references.    I&#39;m not very confortable with the concept of &#34;watchers&#34; as the IOCs downloaded are public. Do you plan to develop a server to centralize AMBER/RED IOCs?  Yes, if the demand is felt by NGOs (contact us!). Is it possible to develop this kind of thing, allowing you to centralize your IOCs and managing your fleet of TinyCheck instances on a server that you host. The server can also embed better detection rules thanks to the telemetry that it will receive from devices.</p><p>  您的项目看起来很酷，它是否将数据发送到卡巴斯基或任何遥测服务器？一点也不。您可以查看源，TinyCheck发送的唯一数据是对您可以在配置中指定的网站的HTTP GET请求以及观察者URL。卡巴斯基不会-也不会-从您的TinyCheck设备接收任何遥测信息。您能否列出一些可用于该项目的硬件（触摸屏，wifi加密狗等）？不幸的是，我们不希望在此页面上推广任何硬件/构造函数/网站。如果您需要特定的参考，请随时与我们联系。我对“观察者”的概念不太满意。因为下载的IOC是公开的。您是否打算开发一个服务器来集中AMBER / RED IOC？是的，如果非政府组织有需求（请与我们联系！）。是否有可能开发这种东西，从而使您可以集中化IOC并在托管服务器上管理TinyCheck实例队列。由于从设备接收的遥测，服务器还可以嵌入更好的检测规则。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/KasperskyLab/TinyCheck">https://github.com/KasperskyLab/TinyCheck</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/来自/">#来自</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/easily/">#easily</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/tinycheck/">#tinycheck</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1037472.html"><img src="http://img2.diglog.com/img/2020/12/thumb_3e02ff3b614edf8bf3450c9588e64834.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037472.html">我的手机在监视我，所以我追踪了监视者 </a></div><span class="my_story_list_date">2020-12-4 20:41</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037274.html"><img src="http://img2.diglog.com/img/2020/11/thumb_fb1ef8ea052c755a68a3f70d5e41ae9d.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037274.html">E基金会–非Google的非Google智能手机操作系统和在线服务</a></div><span class="my_story_list_date">2020-11-30 21:52</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037128.html"><img src="http://img2.diglog.com/img/2020/11/thumb_5ef0d4571a7b39043b19a92b1be659f7.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037128.html">最近的一项调查显示，大流行病加剧了印度的数字教育鸿沟，在印度，有学生的家庭中约有38％的家庭没有智能手机。</a></div><span class="my_story_list_date">2020-11-29 20:12</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037035.html"><img src="http://img2.diglog.com/img/2020/11/thumb_daa682b64018a66f3acced6b4d45ccad.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037035.html">售价200美元的Hacker无线电设备可以创建鬼飞机，手机和克隆车库遥控器。</a></div><span class="my_story_list_date">2020-11-29 2:22</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>