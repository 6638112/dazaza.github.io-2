<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ARM / Raspberry Pi上的NixOS </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">ARM / Raspberry Pi上的NixOS </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-26 05:35:18</div><div class="page_narrow text-break page_content"><p>Raspberry Pi系列设备是由Raspberry Pi Foundation制造的一系列单板计算机。它们都基于Broadcom片上系统（SOC）。</p><p>    NixOS不支持Raspberry Pi 4B，尽管会生成特定于它的beta质量的磁盘映像。一旦主线内核和主线U-Boot通过通用主线映像启动，它将获得与Pi 3家族相同的支持。</p><p> 其他Raspberry Pi（0、1和2）是向ARMv6和ARMv7移植的各种社区的一部分。</p><p> 除了Raspberry Pi 1系列以外，所使用的Linux内核是主线Linux内核，而不是Raspberry Pi Foundation的分支。这可能会降低与某些附加板或第三方库的兼容性[需要更多的说明]。</p><p> 下表旨在由NixOS贡献者使用板的当前状态进行更新。有关产品列表，请参阅产品档案。</p><p>    Raspberry Pi 3系列仅支持作为AArch64。社区支持将其用作armv7。</p><p>  首先，按照常规安装步骤获取安装程序映像，然后使用安装和配置步骤进行安装。 </p><p>您的configuration.nix需要将console = ttyS1,115200n8添加到boot.kernelParams配置中才能使用串行控制台。</p><p>    如果使用Raspberry Pi下游内核，则将串行接口命名为serial0。</p><p>  根据所使用的体系结构，二进制缓存的可用性会有所不同。二进制缓存指令位于ARM主页上的NixOS主页面上。下表描述了每个主板支持的架构。</p><p>   自定义引导程序是Raspberry Pi固件的一部分，通过使其引导U-Boot而被抽象为NixOS。</p><p> 除了将引导文件存储在主分区而不是固件分区上之外，U-Boot还使我们能够在引导过程中提供一个生成选择菜单。</p><p>  尽管已经报告了一些问题，但USB键盘和HDMI显示器应该可以工作（请参阅下面的疑难解答）。</p><p> 通过引脚接头使用3.3v串行端口（具体位置取决于硬件版本）将获得u-boot输出，并且在配置后还会获得Linux内核控制台。 </p><p>特别是对于较耗电的Raspberry Pi系列（3、4），重要的是要有足够的电源，否则可能会发生怪异现象。 怪异可能包括：  这个问题是一个难题。 这是由Raspberry Pi关于电源问题的警告引起的，但是当前的驱动程序（从Linux 4.14开始）很难正确处理。 如果电源的额定值正确并且电缆不会造成太多的功率损耗，则可能需要禁用雷电指示器，以便不会弄乱显示驱动器。 [1]可以通过在config.txt中添加行prevent_warnings = 1来禁用闪电指示器[2]  注意：必须使用正确额定的USB电源和良好的电缆。 电缆必须足够短，以免引起整个长度的功率损耗。 请注意，细而便宜的电缆通常会使用较细的铜线，这反过来会加剧功率损耗。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi">https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/raspberry/">#raspberry</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/arm/">#arm</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1040888.html"><img src="http://img2.diglog.com/img/2020/12/thumb_1d2deabe8cd65c50686d7ad1c9150f71.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1040888.html">设置Raspberry Pi Metro Detector </a></div><span class="my_story_list_date">2020-12-20 23:13</span></div><div class="col-sm"><div><a target="_blank" href="/story/1040746.html"><img src="http://img2.diglog.com/img/2020/12/thumb_8d8c4a6c7e24d4add07aad323a93be5c.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1040746.html">随着2020年世界的平静，Raspberry Shakes倾听了 </a></div><span class="my_story_list_date">2020-12-19 23:49</span></div><div class="col-sm"><div><a target="_blank" href="/story/1040299.html"><img src="http://img2.diglog.com/img/2020/12/thumb_8d8c4a6c7e24d4add07aad323a93be5c.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1040299.html">随着2020年世界的平静，Raspberry Shakes倾听了 </a></div><span class="my_story_list_date">2020-12-17 20:22</span></div><div class="col-sm"><div><a target="_blank" href="/story/1036496.html"><img src="http://img2.diglog.com/img/2020/11/thumb_ee858aa9773a5b0908287f634f9d8a8f.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1036496.html">Raspberry Pi 4 V3DV图形驱动程序实现了Vulkan 1.0的一致性</a></div><span class="my_story_list_date">2020-11-25 16:40</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>