<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ReScript 8.4 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">ReScript 8.4 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-15 07:50:29</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/4cc13774d5351270854f91611ae96a6b.png"><img src="http://img2.diglog.com/img/2020/12/4cc13774d5351270854f91611ae96a6b.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>ReScript是一种声音类型丰富的语言，具有针对JS平台的优化编译器，它专注于类型安全性，性能和JS互操作性。它曾经被称为BuckleScript。</p><p>      大约在四年前作为构建系统引入时，我们假设依赖项是不可变的，因此，在第一次构建依赖项时，我们就不再需要对其进行重新构建。当假设不成立时，的完整性将被破坏。</p><p> 在此版本中，我们修复了允许用户更改依赖项的完整性。此修复程序很好地实现了不进行此类修改的人员不会为此付费的目的。</p><p> 这是基于用户反馈的最高期望功能请求之一，因此我们将在此处扩展一些为什么在不牺牲性能的情况下很难实现的请求。</p><p> 在ReScript编译方案中，将软件包的依赖项视为黑盒，依赖项的更改应是可传递的。这是由于我们具有跨模块优化功能，并且二进制接口本身是其依赖项的哈希。因此，对于包依赖项链： B-＆gt; C，如果A更改而B不变，则C仍需要重建。由于B的中间输出可能仍会由于A的更改而发生变化。更糟糕的是，每个软件包都附带一个安装过程，该过程是一个Shell脚本，因此重新安装将使程序包看起来像刚构建的。</p><p> 在此发行版中，我们还跟踪构建图中的安装，并计算依赖项安装的哈希值，并将其放入用于构建二进制工件的依赖项命令行标志中。这样的策略在以下方面有好处：</p><p> 安装散列的计算几乎是免费的，因为它只是一个统计信息，我们不需要跟踪所有依赖项。文物。 </p><p>此类哈希的引入不会出现在解析中，因此依赖项的更改将永远不会触发重新解析。</p><p> 打包安装完成后，将断开传递重建图，以便我们可以节省一些不必要的重建。</p><p> 当人们对依赖关系进行更改时，如果此类更改不更改包接口，它将不会触发其依赖关系的建立。</p><p>  为了更加实用，我们还引入了一个新概念：。通常，包分为三类：</p><p>  以前，我们只有和，通过引入，这样的软件包将像软件包一样被构建。</p><p> 用法非常简单，请添加到顶级包中。请注意，此类字段仅在顶级配置中才有意义。</p><p>  当人们删除或重命名脚本文件时，它将引入陈旧的输出，例如，重命名将带来（以及更多中间输出）陈旧。这比听起来要糟，假设您有一个隐藏在stdlib列表中的本地对象。现在我们将其删除，它将引入陈旧的文件，而没有适当地删除此类过时的文件，此类陈旧的文件将破坏构建的完整性。 </p><p>在此版本中，我们引入了一种更强大的算法，该算法将始终在构建之前删除过时的输出，以免破坏此类完整性。  最后但并非最不重要的一点是，我们将继续提高生成的输出的可读性和可调试性：） </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://rescript-lang.org/blog/bucklescript-release-8-4">https://rescript-lang.org/blog/bucklescript-release-8-4</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/rescript/">#rescript</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/依赖/">#依赖</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>