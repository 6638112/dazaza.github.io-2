<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>关于英特尔软件定义硅的思考</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">关于英特尔软件定义硅的思考</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2022-02-20 18:14:29</div><div class="page_narrow text-break page_content"><p>LWN订户已向您提供以下仅限订阅的内容。成千上万的订阅者依靠LWN从Linux和自由软件社区获得最好的消息。如果您喜欢这篇文章，请考虑订阅LWN。感谢您访问LWN。网</p><p>人们被自由软件吸引的原因有很多，包括价格、整体质量、社区支持和可用功能。但是，对我们许多人来说，自由软件的价值在于它能够让我们真正拥有并保持对系统的控制。免费软件中的反功能往往不会持续很长时间，免费驱动程序通常可以解锁其供应商可能认为不适合提供的硬件功能。英特尔&#39；惊喜&#34；软件定义的硅&#34；（SDSi）机制可能会通过剥夺任何未支付必要费用的人对硬件功能的访问权来减少这种控制。SDSi是一个&#34；特点&#34；这有望出现在upcomingIntel处理器中。其目的是在没有英特尔证书的情况下禁用对特定处理器能力的访问。正如David Box提供的启动补丁所表明的，该机制本身的接口相对简单。它在busthat上显示为一个设备，提供了几个操作：安装一个&#34；认证密钥证书&#34；或a&#34；能力激活有效载荷&#34；。证书用于验证任何请求以启用功能，而有效负载包含这些请求本身。除非该设备已被用于存储可接受的证书和有效载荷，否则其控制的功能将对该CPU上运行的软件不可用。SDSi硬件还维护两个计数器，用于跟踪加载证书或启用功能的失败尝试次数。如果其中一个计数器超过阈值，该机制将被完全禁用；唯一的办法是重启处理器。据推测，这里的意图是挫败针对SDSi守门员的暴力攻击企图。英特尔非常清楚这一新机制背后的目的。SDSI将使CPU的装运具有用户可能感兴趣的功能，但除非进行额外付款，否则这些功能将不可用。所有装运的CPU上都会有严格的功能，但客户可能认为自己拥有昂贵的处理器，如果不向供应商支付额外费用（可能是经常性的），他们将无法充分利用自己的系统。英特尔的好处显而易见。该公司可以对客户进行价格差异化，试图从中获取最大收益，同时减少其目录中必须携带的不同硬件产品的数量。一旦购买了CPU，处理器的收入流不一定会停止，而且可能会无限期地持续下去。对客户的好处还不太清楚。理论上，需求最少的客户可以避免购买他们不需要的昂贵功能；不使用和可以&#34；升级&#34；如果他们的需求发生变化，他们的硬件不会停机。还不清楚英特尔打算以这种方式控制哪些功能。你可以想象各种各样的事情，包括访问大量内存的能力、更高的时钟频率、额外的CPU、专门的指令，或机器学习等工作负载的加速器。到了极致（该公司大概不会这么做，尽管人们永远不知道Sanymore），现成的处理器可能无法运行比&#34；你好世界&#34；直到购买了其他许可证。曾经有一段时间，浮点处理器是一个附加单元；也许我们会再次发现自己在那里。当然，这种商业模式并不新鲜；关于早期基础设施的故事比比皆是，可能是&#34；升级版&#34；通过改变一个跳线。特斯拉汽车包括许多功能，包括基本功能，如使用电池的全容量，只有在支付额外费用的情况下才能工作；目前没有足够的报道称，该公司将在转售其一辆汽车时禁用这些功能。汽车制造商显然想将这一想法扩展到，例如，要求付费购买加热座椅。不管怎样，加热元件都存在于座椅中，制造商将其出售给买方，但买方仍然没有真正拥有它们。基于租金的商业模式已经在科技行业传播了一段时间。我们中的许多人不再购买和运行自己的服务器；我们从云服务提供商那里租下它们（说实话，他们的境况通常会更好）。仍在从事专有软件业务的公司发现，每月订阅模式比单纯销售软件许可证更具吸引力。当然，也有一些狡猾的网站要求支付访问其内容的费用。但是，对于已经购买的硬件来说，问题似乎更严重，客户可能认为他们可以正确地充分利用所述硬件。我们的自由软件本应支持这种使用，但却发现自己沦为向硬件申请使用可用功能的许可。这是对我们的系统失去控制，又一套秘密隐藏在我们的计算硬件中，受到反规避法律的保护；如果这种方法在商业上取得成功，我们肯定会看到更多。很难找到摆脱这种局面的办法，而不是&#39；我们不需要像对待软件那样让硬件免费。也许有一天，我们可以订购免费设计的处理器，至少可以希望结果会是故意的反功能。但这不是我们现在生活的世界，它&#39；It’不清楚我们是否能很快到达那里。与此同时，SDSi肯定会进入Linux；维修人员Hans de Goede表示，这项工作将于5.18合并。没有一大堆反对接受SDSIDRIVE的理由；它只是启用了与即将推出的CPU打包的另一项功能。内核社区还没有做出判断它是否喜欢&#34；特点&#34；在接受驱动程序支持之前由特定的外围设备提供，现在就开始很难证明是合理的。所以Linux内核将与支持SDSi的CPU配合使用；这将取决于客户决定他们是否想要变得同样讨人喜欢。（登录发表评论）</p><p>杰巴于2022年2月18日17:53 UTC（星期五）发布（✭ 支持者✭, #4439[链接]</p><p>如果红帽（或任何人）没有&#39；不要将其添加到Linux内核中，会不会&#39；英特尔要做到这一点难道不是更难吗？如果是的话，为什么还要加上呢？</p><p>杰巴于2022年2月18日18:32 UTC（星期五）发布（✭ 支持者✭, #4439[链接]</p><p>是的，我刚刚提到红帽，因为他们在链接中。不管是谁写的，Linux开发者肯定会拒绝它。他们没有义务添加它。如果他们这样做，似乎会大大削弱英特尔&#39；这是攻击。</p><p>我怀疑，AMD和ARM不这么做，再加上用户懒得租用英特尔试图剥离的任何东西，将扼杀这一切。这有一种气味，在几年后英特尔结束它的生命时，它会出现在科技新闻中，因为它没有为自己买单的前景。</p><p>事实上，英特尔已经尝试过一次：https://en.wikipedia.org/wiki/Intel_Upgrade_Service然而，我认为&#39；It’现在工作的可能性要大得多，尤其是在企业领域。那里的处理器已经高度细分，有几十个SKU，它们只在工厂熔断的保险丝上有所不同。从这个意义上说，这对企业客户来说是一个真正的好处，因为他们可能需要订购和库存更少的CPU变体。当然，问题是，从长远来看，虽然可以生产的分段SKU数量有上限，但功能切换没有这样的限制。</p><p>我已经避免使用英特尔芯片了，因为它们需要付费。我的NAS运行在AMD有史以来最便宜（也是最节能）的CPU之一上，但它&#39；它与我的ZFS ARC的ECC RAM完全堆叠在一起。</p><p>2022年2月19日10:16 UTC（Sat）由pbonzini发布（✭ 支持者✭, #60935）[链接]</p><p>我的乐观主义者认为，这可能只针对云供应商，他们一次租用一台机器的一个子集，也可能为稍微不同的实例类型租用同一台机器。许多指令集扩展可以对CPUID隐藏，但仍然存在于处理器中。然后，不同的实例类型可以使用SDSi来真正启用一组不同的功能，而不仅仅是在CPUID中。</p><p>红帽现在不可能拒绝这么做，他们属于IBM，IBM已经在实践这一点。即使社区中的每个人都拒绝添加补丁，英特尔也会将补丁添加到自己的内核中，并要求使用该内核。就像英伟达为自己的硬件所做的那样。自由软件意味着在叉子上添加反功能是便宜的（尤其是如果它们是独立的）。</p><p>杰巴于2022年2月19日22:52 UTC（Sat）发布（✭ 支持者✭, #4439[链接]</p><p>但是他们&#39；我不得不为那个CPU系列维护自己的分叉。那里&#39；那里的开销很大。</p><p>据我父亲说，IBM大型机升级（至少在他的公司的大型机上）涉及一把操作旋转开关的物理（门锁式）钥匙。显然有很多布鲁斯兄弟式的盛宴；升级过程中涉及的情况（一名IBM技术人员戴着手铐的公文包，升级团队中有许多IBM人员等等）。他的理解是，出于法律原因，他们对此事大肆渲染。在需要钥匙和所有仪式之间，顾客不可能声称他们没有&#39；我没意识到他们不能&#39；Don’不要只是免费合上一件毛衣。如果硬件运行更困难，并且在保修期内更容易出现故障，我可以看到这样做的理由，如果（例如）他们收费让你危险地超频，但仍然会遵守保修。但这看起来确实像另一个#34；人们问的钱我们还能从哪里提取租金&#34; 情况现在，如果你可以付钱让他们获得对IME的root访问权限，这样你就可以正确地保护机器，那完全是另一回事了。</p><p>杰巴于2022年2月18日18:59 UTC（星期五）发布（✭ 支持者✭, #4439[链接]</p><p>&gt；现在，如果你可以付钱让他们获得对IME的root访问权限，这样你就可以正确地保护机器，那完全是另一回事了。这对一些客户是可用的，但不是一般公众。一些人已经做了很多工作来试图消除它：</p><p>在大型机上，它们通常被称为&#39；鼻涕虫&#39；，因为他们基本上降低了机器的运行速度，因此需要支付额外的费用（即使是在短期内）。</p><p>也许这&#39；特色&#39；是为摩尔的最后几次决斗做准备&#39；这是法律。如果可以&#39；t继续销售有意义的升级，尽早分阶段采用订阅模式似乎是最佳选择。如果改进速度持续放缓，那么最终将i3升级为i5的软件成本将低于购买每一两年推出的5%更好、更新的i3。这&#39；这对英特尔来说太棒了，因为英特尔现在的业务是向用户销售升级，同时节省整个芯片的成本。</p><p>考虑到AMD已经占据了巨大的市场份额，并迫使英特尔再次开始每年提供两位数的性能改进，这对他们来说是非常糟糕的时机。</p><p>没什么新鲜事可担心。英特尔&#39；自从引入超线程技术以来，它就以通过固件和微码锁定破坏CPU和芯片组而闻名。他们唯一的事&#39；在这里，我们的做法有所不同，这是在操作系统上卸下实现负担，并使用现有的ucode加密电路来完全取消修复的权利。也许他们&#39；你觉得受到coreboot的威胁吗？另一件事他们&#39；我们无意中承认，他们的芯片几乎不值基本型号的售价，其他一切都是纯粹的倒卖。这也是公共知识，但它&#39；很高兴从马上看到它#39；他的嘴。</p><p>而我能&#39；不要说我赞成英特尔公司；s的商业模式，我也可以&#39；不要说这是一个准确的断言：&gt；另一件事他们&#39；我们无意中承认，他们的芯片几乎不值基本型号的售价，其他一切都是纯粹的倒卖。有可能（我没有运行这些数字）他们运行的是&#34；机票风格&#34；商业模式，其中：1。便宜的座位在座位里程的基础上几乎没有盈亏平衡，如果包括非运营费用，甚至可能会赔钱。2.商务舱座位是主要的利润中心，因为你可以以合理的价格向商务旅客出售相当数量的座位，并从中获得可观的利润。3.头等舱座位基本上是&#34；奖金利润#34；适用于愿意为优质服务支付额外费用的客户。一些航空公司没有&#39；我甚至不能坐头等舱，也不能和商务舱合并。如果航空公司有选择的话，他们会用商务舱座位填满整架飞机。但他们可以&#39；我们不能以公务舱的价格出售足够多的公务舱座位，除非他们使用规模较小的飞机，规模经济性较差，价格进一步上涨，等等。那么，经济舱座位的目的是尽可能少地赔钱，如果经济允许的话，可能会获得少量利润。坐商务舱的人实际上是为乘坐飞机买单的人，尽管他们的座位在运营费用方面对航空公司来说只稍微贵一点。*问题是，硅市场固有的规模经济最终是否会像航空市场那样发挥作用。我非常有兴趣看到关于这一点的硬数据。*在一个正常经营的企业中，机会成本通常应该是低的或负的。正机会成本表明资源分配不当。所以如果你想量化&#34；成本#34；对于供应商的商品或服务，你可能指的是会计成本，而不是机会成本。</p><p>发表于2022年2月18日23:48 UTC（星期五）由Cyberax（✭ 支持者✭, #52523[链接]</p><p>问题是，更大的模具应该更昂贵。所以事实上，你可以把满载的模具作为&#34；经济&#34；SKU意味着你没有&#39；不要让竞争对手在价格或功能上比你低。直到大约5年前，服务器上的英特尔就是这样。</p><p>&gt；所以事实上，你可以把满载的模具作为&#34；经济&#34；SKU意味着你没有&#39；不要让竞争对手在价格或功能上比你低。不。你忘记了房间里的大象：一套光刻掩模的价格和这些掩模的设计成本。制作一套口罩需要花费数百万美元（单数百万）。但是，对于相对较小的芯片，开发全新的定价可能会达到1亿美元，我不会&#39；AMD/nVidia/Intel这样的怪兽正在生产，它们可以达到10亿美元甚至更多，这一点并不令人惊讶。</p><p>当非经常性成本如此之高时，生产注定要被禁用的晶体管可能是有意义的，而且它仍然比生产许多物理上不同的SKU便宜。</p><p>&gt；这些天？这看起来很愚蠢。不。随着开发价格越来越高，未使用硅酮的相对成本越来越低，越来越多的公司希望这样做。</p><p>我不&#39；我不知道你坐在什么样的岩石下，但只要回忆起那无休止的禁用/启用AVX512传奇：显然它&#39；对于英特尔来说，使用已经准备好的掩码，只需在固件中禁用AVX512，而不是重做生产过程，这样更便宜！</p><p>不久前，我有一款3核AMD（刚刚报废），我知道很多这样的芯片实际上是4核的，核心被禁用。尤其是在一种新的设计中，如果这些东西可以通过熔断保险丝来禁用，那么只需禁用那些无法通过QA的东西，并以更低的价格销售由此产生的芯片，肯定是有意义的。</p><p>当硅被破坏，并且已经常规用于时钟速度或（在嵌入式领域）芯片闪存时，这在经济上是有意义的。廉价出售工作正常的CPU，然后收取&#34；升级&#34；是一种稍有不同的鱼，坦率地说，我可以&#39；除了&#34；唐&#39；I don’我不喜欢它，如果不使用带有这种反功能的CPU，会有一些麻烦；。</p><p>&gt；当硅被破坏，并且已经常规用于时钟速度或（在嵌入式领域）芯片闪存时，这在经济上是有意义的。除了它不是&#39；我没坏。大多数售出的芯片都有功能完善的附加核心，你可以启用它们（回到只需要一支铅笔就可以启用的时候）。而我&#39；我确信今天出售的Ryzen 5 5600X的大多数实际上也有8个工作内核。他们为所有4个核心设计了功能齐全的32MB缓存，如果你的方法是他们存在的原因，那么我们会有一些版本的Ryzen，减少缓存，并启用所有8个核心。没有什么是这样的，因为它没有&#39；没有任何经济意义：你不能&#39；我不能把这些放在Ryzen 5 5600X和Ryzen 7 5800X之间。他们将是Ryzen 5 5600X的古怪表亲，这只会让买家感到困惑。</p><p>&gt；廉价出售工作正常的CPU，然后收取&#34；升级&#34；是一种稍有不同的鱼。它&#39；只是现在你不能&#39；I don’我不卖一小部分实际上有缺陷的芯片。但要管理的SKU更少。</p><p>我&#39；我不确定它是否有效，但它在经济上是完全合理的。</p><p>&gt；唐&#39；I don’我不喜欢它，如果不使用带有这种反功能的CPU，我会很费劲的。是的，那&#39；这就是阻止这些激励的原因。公关反弹。但作为R&amp；CPU价格上涨，未使用的硅胶价格下降，转向这种型号的动机变得越来越强烈。</p><p>实际上，暗硅的问题几乎保证了这种模式最终会成为常态。</p><p>当你不能&#39；t为芯片上的所有晶体管同时供电由于热的原因，在功能A、B和C之间进行选择的能力（其中任何一个都可以启用，但不能同时全部启用）使得这种方案非常有吸引力。你不能&#39；我们不能用数以百万计的SKU实现这一点，但可以用数以百万计的[潜在]许可证轻松实现。</p><p>在这种情况下，在没有许可证的情况下启用功能的能力将变得非常有害：同时启用所有功能只会让芯片崩溃，在保修服务中很难证明这是因为客户不负责任，而不是因为客户&#39；这是误用。</p><p>追溯到很多年前，微码在处理器上运行，速度在千赫范围内。。。50系列PR1ME实际上附带了一个微码更新，如果你在其上运行信息（又名Pick），它添加了一系列专门为处理字符串而优化的指令，以提高数据库的效率。</p><p>&gt；在没有许可证的情况下启用功能会变得非常有害：同时启用所有功能只会让芯片崩溃，在保修服务中很难证明这是因为客户不负责任，而不是因为客户&#39；这是误用。当然，这种情况可以在硬件中处理，只需在</p><p>......</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/英特尔/">#英特尔</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/intel/">#intel</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/可能/">#可能</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>