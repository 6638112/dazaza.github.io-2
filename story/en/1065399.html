<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>制作隐形胶水代码一流 Making invisible glue code first-class</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Making invisible glue code first-class<br/>制作隐形胶水代码一流 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-13 04:30:25</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/6/a0dad8589f45a83fd0632eaee6648a7b.jpeg"><img src="http://img2.diglog.com/img/2021/6/a0dad8589f45a83fd0632eaee6648a7b.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>&#34;Software seems &#39;large&#39; and &#39;complicated&#39; for what it does&#34;. I keep coming back to this  quote by Alan Kay. The same feeling has been nagging me pretty me much ever since I started writing software. On the one hand, there is the magic, almost literally:we write some text (spells) and the machine does things in the real world. On the other hand, it seems just way too much work to make the machine do anything more complex than:  Almost like threading a needle with boxing gloves. And that&#39;s even if we are careful, if we avoid unnecessary complexity. And the numbers appear to back that up, Alan Kay mentions Microsoft office at several hundred million lines of code. From my personal experience,the Wunderlist iOS client was not quite 200 KLOC. For the latter, I can attest to the attention given by the team to  not introduceunnecessary bloat, and even to actively reduce it. (For example, we cut our core code by around 30KLOC thanks to some of the architecturalmechanisms such as  Storage Combinators).I am fairly sure I am not the only one with this experience. hexagonal architecture has enabled me to extract the business logic in the product i’m building and currently it’s less than 5% of all code</p><p>＆＃34;软件似乎＆＃39;大＆＃39;和＃39;复杂＆＃39;它做了什么＆＃34;我一直返回艾伦凯的这句话。自从我开始写作软件以来，同样的感觉一直在唠叨我很多。一方面，有魔法，几乎字面意思：我们写一些文字（法术），机器在现实世界中做的事情。另一方面，似乎是制造机器更复杂的东西的方式太多了：几乎就像用拳击手套穿针。如果我们避免不必要的复杂性，即使我们要小心，也是如此。这些数字似乎回到了上面，alan kay提法微软办公室在几亿行代码。从我的个人经历来看，Wunderlist IOS客户不是200克洛夫。对于后者来说，我可以证明团队提出的注意力不要引进臃肿，甚至积极减少它。 （例如，由于诸如存储组合者等一些建筑机制，我们将核心代码缩短了大约30kloc）。我相当确定我不是唯一一个拥有这种体验的机构。六角形架构使我能够在我构建的产品中提取商业逻辑，目前它的代码占少于5％</p><p>— 3. life out of balance (@infinitary)  November 25, 2017</p><p> -  3. 2017年11月25日的余额（@Infinitic）</p><p> So why so much code? After all Wunderlist was just a To Do List, albeit a really nice one. I can&#39;t really say much about Office, I don&#39;tthink anyone can, because 400 MLOC is just way too much code to comprehend. I think the answer is: Glue Code. It&#39;s the unglamorous, invisible code that connects two pieces of software, makes sure that data that&#39;s in location A reaches location Bunscathed (from the datbase to the UI, from the UI to the model, from the model to the backend and so on...). And like Dark Matter, itis invisible and  massive. Why do I say it is &#34;invisible&#34;? After all, the code is right there, isn&#39;t it? As far as I can tell, there are several related reasons: Glue code is deemed not important. It&#39;s just a couple of lines here, and another couple of lines over there ... and soon enough you&#39;re talking real MLOCs!</p><p> 那么为什么这么多的代码？毕竟Wunderlist只是一个待办事项单，虽然是一个非常好的。我可以＆＃39; t真的对办公室说了很多关于办公室，我不会＆＃39; tthink任何人都可以，因为400 mloc就像太多的代码来理解。我认为答案是：胶水代码。它＆＃39; s连接两件软件的Unglamor游戏不可见的代码，确保数据中的数据达到位置a，从模型中到达位置Buncathed（从DATBase到UI，从模型到模型。到后端等......）。和暗物质，ITIS看不见和巨大。为什么我说它是＆＃34;看不见的＆＃34 ;?毕竟，代码就在那里，ISN＆＃39; t呢？据我所知，有几个相关原因：胶水代码被认为不重要。它＆＃39;在这里只有几条线，还有其他一条线路......很快就足够了你和＃39; re谈论真正的mlocs！</p><p> We cannot directly express glue code. Most of our languages are what I call &#34;DSLs for Algorithms&#34; (See  ALGOL, the ALGOrithmic Language), so glue can not be expressed intentionally, but only by describing algorithms for implementing the glue.</p><p> 我们不能直接表达胶水代码。大多数语言都是我所说的＆＃34;算法的DSL和＃34; （参见藻类，算法语言），所以胶水不能故意表达，而是仅通过描述用于实现胶水的算法。</p><p>That&#39;s why it is invisible, and also partly why it is massive: not being able to express it directly means we cannot abstract and encapsulate it, we keep repeating slight variations of that glue. There is another reason why it&#39;s massive: Glue is quadratic. If you have N features that interact with each other, you have O(N²) pieces of glue to get them to talk to each other.</p><p>它为什么是隐形的为什么，也是为什么它是巨大的：无法直接表达它意味着我们不能抽象和封装它，我们不断重复胶水的轻微变化。它有另一个原因＆＃39; s大规模：胶水是二次的。如果您有n个功能彼此交互，则您可以获得o（n²）胶水，以使它们彼此交谈。</p><p> This last point was illustrated quite nicely by Kevin Greer in a video comparing Multics and Unix development, with the crucial insightbeing that you need to &#34;program the perimeter, not the area&#34;: For him, the key difference is that Unix had the pipe, and I would agree. The pipe is one-character glue: &#34;|&#34;. This is absolutely crucial. If you have to write even a little custom code every time you connect two modules, you will be in quadratic complexity, meaning thatas your features grow your glue code  will overwhelm the core functionality. And you will only notice this when it&#39;s far too late to do anything about it, because the initial growth rate will be low. So what can we do about it? I think we need to make glue first class so we can actually write down the glue itself, and not the algorithms that implementthe glue. Once we have that, we can and hopefully will create better kinds of glue, ones like the Unix pipe in that they can connect components generically, without requiring custom glue per component pair.</p><p> 凯文格里尔在视频比较的视频比较和UNIX开发中的历史思想中展示了最后一点，这是你需要的关键的Insightbeing;编程周边，而不是区域＆＃34;对于他来说，关键差异是Unix有管子，我会同意。管道是一个字符的胶水：＆＃34; |＆＃34;这绝对至关重要。如果您必须在每次连接两个模块时编写一点自定义代码，那么您将处于二次复杂性，这意味着您的功能会使您的胶水代码将压倒核心功能。而且你将只注意到这一点＆＃39;为此做出任何事情，因为初始增长率将会很低。那么我们能做些什么呢？我认为我们需要粘合胶水，所以我们实际上可以写下胶水本身，而不是实现胶水的算法。一旦我们有的话，我们可以并希望能够创造更好的胶水，像UNIX管道一样，他们可以在一起，经过一般连接组件，而无需每个组件对的自定义胶水。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.metaobject.com/2021/06/glue-dark-matter-of-software.html?m=1">https://blog.metaobject.com/2021/06/glue-dark-matter-of-software.html?m=1</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/代码/">#代码</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/隐形/">#隐形</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/invisible/">#invisible</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/胶水/">#胶水</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>