<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>太阳风通过duo akey（Outlook Web Access服务器）绕过2因素身份验证而被黑客入侵 Solarwinds hacked by bypassing 2factor auth via duo akey (OutlookWebAccess servr</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Solarwinds hacked by bypassing 2factor auth via duo akey (OutlookWebAccess servr<br/>太阳风通过duo akey（Outlook Web Access服务器）绕过2因素身份验证而被黑客入侵 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-15 15:09:12</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/c0a266e0bff90855b66e516c750b9a6c.jpg"><img src="http://img2.diglog.com/img/2020/12/c0a266e0bff90855b66e516c750b9a6c.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>The hackers behind the  supply chain attack that compromised public and private organizations have devised a clever way to bypass multi-factor-authentication systems protecting the networks they target.</p><p>危害公共和私人组织的供应链攻击背后的黑客，已经设计出一种巧妙的方法来绕过保护其目标网络的多因素身份验证系统。</p><p>  Researchers from security firm Volexity  said on Monday that it had encountered the same attackers in late 2019 and early 2020 as they penetrated deep inside of a think tank organization no fewer than three times. During one of the intrusions, Volexity researchers noticed the hackers using a novel technique to bypass MFA protections provided by Duo. After having gained administrator privileges on the infected network, the hackers used those unfettered rights to steal a Duo secret known as an akey from a server running  Outlook Web App, which enterprises use to provide account authentication for various network services.</p><p>  安全公司Volexity的研究人员周一表示，在2019年底和2020年初，他们遇到了同样的攻击者，因为他们深入智囊团组织内部的次数不少于三次。在一次入侵期间，Volexity研究人员注意到黑客使用一种新颖的技术绕过了Duo提供的MFA保护。在受感染的网络上获得管理员特权后，黑客利用这些不受束缚的权利从运行Outlook Web App的服务器中窃取了称为akey的Duo机密，企业使用该机密提供各种网络服务的帐户身份验证。</p><p> The hackers then used the akey to generate a cookie, so they’d have it ready when someone with the right username and password would need when taking over an account. Volexity refers to the state-sponsored hacker group as Dark Halo. Researchers Damien Cash, Matthew Meltzer, Sean Koessel, Steven Adair, and Thomas Lancaster wrote:</p><p> 然后，黑客使用akey生成cookie，因此，当拥有正确用户名和密码的人接管帐户时，他们会准备好cookie。 Volexity指国家赞助的黑客组织Dark Halo。研究人员Damien Cash，Matthew Meltzer，Sean Koessel，Steven Adair和Thomas Lancaster写道：</p><p> Toward the end of the second incident that Volexity worked involving Dark Halo, the actor was observed accessing the e-mail account of a user via OWA. This was unexpected for a few reasons, not least of which was the targeted mailbox was protected by MFA. Logs from the Exchange server showed that the attacker provided username and password authentication like normal but were not challenged for a second factor through Duo. The logs from the Duo authentication server further showed that no attempts had been made to log into the account in question. Volexity was able to confirm that session hijacking was not involved and, through a memory dump of the OWA server, could also confirm that the attacker had presented cookie tied to a Duo MFA session named duo-sid.</p><p> 在第二次Volexity涉及Dark Halo的事件即将结束时，观察到该演员通过OWA访问了用户的电子邮件帐户。出于某些原因，这是意外的，其中最重要的原因是目标邮箱受MFA保护。来自Exchange服务器的日志显示，攻击者提供的用户名和密码身份验证正常，但没有通过Duo受到第二方面的挑战。来自Duo身份验证服务器的日志进一步表明，未尝试登录到相关帐户。 Volexity能够确认不涉及会话劫持，并且通过OWA服务器的内存转储，还可以确认攻击者提供了与名为duo-sid的Duo MFA会话绑定的cookie。</p><p> Volexity’s investigation into this incident determined the attacker had accessed the Duo integration secret key (akey) from the OWA server. This key then allowed the attacker to derive a pre-computed value to be set in the duo-sid cookie. After successful password authentication, the server evaluated the duo-sid cookie and determined it to be valid. This allowed the attacker with knowledge of a user account and password to then completely bypass the MFA set on the account. This event underscores the need to ensure that all secrets associated with key integrations, such as those with an MFA provider, should be changed following a breach. Further, it is important that not only are passwords changed after a breach, but that passwords are not set to something similar to the previous password (e.g., Summer2020! versus Spring2020! or SillyGoo$e3 versus SillyGoo$e2).</p><p> Volexity对这一事件的调查确定，攻击者已从OWA服务器访问了Duo集成密钥（akey）。然后，该密钥使攻击者可以得出在duo-sid cookie中设置的预先计算的值。成功进行密码身份验证后，服务器评估了duo-sid cookie并确定其有效。这使攻击者知道用户帐户和密码，然后完全绕过帐户上设置的MFA。此事件强调了确保与密钥集成关联的所有机密（例如与MFA提供者的机密）在发生泄露后应进行更改的必要性。此外，重要的是，不仅要在违规后更改密码，而且不要将密码设置为与以前的密码类似的内容（例如，Summer2020！vs Spring2020！或SillyGoo $ e3 vs SillyGoo $ e2）。</p><p> Volexity’s account of Dark Halo reinforces observations other researchers have made that the hackers are highly skilled. Volexity said the attackers returned repeatedly after the think tank client believed the group had been ejected. Ultimately, Volexity said, the attackers were able to “remain undetected for several years.”</p><p> Volexity对Dark Halo的描述加强了其他研究人员所做的观察，即黑客是高技能的。 Volexity说，攻击者在智囊团客户认为该组织已被驱逐后反复返回。最终，Volexity说，攻击者“几年来仍未被发现”。</p><p>    Both The Washington Post and New York Times have cited government people granted anonymity saying the group behind the hacks was known both as APT29 and Cozy Bear, an advanced persistent threat group believed to be part of the Russian Federal Security Service (FSB).</p><p>    《华盛顿邮报》和《纽约时报》均援引了政府人士的不愿透露姓名的说法，称黑客入侵背后的组织既被称为APT29，又被称为俄罗斯联邦安全局（FSB）的高级持续威胁组织Cozy Bear。 </p><p> While the MFA provider in this case was Duo, it just as easily could have involved any of its competitors. MFA threat modeling generally doesn’t include a complete system compromise of an OWA server. The level of access the hacker achieved was enough to neuter just about any defense.</p><p>尽管本例中的MFA提供者是Duo，但它也很可能涉及其任何竞争对手。 MFA威胁建模通常不包括OWA服务器的完整系统危害。黑客获得的访问级别足以阻止几乎所有防御措施。</p><p>  Duo Security at Cisco is aware of a recent security researcher blog post discussing multiple security incidents observed over the course of the last year from a particular threat actor group. One of those incidents involved Duo&#39;s integration for the Outlook Web Application (OWA).</p><p>  思科公司的Duo Security注意到最近有一个安全研究人员的博客文章，该文章讨论了在过去一年中从特定威胁参与者团体中观察到的多个安全事件。其中一件事件涉及Duo与Outlook Web Application（OWA）的集成。</p><p>  Rather, the post details an attacker that achieved privileged access to integration credentials, that are integral for the management of the Duo service, from within an existing compromised customer environment, such as an email server.</p><p>  而是，该帖子详细介绍了一个攻击者，该攻击者从现有的受感染客户环境（例如电子邮件服务器）中获得了对集成凭据的特权访问，这些集成凭据对于Duo服务的管理是必不可少的。</p><p> In order to reduce the likelihood of such an event, it is critical to protect integration secrets from exposure within an organization and to rotate secrets if compromise is suspected. Compromise of a service that is integrated with an MFA provider can result in disclosure of integration secrets along with potential access to a system and data that MFA protects.</p><p> 为了减少发生此类事件的可能性，至关重要的是保护集成秘密以防组织内暴露，并在怀疑有折中的情况下轮换秘密。与MFA提供程序集成的服务的破坏可能导致集成秘密的泄露以及对MFA保护的系统和数据的潜在访问。</p><p> Volexity said that Dark Halo’s primary goal was obtaining emails of specific individuals inside the think tank. The security company said Dark Halo is a sophisticated threat actor that had no links to any publicly known threat actors.</p><p> Volexity说，Dark Halo的主要目标是获取智囊团内部特定个人的电子邮件。这家安全公司表示，Dark Halo是一个复杂的威胁参与者，与任何知名的威胁参与者没有任何联系。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://arstechnica.com/information-technology/2020/12/solarwinds-hackers-have-a-clever-way-to-bypass-multi-factor-authentication/?comments=1">https://arstechnica.com/information-technology/2020/12/solarwinds-hackers-have-a-clever-way-to-bypass-multi-factor-authentication/?comments=1</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/黑客/">#黑客</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/duo/">#duo</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/hacked/">#hacked</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>