<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>打破向后兼容性会杀死Drupal吗？</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">打破向后兼容性会杀死Drupal吗？</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-08-20 09:29:30</div><div class="page_narrow text-break page_content"><p>首先，德鲁帕尔没有死。但我认为，与竞争项目相比，它并不像2010年代初的全盛时期那样处于健康的位置。</p><p>在这篇博客文章中，我将探讨Drupal社区发现自己在一个主要版本五年后发现的问题，这个版本打破了几乎每个子系统的向后兼容性，迫使许多用户经历了费力的升级过程和过程转变。</p><p>我过去曾写过这方面的文章，最著名的是在我的帖子“Drupal8的成功与失败”中。我不打算重复这篇帖子中的细节，但我确实想把重点放在我认为这张图表自2016年以来呈下降趋势的主要原因上：</p><p>与以前的版本(如Drupal5、6和7)不同，Drupal8的发布并没有带来很多7到8的升级和新的Drupal站点。相反，Drupal7站点开始逐渐减少，取代它们的新Drupal8站点的比率非常低。</p><p>查看Drupal 8发布前几年的使用情况图，您可以看到从2011年到2014年，Drupal的总体使用情况翻了一番：</p><p>自2014年以来，Drupal项目很可能在今年晚些时候向Drupal.org报告的活动安装数量首次低于100万。</p><p>注意：这些图表并没有显示正在生产中运行的每个Drupal站点。但它们是最佳近似值，在相对时间尺度上，它们显示了相关的趋势，因为在Drupal7、8和9中，在标准安装中启用了Update status模块(这是Drupal.org上此数据的关键)。</p><p>这篇博客文章的主要动机是软件行业一贯的阴阳两面，鼓励激进的设计背离和采用新的范式，而不是务实的做法，我们永远不会破坏你的代码方法，比如微软Windows。</p><p>每一个都有它的起伏，每一个都有非常成功的-也有非常灾难性的-例子。</p><p>彻底改变：苹果多次重塑其操作系统和应用生态系统，一路上改变了整个平台(68k到PPC，再到英特尔，现在到ARM)和编程语言(Pascal，C/C++，Objective C，SWIFT)。每一次轮班都会有一些开发人员离开，但苹果现在已经建立了最有利可图的应用生态系统之一，是世界上市值最高的公司。</p><p>我们永远不会破坏您的代码：PHP本身似乎就是一个闪亮的例子。除了每十年左右进行一次小修改以修复新的致命错误之外，我还有许多为PHP5.0编写的脚本和库，它们可以在PHP7.4和PHP8上原封不动地工作！</p><p>当我读到史蒂夫·耶格(Steve Yegge)写的“亲爱的谷歌云：你的贬低政策正在扼杀你”这篇文章时，我想我明白了为什么有些项目在某种程度上是成功的，而有些项目在另一种方式上是成功的：</p><p>从一开始，德鲁帕尔就是一个孤岛。它是用PHP编写的，但通常不会努力让Drupal成为不断增长的PHP生态系统的一部分，比如Symfony或Laravel等较新的、面向框架的项目。它保持了十多年的这种状态。</p><p>类似的情况是Python语言。它是一种功能齐全的编程语言，拥有坚实可靠的核心API。CS毕业生学习的是Java或Python(或两者兼而有之)中的一种，基于Python的课程、书籍和软件在近十年的时间里基本上都是一样的。</p><p>但在这两种情况下，一个重大的变化摧毁了开发人员十年来围绕该项目建立起来的隐含信任：一个未言明的承诺，即该项目不会做出需要在一个主要版本中进行重大重写或重新架构的全面改变。</p><p>在Drupal的案例中，我们在Drupal8中做了很大的努力，以摆脱这个孤岛，并用symfony和其他PHP生态系统库替换许多核心API和系统。这是一项雄心勃勃的努力，今天的Drupal是一个架构相当良好的PHP应用程序。</p><p>升级过程不再是几个小时或几周，而是几个月，因为升级在许多情况下意味着完全重新设计，在许多情况下，完全重新构建网站。</p><p>在Python的例子中，Python3做出了突破性的改变，这些改变多年来没有被很多流行的库和框架采用，社区花了12年时间才认为一劳永逸地放弃对Python2的支持是安全的。</p><p>从积极的一面来看，Drupal社区似乎正在从今年早些时候刚刚发布的Drupal8-Drupal9中的巨大失误中吸取教训，它没有重大的重构，只删除了旧的、不推荐使用的API。如果你有一个可以在最新版本的Drupal8上运行的网站，那么升级过程很可能需要几分钟，或者最多几个小时。</p><p>但是，作为一个花了十年时间从Drupal开发中赚取大部分收入的人，并且仍然是Drupal开放源码社区的一名有一定投资的成员，我不禁想知道从这里到哪里去。</p><p>Drupal8、Drupal9以及现在的Drupal10的许多功能似乎都集中在高价值的企业项目上，与数百万美元的Adobe Experience Manager或Sitecore项目竞争，因为CMS市场的低端(利润较低)已经被Wordpress和Wix或SquaSpace等在线网站建设者抛弃或留下。</p><p>我不认为说像我这样的开发人员在打破向后兼容性的趋势发生根本性转变后有一种创伤后应激障碍(PTSD)的说法并不牵强，而且我个人对支持开源代码的热情也不高，我担心这些代码可能需要更多重大重写才能赶上同类产品。</p><p>如果你建立的生态系统经常破坏向后兼容性(苹果操作系统、谷歌云，尤其是大部分Javascript生态系统)，那么你就会习惯性地期待它，而这也是该生态系统生活成本的一部分。</p><p>但是如果你在一个长期稳定的生态系统中工作，然后在一个版本中进行多次BC重大突破，你会觉得自己被蒙蔽了。</p><p>牢记Drupal社区的真实体验：弄清楚您的项目是更像Apple还是更像Microsoft。</p><p>您有经常破坏向后兼容性的名声吗？或者，您是否通常确保您的BC层允许使用您的软件的人在升级时变得更加懒惰？</p><p>两者都不一定是错的。但是，从长远来看，在一个主要版本中进行彻底的偏离可能会损害您的项目。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.jeffgeerling.com/blog/2020/did-breaking-backwards-compatibility-kill-drupal">https://www.jeffgeerling.com/blog/2020/did-breaking-backwards-compatibility-kill-drupal</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/杀死/">#杀死</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/drupal/">#drupal</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>