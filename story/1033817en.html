<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>FFmpeg用于水平、垂直和网格中堆叠视频(2x2、3x2)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">FFmpeg用于水平、垂直和网格中堆叠视频(2x2、3x2)</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-08 13:29:22</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/cf529431b6b5d8f1f9aace4257242cd0.png"><img src="http://img2.diglog.com/img/2020/11/cf529431b6b5d8f1f9aace4257242cd0.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Often times, when you want to compare two videos side-by-side or you want to create an effect during post-processing, you might want to stack videos together. It can get expensive if you end up buying a tool to do this, but, guess what?</p><p>通常，当您想要并排比较两个视频或想要在后处理过程中创建效果时，您可能需要将视频堆叠在一起。如果你最终买了一个工具来做这件事，它可能会变得很昂贵，但是，你猜怎么着？</p><p> FFmpeg offers a variety of tools to help stack videos together – horizontally, vertically, or in a grid fashion. In this tutorial, let’s learn about FFmpeg’s  hstack and  vstack filters for stacking videos.</p><p>FFmpeg提供了各种工具来帮助将视频堆叠在一起-水平、垂直或网格方式。在本教程中，让我们了解FFmpeg用于堆叠视频的hSTACK和vSTACK过滤器。</p><p>    “Horizontally stacking videos” refers to placing videos side-by-side (one on the left and the other on the right).</p><p>水平堆放视频是指视频并排放置(一个在左，一个在右)。</p><p> Before you do this, there are a couple of points that you need to consider.</p><p>在执行此操作之前，您需要考虑几点。</p><p>    The  hstack filter has a simple format. You need to specify the number of inputs and it parses that from the beginning portion of the commandline. The order of stacking follows the order of inputs.</p><p>HStack过滤器具有简单的格式。您需要指定输入的数量，它会从命令行的开头部分进行解析。堆叠顺序遵循输入的顺序。</p><p>      Here is another use case. Companies or teams working on video compression often like to compare videos side-by-side in the lab or showcase their work in conferences. FFmpeg’s horizontal stacking is an easy way to do this and achieve a very good result.</p><p>这里有另一个用例。致力于视频压缩的公司或团队通常喜欢在实验室里并排比较视频，或者在会议上展示他们的工作。FFmpeg的水平堆叠是一种简单的方法，可以做到这一点，并获得非常好的结果。</p><p> Below are two videos encoded at different video quality settings and stacked horizontally. Comparison made simple, right?  (note: Vimeo’s choise of bitrate might mess with the comparison, but, when done offline (downloaded), the  hstack filter makes comparisons easy!)</p><p>下面是以不同的视频质量设置编码并水平堆叠的两个视频。比较简单，对吧？(注意：Vimeo对比特率的选择可能会扰乱比较，但当离线完成(下载)时，hStack过滤器会让比较变得容易！)。</p><p>    “Vertically stacked videos” results in placing videos one below the other. Unlike in horizontal stacking, inputs need to be having the same width. The command is as shown.</p><p>“垂直堆叠视频”的结果是将视频一个接一个地放在另一个上面。与水平堆叠不同，输入需要具有相同的宽度。命令如下所示。</p><p> For vertical stacking, we need to use the  vstack filter whose syntax is similar to the  hstack filter we used in the previous horizontal stacking example.</p><p>对于垂直堆叠，我们需要使用vSTACK过滤器，其语法类似于我们在上一个水平堆叠示例中使用的hSTACK过滤器。</p><p>   Both functions pretty much use the same commands with a simple distinction, the   hstack and the   vstack under the  -filter_complex argument.</p><p>这两个函数使用几乎相同的命令，只有一个简单的区别，即-filter_Complex参数下的hSTACK和vSTACK。</p><p>     Well, there’s a really nifty ability for both of these to prioritize the length of the shortest video. And as luck would have it the parameter is named  shortest, and it’s applicable to both the horizontal and vertical stacking filters. Using  shortest=1 ensures the shortest length is used.</p><p>嗯，这两个软件都有一种非常巧妙的能力来区分最短视频的优先顺序。幸运的是，这个参数被命名为最短，它既适用于水平堆叠过滤器，也适用于垂直堆叠过滤器。使用Shortest=1可确保使用最短长度。</p><p>   As a  side note, if you run into an error that claims frames are being duplicated, the easiest workaround is to slip the  vsync 2 parameter into your command, and it worked like a charm.</p><p>顺便说一句，如果您遇到声称帧正在被复制的错误，最简单的解决方法是将vsync 2参数添加到命令中，它的效果很不错。</p><p>  To test what happens in this situation, let’s stack two videos vertically – a 10 second clip and an 18 second clip. You’ll see that the shorter clip just stops after it completes, but the output video continues till the longest of the input clips complete.</p><p>为了测试在这种情况下会发生什么，让我们垂直堆叠两个视频-10秒剪辑和18秒剪辑。您将看到较短的剪辑在完成后只是停止，但输出视频会继续，直到最长的输入剪辑完成。</p><p>    If you want to truncate the clips to the length of the shortest clip, then you need to use the  shortest=1 parameter. Let’s look at that in the next section.</p><p>如果要将剪辑截断为最短剪辑的长度，则需要使用Shortest=1参数。让我们在下一节中看看这一点。</p><p>  In this example, we use the  shortest=1 command-line parameter and as you can see, the length of the final video is truncated to the length of the shortest of the inputs.</p><p>在本例中，我们使用Shortest=1命令行参数，如您所见，最终视频的长度被截断为输入中最短的长度。</p><p>    We can achieve a 2×2 grid of videos using a combination of the  hstack and  vstack filters. Let’s start by looking at the command-line and then break it down. It’s actually pretty simple!</p><p>我们可以使用hStack和vStack过滤器的组合来实现2×2的视频网格。让我们从查看命令行开始，然后分析它。这其实很简单！</p><p> ffmpeg \-i input0.mp4 -i input1.mp4 -i input2.mp4 -i input3.mp4 \-filter_complex \&#34;[0:v][1:v]hstack=inputs=2[top]; \[2:v][3:v]hstack=inputs=2[bottom]; \[top][bottom]vstack=inputs=2[v]&#34; \-map &#34;[v]&#34; \finalOutput.mp4</p><p>Ffmpeg\-i input0.mp4-i input1.mp4-i input2.mp4-i input3.mp4\-filter_Complex\&#34；[0：v][1：v]hSTACK=INPUTS=2[top]；\[2：v][3：v]hSTACK=INPUTS=2[Bottom]；\[top][Bottom]vSTACK=INPUTS=2[v]&#34；\-MAP&#34；[。</p><p>  next, you stack the first two videos horizontally and call it “top” i.e.  [0:v][1:v]hstack=inputs=2[top]</p><p>接下来，将前两个视频水平堆叠在一起，并将其称为“top”，即[0：v][1：v]hSTACK=INPUTS=2[top]。</p><p> then, you you stack the next two videos horizontally and call it “bottom” i.e.  [2:v][3:v]hstack=inputs=2[bottom]</p><p>然后，水平堆叠接下来的两个视频，并将其称为“Bottom”，即[2：v][3：v]hstack=inputs=2[Bottom]。</p><p>  then using the  map command, we can extract and push the video track to the output container.</p><p>然后使用MAP命令，我们可以提取视频轨迹并将其推送到输出容器。</p><p>     Along the same lines, here is a 3×2 grid of videos using  hstack and  vstack filters.</p><p>同样的，这里是一个3×2的视频网格，使用了hStack和vStack过滤器。</p><p> ffmpeg \-i input0.mp4 -i input1.mp4 \-i input2.mp4 -i input3.mp4 \-i input4.mp4 -i input5.mp4 \-filter_complex \&#34;[0:v][1:v][2:v]hstack=inputs=3[top];\[3:v][4:v][5:v]hstack=inputs=3[bottom];\[top][bottom]vstack=inputs=2[v]&#34; \-map &#34;[v]&#34; \finalOutput.mp4</p><p>Ffmpeg\-I input0.mp4-I input1.mp4\-I input2.mp4-I input3.mp4\-I input4.mp4-I input5.mp4\-Filter_Complex\&#34；[0:v][1:v][2:v]hstack=inputs=3[top]；\[3:v][4:v][5:v]hstack=inputs=3[bottom]；\[top][bottom]vstack=inputs=2[v]&#34；&#34；[v]&#34；\finalOutput.mp4。</p><p>    That’s it folks. Now you know how to stack videos together horizontally, vertically, and in a grid. This is very useful in comparing videos and also creating fun effects along the way!</p><p>就是这样，伙计们。现在，您了解了如何在水平、垂直和网格中将视频堆叠在一起。这是非常有用的比较视频和创造有趣的效果沿途！</p><p> If you enjoyed this post, do check out the rest of   OTTVerse’s FFmpeg tutorials to learn more about this amazing media editing and compression software!</p><p>如果你喜欢这篇文章，一定要查看OTTVerse的FFmpeg教程的其余部分，以了解更多关于这个令人惊叹的媒体编辑和压缩软件的信息！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://ottverse.com/stack-videos-horizontally-vertically-grid-with-ffmpeg/">https://ottverse.com/stack-videos-horizontally-vertically-grid-with-ffmpeg/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/用于/">#用于</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/stack/">#stack</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/视频/">#视频</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1033051.html"><img src="http://img2.diglog.com/img/2020/11/thumb_0faf346073a33bae5c8a4e4b69d97b11.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1033051.html">TAD，用于查看和分析表格数据的桌面应用程序</a></div><span class="my_story_list_date">2020-11-4 5:28</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031937.html"><img src="http://img2.diglog.com/img/2020/10/thumb_f110ab582e0f2c3b8ef013cbc2f866e2.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031937.html">Manim：用于解释数学视频的动画引擎</a></div><span class="my_story_list_date">2020-10-29 12:37</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031462.html"><img src="http://img2.diglog.com/img/2020/10/thumb_3fc7f9c30dfdb8de31d78dddb9939322.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031462.html">OpenMPTCP路由器v0.56发布，提供聚合互联网连接的免费解决方案</a></div><span class="my_story_list_date">2020-10-27 20:35</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031026.html"><img src="http://img2.diglog.com/img/2020/10/thumb_28af298db9ef8d9c5242c9dedce71a1d.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031026.html">VDX-用于处理视频的直观CLI，由FFmpeg提供支持</a></div><span class="my_story_list_date">2020-10-25 8:38</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>