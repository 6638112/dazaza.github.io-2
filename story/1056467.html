<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>我如何建造25欧元的机器学习钻机 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">我如何建造25欧元的机器学习钻机 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-04-06 17:26:43</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/4/bc394ac3870ef7a03cac34392bc5c68c.jpeg"><img src="http://img2.diglog.com/img/2021/4/bc394ac3870ef7a03cac34392bc5c68c.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>它有4个NVIDIA RTX A6000和带有32个核心的AMD EPYC 2，包括192 GB的GPU内存和RAM中的256GB（部分列表）。</p><p>    直到AMD的GPU机器图书馆更稳定，NVIDIA是唯一的真实选择。由于Nvidia最新的安培微体系结构明显优于上一代，我只关​​注安培的GPU。</p><p>        让我们概述消费者和专业卡的一些局限性。</p><p>    每位客户的消费供应：1 GPU（大多数商店只允许您购买一个消费者GPU，并且它们普遍在发布后3-12个月内提供）</p><p> 我试图购买5 RTX 3090，但在等待四个月后，由于供应问题，我选择了四个RTX A6000。</p><p>  根据Lamda Labs和Puget Systems的说法，3080和3090双槽鼓风机版本在标准尺寸的主板上彼此相邻的可靠性齐全。因此，您需要PCIe提升板，水冷钻机或电源使用。</p><p> 在露天钻机中使用PCIe立管将硬件暴露在灰尘。水冷钻机需要维护，并且在运输过程中具有泄漏的风险。封盖电源使用是非标准的，可能导致不可靠性和性能损失。 </p><p>对于3+ GPU钻机，许多选择消耗300W或更低的卡片，因此RTX 3070和Down或A6000及Up。</p><p> 今天的大多数模型都是为16GB卡设计的，因为大多数主流云GPU有16 GB GPU内存，我们正在转向40 GB。因此，具有最低存储器的卡将在重写软件中看到增加的开销，以适应更低的存储器限制。</p><p>  5+ GPU消费钻机人们在线看到在线通常是具有多个电源的加密钻机。</p><p> 由于加密钻机不需要高带宽，因此它们使用特定的USB适配器来连接GPU。它是一个转移没有电力数据的适配器。因此，分离了GPU和主板的功率，这减少了混合电路的问题。</p><p> 然而，适配器通常具有差，小焊接误差既可以破坏您的硬件并着火。它们尤其不推荐用于要求PCIe提升板的ML钻机，以实现75W的电力。</p><p> Crypto Rigs还使用来自阿里巴巴的采矿电源，标准差或改造企业电源。由于人们倾向于将它们放在车库或容器中，因此他们接受了增加的安全风险。</p><p>   对于安培系列，NVIDIA使得难以使用超过2个GPU的工作站使用高端消费卡。 3槽宽度，高瓦加，看到几个制造商停止了3090的2宽鼓风机版本 - 都表明了这一点。 </p><p>因此，制度和企业安培卡片＆＃39;关键销售点是支持3个以34/365工作负载的3个以上GPU钻机。</p><p>      80GB的GPU将为您提供特定模型的优势，但很难说如果它们有足够的计算以有效地从大规模模型中受益。最安全的选项是40GB版本。但是，很难忽视80GB GPU的吹牛权。</p><p> 通常，我不考虑NLP，CV或RL特定的工作负载。它们会随着性能而有所不同，但由于机器学习景观速度如此之快，因此它不值得过度优化特定的工作量。</p><p> 对于更深入的比较，请阅读Tim Detmers'Go-to GPU指南。额外关注张量核心概述，稀疏训练，盖板GPU瓦数和低精度计算。</p><p>   虽然电源盖消费者钻机，但服务器钻机受重量，情况大小和网络开销。</p><p>     这里的关键约束是网络开销。一旦连接一个或多个服务器，就会需要软件和硬件来管理系统。我强烈推荐Stephen Balaban＆＃39;建立机床群体的机器学习概述。</p><p>  具有八个SXM4的服务器坐在75公斤左右。因此，您理想地需要服务器升力。 SXM4可以难以修复，而不是PCIe服务器的标准零件。 </p><p>A100和A6000也有没有内置风扇的版本。这些需要具有十几个10k + RPM风扇的服务器箱。这些将使它们更容易容忍，因为您可以热插拔粉丝。</p><p>      在速度方面，A100比A6000快1.4倍。但A6000比3090更快1.2，以及3080的两倍。</p><p> 其他值得注意的基准是PCIe和SXM4之间的比较。 NVIDIA的A100 PCIe只能连接到另一个GPU，而NVIDIA的A100 SXM4可以同时连接到8  -  16 GPU。</p><p>    NVIDIA的NVSwitch和SXM4在理论上具有10倍的带宽，但在8 GPU设置中，与PCIe解决方案相比，它只有10％。由于SXM4在每个GPU的基础上快8％，因此NVSwitch具有边际撞击。</p><p> 它应该是8-GPU系统的边际差异。根据Lamda Labs的首席执行官，他们可以看到较大集群中某些用例的2倍改善。因此，它主要针对多个8-GPU系统指示。它也值得研究DGX A100 SuperPod系统，以几百GPU的等级。</p><p> 此外，在网络基准测试中，注意GB / S（千兆字节）和GB / S（千兆）。 GB / S比GB / s快八倍。</p><p>       定价近似为实际零售价格，用于简化，无增值税和折扣。 </p><p>NVIDIA还提供启动和教育折扣，以便您可以节省15-30％的GPU。对于启动，适用于开始计划。总的来说，获得折扣需要大约一个星期。</p><p> 我通过建造它和NVIDIA GPU折扣，我在4个X RTX A6000上保存了大约4欧元。</p><p> SMX4卡作为8 GPU服务器的一部分出售，因此由于自定义GPU-to-GPU通信，每个GPU定价是一个粗略的近似，使其使其更昂贵。</p><p>            当你开始时，你经常在同一个房间里有机器，并应对不便。</p><p> 正如您所示，您需要更多的基础架构。您可以将其移动到一个单独的办公室，然后将其放在数据中心，以搭配开始，然后从第1层到4个数据中心攀升，以增加容错。</p><p> 我发现4个GPU太大，在办公室或家里没有适当的冷却，产生过多的热量。这是Puget Systems的快速基准。思考，一个带有热空气的小叶子鼓风机，等于1600W散热器。</p><p> 数据中心搭配的起始价格为每GPU和月份约为80-250欧元，包括电费下的每GPU 25欧元。您可以在此处询问来自所有本地数据中心搭配的报价。如果您计划在4+ GPU上运行工作负载24/7/365，我强烈推荐它。 </p><p>您可以轻松购买4 GPU服务器的零件，类似于PC。鞍冰通5+ GPU ML服务器将花费大约7欧元。</p><p>    与英特尔相比，AMD具有5倍的内部带宽。它既便宜又更好。大多数安培ML服务器使用AMD。</p><p>  ProSumer（Ryzen Threadripper第3 Gen使用Strx4，以及第1 Gen Pro版本的SWRX8插座）</p><p> 对于1-GPU系统，Ryzen非常出色，并且在2-4个GPU PC之间的系统，使用ThreadRipper。对于5个以上GPU系统和服务器构建，请使用EPYC。</p><p> ThreadRipper比EPYC快，但EPYC有两倍的内存通道，RDIMM，并且需要更少的能量。如果您计划将计算机作为服务器使用，我会使用EPYC。</p><p> 我最终用了一个AMD EPYC 2罗马7502P，32个核心。对于处理器，我每GPU使用八个核心作为粗略的指导。此外，如果支持单个，双重或两个处理器设置，请注意。</p><p>  为了冷却，Noctua风扇是最安静，最表情和可靠的。但是，我发现棕色方案相当难看。它们也很大，所以确保它们适合您的RAM和底盘。 </p><p>对于RGB粉丝，我喜欢Corsair的一体化（AIO）液体CPU冷却器。他们带来了生活。颜色是可编程的，系统在CPU周围释放空间。他们使用防冻液，泄漏风险很小。</p><p> 所有ThreadRipper和EPYC CPU都具有相同的尺寸，使冷却器兼容，但您可能需要安装支架。此外，检查冷却器是否支持您选择的CPU的瓦数。</p><p>   我避免由于成本，维护，冻结风险，运输风险和缺乏灵活性而定制液体冷却。</p><p>      如果您计划使用您的MLIT作为常规PC并希望内置支持，例如，WiFi，耳机插孔，麦克风插孔和睡眠功能 - 您可以使用消费者或专业主板。</p><p> 在我的情况下，我使用双用法的Prosumer / Server主板，支持远程处理或智能平台管理界面（IPMI）。通过以太网连接和Web GUI，我可以安装操作系统，将其打开/关闭，然后连接到虚拟监视器。如果您计划使用它24/7/365，IPMI是理想的。</p><p> CPU插座具有内置芯片组，并且ProSumer和消费者卡具有额外的芯片组，以实现特定的CPU或功能，例如，用于ThreadRipper的Ryzen和Trx40的B550。</p><p> 对于Ryzen 5000，建立具有BIOS闪存按钮的理想选择。否则，您需要一个早期的Gen Ryzen CPU来更新BIOS与Ryzen 5000兼容。 </p><p>5+ GPU服务器的主板很难单独购买。虽然消费者设置是模块化的，但集成了更大的服务器构建。</p><p>  主板的标准尺寸为ATX，它是305×244毫米，适用于服务器机箱和PC。我主要查看ATX板，标准尺寸，避免任何底盘间距问题。</p><p>  一些其他形式因素的规模差异，具体取决于制造商，以便在机箱方面更加有限。对于消费者机箱来说，这不是一个大的优惠，而是对于服务器机箱，您不会超过ATX 305 mm的高度。</p><p>     寻找的重要事项是PCIe插槽，即可插入GPU，上面的垂直灰色插槽。上面，您有七个单宽插槽。</p><p> 连接将是GPU的最右侧。如您所见，RAM插槽与第一个GPU之间的差距是紧张的。</p><p> 当您在7插槽板上有四个双宽GPU时，第4 GPU将超过电路板＆＃39; s底部。因此，您需要一个支持8个PCIe扩展插槽的PC或服务器机箱。</p><p> 对于两个RTX 3090 Triple-Slot卡，您可以使用第一张牌盖上前三个PCIe插槽和空插槽，并将第二个GPU覆盖最后三个插槽。 </p><p>如果您计划购买NVLink以连接两个GPU，它们通常会进入2插槽，3插槽和4个插槽版本。在图片中，您需要两个2插槽桥。对于具有间隙之间的三槽卡，您需要一个4插槽的桥：卡的宽度，3插槽，加上1槽间隙。</p><p>  PCIe物理长度：图片中的X16，GPU的标准为89毫米。</p><p> PCIe带宽：有时，您的长度为X16插槽，但只有一半的引脚将其连接到主板，使其成为X8带宽的X16插槽。供参考，加密钻机将使用X16适配器，但具有X1带宽。</p><p> 发电速度：上面的板是4.0。每一代往往是前一代的两倍。 NVIDIA的最新GPU是Gen 4.0，但在实践中对Gen 3.0板上具有可比性。</p><p> 多种GPU要求：4-10 GPU系统，大多数推荐至少X8 Gen 3.0每个GPU。</p><p>  大多数人寻找的另一件事是PCIe车道的总量，总内部带宽。它为您提供了网络，存储和多个GPU容量的粗略指示。</p><p> 主板制造商可以使用PCIe车道优先考虑某些功能，如存储，PCIe插槽，CPU-to-CPU通信等。 </p><p>供参考，一个GPU将使用X16车道，10 GB / S以太网端口使用X8车道，并且NVME SSD将使用X4车道。</p><p>     最常用的ML工作站底盘是Corsair硬质合金Air 540，以及Chenbro Micom RM41300-FS81的消费者服务器。从声音，灰尘和运输的角度来看，这两种情况是理想的。两者都将在rtx 3090中容纳rtx 3090，但您需要一个用于chenbro的后端电源连接器。</p><p> 我开始使用ThermalTake核心P5钢化玻璃版。从痉挛角度来看，这是最好的。但它相当笨拙，而不是理想的灰尘。鉴于GPUS＆＃39;热量和噪音，我决定使用Chenbro机箱将其转换为服务器并将其放入数据中心。</p><p> GPU之间的空间比主要的底盘气流更多。如果您要参加3+ 3080/3090，您希望调查露天加密钻机设置。然而，这些都非常嘈杂，易受灰尘。理想情况下，您希望将其放入隔离的房间，冷却和灰尘过滤器。</p><p> Chenbro底盘在盖子上有两种120 mm 2700 rpm的风扇，为GPU创造了出色的气流。</p><p>   当您有GPU，CPU，主板和机箱时 - 其余组件易于挑选。</p><p> 电源：对于电源，我看过两家供应商认为是最好的，evga和Corsair。我添加了总GPU瓦数，额外的250W和边距。这是一个更准确的计算器。我最终与Evga Supernova 1600W T2结束。 </p><p>RAM：我看着主板提供商推荐的东西，并购买了我可以轻松在线购买的东西。建议用RAM填充可用的插槽，我希望RAM匹配或超过GPU内存。根据Tim Dettmers，RAM速度对整体性能没有影响。我用8 x金士顿3200MHz DDR4 KSM32RD4 / 32ME，所以256 GB。</p><p> NVME SSD：我在PCPartPicker和Newegg上检查了最高评级的SSD。我使用每GPU 0.5 TB作为PCIe Gen 4.0的指导。我抓住了两个2 TB Samsung 980 Pro 2到M.2 NVME。</p><p> 硬盘驱动器：我使用与我的SSD相同的策略，但每个GPU为慢速存储6 TB。这最终是2 x 12 Tb Seagate Ironwolf Pro，3.5＆＃39;＆＃39 ;, SATA 6GB / S，7200 RPM，256MB缓存。对于更严格的基准，您可以研究磁盘故障率。</p><p> NVLink：很好，可以在特定工作负载上通过几个百分点提高性能。它不结合两个GPU的记忆，这只是令人困惑的营销。</p><p>    如今，如果我在亚马逊上找不到它，我在买东西之前我才三思而后行。大约30％的较鲜为人知的商店给了我头疼。</p><p>  商店忘了我的订单，我不得不跟进3-9周（3家商店）</p><p> 一家商店给我发了一个他们取消的订单，然后向我收取几百欧元的回报（1店） </p><p>一家商店没有将产品发给我一个月，而不是退款，他们给了我一张优惠券（1店）</p><p> 客户服务要么自动化，要么是难以忍受的解决问题的程度，要么是难以承受的问题（6家商店）</p><p> PNY列出了ProSumer和企业卡的零售商。我伸向法国的所有供应商。 50％没有回复。回复的回复，60％没有最新的牌，以及我所提供的引号，价格在5-10％之间变化。在法国，Carri系统具有最优惠的价格和良好的客户服务。</p><p>  PCPartPicker拥有超过40 000个具有RTX 30系列的构建，尽管大多数是1 GPU，一些2-GPU钻机，但没有3+。</p><p>         如果您知道列出价格的其他提供商，请在此提交它们，我将添加它们。</p><p>   建造钻机的艰难部分正在寻找零件，特别是如果您正在尝试执行非传统的事情。</p><p> 将碎片放在一起，安装它们需要不到一个小时，但您可能希望花几个小时的时间待在安全方面。 </p><p>我在家里有一个移动维修套件，这是有用的，但你可以使用标准的螺丝刀和良好的比特。</p><p> 我使用远程管理系统来安装软件。当我将以太网电缆插入路由器时，它将其分配了IP地址，然后我将IP地址放在浏览器中，我可以访问Web界面以更新BIOS并安装Ubuntu 20.04 LTS。</p><p> 然后我为所有GPU驱动程序和机器学习库安装了Lambda堆栈等。我强烈推荐它。</p><p> 如果您使用的IMPI，请将VGA输出更改为BIOS中的内部。否则，您无法在IMPI中使用虚拟监视器而不删除GPU。</p><p>    拥有硬件的主要原因是工作流程。不要在云节省时浪费时间并鼓励稳健的实验。</p><p> 如果您的时间价格，建造钻机的成本节约是可疑的。但是，你会学到一群束缚，成为一个受过良好教育的消费者。此外，当所有预先构建的供应商都有GPU供应问题时，这是一个有价值的技能。</p><p> NVIDIA正在努力使用高端消费卡3+钻井平台。对于家庭服务器室的Prosumer Rig，我将在露天钻机中获得4 x 3090。并且有更多有限的空间，一个2 x 3090的工作站。 </p><p>使用更大的预算，4次X RTX A6000是一个很好的选择，但鉴于噪音和热量，我会为服务器解决方案解决并将其放在数据中心。  A100拥有最多的心态，但A6000 / A40更具价值。 SMX4太笨重，在PCIe版本上提供边际性能增益。 我想看看一个透明的基准与大型集群在实践中看到好处。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.emilwallner.com/p/ml-rig">https://www.emilwallner.com/p/ml-rig</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/机器/">#机器</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/learning/">#learning</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/gpu/">#gpu</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1056168.html"><img src="http://img2.diglog.com/img/2021/4/thumb_efef44c85ed8715e9cafec31e48446bc.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1056168.html">辩论机器创造的艺术的影响 </a></div><span class="my_story_list_date">2021-4-5 5:55</span></div><div class="col-sm"><div><a target="_blank" href="/story/1054170.html"><img src="http://img2.diglog.com/img/2021/3/thumb_6a8d1a45da5918b0fc0139225b9c60e5.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1054170.html">LHC机器发现诱人的新物理暗示 </a></div><span class="my_story_list_date">2021-3-23 17:31</span></div><div class="col-sm"><div><a target="_blank" href="/story/1054156.html"><img src="http://img2.diglog.com/img/2021/3/thumb_8cecc568ab15b5b6b817c4f6ac89451b.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1054156.html">超声波读取猴子大脑，打开新的方式来控制机器的思考 </a></div><span class="my_story_list_date">2021-3-23 15:2</span></div><div class="col-sm"><div><a target="_blank" href="/story/1053263.html"><img src="http://img2.diglog.com/img/2021/3/thumb_9d9595427ddabcd048e5ef10c26c355d.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1053263.html">利用机器学习泡菜文件 </a></div><span class="my_story_list_date">2021-3-18 22:21</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>