<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Zoom端到端加密的离奇设计选择</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Zoom端到端加密的离奇设计选择</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-29 10:20:29</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/5a0d05ae94f38f4e8a2735225f5509e7.png"><img src="http://img2.diglog.com/img/2020/10/5a0d05ae94f38f4e8a2735225f5509e7.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Zoom recently announced that they were going to make end-to-end encryption available to all of their users–not just customers.</p><p>Zoom最近宣布，他们将向所有用户提供端到端加密，而不仅仅是客户。</p><p> Our new end-to-end encryption (E2EE) feature is now available to users globally, free and paid. 🔒 https://t.co/ssGanYn4fB</p><p>我们新的端到端加密(E2EE)功能现在可供全球用户免费和付费使用。Https://t.co/ssGanYn4fB🔒。</p><p>— Zoooooom 👻 (@zoom_us)  October 26, 2020</p><p>-ZOOOOM👻(@ZOOM_US)2020年10月26日。</p><p> This is a good move, especially for people living in countries with  inept leadership that failed to address the COVID-19 pandemic and therefore need to conduct their work and schooling remotely through software like Zoom. I enthusiastically applaud them for making this change.</p><p>这是一个很好的举措，特别是对于生活在领导层无能的国家的人们来说，这些国家未能应对新冠肺炎疫情，因此需要通过Zoom这样的软件远程进行工作和学习。我热烈地为他们做出这一改变而鼓掌。</p><p>  The end-to-end encryption capability arrives on the heels of their acquisition of  Keybase in earlier this year. Hiring a team of security experts and cryptography engineers seems like a good move overall.</p><p>今年早些时候，他们收购了Keybase，紧随其后的是端到端加密功能。聘请一支由安全专家和密码学工程师组成的团队似乎是一项不错的举措。</p><p> Upon hearing this news, I decided to be a good neighbor and take a look at their source code, with the reasoning, “If so many people’s privacy is going to be dependent on Zoom’s security, I might as well make sure they’re not doing something ridiculously bad.”</p><p>听到这个消息后，我决定做一个好邻居，看看他们的源代码，推理是这样的：“如果这么多人的隐私依赖于Zoom的安全，我不妨确保他们不会做一些可笑的坏事。”</p><p> Except I couldn’t find their source code anywhere online. But they did publish  a white paper on Github…</p><p>只是我在网上找不到他们的源代码。但是他们确实发表了一份关于github…的白皮书。</p><p>   What follows is the opinion of some guy on the Internet with a fursona–so whether or not you choose to take it seriously should be informed by this context. It is not the opinion of anyone’s employer, nor is it endorsed by Zoom, etc. Tell your lawyers to calm their nips.</p><p>下面是互联网上一些人的观点-所以你是否选择认真对待它应该从这个背景中得到信息。这不是任何人的雇主的意见，也不是Zoom等的认可。告诉你的律师让他们冷静下来。</p><p> More importantly, I’m not here to hate on Zoom for doing a good thing, nor on the security experts that worked hard on making Zoom better for their users. The responsibility of security professionals is to the users, after all.</p><p>更重要的是，我在这里并不是要憎恨Zoom做了一件好事，也不是要憎恨那些努力让Zoom更好地为他们的用户服务的安全专家。毕竟，安全专业人员对用户负有责任。</p><p> Also, these aren’t zero-days, so don’t try to lecture me about “responsible” disclosure. (That term is also  problematic, by the way.)</p><p>另外，现在不是零日，所以不要试图对我讲“负责任的”披露。(顺便说一句，这个术语也有问题。)。</p><p>    Note: I’ve altered the screenshots to be white text on a black background, since my blog’s color scheme is darker than a typical academic PDF. You can find the source  here.</p><p>注意：我已经将屏幕截图更改为黑色背景上的白色文本，因为我的博客的配色方案比典型的学术PDF更暗。你可以在这里找到来源。</p><p>   It’s a little weird that they’re calculating a signature over SHA256(Context) || SHA256(M), considering Ed25519 uses SHA512 internally.</p><p>考虑到Ed25519在内部使用SHA512，他们在SHA256(上下文)||SHA256(M)上计算签名有点奇怪。</p><p> It would make just as much sense to sign Context || M directly–or, if pre-hashing large streams is needed, SHA512(Context || M).</p><p>直接对上下文||M进行签名也同样有意义-或者，如果需要预散列大型流，则使用SHA512(上下文||M)。</p><p>  At the top of this section, it says it uses libsodium’s  crypto_box interface. But then they go onto… not actually use it.</p><p>在这一节的顶部，它说它使用libNa的加密箱接口。但之后他们就会上…。而不是真正使用它。</p><p>   The only part of the libsodium interface that’s being used is  crypto_box_beforenm(), which could easily have been a call to  crypto_scalarmult()instead.</p><p>正在使用的libNa接口的唯一部分是crypto_box_beforenm()，它可以很容易地调用crypto_scalarmult()。</p><p>  Also, the SHA256(a) || SHA256(b) pattern returns. Zoom’s engineers must love SHA256 for some reason.</p><p>此外，SHA256(A)||SHA256(B)模式也会返回。出于某种原因，Zoom的工程师一定很喜欢SHA256。</p><p>  Binding the ciphertext and the signature to the same context string is a sensible thing to do, it’s just the concatenation of SHA256 hashes is a bit weird when SHA512 exists.</p><p>将密文和签名绑定到相同的上下文字符串是明智的做法，只是当SHA512存在时，SHA256散列的连接有点奇怪。</p><p>   Here we see Zoom using the a SHA256 of a constant string (“ Zoombase-1-ClientOnly-MAC-SecurityCode“) in a construction that tries but fails to be HMAC.</p><p>在这里，我们看到了在尝试为HMAC但失败的构造中使用常量字符串(“Zoombase-1-ClientOnly-MAC-SecurityCode”)的SHA256的Zoom。</p><p> And then they concatenate it with the SHA256 hash of the public key (which is already a 256-bit value), and then they hash the whole thing again.</p><p>然后，他们将其与公钥的SHA256散列(已经是256位的值)连接起来，然后再次对整个过程进行散列。</p><p> It’s redundant SHA256 all the way down. The redundancy of “MAC” and “SecurityCode” in their constant string is, at least, consistent with the rest of their design philosophy.</p><p>一直往下都是多余的SHA256。常量字符串中“MAC”和“SecurityCode”的冗余至少与其设计理念的其余部分一致。</p><p> It would be a real shame if double-hashing carried the risk of  invalidating security proofs, or if  the security proof for HMAC required a high Hamming distance of padding constants and this design decision also later  saved HMAC from related-key attacks.</p><p>如果双重散列有使安全证明无效的风险，或者如果HMAC的安全证明需要填充常量的高汉明距离，并且此设计决定后来还使HMAC免于相关密钥攻击，那将是一件非常遗憾的事情。</p><p>   Wait, you’re telling me Zoom was aware of HMAC’s existence this whole time?</p><p>等等你是说Zoom一直都知道HMAC的存在？</p><p>   None of the design decisions Zoom made that I’ve criticized here are security vulnerabilities, but they do demonstrate an early lack of cryptography expertise in their product design.</p><p>我在这里批评过的Zoom所做的设计决定都不是安全漏洞，但它们确实表明了他们在产品设计中早期缺乏密码学专业知识。</p><p> After all, the weirdness is almost entirely contained in section 3 of their white paper, which describes the “Phase I” of their rollout. So what I’ve pointed out here appears to be mostly legacy cruft that wasn’t risky enough to bother changing in their final design.</p><p>毕竟，奇怪之处几乎全部包含在他们的白皮书第三部分，其中描述了他们推出的“第一阶段”。因此，我在这里指出的似乎主要是遗留的问题，没有足够的风险来费心在最终设计中进行更改。</p><p> The rest of their paper is pretty straightforward and pleasant to read. Their design makes sense in general, and each phase includes an “Areas to Improve” section.</p><p>他们论文的其余部分相当直截了当，读起来也很愉快。他们的设计大体上是有意义的，每个阶段都包括一个“需要改进的地方”部分。</p><p> All in all, if you’re worried about the security of Zoom’s E2EE feature, the only thing they can really do better is to publish the source code (and link to it from the whitepaper repository for ease-of-discovery) for this feature so independent experts can publicly review it.</p><p>总而言之，如果你担心Zoom的E2EE功能的安全性，他们唯一能做得更好的事情就是发布这一功能的源代码(并从白皮书存储库链接到它，以便于发现)，这样独立的专家就可以公开审查它。</p><p> However, they seem to be getting a lot of mileage out of the experts on their payroll, so I wouldn’t count on that happening.</p><p>然而，他们似乎从他们的工资单上的专家那里获得了很多里程数，所以我不会指望会发生这种情况。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://soatok.blog/2020/10/28/bizarre-design-choices-in-zooms-end-to-end-encryption/">https://soatok.blog/2020/10/28/bizarre-design-choices-in-zooms-end-to-end-encryption/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/design/">#design</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/zoom/">#zoom</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1031799.html"><img src="http://img2.diglog.com/img/2020/10/thumb_63d1d42fd7d436faef6b41078868d0a0.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031799.html">亚马逊Echo Dot(2020)评论：音质出人意料的好，麦克风不错，价格低廉，但新的球形设计更显眼，也更难安装</a></div><span class="my_story_list_date">2020-10-29 9:39</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031798.html"><img src="http://img2.diglog.com/img/2020/10/thumb_547a04cdd73a28f005c906bf06da1228.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031798.html">LG翼评论：有趣的设计，出色的制造质量，坚固的性能，但是价格昂贵，它的折叠式第二屏没有太多用途</a></div><span class="my_story_list_date">2020-10-29 9:39</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031785.html"><img src="http://img2.diglog.com/img/2020/10/thumb_95af0932b78c457d82d51802517264da.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031785.html">来源：Microsoft计划在2021年进行广泛的Windows 10更新，更新许多顶级UI的设计，包括Start和File Explorer</a></div><span class="my_story_list_date">2020-10-29 9:34</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031582.html"><img src="http://img2.diglog.com/img/2020/10/thumb_21ededac314d85399d5606f786c2d456.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031582.html">Pro1 X智能手机配有硬件键盘，专为运行LineageOS或Ubuntu而设计</a></div><span class="my_story_list_date">2020-10-28 3:8</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>