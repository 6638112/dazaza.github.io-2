<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>数学中的自指公式(2011)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">数学中的自指公式(2011)</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-05 04:34:51</div><div class="page_narrow text-break page_content"><p>I have seen   this blog about Tupper self-referential formula recently. This formula is interesting. Its graph contains all possible bitmaps that fit in region of 17 * 106 grid. So it is not much of wonder that one of those many bitmaps contains meaningful representation of the formula itself. Actually, there multiple ways to fit the formula in 17*106 grid, so there are multiple occurrences of the formula in the graph. But there are also all other formulas that fit. It is not truly self-referential since number N which you need to find right viewport is not included inside (see updates at the bottom, Jeff Tupper has	produced additional formulas that are truly self-referential,	but this famous one is not).	You cannot fit a bitmap represented as number in the same bitmap as fonts you would use for base-10 number would take at least 4*3 &#34;pixels&#34; per digit while that digit carries only log 210 bits. Is there a better way than that? Some form of compression might work.</p><p>我最近看了这个关于Tper自我参照配方的博客。这个公式很有趣。它的图形包含适合17*106网格区域的所有可能的位图。因此，在众多位图中有一个包含公式本身的有意义的表示也就不足为奇了。实际上，在17*106网格中拟合公式的方式有多种，因此该公式在图形中有多次出现。但也有其他所有的公式都符合。这并不是真正的自参考，因为您需要查找正确视口的数字N没有包含在其中(请参阅底部的更新，Jeff Tper已经生成了其他真正自参考的公式，但这个著名的公式不是)。您不能将表示为数字的位图放入同一位图中，因为您将用于基数为10的数字的字体每个数字至少需要4*3&34；像素，而该数字仅包含log210位。还有比这更好的办法吗？某种形式的压缩可能会奏效。</p><p>    So I though how I would design a formula that would be truly self-referential. This design process is more like programming for several reasons:</p><p>所以我想我该如何设计一个真正自我参照的公式。由于以下几个原因，此设计过程更像是编程：</p><p>    Here is the formula in final form (I will probably describe steps how I arrived to this form in some follow up article if there is enough interest). Originally I have used Haskell in design process. To verify final form, I had to create C program (uses GMP big number library) since Haskell was too slow. This allowed me to verify it again that the formula is matching the program. This is the formula as formated with LyX:</p><p>以下是最终形式的公式(如果有足够的兴趣，我可能会在后续文章中描述我如何达到这种形式的步骤)。最初，我在设计过程中使用了Haskell。为了验证最终的形式，我不得不创建C程序(使用GMP大数库)，因为Haskell太慢了。这使我可以再次验证公式是否与程序匹配。这是用LyX表示的公式：</p><p>        Now this one omitted the value of N. The N is very big number, it contains 12876 digits. You can see the N in the graph of the function below. Also, you can copy and paste the N from C source program below. Here is the function as it graphs itself (inside yellow border):</p><p>这个数字省略了N的值。N是一个非常大的数字，它包含12876位数字。您可以在下面的函数图中看到N。此外，您还可以复制并粘贴下面的C源程序中的N。下面是它自己绘制图形时的函数(黄色边框内)：</p><p>        You can find source of the program I used to plot it  here (it requires  GMP big number library to compile and run). At the top of the program there are constants which allow to define viewport you want. It is set to some interesting region that includes part of N. But you can set it to whole region if you have patience. Output graph is printed on terminal, &#39;#&#39; denotes true value, &#39; &#39; denotes false values. If you set wider X axis than fits the terminal, you can redirect to file and open in non-word wrapping editor with monospaced font. I have transformed such file to PBM ASCII format and used GIMP to get the image above.</p><p>你可以在这里找到我用来绘制它的程序的源代码(它需要GMP大数库来编译和运行)。在程序的顶部有一些常量，可以用来定义你想要的视区。它被设置为一些有趣的区域，包括N的一部分，但如果您有耐心，可以将其设置为整个区域。输出图形打印在终端上，&#39；#&#39；表示真值，&#39；##39；表示假值。如果设置的X轴比终端大，则可以重定向到文件，并使用等宽字体在非自动换行编辑器中打开。我已经将这样的文件转换成PBM ASCII格式，并使用GIMP获得上面的图像。</p><p>  Beware that the C program is very slow. On my computer it ran for about 30 hours. I could optimize it, but I wanted the functions in C to correspond closely to the functions in the formula. While the program uses integer values for x and y computation, you can graph it with real valued x and y too. You can make it significantly faster if you don&#39;t want to see all digits of the N in this way. Replace:</p><p>注意C程序非常慢。在我的电脑上，它运行了大约30个小时。我可以对其进行优化，但我希望C中的函数与公式中的函数紧密对应。虽然程序使用整数值进行x和y计算，但是您也可以用实数值x和y来表示它。如果您不想以这种方式看到N的所有数字，则可以大大加快速度。替换：</p><p>        In this case, you will see only last 60 digits of the N (and they will be shifted to different locations).</p><p>在本例中，您将只看到N的最后60位(并且它们将被转移到不同的位置)。</p><p>    2017-12-29 - I have noticed that Jeff Tupper has produced additional formulas that are truly self-referential, they are  here. Files have year 2007 so they predate my formula from 2011.</p><p>2017年12月29日-我注意到杰夫·塔珀(Jeff Tper)创造了更多真正自我参照的公式，它们就在这里。文件有2007年，所以它们早于我2011年的公式。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://jtra.cz/stuff/essays/math-self-reference/index.html">https://jtra.cz/stuff/essays/math-self-reference/index.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/自指/">#自指</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/formula/">#formula</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/公式/">#公式</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>