<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>链编程语言 Strand Programming Language</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Strand Programming Language<br/>链编程语言 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-04-28 10:48:35</div><div class="page_narrow text-break page_content"><p>Home  ,---.| | `---.|--- ,---.,---.,---.,---| || | ,---|| || | `---&#39;`---&#39;` `---^` &#39;`---&#39;&#34;Strand&#34; is an open-source implementation of the identically namedparallel Prolog dialect as described in the book &#34;Strand: NewConcepts for Parallel Programming&#34; by Ian Foster and Stephen Taylor.Strand represents a very elegant and concise notation for expressingconcurrent and distributed algorithms using only a small number offundamental language constructs and a very simple execution model.This implementation of Strand is written in Forth and runs on Linuxx86-64/ARM, Mac OS X x86-64 and OpenBSD amd64 systems, has nodependencies and is entirely self-contained. Operating system facilities are invoked directly via system calls, no C runtimelibrary is required. The Forth system is provided with sourcecode and is able to recompile itself into an ELF or Mach-O binary.&#34;Strand&#34; is a trademark of Artificial Intelligence Ltd., whichonce offered a commercial implementation.Version: 9 Read the User&#39;s Manual  Get the code Release History: Version 9: * Language changes: - &#34;put_bytes/3&#34; has been removed, &#34;put_bytes/4&#34; has been renamed to &#34;$put_bytes/4&#34;. - Added &#34;char_list_to_bytes/2&#34;, &#34;bytes_to_char_list/3&#34;, &#34;integer_to_list/4&#34;, &#34;string_search/3&#34;, &#34;string_search/4&#34;, &#34;copy_bytes/4&#34;, &#34;pack/2&#34;, &#34;unpack/2&#34; and &#34;getcwd/1&#34;. - Added the special forms &#34;foreach/3&#34; and &#34;when/2&#34;. * VM changes: - In the underlying Forth interpreter, more words have beenre implemented in assembly language which speeds up the VM considerably. - Fixed a serious memory-leak in &#34;merger/2&#34;. - Forth words invoked via &#34;$foreign_call&#34; must follow the &#34;&lt;name&gt;/&lt;arity&gt;&#34; convention. - In debug-mode messages sent via &#34;send/2&#34; and &#34;send/3&#34; are shown in the log file. - Fully dereferencing complex data structures handles lists of arbitrary length by using a tail-recursive traversal algorithm. * Library changes: - &#34;proc&#34; module: the &#34;close/1&#34; I/O-descriptor for &#34;execute&#34; now actually works. - &#34;fmt&#34; module: byte block objects are allowed as arguments for the &#34;~s&#34; directive. - &#34;list&#34; module: added &#34;join/4&#34; and &#34;find/3&#34;. - &#34;map&#34; module: fixed an ordering bug in &#34;replace/N&#34;. - &#34;sys&#34; module: completion of full distributing of topology information through a process network is now ensured before commencing multi-node applications. * Compiler changes: - Process-definitions that contain only a single clause and have only variables in the definition-head generate more efficient code. - Complex compound literals are compiled in a more space-efficient way so that the literal is only created once during compile time. * Tool changes: - &#34;strand start&#34; didn&#39;t create the vm-file from scratch, but only appended to an existing one. - The &#34;plot&#34; utility is now a subcommand of &#34;strand&#34;. Version 8: * AArch64/Linux is now supported. * Language changes: - Added new primitives &#34;delete_file/2&#34;, &#34;kill/3&#34;, &#34;bytes_to_list/3&#34;, &#34;list_to_bytes/2&#34;, &#34;make_bytes/2&#34;, &#34;make_bytes/3&#34;, &#34;put_bytes/3&#34;, &#34;put_bytes/4&#34;, &#34;get_bytes/5&#34;, &#34;write_bytes/3&#34;, &#34;write_bytes/5&#34;, &#34;timer/2&#34;, &#34;timer/3&#34;, &#34;utf_encode/3&#34;, &#34;current_node/1&#34;, &#34;current_node/2&#34; and &#34;current_module/1&#34;. - Added the guard &#34;bytes/1&#34;. - Byte block objects have a literal and printable representation (&#34;#&lt;hex...&gt;&#34;). - &#34;read_bytes&#34; reads byte-block objects now, not byte lists. Use &#34;io:read_byte_stream&#34; to convert the block into a byte stream. - In quoted string and character list literals the escape sequence &#34;\e&#34; (ASCII 27) is allowed. * VM changes: - Re-registration of peers for the topology protocol doesn&#39;t leak memory anymore. - Distributed idleness detection has been removed, it was too complex and unreliable to be supported for all situations and is better handled in a user- and application-specific manner. - Environment accessors produce slightly shorter and more efficient code. - A failure of delivery of a message via tunnel doesn&#39;t terminate the tunnel node anymore, an error message is printed to stderr instead and the message is dropped. - Some I/O system calls produced fatal errors on failure instead of properly terminating when running inside a task. - &#34;merger/2&#34; leaked processes which prevented tasks using this primitive to terminate properly. - &#34;get_global/2&#34; printed an invalid value when the global could not be found. - Heap-statistic logging can be enabled separately from other statistics by using the &#34;-hs&#34; command line option. - Variable dereferencing has been slightly optimized, variable-chains are partially &#34;collapsed&#34; to reduce subsequent derefencing of the same chain. - Fixed bugs in ARM 32-bit Forth kernel (implementation of `u&lt;`, `errno`). * Compiler changes: - Added &#34;meta&#34; and &#34;machine&#34; declarations. - Every compiled module exposes the process definition &#39;$META&#39;/1 allowing adding arbitrary meta-data to modules. - A module that contains no &#34;exports&#34; declaration exports all defined processes by default. * Library changes: - The &#34;ns&#34; module has been dropped. - In the &#34;map&#34; module, AVL nodes now cache their subtree height which speeds up access by an order of a magnitude. * Tool changes: - &#34;strandc&#34; has been integrated into &#34;strand&#34;, use &#34;strand -c ...&#34; to compile a source file into a binary module. - Multi-node applications has been completely overhauled. Instead of starting a number of nodes for every application, the concept of continuously running &#34;node pools&#34; is used, in which application modules are injected to execute in a node network. This removes the possibility of race-conditions when setting up a node pool during application start. Pools and tunnels connecting them are now started manually and continue executing until nodes abort due to fatal errors. Topologies are assigned on application startuo which makes node pools somewhat more resilient should single nodes terminate unexpectedly. Version 7: * PowerPC64le/Linux is now supported (Thanks to Cameron Kaiser for various useful suggestions). * VM changes: - Task failure returns a somewhat more meaningful error string than a simple tag designating the type of error. - Error conditions during the internal use of poll(2) are caught and trigger an error message. - Receiving of messages didn&#39;t lock the port properly before testing for incoming data. * Documentation changes: - The protocol description has been moved from the manual the the &#34;HACKING&#34; document. * Tool changes: - Several bugfixes in the &#34;strand&#34; script. * Library changes: - The &#34;avl&#34; module has been renamed to &#34;map&#34;. Version 6: * Language changes: - Removed &#34;randomize/1&#34; primitive and &#34;random/1&#34; expression operator (See new &#34;rnd&#34; module for an alternative interface to random and pseudo-random numbers). - Added &#34;writeln/2&#34;. * Compiler changes: - Second-level clause-indexing has been added for tuples and list heads, which reduces matching overhead in large process definitions. * Tool changes: - The &#34;strand&#34; tool has been rewritten in sh(1) and is now included in the base distribution. - &#34;strand&#34;/&#34;strandc&#34;: the symlink resolution wasn&#39;t correctly handled for obtaining the home-location of the VM and libraries. - &#34;strand&#34;: the handling of &#34;start&#34;, &#34;stop&#34;, &#34;premake&#34; and &#34;postmake&#34; project properties properly expands the values before invoking them as shell commands. - &#34;plot&#34; has been reimplemented as a sh(1) script. - &#34;strand&#34; now supports distributed projects with more than 2 machines. * Library changes: - Topologies exchanged between &#34;ns&#34; nodes on different machines are now ensured to be fully instantiated as peer-resolution on a remote ns node with a topology data structure that contained remote variable references could result in a deadlock. - &#34;ns&#34; nodes now include tunnels in the total node count to ensure all tunnel nodes are properly running before starting idle detection and other communication. - Added library for pseudo random numbers and access to system random source (&#34;rnd&#34; module). - idleness-detection can now be disabled by passing an option to the &#34;ns&#34; module. Version 5: * Language changes: - Added support for &#34;ports&#34;, a practical stream abstraction, with new primitives &#34;open_port/2&#34;, &#34;send/2&#34;, &#34;send/3&#34; and new guard &#34;port/1&#34;. - Added &#34;get_global/3&#34;. - The peer name &#34;all&#34; can be used to perform a broadcast by invoking a process on all peers in a collection of nodes. - &#34;command_line/1&#34; now only returns the arguments (without the executable name) and ignores previous arguments if &#34;--&#34; is given. - Added the guard &#34;idle&#34; for triggering processes when a node or a network of nodes becomes idle. * VM changes: - Fixed a nasty bug in module-unmarshaling code that would result in message ports not being properly cleared after receiving a message containing an already loaded module. - Ordering of modules using one of the comparison guards like &#34;@&gt;/2&#34; is now stable. - Implemented idleness detection for single or multiple nodes. - Small integers are encoded in bytecode in a more efficient manner which reduces the size of compiled modules considerably. - Also, small integers are encoded in the internal marshalling format more efficiently. * Protocol changes: - The termination protocol has been extended to a two-stage process to make it more reliable. * Compiler changes: - Fixed bug that caused deadlock when an incomplete term was parsed. - the performance of clause-indexing for atomic arguments in the first argument position of a process definition has been improved. * Library changes: - Moved set operations &#34;union/3&#34;, &#34;intersection/3&#34; and &#34;difference/3&#34; from &#34;list&#34; into new &#34;set&#34; module. - &#34;fmt&#34; module: added &#34;~x&#34; output format (hex integer). - &#34;list&#34; module: added &#34;pad_left/4&#34;, &#34;pad_right/4&#34; and &#34;make/*&#34;. - Added &#34;strand&#34; module for reading Strand terms. - Fixed some serious bugs in the &#34;avl&#34; module. * Documentation changes: - Added section to MANUAL describing the VM execution model. - Extended documentation of node-communication protcols. * Tool changes: - &#34;strand&#34;: added &#34;keep-remote-files&#34; option to retain log- and output-files of started remote nodes. Version 4: * Language changes: - The &#34;time/0&#34; expression operator has been replaced with a primitive process (&#34;time/1&#34;). - The &#34;pledge&#34; and &#34;unveil&#34; primitive processes take a third argument now to indicate completion. - Added the &#34;set_user_id/2&#34;, &#34;module_exports/2&#34; and &#34;deref/2&#34; primitive processes. - Added expression operators &#34;max/2&#34; and &#34;min/2&#34;. * VM changes: - When listening on multiple files, registered listeners where not always correctly unregistered once input was available. - When idle, the time waited between attempts to lock a port or receive a message progressively increases to reduce CPU cycles for long-running nodes and can be tuned using the &#34;-r&#34; command line option. * Tool changes: - &#34;strandc&#34;: - Circular assignments detected when compiling a file show offending variable instead of producing an infinite error message. - Redefinition of internal or primitive processes signals a compiler error now. - Non-anonymous singleton variables in process definitions produce a warning, which greatly reduces inadvertedly caused deadlocks by wrongly named variables. * Library changes: - &#34;io:read_byte_stream/2&#34; and &#34;io:read_char_stream/2&#34; are now non-blocking. - added &#34;io:split_lines/2&#34;. - added &#34;list:scan/4&#34;, &#34;list:take/4&#34;, &#34;list:drop/3&#34; and &#34;list:cut/5&#34;. - &#34;fmt&#34; module: fixed a bug in handling of &#34;~?&#34; with an initial list argument. Version 3: * Language changes: - Added &#34;run/3&#34; to invoke tasks in the current module. - Dropped the guard &#34;file_exists/1&#34; and added the primitive process &#34;file_status/2&#34; to obtain information about the type and existance of a file. - &#34;open_file/3&#34;, &#34;shell/2&#34;, &#34;file_size/2&#34;, &#34;chdir/1&#34;, &#34;file_modification_time/2&#34; and &#34;getenv/2&#34; accept strings or character lists as their first argument. - Added a third argument to &#34;put_global&#34; to signal when the store is complete. - The numerical comparison guards &#34;&gt;/2&#34;, &#34;&lt;/2&#34;, &#34;&gt;=/2&#34; and &#34;=&lt;/2&#34; accept now any numerical expression as arguments. - Added numerical comparison guards &#34;=:=/2&#34; and &#34;\=:=/2&#34;. - On OpenBSD, &#34;pledge/2&#34; and &#34;unveil/2&#34; can be used to restrict access to operating-system facilities and the file-system. * VM changes: - Added the &#34;-v&#34; option to show the VM version. - When the message-file designated by the &#34;-f&#34; option could not be opened, a proper error is shown instead of crashing. - File reading/writing behaves properly in the presence of signals triggered by child-process termination. - Increased the port size to 32k. - When comparing values for equality, identical remotes compare equal without requiring message traffic. * Compiler changes: - Error handling has been overhauled and provides somewhat improved error messages. - Slightly reorganized compiler toplevel module and renamed it to &#34;stc&#34;. * Tool changes: - &#34;strand&#34;: - The &#34;nodes&#34; property holds now the total number of nodes, including any remote nodes. - Several bugfixes with regard to start + cleanup of remote processes. - passes &#34;-i &lt;strandhome&gt;/lib/&lt;OSNAME&gt;&#34; to invocations of the VM. - &#34;strandc&#34;: - allows compiling multiple files in one invocation. - correctly searches location of VM and added &#34;-home&#34; option to show it. * Library changes: - Added the &#34;~?&#34; (recursive format) format specifier to &#34;fmt:format/*&#34;. - Repaired handling of &#34;~s&#34; with &#34;fmt:format_chars/*&#34;. - Fixed several bugs in the &#34;proc&#34; module related to the invocation of external processes. - &#34;proc:execute/4&#34;: changed order of arguments and added PID to results. * Documentation changes: - Documented internal primitive processes in HACKING. Version 2: * Language changes: - Double-quoted strings can now be used as a more convenient syntax for lists of character codes. - &#34;command_line/1&#34; now includes the program name as the first element in the returned list. - Added primitive processes &#34;get_global/2&#34;, &#34;put_global/2&#34; and &#34;chdir/1&#34;. * VM changes: - On x86_64, the Forth engine is now significantly faster due to inlining of the inner interpreter in the assembly language kernel. - Signal handling has been implemented for Darwin, and a bug in the Mach-O binary generation been fixed. Also, the interface to the &#34;pipe(2)&#34; system call is working now (Many thanks to Jorge Acereda Maciá!) * Library changes: - Added &#34;list:append/2&#34;, &#34;list:split/4&#34;, &#34;list:trim/3&#34;, &#34;list:trim_left/3&#34; and &#34;list:trim_right/3&#34;. - &#34;proc:execute/3&#34; accidentally left file-descriptors open in the parent process. - &#34;proc:execute/3&#34; now properly searches PATH for locating the program invoked in the subprocess. - Added &#34;proc:capture/3&#34;. - Added the &#34;~s&#34; (char-list) format specifier to &#34;fmt:format/*&#34; - &#34;io:read_byte_stream/2&#34; and &#34;io:read_char_stream/2&#34; do not close the input stream at end of input. * Tool changes: - Fixed incorrect passing of debug options to remote process-invocations when using the &#34;strand&#34; tool in strand-utils. Version 1: Initial release</p><p>Warning: Can only detect less than 5000 characters</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="http://www.call-with-current-continuation.org/strand/strand.html">http://www.call-with-current-continuation.org/strand/strand.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/编程/">#编程</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/编程语言/">#编程语言</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/warning/">#warning</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>