<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>140K的代码线：为什么我们构建了自己的许可系统 140k lines of code: why we built our own licensing system</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">140k lines of code: why we built our own licensing system<br/>140K的代码线：为什么我们构建了自己的许可系统 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-13 00:38:32</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/6/b792a57b964e66a67fdc4f6a6396586f.png"><img src="http://img2.diglog.com/img/2021/6/b792a57b964e66a67fdc4f6a6396586f.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>You have  0 further articles remaining this month.  Join LeadDev.com for free to read unlimited articles.</p><p>你有0个在本月剩下的另一些文章。加入Leaddev.com免费阅读无限文章。</p><p> An incredible amount of work has gone into these products, but behind them, invisible to an outsider, there is often just as much code buried in internal systems and ‘supporting’ projects.</p><p> 令人难以置信的工作已经进入了这些产品，但在他们身后，对局外人来说是看不见的，通常在内部系统和“支持”项目中埋葬了很多代码。</p><p> Here&#39;s what this looks like for us: our product  ‘Tower’ is a desktop GUI for Git. It helps over 100,000 users in companies like Apple, Amazon, and Google work more productively with the Git version control system. The codebase for the macOS version alone has over 300,000 lines of code.</p><p> 在这里，这对我们来说是什么样的：我们的产品'Tower'是Git的桌面GUI。它有助于苹果，亚马逊等公司在100,000多个用户使用Git Version Control系统的高效工作。单独的MacOS版本的Codebase具有超过300,000行代码。</p><p> But in the background, we have another major internal ‘product’: our  licensing system. It controls everything from licenses, plans, and subscriptions all the way to discounts, sales offers, and custom orders. It&#39;s fair to say that these 140,000 lines of code are vital for our business – but largely invisible to the outsider.</p><p> 但在背景中，我们有另一个主要的内部“产品”：我们的许可系统。它可以控制许可证，计划和订阅的一切折扣，销售优惠和自定义订单。它＆＃39;公平地说，这140,000行代码对于我们的业务至关重要 - 但在局外人面前是不可见的。</p><p>  Almost eleven years ago, when we started developing Tower, we instantly saw the need for this licensing system. But it took us quite some time to decide if we should build or buy it. Finally, as you already know, we went ahead to build our own custom system.</p><p>  差不多十一年前，当我们开始开发塔时，我们立即看到了这一许可系统的需求。但我们花了很长时间来决定我们是否应该建造或购买。最后，正如你已经知道的那样，我们继续建立自己的自定义系统。</p><p>  Choice of third-party systems. The market, at that time, didn&#39;t offer much choice. There were only a few systems that did what we wanted, and they seemed awfully expensive.</p><p>  选择第三方系统。市场，那时，没有提供太多选择。只有几个系统做了我们想要的，它们似乎非常昂贵。</p><p> Existing skills. We knew we had all the necessary skills to build it with our own team. We wouldn&#39;t have to learn new technologies or hire new people for this.</p><p> 现有技能。我们知道我们拥有与自己的团队建立它的所有必要技能。我们不会为此学习新技术或雇用新人。 </p><p> Manageable effort. We were pretty confident that we&#39;d be able to build our own, custom-tailored system without too much effort.</p><p>可管理的努力。我们非常相信我们＆＃39; D能够建立自己的定制系统，没有太多的努力。</p><p>  It goes without saying that the reality of building such a complex system had some surprises.</p><p>  不言而喻，建立这种复杂系统的现实有一些惊喜。</p><p>  Anyone who&#39;s been part of a slightly larger software project might have giggled at my naive hope for ‘manageable effort’: ‘quick and easy’ projects do not exist in software development! And, of course, our licensing system was no exception: to this day, we&#39;ve invested approximately three person-years in the system. For a company with just nine team members (and even fewer in the past), this is truly a huge investment.</p><p>  任何人＆＃39;＆＃39; S的一部分略大的软件项目可能会在我的天真希望“可管理的努力”中咯咯地笑：“快速而简单”的项目在软件开发中不存在！当然，我们的许可系统也不例外：至今，我们在系统中投入了大约三个人。对于一个拥有九个团队成员的公司（过去甚至更少），这是真正的投资。</p><p>  Time and again, we were convinced that the system would soon be ‘complete’. Done. Finished. Finito! But new requirements kept coming up from inside our own sales and support team. Only recently we finally understood that the system evolves with our own business model – and therefore will probably  never be finished!</p><p>  时间又一次，我们相信该系统很快就会“完整”。完毕。完成的。 Finito！但是，新的要求远离我们自己的销售和支持团队。只有最近我们终于明白，系统会随着我们自己的商业模式演变 - 因此可能永远不会结束！</p><p>  When we started, we thought we were about to recreate a fairly standard piece of software; it would take care of licenses and activations, something that&#39;s common for many software products. But we came to realize that  most of the system is highly custom to how  we do things, how our  own software works, and how  our internal workflows are designed.</p><p>  当我们开始时，我们认为我们即将重新创建一个相当标准的软件;它将负责许可证和激活，其中一些软件产品常见。但我们开始意识到大多数系统都非常习惯我们如何做事，我们自己的软件如何工作，以及我们的内部工作流程是如何设计的。</p><p>  Today, eleven years later and with lots of lessons learned, there&#39;s an interesting question to ask: ‘Would we do it again and build instead of buy?’</p><p>  今天，十一年后，有很多经验教训，有一个有趣的问题：“我们会再做一次并建造而不是买？'</p><p>  No, because of the huge time investment. The time required to develop and maintain the system varied a lot through the years, depending on whether our business itself changed or not. But in high times, we often struggled to make time, because all efforts here came on top of our product development.</p><p>  不，因为巨大的时间投资。根据我们的业务本身是否改变，发展和维护系统所需的时间变化了很大的变化。但在很高的时候，我们经常努力腾出时间，因为这里的所有努力都是我们的产品开发。 </p><p> No, also, because building your own system often tempts you to overdo it with the features you (think you) need. If we had gone with a standard solution, bought or rented from a third-party vendor, we would have had to be content with the features that system offered. If you&#39;re building your own, the sky&#39;s the limit – and additional requirements from inside your own team never stop.</p><p>不，也是，因为建立自己的系统经常诱惑你用你（思考你）需要的功能过度。如果我们已经使用了标准解决方案，从第三方供应商那里购买或租用，我们必须满足于系统所提供的功能。如果您＆＃39;修改自己的，天空＆＃39;是您自己的团队内部的极限和其他要求永远不会停止。</p><p>  Yes, because developing such a vital system ourselves makes sure we&#39;re not locked into a third-party product. In general, we are big fans of  not building our own stuff; there are lots of great tools and services out there! But for such a vital part of our business, it feels good to be in control. A third-party product going out of business or going in the wrong direction would have a severe impact on our company.</p><p>  是的，因为开发了这样一个重要的系统，我们自己确保我们＆＃39;重新锁定到第三方产品中。一般来说，我们是没有建造自己的东西的大粉丝;那里有很多伟大的工具和服务！但对于我们业务的这种重要组成部分，令人难以控制。第三方产品出于业务或进入错误的方向会对我们公司产生严重影响。</p><p> Yes, also, because we would have a hard time handling many requests with a standard software system. For example, many of our bigger customers are buying their licenses through a ‘reseller’. The purchasing process is quite different in such a case, compared to a customer who&#39;s buying Tower for themselves. Our own system allows us to carefully  design this process exactly as  we see fit.</p><p> 是的，也是因为我们很难处理许多用标准软件系统的请求。例如，我们的许多更大客户正在通过“经销商”购买其许可证。与自己购买塔的客户相比，购买过程在这种情况下是完全不同的。我们自己的系统允许我们尽心尽力地设计这个过程。</p><p>   The details of your project matter quite a lot, which makes it hard to give a generalized answer. That&#39;s why there&#39;s only a little advice that I dare to give.</p><p>   您的项目的细节很重要，这使得难以给出一般性答案。那个＆＃39;为什么有＆＃39;只有我敢于给予的一些建议。</p><p> 1. Try  not to build your own! In most cases, buying is the better decision. Often simply for financial reasons, because most projects tend to be more complex and require more time and resources than initially thought. But also because it makes it harder for you to focus: instead of giving your core product all the attention and resources you have, you begin to spread yourself thin.</p><p> 1.尽量不要建立自己！在大多数情况下，购买是更好的决定。通常只是为了财务原因，因为大多数项目往往更复杂，需要更多的时间和资源而不是最初的想法。而且，因为它让你更难专注：而不是给你的核心产品你所拥有的所有关注和资源，你开始传播自己薄。</p><p> Only when the system in question is tightly connected to your business model – and its evolution – might it make sense to build your own.</p><p> 只有当有问题的系统密切相关时才与您的业务模式密切相关 - 它的进化 - 可能是建立自己的意义。</p><p> 2. If you decide to build, be sure you can stick it out! When we made the decision to build, we estimated the effort for an  initial version pretty accurately. But we were in no way prepared that the project would develop a life of its own, causing so much work on an  ongoing basis. Therefore, if you decide to build something, make sure you have the resources to keep it up for a  long time.</p><p> 2.如果您决定建立，请确保可以将其粘在一起！当我们做出决定建立时，我们估计了准确的初始版本的努力。但我们绝不准备该项目将培养自己的生活，持续持续工作。因此，如果您决定构建某些东西，请确保您有资源保持很长时间。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://leaddev.com/technical-decision-making/140000-lines-code-why-we-built-our-own-licensing-system">https://leaddev.com/technical-decision-making/140000-lines-code-why-we-built-our-own-licensing-system</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/代码/">#代码</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/许可/">#许可</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/code/">#code</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/系统/">#系统</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>