<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Smalltalk的位语法</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Smalltalk的位语法</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-08 09:15:53</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/9cda95b7a7791a5d57b98b7a9cdcc892.jpg"><img src="http://img2.diglog.com/img/2020/10/9cda95b7a7791a5d57b98b7a9cdcc892.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>当我在一个移动Smalltalk系统上工作时，我发现自己需要解码和编码许多复杂的电话数据包格式1，例如，传入的SMS Delivery消息，其中包含GSM 03.40格式的SMS-Delivery TPDU，该TPDU包含7位(！)。GSM 03.38-编码文本：</p><p>事实证明，要获得一部可以正常工作的手机，需要过多的这样的二进制格式。</p><p>我一开始手卷它们，但很快就变得太多了，所以我从Erlang那里大方地借用了一些东西，并为Smalltalk实现了BitSyntaxfor Smalltalk。(毕竟，我已经在为Smalltalk系统守护进程使用受Erlang影响的演员了！)。</p><p>我以前做过这件事，对于Sracket，还有很多其他类似的项目，比如JavaScript和OCaml。</p><p>BitSynTax包包括一个BitSyntaxCompiler类，该类解释BitSyntaxSpecification对象，生成合理高效的Smalltalk，用于解码和编码二进制结构，将字节映射到实例变量，然后再映射回来。</p><p>到编译代码的接口很简单。在为上述数据格式编译了BitSyntaxSpecification之后，我们可以直接分析示例消息：</p><p>例如，对于上述数据格式，我们将为SmsIncome类提供以下规范：</p><p>以及SmsAddress和SmsPdu的相应规范(此处出于空间原因省略)，以及SmsPdu子类SmsPduDeliver的以下规范：</p><p>这些都不是平凡的例子；简单的例子很简单，而复杂的例子通常不需要手写代码就可以表达出来。EDSL是可扩展的，因此可以根据需要轻松添加更多的组合符和解析器类型。</p><p>电话分组格式在某些地方特别奇怪。七位文本编码？真的？对电话号码进行编码的多路。长度有时以八位字节表示，有时以半八位字节表示，有时以七位字节表示(！)。隐式填充。偶尔会将8位数据硬塞到消息的基于七位字节的部分中。比特字段到处都是。所有内容都是缩写，交叉引用到另一个文档。看着3gpp和gsm的规格让我回想起上一次我做电话的时候，大约20年前，…。*↩</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://eighty-twenty.org/2020/10/07/bit-syntax-for-smalltalk">https://eighty-twenty.org/2020/10/07/bit-syntax-for-smalltalk</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/smalltalk/">#smalltalk</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/bitsyntax/">#bitsyntax</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/需要/">#需要</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1027724.html"><img src="http://img2.diglog.com/img/2020/10/thumb_1d048ed6827fdee3b45a1fd2b2d0eda9.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1027724.html">绝对朴实无华相当无知不完整的初学者Smalltalk指南</a></div><span class="my_story_list_date">2020-10-7 18:8</span></div><div class="col-sm"><div><a target="_blank" href="/story/1025954.html"><img src="http://img2.diglog.com/img/2020/9/thumb_a2886c7db03f7e5e98ddf60a8289f491.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1025954.html">设计模式、Smalltalk和失落的代码阅读艺术</a></div><span class="my_story_list_date">2020-9-24 2:47</span></div><div class="col-sm"><div><a target="_blank" href="/story/1020361.html"><img src="http://img.diglog.com/img/2020/8/thumb_9cda95b7a7791a5d57b98b7a9cdcc892.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1020361.html">Postmarket OS手机上的Sceak Smalltalk</a></div><span class="my_story_list_date">2020-8-26 13:32</span></div><div class="col-sm"><div><a target="_blank" href="/story/1003682.html"><img src="http://img.diglog.com/img/2020/5/thumb_ac90d32b417868cfe0d109c0677b8187.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1003682.html">Dbanay/Smalltalk-“by the Blue book”C++Implementation of Smalltalk-80</a></div><span class="my_story_list_date">2020-5-25 21:40</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>