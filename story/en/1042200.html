<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Wisp：用C ++编写的轻量级Lisp Wisp: A light Lisp written in C++</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Wisp: A light Lisp written in C++<br/>Wisp：用C ++编写的轻量级Lisp </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-28 22:47:48</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/13978cda23992f3c036f3b2810e7c91f.png"><img src="http://img2.diglog.com/img/2020/12/13978cda23992f3c036f3b2810e7c91f.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Lisp is one of those niche, beautiful languages that people only really use to either</p><p>Lisp是人们真正习惯于使用的那些利基，优美的语言之一</p><p>   The answer is simple:   I&#39;m bored out of my mind in quarantine. If you were looking to find out why  this particular lisp is special, you&#39;re fresh out of luck.</p><p>   答案很简单：我对隔离感到无聊。如果您想找出为什么这种特殊的口吻特别特别，那么您将一无是处。</p><p>     Like every other lisp, this language uses s-expressions for code syntax and data syntax. So, for example, the s-expression  (print 5) is both a valid code snippet, and a valid list containing the items  print and  5.</p><p>     像其他所有lisp一样，该语言将s表达式用于代码语法和数据语法。因此，例如，s表达式（打印5）既是有效的代码段，又是包含列表print和5的有效列表。</p><p> When the data  (print 5) is evaluated by the interpreter, it evaluates  print and  5, and then applies  print to  5.</p><p> 解释器评估数据（打印5）时，将评估打印5，然后将打印应用于5。</p><p>   That&#39;s super cool! But what if we want to define our own functions?  We can use the builtin function  defun!</p><p>   太酷了！但是，如果我们想定义自己的功能呢？我们可以使用内置函数defun！</p><p> ; define a function `fact` that takes an argument `n`( defun  fact (n) ( if (&lt;= n  1)  1 (* n (fact (- n  1))) ))</p><p> ;定义一个接受参数n的函数fact（defun fact（n）（if（＆lt; = n 1）1（* n（fact（-n 1）））））</p><p> Thats awesome! But did you notice anything different about the  defun function?  It doesn&#39;t evaluate its arguments. If the atom  fact were evaluated, it would throw an error like so:</p><p> 棒极了！但是您注意到defun功能有什么不同吗？它不会评估其参数。如果对原子事实进行了评估，它将引发如下错误： </p><p> &gt;&gt;&gt; facterror: the expression `fact` failed in scope { } with message   &#34;atom not defined &#34;</p><p>＆gt;＆gt;＆gt; facterror：表达式“ fact”在范围{}中失败，消息＆＃34; atom未定义＆＃34;</p><p> This is known as a special form, where certain functions &#34;quote&#34; their arguments. We can quote things ourselves too, but the language  automatically quotes arguments to special forms itself.</p><p> 这被称为特殊形式，其中某些功能＆quot; quote＆＃34;他们的论点。我们也可以自己引用事物，但是语言会自动引用特殊形式的参数。</p><p>  ; quote the s-expression (1 2 3) so it&#39;s not evaluated&gt;&gt;&gt; (print &#39;( 1  2  3))( 1  2  3) =&gt; ( 1  2  3)</p><p>  ;引用s表达式（1 2 3），以便不对其进行评估。 （打印＆＃39;（1 2 3））（1 2 3）=＆gt; （1 2 3）</p><p> As you can see, quote negates an evaluation. For example, whenever the expression  &#39;&#39;a is evaluated, it becomes  &#39;a. This can be useful for when you want to write long lists of data or variable names without wanting to evaluate them as code.</p><p> 如您所见，引用使评估无效。例如，每当对表达式＆＃39; a求值时，它就变为＆＃39; a。当您想编写较长的数据或变量名列表而不希望将它们作为代码求值时，这将很有用。</p><p> if only evaluates its  cond argument. If  cond is truthy (non-zero), then  a is evaluated. Otherwise,  b is evaluated.</p><p> 如果仅评估其cond参数。如果cond为真（非零），则评估a。否则，将评估b。</p><p> do takes a list of s-expressions and evaluates them in the order they were given (in the current scope), and then returns the result of the last s-expression.</p><p> do会获取s表达式的列表，并按照给出的顺序对其进行评估（在当前作用域中），然后返回上一个s表达式的结果。</p><p> scope takes a list of s-expressions and evaluates them in the order they were given  in a new scope, and then returns the result of the last s-expression.</p><p> scope接受s表达式的列表，并按照在新范围中给出的顺序对其进行求值，然后返回上一个s表达式的结果。 </p><p>  define evaluates the  value argument, which is then assigned to  name in the current scope.</p><p>define评估value参数，然后将其分配给当前作用域中的name。</p><p>   for iterates through the list storing each element in  x, and then evaluating all of the rest of the values in the  for body. It then returns the last value evaluated.</p><p>   for遍历在x中存储每个元素的列表，然后评估for正文中的所有其余值。然后返回最后评估的值。</p><p> while evaluates its condition expression every iteration before running. If it is true, it continues to evaluate every expression in the  while body. It then returns the last value evaluated.</p><p> while在运行之前的每次迭代都会评估其条件表达式。如果为真，它将继续评估while主体中的每个表达式。然后返回最后评估的值。</p><p>   ; quicksort( defun  qs (l) ( if (&lt;= (len l)  1) l ( do (define pivot (first l)) (+ (qs (filter ( lambda (n) (&gt; pivot n)) l)) ( list pivot) (qs (tail (filter ( lambda (n) (&lt;= pivot n)) l))) )) ))  ; decrement a number( defun  dec (n) (- n  1))  ; increment a number( defun  inc (n) (+ n  1))  ; not a bool( defun  not (x) ( if x  0  1))  ; negate a number( defun  neg (n) (-  0 n))  ; is a number positive?( defun  is-pos? (n) (&gt; n  0))  ; is a number negative?( defun  is-neg? (n) (&lt; n  0))</p><p>   ; quicksort（defun qs（l）（if（＆lt; =（len l）1）l（do（定义枢轴（前l）））（+（qs（过滤器（lambda（n）（＆gt;枢轴n））l） ）（列表枢纽）（qs（尾（过滤器（λ（n）（＆lt; =枢纽n））l））））））递减数字（defun dec（n）（-n 1））;增加一个数字（defun inc（n）（+ n 1））;不是bool（defun not（x）（if x 0 1））;对数字求反（defun neg（n）（-0 n））;是一个正数吗？（defun is-pos？（n）（＆gt; n 0））;数字是负数吗？（defun is-neg（（n）（＆lt; n 0）））</p><p>    Compile with your C++ compiler of choice. This is compatible with all standard versions of C++ since ANSI C++.</p><p>    使用您选择的C ++编译器进行编译。自ANSI C ++以来，它与C ++的所有标准版本兼容。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/adam-mcdaniel/wisp">https://github.com/adam-mcdaniel/wisp</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/c++/">#c++</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/wisp/">#wisp</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/light/">#light</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/评估/">#评估</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>