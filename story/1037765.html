<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>代码覆盖率神话 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">代码覆盖率神话 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-05 03:16:25</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/e64f82a14c0471c89d7870c1f40bc2a8.jpeg"><img src="http://img2.diglog.com/img/2020/12/e64f82a14c0471c89d7870c1f40bc2a8.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>我经常问潜在的软件工程候选人的一个问题是查明理想项目中代码覆盖率的百分比。有趣的是，其中许多人以超过90％的数字跃上蓝天。他们将开始讲讲经过良好测试的代码如何更加可靠，并为所有利益相关者带来更多价值。当我询问他们目前正在进行的项目时，现实看起来更加扎根。</p><p>  产生这种情况的原因各不相同，但请直言不讳，我说每个软件项目的1/3代码无关紧要，有漏洞，过于复杂或只是很烂。它有其存在的理由，但很可能，在未来的一年中，它将成为一种责任。对测试保持教条主义并覆盖每一行只会使摆脱它变得更加困难。</p><p> 看到，没有两行代码的价值和重要性相等。向现有应用程序添加新功能只会对其功能产生轻微影响。但是，由于现有的复杂性，需要花大量的时间进行开发和集成。复杂性越大，引入新功能所需的时间就越长。到功能投入生产时，它可能已经不相关了。</p><p> 提高代码覆盖率（并由此保持软件相关性）的唯一可行方法是识别并删除不必要的代码。</p><p> 您如何识别不相关的代码？不要搜索它。相反，让它向您展示自己。很少有人使用的软件的一维就是其历史。 Git是一个很棒的分析工具。开始使用它不仅可以防止将来出现问题，而且可以了解代码的某些部分随时间变化的位置和频率。</p><p> 在很长一段时间内，您会发现代码更改所产生的变化少于其余代码。这些是您应用程序的基础-必须经过严格测试的2/3。</p><p> 您还会发现其他每周或多或少发生更改的地方。从技术和业务角度，自问这些内容是否仍然有用。为了覆盖而添加测试将具有提高代码质量的相反效果。在设计完美的软件项目中，最经常更改的部分是配置。对代码更改频率的简单分析将显示情况是否如此。如果不是，请尝试将运动部件与核心逻辑分离。如果这也不可行，那么代码的那些部分很可能不属于代码库。将它们变成可互换的脚本（甚至存储在单独的存储库中）是一种独立解决它们的方法。 </p><p>我们不要过多地了解技术细节。 我已经在我以前的文章中提到亚当·托恩希尔（Adam Tornhill）在代码分析方面的工作：  在以后的文章中，我将讨论我应用于此处介绍的简单git one-liner的一些新想法。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://preslav.me/2020/12/03/the-myth-of-code-coverage/">https://preslav.me/2020/12/03/the-myth-of-code-coverage/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/代码/">#代码</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/覆盖率/">#覆盖率</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/code/">#code</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1037590.html"><img src="http://img2.diglog.com/img/2020/12/thumb_5569014e206e4e93d46b0baf7361ae1a.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037590.html">NPR的“代码切换”是苹果年度播客 </a></div><span class="my_story_list_date">2020-12-4 21:27</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037574.html"><img src="http://img2.diglog.com/img/2020/12/thumb_a8416ccf1614d03cdc14263ddaa3bef3.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037574.html">报告：在数据库密码保留在卫生部网站的源代码中之后，至少有2.43亿巴西人的数据被暴露了六个月 </a></div><span class="my_story_list_date">2020-12-4 21:20</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037518.html"><img src="http://img2.diglog.com/img/2020/12/thumb_5e6eddc45c605c0eae1a3ad85ef4f304.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037518.html">存储过程作为后端 </a></div><span class="my_story_list_date">2020-12-4 20:59</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037297.html"><img src="http://img2.diglog.com/img/2020/11/thumb_76ba0cf839abf34dc57c5d761c44d69d.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037297.html">ARM和无锁编程</a></div><span class="my_story_list_date">2020-11-30 23:4</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>