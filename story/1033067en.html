<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>未打补丁的WindowsZero-Day在野外为沙盒逃逸而利用</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">未打补丁的WindowsZero-Day在野外为沙盒逃逸而利用</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-04 06:56:58</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/640c8f055f248f635730f4686b5e12e0.jpg"><img src="http://img2.diglog.com/img/2020/11/640c8f055f248f635730f4686b5e12e0.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>A high-severity Windows driver bug is being exploited in the wild as a zero-day. It allows local privilege escalation and sandbox escape.</p><p>一个严重的Windows驱动程序漏洞正被当作零日攻击。它允许本地权限提升和沙盒转储。</p><p> The security vulnerability  was disclosed by Google Project Zero just seven days after it was reported, since cybercriminals are already exploiting it, according to researchers.</p><p>据研究人员称，谷歌零项目(Google Project Zero)在报告后仅七天就披露了这个安全漏洞，因为网络犯罪分子已经在利用它。</p><p> The flaw (CVE-2020-17087) has to do with the way the Windows Kernel Cryptography Driver (cng.sys) processes input/output control (IOCTL), which is a system call for device-specific input/output operations and other operations that cannot be expressed by regular system calls.</p><p>该漏洞(CVE-2020-17087)与Windows内核加密驱动程序(cng.sys)处理输入/输出控制(IOCTL)的方式有关，IOCTL是对特定于设备的输入/输出操作以及常规系统调用无法表达的其他操作的系统调用。</p><p>  “[Cng.sys] exposes a \Device\CNG device to user-mode programs and supports a variety of IOCTLs with non-trivial input structures,” according to the bug report, published on Friday. “We have identified a vulnerability in the processing of IOCTL 0x390400, reachable through [a] series of calls.”</p><p>根据周五发布的错误报告，“[Cng.sys]将\Device\CNG设备暴露给用户模式程序，并支持具有重要输入结构的各种IOCTL。”“我们在IOCTL 0x390400的处理过程中发现了一个漏洞，可通过[一系列]调用访问该漏洞。”</p><p> With specially crafted requests, an attacker can trigger a pool-based buffer overflow, which leads to a system crash and opens the door for exploitation.</p><p>通过巧尽心思构建的请求，攻击者可以触发基于池的缓冲区溢出，从而导致系统崩溃并打开利用漏洞的大门。</p><p> “The bug resides in the cng!CfgAdtpFormatPropertyBlock function and is caused by a 16-bit integer truncation issue,” the Project Zero team explained. “The integer overflow occurs in line 2, and if SourceLength is equal to or greater than 0x2AAB, an inadequately small buffer is allocated from the NonPagedPool in line 3. It is subsequently overflown by the binary-to-hex conversion loop in lines 5-10 by a multiple of 65536 bytes.”</p><p>“该漏洞存在于CNG！CfgAdtpFormatPropertyBlock函数中，是由16位整数截断问题引起的，”Project Zero团队解释说。整数溢出发生在第2行，如果源长度等于或大于0x2AAB，则会从第3行的非分页池分配不够小的缓冲区。随后，第5-10行的二进制到十六进制转换循环会使其溢出65536字节的倍数。</p><p> The team put together a proof-of-concept exploit that shows the ease of triggering an attack. It worked on an up-to-date build of Windows 10 1903 (64-bit), but researchers said that the bug appears to affect Windows versions going back to Windows 7.</p><p>该团队组合了一个概念验证漏洞，显示了触发攻击的简便性。它工作在最新的Windows101903(64位)版本上，但研究人员表示，该漏洞似乎会影响Windows 7之前的Windows版本。</p><p> “A crash is easiest to reproduce with Special Pools enabled for cng.sys, but even in the default configuration the corruption of 64kB of kernel data will almost surely crash the system shortly after running the exploit,” according to Project Zero.</p><p>根据Project Zero的说法，“在为cng.sys启用特殊池的情况下，崩溃是最容易再现的，但即使在默认配置中，64KB内核数据的损坏几乎肯定会在运行漏洞攻击后不久使系统崩溃。”</p><p> The director of Google’s Threat Analysis Group, Shane Huntley, said in the disclosure that the attacks are targeted and unrelated to any U.S. election-related targeting. Another Project Zero team member noted that Microsoft is expected to fix the bug on its next Patch Tuesday update, on Nov. 10.</p><p>谷歌威胁分析小组主任Shane Huntley在披露中表示，这些攻击是有针对性的，与任何与美国选举有关的目标无关。另一名Project Zero团队成员指出，微软预计将在11月10日的下一次Patch Tuesday更新中修复该漏洞。</p><p> Some quibbled with the short disclosure timeline, but Project Zero researchers Ben Hawkes and Tavis Ormandy defended the move on Twitter:</p><p>一些人对短暂的披露时间表提出质疑，但零项目研究人员本·霍克斯和塔维斯·奥曼底在推特上为这一举措进行了辩护：</p><p> The quick take: we think there&#39;s defensive utility to sharing these details, and that opportunistic attacks using these details between now and the patch being released is reasonable unlikely (so far it&#39;s been used as part of an exploit chain, and the entry-point attack is fixed)</p><p>速战速决：我们认为有防御性的工具来共享这些细节，而且从现在到发布补丁之间使用这些细节的机会主义攻击是相当不可能的(到目前为止，它已经被用作利用链的一部分，并且入口点攻击已经修复)。</p><p>  Ormandy  noted, “Your attack is more likely to be detected if you attempt to use documented vulnerabilities, because people know what to look for. The other details of your attack will then be analyzed.”</p><p>Ormandy指出，“如果您尝试使用记录在案的漏洞，您的攻击更有可能被检测到，因为人们知道要查找什么。然后我们会分析你们攻击的其他细节。“。</p><p> Mateusz Jurczyk and Sergei Glazunov of Google Project Zero were credited with finding the bug.</p><p>谷歌零项目的Mateusz Jurczyk和Sergei Glazunov被认为发现了这个漏洞。</p><p> Hackers Put Bullseye on Healthcare:  On Nov. 18 at 2 p.m. EDT find out why hospitals are getting hammered by ransomware attacks in 2020.  Save your spot for this FREE webinar on healthcare cybersecurity priorities and hear from leading security voices on how data security, ransomware and patching need to be a priority for every sector, and why. Join us Wed., Nov. 18, 2-3 p.m. EDT for this  LIVE, limited-engagement webinar.</p><p>黑客于11月18日下午2点将Bullseye放在Healthcare：上。EDT将找出医院在2020年遭受勒索软件攻击的原因。请保留您的位置，参加这个关于医疗网络安全优先事项的免费网络研讨会，听取领先的安全声音，了解数据安全、勒索软件和补丁如何需要成为每个部门的优先事项，以及为什么。请参加我们11月18日星期三下午2点至3点的活动。美国东部夏令时(EDT)为这场现场直播的有限参与网络研讨会。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://threatpost.com/unpatched-windows-zero-day-exploited-sandbox-escape/160828/">https://threatpost.com/unpatched-windows-zero-day-exploited-sandbox-escape/160828/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/漏洞/">#漏洞</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1032422.html"><img src="http://img2.diglog.com/img/2020/10/thumb_47c0eb942a9e144374ff55f768138d34.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032422.html">谷歌的Project Zero披露Windows 0day一直处于活跃利用状态</a></div><span class="my_story_list_date">2020-10-31 8:47</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032383.html"><img src="http://img2.diglog.com/img/2020/10/thumb_69f7c73b469e0b6699714b3d36692e50.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032383.html">
谷歌披露了一个新的Windows零日漏洞，称其正受到积极攻击</a></div><span class="my_story_list_date">2020-10-31 5:4</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032369.html"><img src="http://img2.diglog.com/img/2020/10/thumb_47c0eb942a9e144374ff55f768138d34.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032369.html">谷歌的Project Zero披露Windows 0day一直处于活跃利用状态</a></div><span class="my_story_list_date">2020-10-31 4:0</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032366.html"><img src="http://img2.diglog.com/img/2020/10/thumb_2431eb39e68d0d24720ab189d1204a7d.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032366.html">谷歌披露Windows零日在野外被利用</a></div><span class="my_story_list_date">2020-10-31 3:56</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>