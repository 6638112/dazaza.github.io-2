<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Akamai使用比特币交易找到了一个僵尸网络，将其控制服务器的IP地址放置在区块链上，这使得基本无法完全拆除 Akamai finds a botnet using bitcoin transactions to put its control server's IP address on the blockchain, making it basically impossible to fully take down</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Akamai finds a botnet using bitcoin transactions to put its control server's IP address on the blockchain, making it basically impossible to fully take down<br/>Akamai使用比特币交易找到了一个僵尸网络，将其控制服务器的IP地址放置在区块链上，这使得基本无法完全拆除 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-02-24 22:31:10</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/2/b6258ed4be622aac97f6c833be56ba50.jpg"><img src="http://img2.diglog.com/img/2021/2/b6258ed4be622aac97f6c833be56ba50.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>When hackers corral infected computers into a botnet, they take special care to ensure they don’t lose control of the server that sends commands and updates to the compromised devices. The precautions are designed to thwart security defenders who routinely dismantle botnets by taking over the command-and-control server that administers them in a process known as sinkholing.</p><p>当黑客将受感染的计算机围成一个僵尸网络时，他们会特别注意确保自己不会失去对向受感染设备发送命令和更新的服务器的控制。这些预防措施的目的是阻止安全防御者，后者通过以称为“沉坑”的过程接管管理僵尸网络的命令和控制服务器，来定期拆除僵尸网络。</p><p> Recently, a botnet that researchers have been following for about two years began using a new way to prevent command-and-control server takedowns: by camouflaging one of its IP addresses in the bitcoin blockchain.</p><p> 最近，一个已经被研究人员追踪了大约两年的僵尸网络开始使用一种新的方式来防止命令和控制服务器被盗：通过在比特币区块链中伪装其IP地址之一。</p><p>  When things are working normally, infected machines will report to the hardwired control server to receive instructions and malware updates. In the event that server gets sinkholed, however, the botnet will find the IP address for the backup server encoded in the bitcoin blockchain, a decentralized ledger that tracks all transactions made using the digital currency.</p><p>  当一切运行正常时，受感染的计算机将向有线控制服务器报告以接收指令和恶意软件更新。但是，如果服务器陷入困境，僵尸网络将找到在比特币区块链中编码的备用服务器的IP地址，这是一种分散式分类帐，可跟踪使用数字货币进行的所有交易。</p><p> By having a server the botnet can fall back on, the operators prevent the infected systems from being orphaned. Storing the address in the blockchain ensures it can never be changed, deleted, or blocked, as is sometimes the case when hackers use more traditional backup methods.</p><p> 通过使用服务器，僵尸网络可以重新启动，操作员可以防止被感染的系统被孤立。将地址存储在区块链中可确保它永远不会被更改，删除或阻止，就像黑客使用更传统的备份方法时一样。</p><p> “What’s different here is that typically in those cases there’s some centralized authority that’s sitting on the top,” said Chad Seaman, a researcher at Akamai, the content delivery network that made the discovery. “In this case, they’re utilizing a decentralized system. You can’t take it down. You can’t censor it. It’s there.”</p><p> 内容发现网络Akamai的研究人员Chad Seaman说：“这里的不同之处在于，通常在这些情况下，位于顶部的是一些中央管理机构。” “在这种情况下，他们使用的是分散式系统。你不能把它取下来。您无法对其进行审查。在那。”</p><p>  An Internet protocol address is a numerical label that maps the network location of devices connected to the Internet. An IP version 4 address is a 32-bit number that’s stored in four octets. The current IP address for arstechnica.com, for instance, is 18.190.81.75, with each octet separated by a dot. (IPv6 addresses are out of the scope of this post.)</p><p>  Internet协议地址是一个数字标签，用于映射连接到Internet的设备的网络位置。 IP版本4地址是一个32位数字，存储在四个八位字节中。例如，arstechnica.com的当前IP地址是18.190.81.75，每个八位字节之间用点分隔。 （IPv6地址超出了本文的范围。）</p><p> The botnet observed by Akamai stored the backup server IP address in the two most recent transactions posted to 1Hf2CKoVDyPj7dNn3vgTeFMgDqVvbVNZQq, a bitcoin wallet address selected by the operators. The most recent transaction provided the third and fourth octets, while the second most recent transaction provided the first and second octets.</p><p> Akamai观察到的僵尸网络将备份服务器IP地址存储在发布到1Hf2CKoVDyPj7dNn3vgTeFMgDqVvbVNZQq的两个最新交易中，这是运营商选择的比特币钱包地址。最近的事务提供了第三和第四八位位组，而第二最新的事务提供了第一和第二八位位组。 </p><p>    The octets are encoded in the transaction as a “Satoshi value,” which is one hundred millionth of a bitcoin (0.00000001 BTC) and currently the smallest unit of the bitcoin currency that can be recorded on the blockchain. To decode the IP address, the botnet malware converts each Satoshi value into a hexadecimal representation. The representation is then broken up into two bytes, with each one being converted to its corresponding integer.</p><p>八位字节在交易中被编码为“ Satoshi值”，这是比特币的百分之一（0.00000001 BTC），是目前可以在区块链上记录的最小比特币货币单位。为了解码IP地址，僵尸网络恶意软件将每个Satoshi值转换为十六进制表示形式。然后将该表示分为两个字节，每个字节都转换为相应的整数。</p><p> The image below depicts a portion of a bash script that the malware uses in the conversion process. aa shows the bitcoin wallet address chosen by the operators, bb contains the endpoint that looks up the two most recent transactions, and cc shows the commands that convert the Satoshi values to the IP address of the backup server.</p><p> 下图描绘了恶意软件在转换过程中使用的bash脚本的一部分。 aa显示了运营商选择的比特币钱包地址，bb包含了查找两个最近交易的端点，而cc显示了将Satoshi值转换为备用服务器IP地址的命令。</p><p>    The Satoshi values in the two most recent wallet transactions are 6957 and 36305. When converted, the IP address is: 209.141.45.27</p><p>    最近两次钱包交易中的Satoshi值是6957和36305。转换后，IP地址是：209.141.45.27</p><p>  Knowing this, let’s look at the values of these transactions and convert them into IP address octets. The most recent transaction has a value of 6,957 Satoshis, converting this integer value into its hexadecimal representation results in the value 0x1b2d. Taking the first byte (0x1b) and converting it into an integer results in the number 45—this will be the 3rd octet of our final IP address. Taking the second byte (0x2d) and converting it into an integer results in the number 27, which will become the 4th octet in our final IP address.</p><p>  知道了这一点，让我们看一下这些交易的价值并将它们转换为IP地址八位位组。最近的事务的值为6957 Satoshis，将该整数值转换为其十六进制表示形式将得到值0x1b2d。取第一个字节（0x1b）并将其转换为整数将得出数字45，这将是我们最终IP地址的第三个八位字节。取第二个字节（0x2d）并将其转换为整数将得出数字27，该数字将成为我们最终IP地址中的第四个八位字节。</p><p> The same process is done with the second transaction to obtain the first and second octets of the C2 IP address. In this case, the value of the second transaction is 36,305 Satoshis. This value converted to its hexadecimal representation results in the hex value of 0x8dd1. The first byte (0x8d), and the second byte (0xd1), are then converted into integers. This results in the decimal numbers 141 and 209 which are the second and first octets of the C2 IP address respectively. Putting the four generated octets together in their respective order results in the final C2 IP address of 209.141.45.27.</p><p> 第二事务完成相同的过程，以获得C2 IP地址的第一和第二个八位位组。在这种情况下，第二笔交易的价值为36,305 Satoshis。转换为十六进制表示形式的该值将导致十六进制值为0x8dd1。然后将第一个字节（0x8d）和第二个字节（0xd1）转换为整数。这将导致十进制数141和209，它们分别是C2 IP地址的第二个和第一个八位字节。将四个生成的八位位组按其各自的顺序放置在一起，将得到最终的C2 IP地址209.141.45.27。</p><p>       While Akamai researchers say they have never before seen a botnet in the wild using a decentralized blockchain to store server addresses, they were able to find  this research that demonstrates a fully functional command server built on top of the blockchain for the Ethereum cryptocurrency.</p><p>       虽然Akamai的研究人员表示，他们从未见过使用分散式区块链存储服务器地址的僵尸网络，但他们能够找到这项研究，该研究证明了在以太坊加密货币的区块链之上构建的功能齐全的命令服务器。</p><p> “By leveraging the blockchain as intermediate, the infrastructure is virtually unstoppable, dealing with most of the shortcoming of regular malicious infrastructures,” wrote Omer Zoha, the researcher who devised the proof-of-concept control server lookup.</p><p> “通过利用区块链作为中介，基础架构实际上是不可阻挡的，可以解决常规恶意基础架构的大多数缺点，”设计了概念验证控制服务器查询的研究员Omer Zoha写道。 </p><p>  Criminals already had other covert means for infected bots to locate command servers. For example, VPNFilter, the malware that Russian government-backed hackers used to  infect 500,000 home and small office routers in 2018, relied on GPS values stored in images stored on Photobucket.com to locate servers where later-stage payloads were available. In the event the images were removed, VPNFilter used a backup method that was embedded in a server at ToKnowAll.com. Malware from Turla, another hacking group backed by the Russian government, located its control server using comments posted in  Britney Spears’ official Instagram account.</p><p>犯罪分子已经有其他隐秘意味着受感染的机器人找到命令服务器。例如，俄罗斯政府支持的黑客在2018年使用俄罗斯政府支持的黑客的恶意软件，依赖于存储在Photobucket.com上的图像中存储的GPS值，以找到可用的稍后阶段有效载荷的服务器。如果删除图像，则VPNFilter使用嵌入在ToknowAll.com的服务器中的备份方法。来自Turla的恶意软件，由俄罗斯政府支持的另一个黑客集团，在布兰妮斯皮尔斯官方Instagram账户中发布的评论，位于控制服务器。</p><p> The botnet Akamai analyzed uses the computing resources and electricity supply of infected machines to mine the Monero cryptocurrency. In 2019, researchers from Trend Micro published  this detailed writeup on its capabilities. Akamai estimates that, at current Monero prices, the botnet has mined about $43,000 worth of the digital coin.</p><p> Botnet Akamai分析使用了Comected Machines的计算资源和电力供应来挖掘Monero Cryptocurrency。 2019年，趋势科技的研究人员在其功能上发布了此详细撰写。 Akamai估计，在目前的蒙罗士价格上，僵尸网络占据了价值约43,000美元的数字硬币。</p><p>  In theory, blockchain-based obfuscation of control server addresses can make takedowns much harder. In the case here, disruptions are simple, since sending a single Satoshi to the attacker’s wallet will change the IP address that the botnet malware calculates.</p><p>  理论上，基于区块链的控制服务器地址的混淆可以使抛售更加困难。在这里，中断很简单，因为向攻击者的钱包发送单个Satoshi，就会改变僵尸网络恶意软件计算的IP地址。</p><p> With a Satoshi valued at .0004 cent (at the time of research, anyway), $1 would allow 2,500 disruption transactions to be placed in the wallet. The attackers, meanwhile, would have to deposit 43,262 Satoshis, or about $16.50, to recover control of their botnet.</p><p> 随着70004分（在研究时，无论如何），1美元将允许在钱包中放置2,500个中断交易。与此同时，攻击者将不得不存入43,262张Satoshis，或约16.50美元，以恢复对僵尸网络的控制。</p><p> There’s yet another way to defeat the blockchain-based resilience measure. The fallback measure activates only when the primary control server fails to establish a connection or it returns an HTTP status code other than 200 or 405.</p><p> 还有另一种方法可以击败基于区块链的弹性措施。仅当主控制服务器无法建立连接或返回200或405以外的HTTP状态代码时，才会激活返回测量。</p><p> “If sinkhole operators successfully sinkhole the primary infrastructure for these infections, they only need to respond with a 200 status code for all incoming requests to prevent the existing infection from failing over to using the BTC backup IP address,” Akamai researcher Evyatar Saias explained in Tuesday’s post.</p><p> “如果污水孔运营商成功陷入了这些感染的主要基础架构，他们只需要用200个状态代码回复所有来回的请求，以防止现有的感染失败使用BTC备份IP地址，”Akamai研究员Evyatar Saias解释说星期二的帖子。</p><p> “There are improvements that can be made, which we’ve excluded from this write-up to avoid providing pointers and feedback to the botnet developers,” Saias added. “Adoption of this technique could be very problematic, and it will likely gain popularity in the near future.”</p><p> “可以进行改进，我们已经排除在此写入之外，以避免向僵尸网络开发人员提供指针和反馈，”Saias添加。 “采用这种技术可能是非常有问题的，并且可能在不久的将来会受欢迎。” </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://arstechnica.com/information-technology/2021/02/crooks-use-the-bitcoin-blockchain-to-protect-their-botnets-from-takedown/">https://arstechnica.com/information-technology/2021/02/crooks-use-the-bitcoin-blockchain-to-protect-their-botnets-from-takedown/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/交易/">#交易</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/区块链/">#区块链</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/比特币/">#比特币</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/finds/">#finds</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/服务器/">#服务器</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>