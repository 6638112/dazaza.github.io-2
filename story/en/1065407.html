<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>SMS OTP表格最佳实践 SMS OTP form best practices</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">SMS OTP form best practices<br/>SMS OTP表格最佳实践 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-13 05:13:58</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/6/a366fc979ea4df55404fd9e6dbdc4158.jpg"><img src="http://img2.diglog.com/img/2021/6/a366fc979ea4df55404fd9e6dbdc4158.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Asking a user to provide the OTP (one time password) delivered via SMS is a commonway to confirm a user&#39;s phone number. There are a few use cases for SMS OTP:</p><p>要求用户提供通过SMS传递的OTP（一次密码）是一个公共道，以确认用户＆＃39; S电话号码。 SMS OTP有一些用例：</p><p> Two-factor authentication. In addition to username and password, SMS OTP can beused as a strong signal that the account is owned by the person who received theSMS OTP.</p><p> 双因素身份验证。除了用户名和密码外，SMS OTP还可以被融合为该帐户由接收到OTP的人拥有的强信号。</p><p> Phone number verification. Some services use a phone number as the user&#39;sprimary identifier. In such services, users can enter their phone number and theOTP received via SMS to prove their identity. Sometimes it&#39;s combined with a PINto constitute a two-factor authentication.</p><p> 电话号码验证。一些服务使用电话号码作为用户＆＃39;闪闪发光的标识符。在此类服务中，用户可以通过短信输入他们的电话号码和Theotp来证明他们的身份。有时它＆＃39;结合Pinto构成了双因素认证。</p><p> Account recovery. When a user loses access to their account, there needsto be a way to recover it. Sending an email to their registered email address oran SMS OTP to their phone number are common account recovery methods.</p><p> 帐户恢复。当用户失去对其帐户的访问时，需要恢复它的方法。将电子邮件发送到他们的注册电子邮件地址ORAN SMS OTP到他们的电话号码是常见的帐户恢复方法。</p><p> Payment confirmation In payment systems, some banks or credit cardissuers request additional authentication from the payer for security reasons.SMS OTP is commonly used for that purpose.</p><p> 付款系统中的付款确认，一些银行或信用卡窗手从付款人提供额外的身份验证以出于安全原因.SMS OTP通常用于此目的。</p><p> This post explains best practices to build an SMS OTP form for the above usecases.</p><p> 这篇文章解释了为上述USECASE构建SMS OTP表格的最佳实践。</p><p> Caution:While this post discusses SMS OTP form best practices, be aware that SMS OTP isnot the most secure method of authentication by itself because phonenumbers can be recycled and sometimes hijacked. And  the concept of OTPitself is not phishing resistant.</p><p> 警告：虽然这篇文章讨论了SMS OTP表格最佳实践，但请注意，SMS OTP ISNOT本身是最安全的认证方法，因为PhoneNumbers可以回收并有时被劫持。 otpitteelf的概念不是网络训练。 </p><p> If you are looking for better security, consider using WebAuthn. Learn more about it from the talk&#34; What&#39;s new in sign-up &amp; sign-in&#34; at theChrome Dev Summit 2019 and build a reauthentication experience using a biometricsensor with &#34; Build your first WebAuthn app&#34;codelab.</p><p>如果您正在寻找更好的安全性，请考虑使用WebAuthn。从谈话中了解更多信息。什么＆＃39;在注册和amp中的新增功能;登录＆＃34;在TheChrome Dev峰会2019年，并使用BioMetricsensor与＆＃34建立重新认证体验;构建您的第一个WebAuthn应用程序＆＃34; Codelab。</p><p>     Using a form with an  &lt;input&gt; element is the most important best practice youcan follow because it works in all browsers. Even if other suggestions fromthis post don&#39;t work in some browser, the user will still be able to enter and submit the OTPmanually.</p><p>     使用具有＆lt;输入＆gt的形式。元素是Mycan最重要的最重要的练习，因为它在所有浏览器中都有工作。即使此从Don＆＃39的其他建议在某些浏览器中工作，用户仍然能够进入并提交OTPManually。</p><p>   The following are a few ideas to ensure an input field gets the best out ofbrowser functionality.</p><p>   以下是一些想法，以确保输入字段获得最佳播种器功能。</p><p>  Since OTPs are usually five or six digit numbers, using type=&#34;number&#34; for an input field might seem intuitive because it changes the mobilekeyboard to numbers only. This is not recommended because the browser expects aninput field to be a countable number rather than a sequence of multiple numbers,which can cause unexpected behavior. Using  type=&#34;number&#34; causes up and downbuttons to be displayed beside the input field; pressing these buttonsincrements or decrements the number and may remove preceding zeros.</p><p>  由于OTPS通常是五个或六位数字，因此使用Type =＆＃34;数字＆＃34;对于输入字段可能似乎直观，因为它仅将MobileKeyboard更改为数字。不推荐使用这是因为浏览器预期Aninput字段是可数号而不是多个数字的序列，这可能导致意外行为。使用type =＆＃34;数字＆＃34;导致向上和向下显示输入字段旁边;按下这些按钮内压力或递减数字，并可删除在先前的零中。</p><p> Use  type=&#34;text&#34; instead. This won&#39;t turn the mobile keyboard into numbersonly, but that is fine because the next tip for using  inputmode=&#34;numeric&#34; doesthat job.</p><p> 使用type =＆＃34;文本＆＃34;反而。这赢得了＆＃39; t oneworeOnly将移动键盘转换为，但这很好，因为使用inputmode =＆＃34的下一个提示;数字＆＃34; Doesthat工作。</p><p>   Some websites use  type=&#34;tel&#34; for OTP input fields since it alsoturns the mobile keyboard to numbers only (including  * and  #) whenfocused. This hack was used in the past when  inputmode=&#34;numeric&#34;wasn&#39;t widely supported. Since  Firefox started supporting inputmode=&#34;numeric&#34;,there&#39;s no need to use the semantically incorrect  type=&#34;tel&#34; hack.</p><p>   一些网站使用类型=＆＃34;电话＆＃34;对于OTP输入字段，因为它将移动键盘Alsoturns仅为当截策时的数字（包括*和＃）。当InputMode =＆＃34;数字＆＃34; WANN＆＃39; T.＆＃39;否广泛支持这个黑客。由于Firefox开始支持InputMode =＆＃34;数字＆＃34;，有没有必要使用语义上不正确的类型=＆＃34;电话＆＃34;黑客。</p><p>  autocompleteattribute lets developers specify what permission the browserhas to provide autocomplete assistance and informs the browser about thetype of information expected in the field.</p><p>  Autocompleteattribute允许开发人员指定Browserhas提供自动完成帮助的权限，并通知浏览器关于该字段中所期望的信息的TheType。 </p><p> With  autocomplete=&#34;one-time-code&#34; whenever a user receives an SMS message while aform is open, the operating system will parse the OTP in the SMS heuristically andthe keyboard will suggest the OTP for the user to enter. It works only on Safari 12 andlater on iOS, iPadOS, and macOS, but we strongly recommend using it, because it is aneasy way to improve the SMS OTP experience on those platforms.</p><p>使用autocomplete =＆＃34;一次性代码＆＃34;每当用户在AFORP打开时收到SMS消息时，操作系统将启发出来的SMS中的OTP，键盘将建议用户进入OTP。它只适用于iOS，iPados和MacOS上的Safari 12 andlater，但我们强烈建议使用它，因为它是改善在这些平台上的短信OTP体验的易行方式。</p><p>  autocomplete=&#34;one-time-code&#34; improves the user experience, but there&#39;s more youcan do by  ensuring that the SMS message complies with the origin-bound messageformat.</p><p>  autocomplete =＆＃34;一次性代码＆＃34;通过确保SMS消息符合原始MessageFormat来提高用户体验，但是在那里提高了用户体验。</p><p> patternspecifies the format that the entered OTP must match. Use regular expressions to specifythe matching pattern, for example,  \d{6} constrains the OTP to a six digit string. Learn more about the pattern attribute in [Use JavaScript for more complex real-time validation](https://developers.google.com/web/fundamentals/design-and-ux/input/forms#use_javascript_for_more_complex_real-time_validation)</p><p> Patternspifize所输入的OTP必须匹配的格式。使用正则表达式指定匹配模式，例如，\ d {6}将OTP约束为六位数字符串。了解有关[使用JavaScript获取更复杂的实时验证的模式属性]（https://developers.google.com/web/fundamentals/design-and -/input/forms#use_javascript_for_more_complex_real -time_validation）</p><p> For more general form best practices,  Sam Dutton&#39;s Sign-in form best practices is a great startingpoint.</p><p> 对于更多一般形式的最佳实践，萨姆杜顿＆＃39; S登录表格最佳实践是一个伟大的出轨。</p><p>  Enhance the user experience of entering an OTP by aligning with the origin-bound one-time codes delivered via SMSspecification.</p><p>  通过与通过SMSspecification传递的原始绑定的一次性代码对齐，增强用户体验进入OTP的体验。</p><p> The format rule is simple: Finish the SMS message with the receiver domainpreceded with  @ and the OTP preceded with  #.</p><p> 格式规则很简单：完成带有接收器的SMS消息，其中包含@和OTP前面的＃。</p><p>    Using a standard format for OTP messages makes extractionof codes from them easier and more reliable. Associating OTP codes withwebsites makes it harder to trick users into providing a code to malicious sites.</p><p>    使用OTP消息的标准格式使得从中提取代码更容易且更可靠。关联OTP代码的Website使得欺骗用户更难为恶意站点提供代码。 </p><p> The message begins with (optional) human-readable text that contains a four toten character alphanumeric string with at least one number, leaving the lastline for the URL and the OTP.</p><p>该消息以（可选）的人类可读文本开头，该文本包含具有至少一个数字的四个Tothing字符字母数字字符串，留下URL和OTP的姓氏。</p><p> The domain part of the URL of the website that invoked the API must bepreceded by  @.</p><p> 调用API的网站URL的域部分必须由@申请申请。</p><p>  To learn more about Chrome specific rules, read  Format the SMS message sectionof WebOTP API post.</p><p>  要了解有关Chrome特定规则的更多信息，请读取SMS消息部分的格式Webotp API POST。</p><p>  The OTP will be bound to the domain. If the user is on domains other thanthe one specified in the SMS message, the OTP suggestion won&#39;t appear.This also mitigates the risk of phishing attacks and potential account hijacks.</p><p>  OTP将绑定到域名。如果用户在SMS消息中指定的其他Thanthe中，则OTP建议赢得＆＃39; T出现。这也减轻了网络钓鱼攻击和潜在账户劫持的风险。</p><p> Browser will now be able to reliably extract the OTP without depending onmysterious and flaky heuristics.</p><p> 浏览器现在将能够可靠地提取OTP，而无需靠在蒙信和片状启发式中。</p><p> When a website uses  autocomplete=&#34;one-time-code&#34;, Safari with iOS 14 or laterwill suggest the OTP following the above rules.</p><p> 当网站使用autocomplete =＆＃34;一个时间代码＆＃34 ;,Authari，带iOS 14或后来的Safari建议在上述规则之后的OTP。</p><p> If the user is on a desktop with macOS Big Sur with the same iCloud account setup as on iOS, the OTP received on the iOS device will beavailable on the desktop Safari as well.</p><p> 如果用户位于带有与iOS上相同的iCloud帐户设置相同的iCloud帐户设置的桌面上，则iOS设备上接收的OTP也将在桌面Safari上使用。 </p><p> To learn more about other benefits and nuances of the availability on Appleplatforms, read  Enhance SMS-delivered code security with domain-boundcodes.</p><p>要了解有关ApplePlatforms可用性的其他优势和细微差别，请使用域中键读取增强SMS传递的代码安全性。</p><p> This SMS message format also benefits browsers other than Safari. Chrome, Opera,and Vivaldi on Android also support the origin-bound one-time codes rule withthe WebOTP API, though not through  autocomplete=&#34;one-time-code&#34;.</p><p> 此SMS消息格式也会使除Safari以外的浏览器。 Android上的Chrome，Opera和Vivaldi还支持使用Webotp API的起源的一次性代码规则，但不是通过AutoComplete =＆＃34;一次性代码和＃34;</p><p>  The WebOTP API provides access to the OTPreceived in an SMS message. By calling  navigator.credentials.get()with  otp type ( OTPCredential) where  transport includes  sms, the websitewill wait for an SMS that complies with the origin-bound one-time codes to bedelivered and granted access by the user. Once the OTP is passed to JavaScript,the website can use it in a form or POST it directly to the server.</p><p>  Webotp API提供对SMS消息中OTPreceive的访问。通过调用Navigator.CredentialS.get（）使用OTP类型（OTPCredential），其中传输包括短信，网站等待SMS，符合始终绑定的一次性代码，以表达和授予用户的访问。一旦OTP传递给JavaScript，网站就可以用形式使用它或将其直接发布到服务器。</p><p>     Learn how to use the WebOTP API in detail in  Verify phone numbers on the webwith the WebOTP API or copy and paste the following snippet. (Makesure the  &lt;form&gt; element has an  action and  method attribute properly set.)</p><p>     了解如何详细使用Webotp API在WebTep API或复制并粘贴以下代码段的Webwith上的电话号码中。 （构造＆lt; form＆gt;元素具有正确设置的动作和方法属性。）</p><p>  // Feature detection  if  ( &#39;OTPCredential&#39;  in window )  {  window . addEventListener ( &#39;DOMContentLoaded&#39; ,  e  =&gt;  {   const input  = document . querySelector ( &#39;input[autocomplete=&#34;one-time-code&#34;]&#39; ) ;   if  ( !input )  return ;   // Cancel the WebOTP API if the form is submitted manually.   const ac  =  new   ( ) ;   const form  = input . closest ( &#39;form&#39; ) ;   if  (form )  {  form . addEventListener ( &#39;submit&#39; ,  e  =&gt;  {   // Cancel the WebOTP API.  ac . abort ( ) ;   } ) ;   }   // Invoke the WebOTP API  navigator .credentials . get ( {  otp :  { transport : [ &#39;sms&#39; ]  } ,  signal : ac .signal   } ) . then ( otp  =&gt;  {  input .value  = otp .code ;   // Automatically submit the form when an OTP is obtained.   if  (form ) form . submit ( ) ;   } ) . catch ( err  =&gt;  {  console . log (err ) ;   } ) ;   } ) ;  }</p><p>  //特征检测（＆＃39; otpcredential＆＃39;窗口）{窗口。 addeventlistener（＆＃39; domcontentloaded＆＃39;，e =＆gt; {const input = document。queryselector（＆＃39;输入[autocomplete =＆＃34;一次性代码＆＃34;]＆＃39;）;如果（！输入）返回; //如果手动提交表单，请取消Webotp API。CONST ac = new（）; const form =输入。最近（＆＃39;形式＆＃39;）;如果（表格）{表格。addeventlistener（＆＃39;提交＆＃39; e =＆gt; {//取消webotp api。ac。abort（）;}）;} //调用webotp api navigator .credentials。get（{otp：{运输：[＆＃39; SMS＆＃39;]}，信号：AC .Signal}）。然后（OTP =＆gt; {输入.value = OTP .code; //在获得OTP时自动提交表单。如果（表格）表格。提交（）;}）。catch（err =＆gt; {console。log（err）;}）;}）; } </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://web.dev/sms-otp-form/">https://web.dev/sms-otp-form/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/otp/">#otp</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>