<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>如果您是JavaScript的新手，请与用户填充物修补 Tinker with userscripts, if you are new to JavaScript</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Tinker with userscripts, if you are new to JavaScript<br/>如果您是JavaScript的新手，请与用户填充物修补 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-04-12 15:28:59</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/4/d2a905bc7906f1d6b94676707a0f2e26.jpeg"><img src="http://img2.diglog.com/img/2021/4/d2a905bc7906f1d6b94676707a0f2e26.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Hello stranger! So this might come as an unexpected advice. But if you&#39;re new to JavaScript or Web development in general, you really should consider playing around with userscripts.</p><p>你好，陌生人！所以这可能是一个意想不到的建议。但是，如果你＆＃39;一般来说，你应该考虑与usercripts一起玩的。</p><p> In this article, I will try to explain what are userscripts, why I feel they are still relevant, and why you should try to make your own.</p><p> 在本文中，我会尝试解释什么是用户填充物，为什么我觉得它们仍然是相关的，为什么你应该尝试自己制作。</p><p>  UserScripts are JavaScript programs that let you alter the behavior of a Web page. If you want the full definition, you can checkout the  Wikipedia definition. In a nutshell, they let you customize any webpage you want.</p><p>  用户名是JavaScript程序，可让您更改网页的行为。如果您想要完整的定义，您可以检查维基百科定义。简而言之，他们让您自定义所需的任何网页。</p><p> But now you might wonder;  &#34;what&#39;s so useful about this?&#34; well, they are a gamechanger. Think about it, you can inject any JavaScript code you like. This means you can also inject CSS and HTML. Practically, any website you visit can be altered the way you want it!</p><p> 但现在你可能想知道; ＆＃34;什么＆＃39;这对此有用？＆＃34;好吧，他们是一个游戏机。考虑一下，您可以注入您喜欢的JavaScript代码。这意味着您还可以注入CSS和HTML。实际上，您访问的任何网站都可以改变您想要的方式！</p><p> Let&#39;s suppose you&#39;re learning Web development, and you want to add dark mode to Instagram. Well you can! You just need to fire up your dev tools, write the CSS you want and inject it via JavaScript. One interesting example is this  translate-json userscript I made you can checkout.</p><p> 让＆＃39; s假设你和＃39;重新学习Web开发，并且想要将黑暗模式添加到Instagram。好吧，你可以！您只需触发DEV工具，请编写所需的CSS并通过JavaScript注入它。一个有趣的例子是这种翻译-JSOS用户脚本，我让你可以结账。</p><p> The true strength of userscripts through is that you can install 3rd party userscripts. Usually if you think of something, there might be a developer who sank some time developing a userscript for it. You can find really useful  userscripts in Github or  Greasyfork.</p><p> 通过的真正实力通过它可以安装第三方用户脚本。通常，如果您想到某些事情，可能会有一个开发人员，他们陷入了一些时间为它开发用户脚本。您可以在Github或Greasyfork找到真正有用的用户脚本。</p><p>      Of course, the main subject here is that we want to create our own userscripts. So now that we got this out of the way let&#39;s have some fun.</p><p>      当然，这里的主要科目是我们想要创建自己的用户脚本。所以现在我们把它赶到了让＆＃39;祝你有一些乐趣。 </p><p>  Userscripts are executed by a specific extension, it will let you manage your installed userscripts and help you understand where they will be ran for example.</p><p>用户标记由特定的扩展执行，它将让您管理已安装的用户填充物并帮助您了解它们将在ran的位置。</p><p> If you&#39;re a Chrome ( or other Chromium-based browser) user, you&#39;ll have to install  TamperMonkey 🔳. Once installed, it will open a page with a disclaimer just in case.</p><p> 如果你＆＃39;重新铬（或其他基于铬的浏览器）用户，你＆＃39; ll必须安装tampermonkey🔳。一旦安装，它将在案件中打开一个免责声明的页面。</p><p>  Once it&#39;s done, locate the GreaseMonkey/TamperMonkey icon in the extension bar and click on it and choose the  &#34;New user script...&#34;/ &#34;Add a new script...&#34;, you will be greeted with a window as below:</p><p>  一旦它完成，就完成了扩展栏中的Greasemonkey / Tampermonkey图标，然后点击它并选择＆＃34;新用户脚本...＆＃34; /＆＃34;添加一个新脚本.. 。＆＃34;，您将被打招呼，如下所示：</p><p>     Now that you are all set, let’s examine this generated code and try to make something simple.</p><p>     既然您都设置了，让我们来检查这个生成的代码并尝试简单。</p><p>  You will notice that GreaseMonkey and TamperMonkey have already added you a small header of comments to your userscript. This is the most important part of your script. It will define the name, version, description and other info. I&#39;ll be talking about the script auto-generated by Tampermonkey since it&#39;s more complete.</p><p>  您会注意到Greasemonkey和Tampermonkey已经向您的用户脚本添加了一小部分评论。这是您脚本中最重要的部分。它将定义名称，版本，描述和其他信息。我＆＃39; ll谈论由tampermonkey自动生成的脚本自＆＃39更完整。</p><p> // ==UserScript== // @name My cool userscript // @namespace https://backup-blog.tarekjellali.com/ // @version 0.1 // @description try to take over the world! // @author You // @match https://backup-blog.tarekjellali.com/ // @grant none // ==/UserScript==(  function( ) { ;  console.log( &#39;Hello world! This is some injected JS!&#39;); })();</p><p> // == userscript == // @name我的cool userscript // @namespace https://backup-blog.tarekjelli.com/ // @version 0.1 // @description尝试接管世界！ // @author你// @match https：//backup-blog.tarekjellali.com/ // @grant none // == / userscript ==（function（）{; console.log（＆＃39;您好世界！这是一些注射的JS！＆＃39;）;}）（）;</p><p> Below the Tampermoneky code auto-generated that I&#39;ve altered to run on my blog, you can safely copy-paste it and refresh this page. If you then look at your console, you will see that  console.log.</p><p> 下面的Tampermoneky代码自动生成我＆＃39; ve更改为在我的博客上运行，您可以安全地复制它并刷新此页面。如果你看看你的控制台，你会看到console.log。 </p><p> As you can see, everything looks straightforward. If you want to learn more about each of these userscript header variables you  can check the TamperMonkey documentation.</p><p>正如你所看到的，一切都很直截了当。如果您想了解有关这些usercript标头变量中的每一个的更多信息，您可以检查Tampermonkey文档。</p><p> The most important value to look for is  @match which tells TamperMonkey where to run your script. For this specific situation, we&#39;ve set  https://blog.tarekjellali.com as the domain we want this script to be ran at. You can also use  @include which will give you a more granular control. The difference between the two is that  @include can work with regular expressions while  @match doesn&#39;t,  as pointed out here.</p><p> 寻找最重要的价值是@match，它告诉Tampermonkey在哪里运行脚本。对于这个具体情况，我们＆＃39; Ve Set https://blog.tarekjellai.com作为我们希望这个脚本的域名是ran。您还可以使用@include，为您提供更粒度的控制。两者之间的差异是@Include可以使用正则表达式，而@Match则与这里指出。</p><p> Okay, now let&#39;s get into the real deal. After the header, you can notice a function ( more accurately IIFE) that is supposed to contain the code you want to inject. In our case, I&#39;ve just added a  console.log.</p><p> 好的，现在让＆＃39进入真正的交易。标题之后，您可以注意到应该包含要注入的代码的函数（更准确的iife）。在我们的情况下，我刚刚添加了一个console.log。</p><p>  Now you might ask yourself a lot of questions, I&#39;ll try to guess some of them;</p><p>  现在你可能会问自己有很多问题，我试图猜想其中一些;</p><p>  Okay you might not have asked yourself the last question,  but I did. I wrote some userscripts mostly for work or for fun, but I found it daunting if the script became complicated. Plus since I&#39;m invested a lot into TypeScript, I didn&#39;t like working without the luxury of type checking.</p><p>  好的，你可能没有问自己是最后一个问题，但我做到了。我主要为工作或娱乐提供了一些用户杆，但如果剧本变得复杂，我发现它令人生畏。加上自I＆＃39; M投入了很多类型的类型，我没有喜欢工作而没有类型检查的工作。</p><p> This is where I present to you my humble  greasemonkey-webpack-typescript-boilerplate (yes I know, the name is not original at all). But the main purpose of this boilerplate is to provide you with enough convenient tools to start building. You can import SASS/SCSS/CSS files easily and inject them. You can also import HTML as modules then easily inject them into a page.</p><p> 这是我呈现给你我的愚蠢的greasemonkey-webpack-typescript-batherplate（是的，我知道，这个名字根本不是原创的）。但是这款水板的主要目的是为您提供足够的方便工具来开始建设。您可以轻松导入SASS / SCS / CSS文件并注入它们。您也可以将HTML导入模块，然后轻松将它们注入页面。</p><p>  If you&#39;re interested to get started with this boilerplate, just head to  my repository and locate the button  &#34;Use this template&#34; on the right corner just next the  About box. You&#39;ll be able to create your own repo, based on the boilerplate and without anything superfluous.</p><p>  如果你＆＃39;遗嘱兴趣开始使用这个样板，只需向我的存储库开始，找到按钮＆＃34;使用此模板＆＃34;在右上角，下一个框。你＆＃39; ll能够根据样板，没有任何多余的东西创建自己的回购。 </p><p> Once you&#39;ve created it, just clone your repo locally, open a terminal and input  npm i. This will install for you the few dependencies the project needs to build. Don&#39;t worry, by the time you build the script, the project will  not use external dependencies. Once npm finished, just open your project with your favorite code editor.</p><p>一旦您创建了它，就会在本地克隆您的回购，打开终端并输入NPM i。这将为您安装项目需要构建的少数依赖关系。担心，当您构建脚本时，项目不会使用外部依赖项。 NPM完成后，只需使用您喜欢的代码编辑器打开您的项目。</p><p>  ├📂dist/├─🟨 greasemonkey-webpack-typescript-boilerplate. user.js├📂src/├─📂html/│ └📄main-content.html├─📂scss/│ └🎨style.scss└🟦 index.ts🟨post-build.js🟩package.json📦webpack.config.js</p><p>  ├📂dist/├ - 🟨greasemonkey-webpack-typescript-batherplate。 user.js├📂src/├ - 📂html/││main-content.html├ - 📂scss/│││style.scss└🟦index.tsige.tažpost-build.js🟩package.json📦webpack.config .js.</p><p> Though I hope it&#39;s self explanatory, let&#39;s go through the files to quickly understand the structure;</p><p> 虽然我希望它＆＃39; s自我解释，让＆＃39; s通过文件快速理解结构;</p><p> The  dist/ folder will contain your userscript. What&#39;s convenient about this is that you can just link the raw file via Github TamperMonkey/GreaseMonkey will recognize it and prompt you if you want to install it.</p><p> Dist /文件夹将包含您的用户脚本。什么＆＃39;方便的是，你可以通过github tampermonkey / greasemonkey将原始文件链接识别它并提示您如果要安装它。</p><p> Under the  src /folder it&#39;s straightforward: main-content.html contains your HTML to inject. You can add whatever you want or simply omit it if you don&#39;t need it.</p><p> 在SRC /文件夹下，它直截了当：main-content.html包含您的HTML来注入。如果您不需要它，您可以添加任何您想要的或只是省略它。</p><p> style.scss contains all your styles. If you want, you can write CSS there but I highly advice you to try to write SCSS, it&#39;s fun 😀 !</p><p> style.scss包含所有风格。如果你想要的话，你可以在那里写下CSS，但我非常建议你试图写入SCSS，它＆＃39;很有趣♥！</p><p> index.ts contains your main entry point. You can add more TS files and import them and so on. As you might have noticed, I&#39;ve just included the bare minimum as follows:</p><p> index.ts包含您的主要入口点。您可以添加更多TS文件并导入它们等。正如您可能已经注意到的那样，我＆＃39; ve只是包括下面的最低限度如下： </p><p> import  &#34;./scss/style.scss&#34;;  // Nothing else needed, the compiled CSS will be injected automatically import APP_HTML  from  &#34;./html/main-content.html&#34;;  // Your HTML you want to inject export  class App {  constructor( ) {  this.injectHTML(APP_HTML);  // A console log to see if it&#39;s working  console.log( &#34;If you see this message, it means that the script has been injected :)&#34;); }  /** * A simple method that will append your HTML at the end of the body tag */  private injectHTML(htmlContent:  string) {  document.querySelector( &#34;body&#34;).insertAdjacentHTML( &#34;beforeend&#34;, htmlContent); }} // Create the app instance to run everything const yourAppInstance =  new App(); // A test log here too console.log(yourAppInstance);</p><p>进口＆＃34; ./ scss / style.scss＆＃34 ;; //没有其他需要的，编译的CSS将自动注入从＆＃34中导入app_html; ./ html / main-content.html＆＃34 ;; //您想要注入的HTML导出类APP {Constructor（）{this.injecthtml（app_html）; //控制台日志看它＆＃39; s工作console.log（＆＃34;如果您看到此消息，这意味着脚本已被注入:)）＆＃34;）; } / ** *一个简单的方法将在正文标签* / private injecthtml（htmlContent：String）{document.querySelector（＆＃34;身体＆＃34;）{document.quercertector（htmlcontent：string）{document.queryselector（＆＃34;）。InsterAdjententhtml（＆＃34;之前＆＃34;，htmlcontent）; }} //创建应用程序实例来运行所有内容const alappinstance = new app（）; //一个测试日志太窥探了</p><p>  Edit the  🟩package.json and change the  name, version, description, author, licence, bugs.url and homepage values to your liking.</p><p>  编辑🟩Package.json并将名称，版本，描述，作者，许可证，错误.URL和主页值更改为您的喜好。</p><p> In  🟨post-build.js change line 24 and 25 ( @match and @grant) to fit your needs. The other values as you might notice in the script are extracted from your  🟩package.json.</p><p> 在🟨post-build.js更改第24行和25（@match和@grant）以满足您的需求。您可以在脚本中注意到的其他值是从🟩Package.json中提取的。</p><p> To build your script, simply run  npm run build and your script will be generated in the  dist/ folder. If you&#39;ve named your package correctly, your userscript will be named  [your_package_name].user.js.</p><p> 要构建脚本，只需运行NPM运行构建，您的脚本将在Dist /文件夹中生成。如果您正确地命名了您的包裹，您的用户脚本将被命名为[your_package_name] .user.js。</p><p>  In this article I&#39;ve tried to present you userscripts and why they can help you learn Web development and JavaScript in a different way. What I really like about this approach is that you go in the filed and start hacking things. This helps you understand how a lot of websites and web-apps work. I really hope this was helpful for you and I wish you the best in your development journey.</p><p>  在这篇文章中，我试图向您展示您的用户脚本以及为什么可以以不同的方式帮助您学习Web开发和JavaScript。我真正喜欢这种方法是你进入提交并开始黑客的东西。这有助于您了解大量网站和Web应用程序的工作。我真的希望这对你有所帮助，祝你在开发之旅中是最好的。</p><p> As usual, if I made some mistake or forgot to mention something, you know the drill.</p><p> 像往常一样，如果我犯了一些错误或忘了提到的东西，你就会知道钻头。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blog.tarekjellali.com/new-to-javascript-you-should-tinker-with-userscripts">https://blog.tarekjellali.com/new-to-javascript-you-should-tinker-with-userscripts</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/java/">#java</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/新手/">#新手</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>