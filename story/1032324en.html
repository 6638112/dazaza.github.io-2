<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>让我们加密发布的新根证书和中间证书</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">让我们加密发布的新根证书和中间证书</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-31 02:01:29</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/c857c6b9d91a71f609fc7c4d0472727c.png"><img src="http://img2.diglog.com/img/2020/10/c857c6b9d91a71f609fc7c4d0472727c.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Let&#39;s Encrypt have just issued a bunch of new certificates including a new Root and several Intermediates. These will bring some significant advantages so let&#39;s dive in and take a look at what&#39;s coming!</p><p>让我们的加密刚刚颁发了一堆新的证书，包括一个新的根证书和几个中间证书。这些将带来一些重大的好处，所以让我们潜入水中，看看即将到来的是什么！</p><p>   I&#39;ve been following along with interest as Let&#39;s Encrypt, and other CAs, come towards the end of life on their existing CA certificates, more specifically their Root CA Certificates. We had a bit of an issue with an expiring root recently that I did blog about and the next big victim to the relentless march of time is Let&#39;s Encrypt.</p><p>我一直在关注让加密和其他CA对其现有CA证书(更具体地说是它们的根CA证书)的生命周期接近尾声。我们最近遇到了一些关于即将过期的根的问题，我确实在博客上谈到了这一点，时间无情行进的下一个大受害者是让加密(let&#39；s Encrypt)。</p><p> There are two main things to cover in this blog post and Let&#39;s Encrypt issuing new CA certificates is directly related to both of them. One of them is quite important and related to the fairly extensive 4-part series of blogs I recently published on CAs, CA Certificates and all of the problems and complexities that surround them.</p><p>在这篇博客文章中有两件主要的事情要涉及，让加密颁发新的CA证书与这两件事直接相关。其中一个相当重要，与我最近在CA、CA证书以及围绕它们的所有问题和复杂性上发布的相当广泛的4部分系列博客相关。</p><p>       We have a big problem looming with the expiration of the current Root CA certificate that Let&#39;s Encrypt are cross-signed by and one of the changes to look at are about staving off that issue a little longer. The other one is that Let&#39;s Encrypt have previously issued ECDSA certificates but signed them with their RSA (only) chain. They are now introducing the ability to have ECDSA certificates issued by an ECDSA chain!</p><p>我们有一个大问题迫在眉睫，当前的根CA证书到期，让加密交叉签名，其中一个需要考虑的变化是关于推迟这个问题的时间稍长一些。另一个原因是，让加密以前颁发过ECDSA证书，但使用他们的RSA(仅限)链签名。他们现在正在引入由ECDSA连锁店颁发ECDSA证书的能力！</p><p>   Let&#39;s Encrypt came to life with a cross-sign from the  IdenTrust DST Root CA X3 certificate. This is a fully trusted and well distributed Root CA that allowed Let&#39;s Encrypt to start issuing certificates immediately, all the way back in 2016. Let&#39;s Encrypt have a total of 4 Intermediate CA certificates signed, two that are no longer used,  Let&#39;s Encrypt Authority X1 and  Let&#39;s Encrypt Authority X2, the current Intermediate CA certificate  Let&#39;s Encrypt Authority X3 and a backup  Let&#39;s Encrypt Authority X4. As you can see by looking at the information on the X3 and X4 intermediates, they both expire in March 2021.</p><p>通过来自IdenTrust DST根CA X3证书的交叉签名，让加密变得活灵活现。这是一个完全受信任且分布良好的根CA，它允许let#39；s Encrypt立即开始颁发证书，一直追溯到2016年。让我们的加密总共签署了4个中间CA证书，其中两个不再使用，即让的加密机构X1和让的加密机构X2、当前的中间CA证书让的加密机构X3和一个备份的让的加密机构X4。通过查看X3和X4中间产品的信息可以看到，它们都将于2021年3月到期。</p><p>      There&#39;s a very simple solution to an expiring Intermediate CA certificate and it&#39;s to issue a new one. There&#39;s no particular problem or hardship with issuing a new Intermediate CA and it happens quite frequently as you can see that they are only valid for 5 years anyway. The problem comes from the IdenTrust DST Root CA X3 expiring very soon, in September 2021.</p><p>对于即将到期的中级CA证书，有一个非常简单的解决方案，那就是颁发一个新的证书。有没有特别的问题或困难，颁发新的中级证书，这是相当频繁的，因为你可以看到，他们只有5年的有效期，无论如何。问题来自于即将于2021年9月到期的IdenTrust DST根CA X3。</p><p>    Of course you can&#39;t issue an Intermediate CA with a longer lifespan than the Root CA that signed it so there is an upper limit here. Of course Let&#39;s Encrypt knew this problem was coming and have the  ISRG Root X1 certificate ready to go and it has plenty of life left in it.</p><p>当然，您不能颁发一个寿命比签署它的根CA更长的中间CA，所以这里有一个上限。当然，让加密知道这个问题即将到来，并有ISRG根X1证书准备好了，它有足够的生命留在其中。</p><p>    The problem with the ISRG Root X1 though is root distribution and I cover that in great detail in one of the blogs I linked at the start of this blog:  The Impending Doom of Expiring Root CAs and Legacy Clients. The problem is that the ISRG Root X1 isn&#39;t quite ready to go yet as it hasn&#39;t been widely distributed and I&#39;ve already written twice about this issue in  Let&#39;s Encrypt to transition to ISRG root and  Let&#39;s Encrypt postpone the ISRG Root transition. The IdenTrust Root is expiring and the ISRG Root isn&#39;t quite ready to go, it&#39;s a bit of a pickle!</p><p>然而，ISRG RootX1的问题在于根分发，我在本博客开头链接的一个博客中详细介绍了这个问题：即将到期的Root CA和遗留客户端的末日来临。问题是，ISRG Root X1还没有完全准备好，因为它还没有广泛分发，我已经在“让加密过渡到ISRG根”和“让加密推迟ISRG根过渡”中就这个问题写了两篇文章。IdenTrust根目录即将到期，而ISRG根目录还没有完全准备好，这有点麻烦！</p><p>   To tackle the pending expiration of the existing X3 and X4 intermediates, and to help with the Root CA expiration/distribution issue, two new Intermediate CA certificates have been issued; Let&#39;s Encrypt R3 and Let&#39;s Encrypt R4. These are basically direct replacements for X3 and X4 (with the R for RSA) and exist as an intermediate signed by the ISRG Root X1 and the IdenTrust DST Root CA X3.</p><p>为了解决现有X3和X4中间件即将到期的问题，并帮助解决根CA到期/分发问题，颁发了两个新的中间CA证书；让我们加密R3，让我们加密R4。它们基本上是X3和X4的直接替代(R代表RSA)，并且作为由ISRG根X1和IdenTrust DST根CA X3签名的中间件存在。</p><p>       As you can see from the certificates the R3 and R4 that are cross-signed are limited in their lifespan due to the IdenTrust Root CA expiring soon:</p><p>正如您可以从证书中看到的那样，由于IdenTrust根CA即将到期，交叉签名的R3和R4的寿命受到限制：</p><p>      The same R3 and R4 certificates issued by the ISRG Root CA do not have the same limitations though.</p><p>但是，由ISRG根CA颁发的相同的R3和R4证书没有相同的限制。</p><p>      This means that those who depend on the legacy IdenTrust Root CA can continue to serve a chain through the cross-signed R3 or R4 intermediates right up until the expiry of the IdenTrust Root CA. Everyone else will switch to the R3 chain soon when Let&#39;s Encrypt have said they will be changing the Intermediate CA certificate that they provide by default.</p><p>这意味着依赖传统IdenTrust根CA的用户可以通过交叉签名的R3或R4中间件继续为链提供服务，直到IdenTrust根CA到期。当“让加密”公司表示他们将更改他们默认提供的中间CA证书时，其他所有人很快就会切换到R3链。</p><p>   Another great thing to come with all of these changes is a whole new Root CA certificate and matching Intermediate CA certificates using ECDSA keys instead of RSA Keys. If any of you have followed my blog or attended my  TLS Training course you will know that ECDSA keys are smaller, faster and more secure than their RSA counterparts, that&#39;s win, win, win! The new  ISRG Root X2 and  Let&#39;s Encrypt E1 and  Let&#39;s Encrypt E2 intermediate certificates are all issued and ready to go but of course the issue is, again, root distribution of the X2 root. To combat this the X2 root is cross-signed by the X1 root so most clients will be able to chain through an almost exclusively ECDSA chain to the X1 and eventually they get the X2 root and the chain will end there. This means no further changes are required by server operators in the future but for now the ability to serve a chain that&#39;s exclusively ECDSA will be limited. The question may come up about cross-signing the E1 and E2 intermediates directly with the X1 root and whilst that shortens the served chain in the short term, it&#39;s not the best play in the long term as another chain switch would be required in the future.</p><p>所有这些更改带来的另一件大事是一个全新的根CA证书和匹配的使用ECDSA密钥而不是RSA密钥的中间CA证书。如果你们中的任何人关注过我的博客或参加过我的TLS培训课程，就会知道ECDSA密钥比RSA密钥更小、更快、更安全，这就是胜利，胜利，胜利！新的ISRG根X2和让的加密E1和让的加密E2中间证书都已经颁发，可以随时使用了，但当然，问题仍然是X2根的根分发。为了解决这个问题，X2根由X1根交叉签名，因此大多数客户端将能够通过几乎排他的ECDSA链链接到X1，最终他们获得X2根，链将在那里结束。这意味着服务器运营商在未来不需要进一步的改变，但目前为ECDSA独家服务的连锁店提供服务的能力将受到限制。问题可能会出现的交叉签署的E1和E2中间直接与X1根，虽然这在短期内缩短了服务链，但它不是最好的发挥在长期内，因为另一个链开关将需要在未来。</p><p> I was going to create a diagram to show all of this but the actual diagram  provided by Let&#39;s Encrypt is of course the best one there&#39;s going to be, so here it is:</p><p>我本来打算创建一个图表来显示所有这些内容，但是由“让加密”提供的实际图表当然是最好的，所以它是这样的：</p><p>    That&#39;s how the new infrastructure looks and it&#39;s giving us basically the best of everything. Those who need the legacy IdenTrust root have new intermediates to get them all the way to expiry, we have new Let&#39;s Encrypt intermediates to replace the ones expiring soon and after much anticipation we now have ECDSA infrastructure becoming available.</p><p>这就是新的基础设施看起来的样子，它基本上给了我们一切最好的东西。那些需要传统IdenTrust根的人有新的中间人可以让他们一直到到期，我们有新的let&#s加密中间人来取代即将到期的中间人，在人们期待已久之后，我们现在有了可用的ECDSA基础设施。</p><p>   Yes, that&#39;s right, there were actually quite a few sneaky performance advantages in this recent batch of changes too and some of them, I have to say, are pretty creative. First of all let&#39;s remember that every time you initiate a TLS connection the server must send certificates to the client for authentication. At a minimum this is going to require the server certificate and at least 1 intermediate certificate. This quite literally requires sending at least 2 files to the client to initiate the connection and those files have size which means bytes on the wire. If you can reduce the size of certificates you can initiate a connection faster!</p><p>是的，这是正确的，实际上在最近的一批变化中也有相当多的偷偷摸摸的性能优势，其中一些，我不得不说，是相当有创意的。首先，让我们记住，每次启动TLS连接时，服务器都必须将证书发送到客户端进行身份验证。这至少需要服务器证书和至少1个中间证书。这实际上需要向客户端发送至少2个文件来启动连接，而这些文件的大小意味着网络上的字节数。如果您可以减小证书的大小，则可以更快地启动连接！</p><p>   As I said earlier, ECDSA keys are smaller than RSA keys and smaller keys in the certificates means smaller certificates. A 2048-bit RSA key is ~256 bytes in size compared to a ECDSA P-384 public key which is ~48 bytes, considerably smaller. This is the size reduction of the keys in the Let&#39;s Encrypt E1 and E2 intermediates compared to the X3/X4/R3/R4 intermediates. Depending on the key you use for your server certificate you could also have a similar size reduction in that although using an ECDSA key has always been possible with the previous X3/X4 RSA chain. You can further reduce the size of the key in the server certificate too as you will most likely be using P256 or x25519 for that.</p><p>正如我前面所说的，ECDSA密钥比RSA密钥小，证书中的密钥越小意味着证书越小。与ECDSA P-384公钥相比，2048位RSA密钥的大小约为256字节，而ECDSA P-384公钥的大小约为48字节，小得多。这是与X3/X4/R3/R4中间体相比，let加密E1和E2中间体中密钥的大小减小。根据您用于服务器证书的密钥的不同，您也可以进行类似的大小缩减，尽管在以前的X3/X4 RSA链中始终可以使用ECDSA密钥。您还可以进一步减小服务器证书中的密钥大小，因为您很可能使用P256或x25519。</p><p>   Alongside the keys we&#39;ve just mentioned there is other data inside certificates too, like the information about the subject (the entity the certificate belongs to). Let&#39;s take a look at the subject field in the X3 Intermediate certificate.</p><p>除了我们刚才提到的密钥之外，证书内部还有其他数据，比如关于主体(证书所属的实体)的信息。让我们看看X3中级证书中的主题字段。</p><p>      That&#39;s a pretty easy way to save 24 bytes in the certificate without actually losing any useful information at all!</p><p>这是一种非常简单的方法，可以在证书中节省24个字节，而实际上根本不会丢失任何有用的信息！</p><p>   As with the subject information above there is even more data contained within a certificate and I&#39;ve selected a few fields for us to look at within the X3 intermediate here.</p><p>与上面的主题信息一样，证书中包含的数据甚至更多，我已经选择了几个字段供我们在这里的X3中级中查看。</p><p> Authority Information Access: OCSP - URI:http://isrg.trustid.ocsp.identrust.com CA Issuers - URI:http://apps.identrust.com/roots/dstrootcax3.p7cX509v3 CRL Distribution Points: Full Name: URI:http://crl.identrust.com/DSTROOTCAX3CRL.crl X509v3 Certificate Policies: Policy: 2.23.140.1.2.1 Policy: 1.3.6.1.4.1.44947.1.1.1 CPS: http://cps.root-x1.letsencrypt.org</p><p>授权信息访问：ocsp-URI：http://isrg.trustid.ocsp.identrust.com CA颁发者-URI:http://apps.identrust.com/roots/dstrootcax3.p7cX509v3 CRL分发点：全名：URI:http://crl.identrust.com/DSTROOTCAX3CRL.crl x509v3证书策略：策略：2.23.140.1.2.1策略：1.3.6.1.4.1.44947.1.1.1 cps：http://cps.root-x1.letsencrypt.org。</p><p>  Again, taking a look at the new R3 intermediate (issued by ISRG Root X1) we can see a few changes.</p><p>同样，看看新的R3中间版本(由ISRG RootX1发布)，我们可以看到一些变化。</p><p> Authority Information Access: CA Issuers - URI:http://x1.i.lencr.org/ X509v3 CRL Distribution Points: Full Name: URI:http://x1.c.lencr.org/ X509v3 Certificate Policies: Policy: 2.23.140.1.2.1 Policy: 1.3.6.1.4.1.44947.1.1.1</p><p>授权信息访问：CA颁发者-URI：http://x1.i.lencr.org/x509v3 CRL分发点：全名：URI：http://x1.c.lencr.org/x509v3证书策略：策略：2.23.140.1.2.1策略：1.3.6.1.4.1.44947.1.1.1。</p><p>  Some of the URLs in there have been shortened quite a bit or even removed entirely, again saving valuable bytes on the wire.</p><p>其中的一些URL已经缩短了相当多，甚至完全删除了，这再次节省了线路上的宝贵字节。</p><p>   All of the above changes are really important and if we want to encrypt the entire Web then we need to keep tackling the real problems that exist. The new R3/R4 cross-signs will allow people to keep using the legacy chain to support legacy devices right up until that&#39;s no longer possible. The new ECDSA chain will allow people to chase those performance advantages where it&#39;s really important. Making certificates smaller will benefit literally every single person that uses TLS every single day. All in all this a great set of improvements to the TLS ecosystem and I look forward to future changes from Let&#39;s Encrypt and other CAs that will follow suit.</p><p>所有上述变化都非常重要，如果我们想要加密整个网络，那么我们需要继续解决存在的真正问题。新的R3/R4交叉标志将允许人们继续使用传统链来支持传统设备，直到不再可能。新的ECDSA连锁店将允许人们在真正重要的地方追逐那些性能优势。将证书变小将使每天使用TLS的每个人都受益。总而言之，这是对TLS生态系统的一系列重大改进，我期待着未来从let#39；的加密和其他CA的变化。</p><p>  		 Tags:  Let&#39;s Encrypt,  RSA,  ECDSA,  Expiry</p><p>标签：let加密、RSA、ECDSA、到期</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://scotthelme.co.uk/lets-encrypts-new-root-and-intermediate-certificates/">https://scotthelme.co.uk/lets-encrypts-new-root-and-intermediate-certificates/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/发布/">#发布</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/issues/">#issues</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/证书/">#证书</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1032162.html"><img src="http://img2.diglog.com/img/2020/10/thumb_b570dfc6b6d6c0c91a77f7bcda00e98e.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032162.html">
Apple One服务订阅捆绑包明天开始发布</a></div><span class="my_story_list_date">2020-10-30 5:46</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032094.html"><img src="http://img2.diglog.com/img/2020/10/thumb_cb75d5ff40ffe8fff300686500a96818.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032094.html">谷歌表示“致力于”Nest安全，但不会发布任何新功能</a></div><span class="my_story_list_date">2020-10-30 2:23</span></div><div class="col-sm"><div><a target="_blank" href="/story/1032055.html"><img src="http://img2.diglog.com/img/2020/10/thumb_3279b46982adfeb4e87cd98d41d83e12.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1032055.html">TimscaleDB 2.0发布，现在是分布式多节点</a></div><span class="my_story_list_date">2020-10-30 0:38</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031899.html"><img src="http://img2.diglog.com/img/2020/10/thumb_80014e616500c8966353726512bbacb4.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031899.html">AMD将于11月18日发布RADEON RX 6000系列</a></div><span class="my_story_list_date">2020-10-29 10:38</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/美国/">#美国</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/程序/">#程序</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>