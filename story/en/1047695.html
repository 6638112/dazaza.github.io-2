<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>健身相机：将手机的相机变成健身追踪器 Fitness Camera: Turn Your Phone's Camera into a Fitness Tracker</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Fitness Camera: Turn Your Phone's Camera into a Fitness Tracker<br/>健身相机：将手机的相机变成健身追踪器 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-02-10 04:55:11</div><div class="page_narrow text-break page_content"><p>Help upload the real world to the Internet. Work on something to make the experience of working on the web more fun for the billions staying at home. Overlay heart-rate on Zoom calls. Improve video conferencing quality. Build a Tandem competitor, one for friends rather than coworkers. The stage is yours.</p><p>帮助将现实世界上传到Internet。从事某些工作，使数十亿家庭用户在网上工作的体验更加有趣。在Zoom通话中叠加心率。提高视频会议质量。建立一个双人竞争对手，一个朋友而不是同事。舞台是你的。</p><p>   Earlier this year, I played with  TensorFlow Lite’s PoseNet model. I thought it had a lot of potential and I figured that this hackathon would be a good opportunity to find a use for it.</p><p>   今年早些时候，我使用了TensorFlow Lite的PoseNet模型。我认为它具有很大的潜力，我认为这次黑客马拉松将是一个很好的机会来寻找它的用途。</p><p>  As a  quantified self enthusiast, I track pretty much everything I do. While I’ve been able to  automate a lot of what I track, I’ve never been satisfied with the way I track my workouts:</p><p>  作为一个量化的自我发烧友，我几乎跟踪自己所做的一切。尽管我能够自动执行很多跟踪操作，但我对跟踪锻炼的方式从未感到满意：</p><p>  Could I use machine learning and a camera to automatically track my workouts? This hackathon would be my chance to find out.</p><p>  我可以使用机器学习和相机自动跟踪我的锻炼吗？这次黑客马拉松将是我发现的机会。</p><p> You might wonder what workout tracking has to do with the hackathon’s theme of “mak[ing] the experience of working on the web more fun”. I think I might have stopped reading the prompt at “Help upload the real world to the Internet”, and decided that “the real world” would be my workout and that “the Internet” would be some cloud database. When I realized my mistake, I changed my pitch to “a way to encourage employees to be more active”.</p><p> 您可能想知道，锻炼马拉松与hackathon的主题“使网络工作的乐趣更加有趣”有什么关系。我想我可能已经停止阅读“帮助将真实世界上传到Internet”上的提示，并决定“真实世界”将是我的锻炼，而“ Internet”将是一些云数据库。当我意识到自己的错误时，我改变了主旨，以“一种鼓励员工更加积极主动的方式”。</p><p>   The first thing I did was to grab the  TensorFlow Lite PoseNet Android Demo from GitHub. The app uses the phone’s camera to track the location of 17 distinct keypoints (feet, ankles, knees, hips, shoulders, neck, eyes, ears, elbows, and wrists), which it overlays on top of the video preview. After building it and deploying it to my phone, I noticed that the performance was terrible. On my Nokia 6.1—not exactly flagship material—the app struggled to maintain 10 FPS. That wouldn’t be fun to use or demo, so I investigated a bit.</p><p>   我要做的第一件事是从GitHub上获取TensorFlow Lite PoseNet Android演示。该应用程序使用手机的摄像头跟踪17个不同关键点（脚，脚踝，膝盖，臀部，肩膀，脖子，眼睛，耳朵，肘部和手腕）的位置，并将其叠加在视频预览上方。构建它并将其部署到我的手机后，我注意到性能很糟糕。在我的诺基亚6.1（并非完全是旗舰材料）上，该应用程序难以维持10 FPS。使用或演示都不好玩，所以我做了一点调查。</p><p>  After a couple hours of investigation, I had found and addressed  3 important performance bottlenecks. The app could now reach 25 FPS, improving performance by over 250%. While far from perfect, the app finally felt usable.</p><p>  经过几个小时的调查，我发现并解决了3个重要的性能瓶颈。该应用程序现在可以达到25 FPS，将性能提高250％以上。虽然远非完美，但该应用程序终于可以使用了。 </p><p>  Over the next hour, I let my phone watch me perform all kinds of exercises, at different angles, distances, and lighting conditions. I paid close attention to the accuracy of the pose estimation overlay, to understand what kinds of exercises it would and wouldn’t be compatible with. For example, it’s extremely accurate at tracking all 17 keypoints when facing the camera and doing squats. Yet, it struggles to recognize anything other than my face (nose, eyes, ears) when facing the camera and doing push-ups. Likewise, it’s very good at tracking hand movements…until you hold a dumbbell and your hand suddenly disappear.</p><p>在接下来的一个小时里，我让手机看着我在不同的角度，距离和光照条件下进行各种锻炼。我密切关注了姿势估算覆盖图的准确性，以了解它会和不兼容的锻炼类型。例如，当面对镜头和下蹲时，它可以非常准确地跟踪所有17个关键点。但是，面对照相机和俯卧撑时，它很难识别我的脸（鼻子，眼睛，耳朵）以外的任何东西。同样，它非常擅长跟踪手的动作……直到您握住哑铃并且手突然消失。</p><p> Initially, I planned to use pose estimation and a trained classifier to detect distinct phases of an exercise. For example, a burpee could be decomposed into these 3 phases: crouching, planking, and jumping.</p><p> 最初，我计划使用姿势估计和训练有素的分类器来检测运动的不同阶段。例如，粗麻布可以分解为以下三个阶段：蹲伏，铺板和跳跃。</p><p>  However, due to PoseNet’s inconsistent accuracy and the hackathon’s time constraints, I pivoted to something much simpler. Instead of classifying exercises, it would only count repetitions. To further simplify the scope, I would only support 4 bodyweight exercises: squats, push-ups, sit-ups, and pull-ups.</p><p>  但是，由于PoseNet的准确性不一致和黑客马拉松的时间限制，我转向了一个更简单的方法。除了对练习进行分类外，它只计算重复次数。为了进一步简化范围，我仅支持4种体重练习：下蹲，俯卧撑，仰卧起坐和引体向上。</p><p>  As usual, I performed exercises in front of the camera, but this time I logged all frames (snapshot of 17 keypoints) to a CSV file. I then analyzed the data using Python and Google Colab, to look for patterns and find an appropriate repetition counting algorithm.  You can view the notebook here.</p><p>  像往常一样，我在镜头前进行了锻炼，但是这次我将所有帧（17个关键点的快照）记录到CSV文件中。然后，我使用Python和Google Colab分析了数据，以查找模式并找到合适的重复计数算法。您可以在此处查看笔记本。</p><p>   You don’t need to be a genius to look at this chart and figure out how many squats a person performed. I’m sure that many algorithms and machine learning models would equally qualified. But this was a hackathon and I couldn’t afford this level of sophistication.</p><p>   您无需成为天才就可以查看此图表并确定一个人进行了多少下蹲。我敢肯定，许多算法和机器学习模型都可以胜任。但这是一次黑客马拉松，我无法承受如此复杂的水平。</p><p>      With the core functionality working and a few hours left before the demo, I decided to polish the app. I tweaked the colors, adjusted the layout, added audio feedback (“One!”, “Two!”, “Three!&#34;), implemented some settings, designed an app icon, and published the APK. You can find the final product below:</p><p>      有了核心功能，并且在演示之前还有几个小时，我决定完善该应用程序。我调整了颜色，调整了布局，添加了音频反馈（“一个！”，“两个！”，“三个”＆＃34;），实现了一些设置，设计了一个应用程序图标，并发布了APK。您可以在下面找到最终产品：</p><p>   Overall, the hackathon was a great experience. I was lucky enough to be selected as a finalist and I had the opportunity to demo my app to the judges. Next time, I’ll make sure to join a team.</p><p>   总体而言，黑客马拉松是一次很棒的经历。我很幸运被选为决赛入围者，并且有机会向评审们展示了我的应用。下次，我将确保加入团队。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://miguelrochefort.com/blog/fitness-camera/">https://miguelrochefort.com/blog/fitness-camera/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/相机/">#相机</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/健身/">#健身</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/camera/">#camera</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/锻炼/">#锻炼</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>