<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>假日黑客–在玩《使命召唤》时跟踪我的心率 </title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">假日黑客–在玩《使命召唤》时跟踪我的心率 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-10 13:29:16</div><div class="page_narrow text-break page_content"><p>假期里，我收到了Polar OH1 +作为圣诞节礼物。它的光学心率监测器具有与智能手表（包括我的Garmin跑步手表）类似的技术，但由于尺寸更小和更精确（至少对于跑步而言）。更轻巧，并适合较肉体的上臂：</p><p>  像当今的任何现代小工具一样，它支持蓝牙（特别是低功耗蓝牙或BLE / BTLE），用于与手机和/或智能手表通话。令我感到困惑的是，它将与计算机配对吗？</p><p>  这激起了我的好奇心。长期以来，我至少对在玩视频游戏时跟踪我的心跳感到有些好奇，如果没有其他原因可以引起好奇。那么从这个东西中获取数据有多容易呢？与过去的几年一样，我花了12月的时间花了些时间在锈迹斑斑的代码中，只是忘记了，不得不在第二年重新学习所有内容。因此，我想我可以尝试“真正的”项目。</p><p> 过了一会儿快速搜索，我发现了前途光明的btleplug板条箱。让我们从附近所有设备中转储数据…</p><p> 外部板条箱;使用std :: thread;使用std :: time :: Duration ＃[cfg（target_os =＆＃34; linux＆＃34;）]使用btleplug :: bluez :: {adapter :: ConnectedAdapter，manager :: Manager}; ＃[cfg（target_os =＆＃34; windows＆＃34;）]使用btleplug :: winrtble :: {适配器::适配器，管理器::管理器}; ＃[cfg（target_os =＆＃34; macos＆＃34;）]使用btleplug :: corebluetooth :: {适配器::适配器，管理器::管理器};使用btleplug :: api :: {UUID，Central，Peripheral}; ＃[cfg（any（target_os =＆＃34; windows＆＃34;，target_os =＆＃34; macos＆＃34;））] fn get_central（manager：＆amp; Manager）-＆gt;适配器{让适配器=管理器.adapters（）.unwrap（）;适配器.into_iter（）.nth（0）.unwrap（）}＃[cfg（target_os =＆＃34; linux＆＃34;）] fn get_central（manager：＆amp; Manager）-＆gt; ConnectedAdapter {让适配器=管理器.adapters（）.unwrap（）;让适配器=适配器.into_iter（）.nth（0）.unwrap（）;适配器.connect（）.unwrap（）} fn main（）{让manager = Manager :: new（）.unwrap（）;让Central = get_central（＆amp; manager）;中央.start_scan（）.unwrap（）;线程::睡眠（持续时间:: from_secs（2））;对于每英寸中央.peripherals（）{println！ （＆＃34; {：？}＆＃34 ;，每）； }}</p><p> （请注意，尽管该部分应跨平台运行，但我无法从WSL获得蓝牙的支持，因此这一切均在Windows上完成）。</p><p>  A0：9E：1A：XX：XX：XX属性：PeripheralProperties {地址：A0：9E：1A：XX：XX：XX，地址类型：公共，本地名称：Some（＆＃34; Polar OH1 XXXXXXXX＆＃34;），tx_power_level ：某些（-64），制造商数据：某些（[]），发现计数：6，has_scan_response：true}，特征：{} </p><p>Warning: Can only detect less than 5000 characters</p><p>其他可能令人感兴趣的位标志包括一种指示传感器是否认为已失去皮肤接触的方法。</p><p>  现在是时候找出用户界面了。面对大量不同的选择，我最终选择了一个没有列出的native-windows-gui板条箱，因为怀疑我需要轻松访问基础的win32 API，因此跨平台支持，因为在很大程度上，这些只是一系列不错的便利性抽象。使用关联的native-windows-derive宏板条箱，我进行了基本的UI设置，运行速度非常快：</p><p> ＃[derive（Default，NwgUi）] pub struct BasicApp {＃[nwg_control（size：（300，115），标志：＆＃34; WINDOW | VISIBLE＆＃34;）]＃[nwg_events（OnWindowClose：[BasicApp :: exit ]）] window：nwg :: Window，＃[nwg_layout（parent：window）] grid：nwg :: GridLayout，＃[nwg_control（text：＆＃34;-＆＃34;，readonly：true）]＃[ nwg_layout_item（layout：grid，row：0，col：0）] hr：nwg :: TextInput，＃[nwg_control（parent：window，interval：500，stopped：false）]＃[nwg_events（OnTimerTick：[BasicApp :: draw_hr ]]] timer：nwg :: Timer，} impl BasicApp {fn draw_hr（＆amp; self）{self .hr .set_text（＆＃34; ??＆＃34;）; } fn exit（＆amp; self）{nwg :: stop_thread_dispatch（）; }}</p><p>   现在我们如何实际更新值？这是我第一次遇到真正的生锈乐趣的地方：出于我尚不完全确定的原因，蓝牙通知处理程序需要＆＃39;静态生命周期（类型中未指定-是因为它是Sync？），这意味着它无法干净地引用UI结构，而我试图彻底解决此问题的尝试却无济于事。最终我放弃了，做了肮脏的事情（真正的甲壳类动物避免了你的眼睛）：</p><p>    从这里开始，UI的进一步改进要求我丢弃漂亮的宏，并用等效的生成位替换它们。但是，这使我们可以访问基础的win32窗口样式标志。特别是，设置WS_EX_TOPMOST会在所有内容的顶部呈现窗口，WS_POPUP隐藏菜单栏，WS_EX_LAYERED为我们提供了一些透明控件，等等。代码实在令人讨厌，无法内联显示，但这就是从实际情况看这一切写作时间：</p><p>  足够注意Gamer™，但是嘿，它起作用了。考虑到所有因素，我惊讶于在锈中实现该原型如此容易/成功。对于那些好奇的人，在玩CoD时，我的心率实际上基本上只停留在55-70范围内，但现在我可以确定了:)</p><p>   1.我的朋友Matt在这个领域有丰富的经验，能够为我解决这个难题-00000000-0000-1000-8000-00805F9B34FB是“基础” 128位UUID </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://jcdav.is/2021/01/04/Holiday-Hacking-COD-HR/">https://jcdav.is/2021/01/04/Holiday-Hacking-COD-HR/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/黑客/">#黑客</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/hacking/">#hacking</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/nwg/">#nwg</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1043698.html"><img src="http://img2.diglog.com/img/2021/1/thumb_a97fe456c2eb41d4c1763d8d587b00c7.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1043698.html">Apache Beam for Search：黑客时间入门 </a></div><span class="my_story_list_date">2021-1-9 14:30</span></div><div class="col-sm"><div><a target="_blank" href="/story/1043671.html"><img src="http://img2.diglog.com/img/2021/1/thumb_86807432e1c3894516f1f232286367a1.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1043671.html">黑客可以使用NXP芯片中的辅助通道克隆Google Titan 2FA密钥 </a></div><span class="my_story_list_date">2021-1-9 12:28</span></div><div class="col-sm"><div><a target="_blank" href="/story/1043603.html"><img src="http://img2.diglog.com/img/2021/1/thumb_2fca44b13b3f8924b714c536b3d21203.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1043603.html">FBI对主要黑客的调查包括JetBrains的项目管理软件 </a></div><span class="my_story_list_date">2021-1-9 8:28</span></div><div class="col-sm"><div><a target="_blank" href="/story/1043593.html"><img src="http://img2.diglog.com/img/2021/1/thumb_0913b7f90d625da415a0e9f9a0c826cc.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1043593.html">黑客通过新的ElectroRAT恶意软件锁定加密货币用户 </a></div><span class="my_story_list_date">2021-1-9 8:23</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>