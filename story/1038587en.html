<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>神话般的“快速”网页 The mythical “fast” web page</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">The mythical “fast” web page<br/>神话般的“快速”网页 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-09 19:59:46</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/feeca919cb4b3e1e767d158705dc3494.jpg"><img src="http://img2.diglog.com/img/2020/12/feeca919cb4b3e1e767d158705dc3494.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Web performance can mean a lot of different things to a lot of different people. Fundamentally, it’s a question of how  fast a web page is. But  fast to whom?</p><p>Web性能对许多不同的人可能意味着很多不同的事情。从根本上讲，这是一个网页的速度问题。但是对谁快速？</p><p> When this page loaded moments ago, was it fast? If so, congratulations, you had a fast experience. So ask yourself, does that make this a  fast page? Not so fast! Just because  you had a fast experience doesn’t mean everyone else does too. You might even revisit this page and have yourself a slow experience.</p><p> 不久前加载此页面时，速度很快吗？如果是这样，那么祝贺您，您的体验很快。因此，问问自己，这是否会使您快速浏览页面？没那么快！仅仅因为您拥有快速的体验，并不意味着其他所有人也都会。您甚至可能会重新访问此页面，并会感到很慢。</p><p> Let’s say that you and everyone else who load this page all have fast experiences. Surely that makes it a fast page, right? Most people would agree. Hypothetically, what if everyone’s internet speeds get 100x slower overnight? Now, all experiences on this page are suddenly slow. Is this page, which is byte-for-byte identical as it was yesterday, still fast?</p><p> 假设您和加载此页面的其他所有人都有快速的体验。当然可以使它成为快速的页面，对吗？大多数人都会同意。假设，如果所有人的互联网速度在一夜之间降低100倍，该怎么办？现在，此页面上的所有体验突然变慢。这个页面与昨天的字节相同，还是很快吗？</p><p> Fast is a concept that exists in the minds of users as they browse the web. It’s not that the page is fast—the  experience is fast.</p><p> 快速是用户浏览网络时会想到的一个概念。这并不是说页面很快-体验很快。</p><p> Ok, that’s enough philosophy. Why does it matter? Because there’s a difference between a page that’s built for speed and a page that feels fast. A svelte page could feel slow to someone having network issues. A heavily unoptimized page could feel fast to someone on high-end hardware. The proportions of those types of users can determine how fast a page is experienced in aggregate, even more so than how well-optimized it actually is.</p><p> 好的，这已经足够了。为什么这有关系？因为专为提高速度而打造的页面与感觉快速的页面有所不同。如果页面出现问题，可能会使人感觉较慢。如果页面未经过优化，则高端硬件上的用户可能会感觉很快。这些类型的用户所占的比例可以决定页面的总体浏览速度，甚至比实际优化程度还高。</p><p> How you approach measuring a web page’s performance can tell you whether it’s built for speed or whether it feels fast. We call them lab and field tools. Lab tools are the microscopes that inspect a page for all possible points of friction. Field tools are the binoculars that give you an overview of how users are experiencing the page.</p><p> 衡量网页性能的方法可以告诉您该网页是为提高速度而构建的还是感觉很快。我们称它们为实验室和现场工具。实验室工具是显微镜，用于检查页面上所有可能的摩擦点。现场工具是双筒望远镜，可让您大致了解用户如何浏览页面。</p><p> A lab tool like  WebPageTest or  Lighthouse can tell you thousands of facts about how the page was built and how quickly the page loaded from its perspective. This makes lab tools irreplaceable for inspecting and diagnosing performance issues. You can visualize every step of the page load and drill down into what’s holding it up. Lab tools can even make informed recommendations for things they think you should fix, saving you the investigative time and effort. But despite their advantages, lab tools can lead you astray in subtle ways.</p><p> 诸如WebPageTest或Lighthouse之类的实验室工具可以告诉您成千上万个有关页面的构建方式以及从页面角度看页面加载速度的事实。这使得实验室工具不可替代地用于检查和诊断性能问题。您可以可视化页面加载的每一步，并深入了解阻止页面加载的原因。实验室工具甚至可以针对他们认为应该修复的问题提出明智的建议，从而节省了调查时间和精力。但是，尽管具有优势，但实验室工具仍可以使您误入歧途。 </p><p> Similar to the problem of your fast experience not necessarily reflecting everyone else’s, your lab test might not be configured like most users in two important ways: access and behavior. A lab tool  accesses a web page from a specific hardware and network configuration, which can greatly affect the page’s loading performance. A lab tool might not  behave in ways that mimic real users either, for example the test might not be logged in, scroll the page after it loads, nor click on buttons.</p><p>与您的快速体验问题（不一定反映其他所有人的问题）类似，您的实验室测试可能不会像大多数用户那样通过两种重要方式进行配置：访问权限和行为。实验室工具通过特定的硬件和网络配置访问网页，这可能会严重影响网页的加载性能。实验室工具的行为可能无法模仿真实用户，例如，测试可能未登录，加载后滚动页面或单击按钮。</p><p> This problem is becoming more and more apparent as developers rightly focus on user-centric metrics.  Core Web Vitals represent a few distinct aspects of a good user experience: loading performance, input responsiveness, and layout stability. These are measured by Largest Contentful Paint (LCP), First Input Delay (FID), and Cumulative Layout Shift (CLS) respectively. So what could go wrong with measuring these metrics in the lab?</p><p> 随着开发人员正确地关注以用户为中心的指标，这个问题变得越来越明显。核心网络生命周期代表了良好用户体验的几个不同方面：加载性能，输入响应能力和布局稳定性。这些分别通过最大内容绘画（LCP），第一输入延迟（FID）和累积布局偏移（CLS）进行测量。那么在实验室中测量这些指标可能会出什么问题？</p><p> LCP is the time that the biggest content loaded on screen. The times at which things load can be highly dependent on how fast the network is, so the lab configuration can produce wildly different LCP values based on its bandwidth and latency settings. Large content like images may also be cached and immediately available for some users, but lab tests tend to run with empty caches, necessitating another trip over the network.</p><p> LCP是在屏幕上加载最大内容的时间。负载的时间高度依赖于网络的速度，因此实验室配置可以根据其带宽和延迟设置产生完全不同的LCP值。诸如图像之类的大内容也可能会被缓存并立即可供某些用户使用，但是实验室测试往往会在缓存为空的情况下运行，从而需要通过网络进行另一次访问。</p><p> FID is the delay from first interacting with the page, like a click, to the time that the browser is ready to respond to it. The main thread could be so busy with script execution or DOM construction that the event handler has to wait its turn. The obvious limitation with testing a page in the lab is that there aren’t any users to interact with it! There are diagnostic metrics for interactivity in the lab, like Total Blocking Time (TBT), but these don’t actually measure the user experience. We can fake FID and simulate a user’s click, but the questions of what to click and when to click it can be very subjective.</p><p> FID是从首次与页面进行交互（例如单击）到浏览器准备对其进行响应之间的延迟。主线程可能非常忙于脚本执行或DOM构建，以致事件处理程序不得不等待其轮到它。在实验室中测试页面的明显限制是没有任何用户可以与之交互！实验室中有一些针对交互性的诊断指标，例如总阻止时间（TBT），但这些指标实际上并不能衡量用户体验。我们可以伪造FID并模拟用户的点击，但是有关单击什么以及何时单击的问题可能非常主观。</p><p> CLS is roughly the proportion of the viewport that shifted as a result of layout instability. A layout could have a moment of instability when elements are suddenly added or removed and the positions of neighboring contents shift. Because the layout shift score is a proportion of the viewport, CLS can be very different between phones and desktops. The type of device used or emulated in the lab directly affects how CLS is calculated. There’s another issue having to do with user behavior: when to stop measuring. Lab tools tend to stop when the page is loaded, but real users are just getting started interacting with the page and potentially incurring many more layout shifts. Real users scroll and click and trigger new sorts of conditions that contribute to layout instability. Simulating these behaviors in the lab would be closer to reality but it has similar challenges to FID.</p><p> CLS大致是由于布局不稳定而移动的视口比例。当突然添加或删除元素并且相邻内容的位置移动时，布局可能会出现不稳定的时刻。由于布局平移分数是视口的一部分，因此手机和台式机之间的CLS可能会非常不同。在实验室中使用或仿真的设备类型直接影响CLS的计算方式。还有一个与用户行为有关的问题：何时停止衡量。加载页面后，实验室工具往往会停止运行，但是实际用户才刚刚开始与页面进行交互，并可能引起更多的版式移位。实际用户会滚动并单击并触发新的条件，这些条件会导致布局不稳定。在实验室中模拟这些行为将更接近于现实，但它与FID有着相似的挑战。</p><p> This is why field data is the ground truth for how a page is experienced. At best we can only  simulate user experiences in the lab, and we’d still be hypothesizing how a user would access a page and how they’d behave once they get there.</p><p> 这就是为什么字段数据是页面体验的根本事实。充其量，我们只能在实验室中模拟用户体验，并且我们仍在假设用户访问页面的方式以及访问页面后的行为。</p><p> But wait! What if we calibrate our lab configurations based on real-user data from the field? This isn’t a new idea; developers have been calibrating  access factors like geographic location, browser, and network speed based on field data  for years. But now it’s more important than ever to calibrate  behavior as well. For example, we can use analytics to see what users tend to click on first and when they click on it.</p><p> 可是等等！如果我们根据现场的实际用户数据校准实验室配置该怎么办？这不是一个新主意；多年来，开发人员一直在根据现场数据校准访问因素，例如地理位置，浏览器和网络速度。但是现在，校准行为也比以往任何时候都更加重要。例如，我们可以使用分析来查看用户倾向于首先单击的内容以及何时单击。 </p><p> Some lab tools like WebPageTest are advanced enough to be able to  script that behavior into the test. But a popular tool like  PageSpeed Insights (PSI) has no configurability beyond plugging in the URL you want to test, so you need to take its lab results with a grain of salt. Keep in mind that performance is a distribution, and one lab test is just a single contrived data point.</p><p>一些实验室工具（例如WebPageTest）已经足够先进，能够将这种行为编写脚本到测试中。但是，诸如PageSpeed Insights（PSI）之类的流行工具没有可配置性，只能插入您要测试的URL，因此您需要花些时间来获取其实验室结果。请记住，性能是一种分布，而一个实验室测试只是一个人为设计的数据点。</p><p> Fear not, even unrealistic lab tests can still be useful. One practical application of this is to test for worst case scenarios. You may not be able to say with certainty that anyone who visits your page will have a fast experience, but if you can make it seem fast under even the slowest conditions, that goes a long way. Stress testing your page’s performance by using (or emulating) low-end hardware over strained network speeds is a great way to magnify the power of the microscope to bring more performance problems into focus. This is an opportunity to fix issues before users may even experience them.</p><p> 不用担心，即使不切实际的实验室测试仍然有用。一种实际的应用是测试最坏的情况。您可能无法肯定地说访问页面的任何人都将获得快速的体验，但是如果您可以使它在最慢的条件下看起来也很快，那将有很长的路要走。通过在紧张的网络速度下使用（或仿真）低端硬件对页面的性能进行压力测试，是放大显微镜功能以解决更多性能问题的好方法。这是在用户甚至遇到问题之前解决问题的机会。</p><p> What if users aren’t experiencing this slow performance because they’re conditioned not to? An experience can be so poor that the user abandons it before it gets any worse. They may never come back to the site at all, in which case your field data has survivorship bias where only the  bearably slow experiences are measured. How many unbearably slow experiences  aren’t you measuring? And you thought we were done with the philosophical questions!</p><p> 如果用户因不适应而没有得到如此缓慢的性能怎么办？体验可能很差，以至于用户在体验变得更糟之前就放弃了。他们可能根本不会回到现场，在这种情况下，您的现场数据存在生存偏差，在这种情况下，只能测量出可忍受的缓慢经历。您没有测量多少次难以忍受的缓慢经历？您以为我们已经解决了哲学问题！</p><p>  Individual experiences are just data points along a distribution. What feels fast depends on the conditions under which it was experienced. Everyone’s conditions are different.</p><p>  个人经验只是分布中的数据点。快感取决于体验的条件。每个人的条件都不一样。</p><p> Lab tests may not be configured to be representative of the most common experiences on the curve, or  any experience on the curve for that matter.</p><p> 实验室测试可能无法配置为代表曲线上最常见的经验，或者代表该问题的曲线上的任何经验。</p><p> User-centric metrics require extra care to ensure that behaviors are emulated faithfully in the lab.</p><p> 以用户为中心的指标需要格外小心，以确保在实验室中忠实地模拟行为。</p><p> As a web development community, we need to change more than just our mindset about “fast” web pages. It’s not enough to be aware of the pitfalls that can lead us astray: to avoid them requires a concerted effort between the makers and users of performance testing tools.</p><p> 作为一个Web开发社区，我们需要改变的不仅仅是“快速”网页的思维方式。仅了解可能导致我们误入歧途的陷阱是不够的：要避免这些陷阱，需要性能测试工具的制造商和用户之间共同努力。 </p><p> Lab tools must be configurable to access and behave like real users. There is no one-size-fits-all lab configuration that represents how users experience all pages. Developers need to be active participants in the configuration process—not necessarily down to the Mbps of bandwidth, but they should make high-level decisions about what type of user they’re simulating in the lab. This could be a manual guessing game, but at least developers are made more conscious of the relevance of the results.</p><p>实验室工具必须可配置才能访问并像真实用户一样工作。没有一种千篇一律的实验室配置可以代表用户如何体验所有页面。开发人员需要积极参与配置过程-不一定要达到Mbps的带宽，但开发人员应就他们在实验室中模拟的用户类型做出高层决策。这可能是一个手动猜测游戏，但至少使开发人员更加意识到结果的相关性。</p><p> An even better solution would be to build stronger data bridges between field and lab tools, so that the lab tool itself can make informed recommendations about the most realistic user profiles to simulate.</p><p> 更好的解决方案是在现场工具和实验室工具之间建立更强大的数据桥梁，以便实验室工具本身可以针对要模拟的最现实的用户配置文件提供明智的建议。</p><p> We’re at an exciting inflection point in the power of developer tooling. As newer metrics focus on how pages are experienced from users’ perspectives, we have an opportunity to rethink and reshape the ways our tools help us to measure and optimize them. By instrumenting lab tools with the behavioral characteristics of real users, we can unlock new opportunities to improve experiences beyond the page load.</p><p> 开发人员工具的功能正处于令人兴奋的转折点。随着更新的指标侧重于从用户角度来看页面的体验，我们有机会重新思考和重塑我们的工具帮助我们评估和优化页面的方式。通过为实验工具配备真实用户的行为特征，我们可以释放新的机会来改善页面加载以外的体验。</p><p>  Rick Viscomi ( @rick_viscomi) is a Senior Developer Programs Engineer at Google working on web transparency initiatives like the Chrome UX Report and HTTP Archive. Rick is also the host of the video series  The State of the Web and a coauthor of  Using WebPageTest.</p><p>  Rick Viscomi（@rick_viscomi）是Google的高级开发人员计划工程师，致力于网络透明性计划，例如Chrome UX报告和HTTP存档。 Rick还是视频系列《网络状态》的主持人和《使用WebPageTest》的合著者。 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://calendar.perfplanet.com/2020/the-mythical-fast-web-page/">https://calendar.perfplanet.com/2020/the-mythical-fast-web-page/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/神话/">#神话</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/fast/">#fast</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>