<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>赞美明确的单击菜单 In Praise of the Unambiguous Click Menu</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">In Praise of the Unambiguous Click Menu<br/>赞美明确的单击菜单 </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-20 22:20:42</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/9888765f73afa1e5350eb3a1ff678fbf.gif"><img src="http://img2.diglog.com/img/2021/3/9888765f73afa1e5350eb3a1ff678fbf.gif" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>I still remember my excitement when I learned how to build  a hover-triggered submenu with just CSS. (It was probably after reading  this 2003 article from  A List Apart.) At the time, it was a true CSS trick. Seriously.  Wild times.</p><p>当我学习如何使用CSS建立一个悬停触发的子菜单时，我仍然记得我的兴奋。 （这可能是在将2003年从名单中读取的文章之后。）当时，这是一个真正的CSS伎俩。严重地。狂野时期。</p><p>   &lt;ul class=&#34;my-menu&#34;&gt; &lt;li&gt; &lt;a href=&#34;page-a.html&#34;&gt;Page A&lt;/a&gt; &lt;ul&gt; &lt;li&gt;&lt;a href=&#34;page-b.html&#34;&gt;Page B&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&#34;page-c.html&#34;&gt;Page C&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&#34;page-d.html&#34;&gt;Page D&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;!-- etc... --&gt;&lt;/ul&gt;</p><p>   ＆lt; ul class =＆＃34;我的菜单＆＃34;＆gt; ＆lt; li＆gt; ＆lt; a href =＆＃34;页面-a.html＆＃34;＆gt;页面a＆lt; / a＆gt; ＆lt; ul＆gt; ＆lt; li＆gt;＆lt; href =＆＃34; page-b.html＆＃34;＆gt; page b＆gt;＆gt;＆gt;＆gt; <page-b.html。 ＆lt; Li＆gt;＆lt; href =＆＃34; page-c.html＆＃34;＆gt; page c </ a＆gt;＆lt; / a＆gt; ＆lt; li＆gt;＆lt; href =＆＃34; page-d.html＆＃34;＆gt; page d＆gt;＆gt; <page-/ a＆gt; ＆lt; / ul＆gt; ＆lt; / li＆gt; ＆lt;！ - 等...  - ＆gt;＆lt; / ul＆gt;</p><p> /* Position submenus relative to parent list item */.my-menu li { position: relative;}.my-menu ul { /* Hide my submenus by default */ display: none; /* Position submenus, when open */ position: absolute; left: 0; top: 100%;}/* Look, Ma! No onclick handler! */.my-menu li:hover &gt; ul { display: block;}</p><p> / *位置子菜单相对于父列表项* /。我的菜单li {位置：相对;相对;}。我的菜单ul {/ *隐藏我的子宫默认* /显示：无; / *位置子菜单，打开* /位置：绝对;左：0; TOP：100％;} / *看，马！没有onclick处理程序！ * /。我的菜单li：悬停和gt; UL {显示：块;}</p><p> These days, we can improve the accessibility of CSS-only menus with  a newer trick! Menus can open and close when navigating them with a keyboard, thanks to  :focus-within.</p><p> 这些天，我们可以通过更新的技巧提高CSS的使用率！使用键盘导航时，菜单可以打开和关闭，得益于：焦点 - 内部。</p><p>    But times have changed from when I first learned these tricks, and so have I. Since then, I’ve built a bunch of websites and learned a lot more about usability, accessibility, and content strategy. Now, I find hover-triggered menus lacking on all those fronts. So, a few years ago, I quit building hover-triggered submenus and switched to click-triggered submenus. (From here, I’ll just call them “hover menus” and “click menus.”)</p><p>    但是，当我第一次学到这些技巧时，我已经改变了，所以我已经从那以后，我建立了一堆网站，并学到了更多关于可用性，访问性和内容策略的更多信息。现在，我发现悬停悬停的菜单缺乏所有这些前锋。因此，几年前，我退出了悬停悬停的子菜单并切换到点击触发的子菜单。 （从这里，我会打电话给他们“烤羊菜单”和“点击菜单”。）</p><p> I think you should should stop building hover menus too. I’m here to tell you why.</p><p> 我想你应该停止建立烤羊菜单。我在这里告诉你为什么。</p><p>    Simple enough, right? The arrow icons show us there are submenus for each item except “Home.” But if those submenus appear on hover, there are at least four ways the menu might work, and you’ve probably experienced all four of them.</p><p>    很简单，对吗？箭头图标向我们展示除“家”之外的每个项目都有子菜单。但是如果这些子菜单出现在悬停上，则至少有四种方式可以使用，并且您可能已经经历过所有四个。 </p><p> The top “parent” menu item links to a page and each submenu item links to another page. For the example above, “Services” would be a unique page and so would every link in the “Services” submenu.</p><p>顶部“父”菜单项链接到页面和每个子菜单项链接到另一个页面。对于上面的示例，“服务”将是一个唯一的页面，因此“服务”子菜单中的每个链接都可以。</p><p>  The parent item has  href=&#34;#&#34;  — or even no  href  at all 😱  —  and the only functional links are in the submenus. In our example, “Services” is still a link, but nothing happens when you click it.</p><p>  父项具有href =＆＃34;＃＆＃34; - 甚至没有HREF😱 - 并且唯一的功能链接位于子菜单中。在我们的示例中，“服务”仍然是一个链接，但在点击它时，没有任何反应。</p><p> This inconsistency —  is the parent item a link or not? — leads to lots of confusion when I watch people use websites. Some people skip right past helpful top-level pages, assuming those items aren’t links. Yet others assume the top-level links  are pages and try to click them.</p><p> 这个不一致 - 是父项是链接还是不是？ - 当我观看人们使用网站时，导致很多混淆。有些人跳过过去的有用的顶级页面，假设这些项目不是链接。然而，其他人假设顶级链接是页面并尝试单击它们。</p><p> This leads to the third and fourth not-so-great patterns you’ll encounter. My guess is that these evolved from attempts to compensate for the confusion caused by the first two setups.</p><p> 这导致你遇到的第三和第四个不如此伟大的模式。我的猜测是，这些尝试从尝试弥补了由前两个设置引起的混乱。</p><p> The parent item and first submenu item link to the same page. Making matters worse, the parent item and first submenu links having different link text  violates a WCAG 2.1 Level AA accessibility standard.</p><p> 父项和第一个子菜单项链接到同一页面。使得更糟糕的是，具有不同链接文本的父项和第一个子菜单链接违反了WCAG 2.1级AA可访问性标准。</p><p> The parent item links to a page containing useless fluff content or only the links in the submenu. The page itself serves no real purpose for anyone visiting it.</p><p> 父项链接到包含无用绒毛内容的页面或仅包含子菜单中的链接。页面本身对访问它的任何人没有任何真正的目的。</p><p> These last two configurations waste time for people who  do know the parent items are links with redundant or useless content.</p><p> 这些最后两种配置浪费时间的人们知道父项是具有冗余或无用内容的链接。 </p><p>     Will the parent item be a link to the same page as the first submenu link?</p><p>父项将是与第一个子菜单链接相同页面的链接吗？</p><p> Even if the parent item is a unique link, is it worth my time to view?</p><p> 即使父项是一个唯一的链接，它是否值得查看？</p><p> That leaves us with no good options. It makes it impossible to satisfy  Jakob’s law of usability that “users prefer your site to work the same way as all the other sites they already know.”  There is no standard implementation when it comes to hover menus, so we need to do something different to provide a consistent user experience.</p><p> 这让我们没有好的选择。它使得不可能满足JAKOB的可用性定律，“用户更喜欢您的网站与他们已经知道的所有其他网站相同的方式工作。”悬停菜单时没有标准实施，因此我们需要做一些不同的东西来提供一致的用户体验。</p><p>  Probably the least common type of menu I see uses a “split button” design where the parent item is a link and a separate drop-down icon opens and closes the menu. The  Twenty Fifteen default WordPress theme uses that pattern. Because it’s so uncommon, I find that visitors often overlook the top-level page link, and research suggests that  users don’t perceive a label and icon as being separately clickable.</p><p>  可能是我看到的最不常见的菜单类型使用父项是链接的“拆分按钮”设计，并打开单独的下拉图标并关闭菜单。二十五十五默认WordPress主题使用该模式。因为它是如此罕见，我发现访问者经常忽略顶级页面链接，研究表明，用户不会将标签和图标视为单独点击。</p><p>    Instead of relying on the hover interaction or some other “creative” (and confusing) solution, let’s build menus where parent items are buttons that show and hide submenus when clicked. This instantly solves the hover menu problem because  click menus work unambiguously.</p><p>    而不是依赖悬停互动或其他“创意”（以及令人困惑的）解决方案，让我们构建菜单，其中父项是按钮，在单击时显示和隐藏子菜单的按钮。这会立即解决悬停菜单问题，因为单击明确的菜单工作。</p><p> All links are contained in submenus except for top-level items that have no submenu (e.g. “Home”).  We’ll deal with what happens to those top-level pages in a moment.</p><p> 除了没有子菜单的顶级项目外，所有链接都包含在子菜单中（例如“家”）。我们将在一瞬间处理这些顶级页面发生的事情。</p><p> When you think about it, click menus are actually what we expect already in most other contexts:</p><p> 当您考虑它时，单击菜单实际上是我们预期的大多数其他背景： </p><p> Using anything other than a mouse? Pressing  ENTER or activating a link with any type of  switch control is more equivalent to clicking than  :focus is equivalent to  :hover.</p><p>使用除鼠标以外的任何东西？按ENTER或激活任何类型的交换机控制的链接更等于单击，而不是：焦点相当于：悬停。</p><p> Regardless of your device or input mode, a “click” is a more universal and solid interaction. Let’s use it to make our website menus awesome!</p><p> 无论您的设备或输入模式如何，“单击”是更普遍和稳健的交互。让我们用它来让我们的网站菜单令人敬畏！</p><p>  My gut feeling says that a lot of sites have recently switched to click menus. Join the party! As more and more sites make the change, people will again develop simple and useful expectations of “how websites work” (thereby satisfying Jakob’s law).</p><p>  我的肠道感觉说，最近有很多网站转换为点击菜单。加入派对！随着越来越多的网站使得改变，人们将再次发展对“网站工作”（从而满足JAKOB的法律）的简单和有益的期望。</p><p> When you first make this change, it’s true that some visitors might still expect hover menus. They may even say they prefer them if you ask. What I can tell you from watching people use click menus, though, is that everyone figures it out quickly and adjusts.</p><p> 当你第一次改变时，有些访客可能仍然期待悬停菜单。如果你问，他们甚至可能会说他们更喜欢他们。我可以告诉你的观看人们使用点击菜单，是每个人都迅速计算并调整。</p><p> And don’t just take my word for it! The  U.S. Web Design System’s (USWDS) navigation patterns use click menus. Here’s what they have to say:</p><p> 不要只是为了它而拿走我的话！ U.S. Web设计系统（USWDS）导航模式使用点击菜单。这是他们要说的话：</p><p> Avoid using hover to expand dropdown lists. Hover is difficult for some users and won’t work on touch screens. Dropdowns should expand on click or with keyboard navigation.</p><p> 避免使用悬停以扩展下拉列表。对于某些用户来说，悬停很困难，并且无法在触摸屏上使用。下拉列表应在单击或使用键盘导航时进行扩展。</p><p>  What it really boils down to is  user intent. The purpose of a hover state is to indicate something is clickable (underlined text)… The purpose of a click is to actually do something, to take an explicit action. Opening a dropdown is an explicit action and should only happen on click.</p><p>  它真正归发为用户意图。悬停状态的目的是表示某些东西可点击（带下划线的文本）......点击的目的是实际做某事，采取明确的动作。打开下拉列表是一个明确的动作，只能在点击内完成。 </p><p>  The caret in a dropdown link is the equivalent of underlining a link: it provides some affordance for what will happen when you click this element. Don’t mistake that for providing enough information to pop the dropdown on hover though.</p><p>下拉链路中的插座相当于下划线链接：它为单击此元素时会发生的事情提供了一些可供选择。不要误认为提供足够的信息来弹出悬停的下拉目。</p><p> So it’s not like we’re exploring uncharted territory here. And, the  UK.gov design system has another good reminder: Maybe you don’t even need submenus at all! Their menus are just a list of links,  using on-page grids of links and accordions to help visitors navigate. Heck, you won’t find submenus on CSS-Tricks either!</p><p> 因此，这并不像我们在这里探索未知的领土。而且，UK.Gov设计系统有另一个好提醒：也许你甚至不需要子菜单！他们的菜单只是一个链接列表，使用链接和手风琴的页面网格来帮助访问者导航。哎呀，您也不会发现CSS技巧的子菜单！</p><p>   You decide whether you need a category/overview/landing page… or not! Instead of forcing content to match a menu’s structure with links that are parents of other links, your content strategy and information architecture dictates what types of pages you need and how they are labeled. If an overview of your services is helpful for your visitors, put “Services Overview” or “All Services” as the first item in your “Services” submenu.</p><p>   您决定是否需要一个类别/概述/登陆页面......或者不需要！而不是使用内容与其他链接的链接匹配菜单的结构，而不是其他链接的链接，您的内容策略和信息架构决定了您需要的页面类型以及它们的标记方式。如果您的服务概述有助于您的访客，请将“服务概述”或“所有服务”作为“服务”子菜单中的第一个项目。</p><p> Submenus stay open until they are closed. Hover menus have a nasty way of disappearing when people bump their cursors or even just  try to click a submenu link. This is especially the case for submenus that “fly out” rather than below the parent item. The persistence of click menus makes for a more “solid” experience so users trust the interface and don’t get frustrated.</p><p> 子菜单保持打开，直到它们关闭。当人们撞击光标或甚至尝试点击子菜单链接时，烤羊菜肴有一种令人讨厌的消失方式。尤其是“飞出”而不是在父项下方的子菜单中的情况。单击菜单的持久性使得更多“坚实”体验，因此用户信任界面，不要沮丧。</p><p> The persistent submenu behavior is even more crucial for megamenus. When visitors need more time to take in the submenu contents, they can’t afford to have the menu close unexpectedly.</p><p> 持久的子菜单行为对于Megamenus来说更为重要。当访问者需要更多时间才能参加子菜单内容时，他们无法意外地关闭菜单。</p><p> The JavaScript is the same for “mobile” and “desktop” menus. Whether the menu is hidden behind a hamburger or visible on mobile, the interaction is always the same. I only need to change my CSS to make a responsive click menu.</p><p> “移动”和“桌面”菜单的JavaScript是相同的。如果菜单是隐藏在汉堡包后面还是在移动设备上可见，则交互总是相同的。我只需要更改CSS来进行响应的单击菜单。</p><p>  When I set out to build my own accessible click menu script, I found there wasn’t a single standard for how to do it. My own thoughts and code were most heavily influenced by:</p><p>  当我开始建立自己的可访问单击菜单脚本时，我发现没有单个标准如何进行。我自己的思想和代码受到最严重影响： </p><p>   The element you click to show the submenu should be a  &lt;button&gt; since it doesn’t link to a page.</p><p>您点击以显示子菜单的元素应该是＆lt;按钮＆gt;由于它没有链接到页面。</p><p> Use  aria-expanded (on the  &lt;button&gt;!) to communicate the submenu’s open and closed states.</p><p> 使用aria-algended（在＆lt;按钮和gt ;!上）传达子菜单的开放和封闭状态。</p><p> Use  display: none or  visibility: hidden so that keyboard users can’t get to submenus when they are closed.</p><p> 使用显示：无或可见性：隐藏使键盘用户无法在关闭时访问子菜单。</p><p>  Do  not use  role=&#34;menu&#34; (and the whole  ARIA menu pattern) or  aria-haspopup. Those feel related but they aren’t for building navigation menus.</p><p>  不要使用角色=＆＃34;菜单＆＃34; （以及整个aria菜单模式）或aria-haspopup。那些感觉相关，但他们不适合建造导航菜单。</p><p> Close an open submenu when: The user presses the  ESC key when focus is inside an open submenu. (Not all users expect this, but I think it’s a nice touch.)</p><p> 关闭一个开放子菜单：当用户在焦点内部在开放子菜单内时按下ESC键。 （并非所有用户都期待这一点，但我认为这是一个很好的触感。）</p><p> Since click menus require JavaScript, we should consider how this menu can be  progressively enhanced in case JavaScript fails for any reason. Our classic hover CSS trick is still good for something after all!</p><p> 由于单击菜单需要JavaScript，因此我们应该考虑如何在JavaScript出于任何原因的情况下逐步增强此菜单。我们的经典悬停CSS技巧仍然有利于毕竟！</p><p> I start building my click menu as a CSS-only hover menu that uses  li:hover &gt; ul and  li:focus-within &gt; ul to show the submenus. Then, I use JavaScript to create the  &lt;button&gt; elements, set the  aria attributes, and add the event handlers. This means the menu still mostly works without JavaScript and plays nicely with link-only menus built in WordPress, my CMS of choice.</p><p> 我开始构建我的点击菜单作为使用li：hover＆gt的css--only hover菜单; ul和li：焦点 - 内部＆gt; UL显示子菜单。然后，我使用JavaScript来创建＆lt;按钮＆gt;元素，设置ARIA属性，并添加事件处理程序。这意味着菜单仍然在没有JavaScript的情况下，使用WordPress中建立的链接菜单很好地播放，我的CMS选择。 </p><p> You can check out  the script I use below, but I’ll be the first to admit there are probably better ones. What’s important is that you test it with real users… and stop using hover menus. 😃</p><p>您可以查看我在下面使用的脚本，但我将成为第一个承认可能更好的脚本。 重要的是您将其与真实用户测试...并停止使用悬停菜单。 😃 </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://css-tricks.com/in-praise-of-the-unambiguous-click-menu/">https://css-tricks.com/in-praise-of-the-unambiguous-click-menu/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/赞美/">#赞美</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/菜单/">#菜单</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/分享/">#分享</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>